/*! ds-bootstrap - v1.0.0.__BUILD_NUMBER__ - 2021-08-26 8:41pm UTC
* Copyright (c) 2021 ; Not Licensed */(function(){var __webpack_modules__={4293:function(t,e,n){!function(){var t=this.Backbone;t||(t=n(1458));var i=Array.prototype.slice;function r(t,e){t.prototype[e]=function(){var t=arguments.length?"set":"get",n=i.call(arguments);return n.unshift(e),this[t].apply(this,n)}}t.Model.shorthandify=function(t){if(!(t=t||this.prototype.shorthand))return this;"string"==typeof t&&(t=[t]);for(var e=0,n=t.length;e<n;e++)r(this,t[e]);return this},e.shorthandify=t.Model.shorthandify}()},3741:function(){!function(){"use strict";var t=10,e=16,n=4.5,i=1.5,r=[0,0,0,.5],o=!1,s={};window.captionator=s,s.CaptionatorCueStructure=function(t,e){var n=this;this.isTimeDependent=!1,this.cueSource=t,this.options=e,this.processedCue=null,this.toString=function(i){if(!1!==e.processCueHTML){var r=function(t,e){if(null===n.processedCue){var o,s,a="";for(o in t)o.match(/^\d+$/)&&t.hasOwnProperty(o)&&((s=t[o])instanceof Object&&s.children&&s.children.length?"v"===s.token?a+='<q data-voice="'+s.voice.replace(/[\"]/g,"")+"\" class='voice speaker-"+s.voice.replace(/[^a-z0-9]+/gi,"-").toLowerCase()+" webvtt-span' title=\""+s.voice.replace(/[\"]/g,"")+'">'+r(s.children,e+1)+"</q>":"c"===s.token?a+="<span class='webvtt-span webvtt-class-span "+s.classes.join(" ")+"'>"+r(s.children,e+1)+"</span>":s.timeIn>0?null==i||i>0&&i>=s.timeIn?a+="<span class='webvtt-span webvtt-timestamp-span' data-timestamp='"+s.token+"' data-timestamp-seconds='"+s.timeIn+"'>"+r(s.children,e+1)+"</span>":i<s.timeIn&&(a+="<span class='webvtt-span webvtt-timestamp-span webvtt-cue-future' aria-hidden='true' style='opacity: 0;' data-timestamp='"+s.token+"' data-timestamp-seconds='"+s.timeIn+"'>"+r(s.children,e+1)+"</span>"):a+=s.rawToken+r(s.children,e+1)+"</"+s.token+">":(s instanceof String||"string"==typeof s||"number"==typeof s)&&(a+=s));return!n.isTimeDependent&&0===e&&(n.processedCue=a),a}return n.processedCue};return r(this,0)}return t},this.getPlain=function(n){if(!1!==e.processCueHTML){var i=function(t,e){var r,o,s="";for(r in t)r.match(/^\d+$/)&&t.hasOwnProperty(r)&&((o=t[r])instanceof Object&&o.children&&o.children.length?o.timeIn>0?(null==n||n>0&&n>=o.timeIn)&&(s+=i(o.children,e+1)):s+=i(o.children,e+1):(o instanceof String||"string"==typeof o||"number"==typeof o)&&(s+=o));return s};return i(this,0)}return t.replace(/<[^>]*>/gi,"")}},s.CaptionatorCueStructure.prototype=[],s.TextTrack=function(t,e,n,i,r,o){this.onload=function(){},this.onerror=function(){},this.oncuechange=function(){},this.id=t||"",this.internalMode=s.TextTrack.OFF,this.cues=new s.TextTrackCueList(this),this.activeCues=new s.ActiveTextTrackCueList(this.cues,this),this.kind=e||"subtitles",this.label=n||"",this.language=i||"",this.src=r||"",this.readyState=s.TextTrack.NONE,this.internalDefault=o||!1,this.getMode=function(){return this.internalMode},this.setMode=function(t){if(-1===[s.TextTrack.OFF,s.TextTrack.HIDDEN,s.TextTrack.SHOWING].indexOf(t))throw new Error("Illegal mode value for track: "+t);t!==this.internalMode&&(this.internalMode=t,this.readyState===s.TextTrack.NONE&&this.src.length>0&&t>s.TextTrack.OFF&&this.loadTrack(this.src,null),this.videoNode._captionator_dirtyBit=!0,s.rebuildCaptions(this.videoNode),t===s.TextTrack.OFF&&(this.cues.length=0,this.readyState=s.TextTrack.NONE))},this.getDefault=function(){return this.internalDefault},Object.prototype.__defineGetter__?(this.__defineGetter__("mode",this.getMode),this.__defineSetter__("mode",this.setMode),this.__defineGetter__("default",this.getDefault)):Object.defineProperty&&(Object.defineProperty(this,"mode",{get:this.getMode,set:this.setMode}),Object.defineProperty(this,"default",{get:this.getDefault})),this.loadTrack=function(t,e){var n,i=new XMLHttpRequest;if(this.readyState===s.TextTrack.LOADED)e instanceof Function&&e(n);else{this.src=t,this.readyState=s.TextTrack.LOADING;var r=this;i.open("GET",t,!0),i.onreadystatechange=function(t){if(4===i.readyState)if(200===i.status){var o=r.videoNode._captionatorOptions||{};"metadata"===r.kind&&(o.processCueHTML=!1,o.sanitiseCueHTML=!1),n=s.parseCaptions(i.responseText,o),r.readyState=s.TextTrack.LOADED,r.cues.loadCues(n),r.activeCues.refreshCues.apply(r.activeCues),r.videoNode._captionator_dirtyBit=!0,s.rebuildCaptions(r.videoNode),r.onload.call(this),e instanceof Function&&e.call(r,n)}else r.readyState=s.TextTrack.ERROR,r.onerror()};try{i.send(null)}catch(t){r.readyState=s.TextTrack.ERROR,r.onerror(t)}}},this.addCue=function(t){if(!(t&&t instanceof s.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");this.cues.addCue(t)},this.removeCue=function(){}},s.TextTrack.NONE=0,s.TextTrack.LOADING=1,s.TextTrack.LOADED=2,s.TextTrack.ERROR=3,s.TextTrack.OFF=0,s.TextTrack.HIDDEN=1,s.TextTrack.SHOWING=2,s.TextTrackCue=function(t,e,n,i,r,o,a){if(this.id=t,this.track=a instanceof s.TextTrack?a:null,this.startTime=parseFloat(e),this.endTime=parseFloat(n)>=this.startTime?parseFloat(n):this.startTime,this.text="string"==typeof i||i instanceof s.CaptionatorCueStructure?i:"",this.settings="string"==typeof r?r:"",this.intSettings={},this.pauseOnExit=!!o,this.wasActive=!1,this.direction="horizontal",this.snapToLines=!0,this.linePosition="auto",this.textPosition=50,this.size=0,this.alignment="middle",this.settings.length){var l=this.intSettings,u=this;(r=r.split(/\s+/).filter((function(t){return t.length>0})))instanceof Array&&r.forEach((function(t){var e={D:"direction",L:"linePosition",T:"textPosition",A:"alignment",S:"size"};e[(t=t.split(":"))[0]]&&(l[e[t[0]]]=t[1]),e[t[0]]in u&&(u[e[t[0]]]=t[1])}))}this.linePosition.match(/\%/)&&(this.snapToLines=!1),this.getCueAsSource=function(){return String(this.text)},this.getCueAsHTML=function(){var t=document.createDocumentFragment(),e=document.createElement("div");return e.innerHTML=String(this.text),Array.prototype.forEach.call(e.childNodes,(function(e){t.appendChild(e.cloneNode(!0))})),t},this.isActive=function(){var t=0;if(this.track instanceof s.TextTrack&&(this.track.mode===s.TextTrack.SHOWING||this.track.mode===s.TextTrack.HIDDEN)&&this.track.readyState===s.TextTrack.LOADED)try{if(t=this.track.videoNode.currentTime,this.startTime<=t&&this.endTime>=t)return this.wasActive||(this.wasActive=!0,this.onenter()),!0}catch(t){return!1}return this.wasActive&&(this.wasActive=!1,this.onexit()),!1},Object.prototype.__defineGetter__?this.__defineGetter__("active",this.isActive):Object.defineProperty&&Object.defineProperty(this,"active",{get:this.isActive}),this.toString=function(){return"TextTrackCue:"+this.id+"\n"+String(this.text)},this.onenter=function(){},this.onexit=function(){}},s.TextTrackCueList=function(t){this.track=t instanceof s.TextTrack?t:null,this.getCueById=function(t){return this.filter((function(e){return e.id===t}))[0]},this.loadCues=function(t){for(var e=0;e<t.length;e++)t[e].track=this.track,Array.prototype.push.call(this,t[e])},this.addCue=function(t){if(!(t&&t instanceof s.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");if(t.track!==this.track&&t.track)throw new Error("This cue is associated with a different track!");Array.prototype.push.call(this,t)},this.toString=function(){return"[TextTrackCueList]"}},s.TextTrackCueList.prototype=[],s.ActiveTextTrackCueList=function(t,e){this.refreshCues=function(){if(t.length){var n=this,i=!1,r=[].slice.call(this,0);if(this.length=0,t.forEach((function(t){t.active&&(n.push(t),n[n.length-1]!==r[n.length-1]&&(i=!0))})),i)try{e.oncuechange()}catch(t){}}},this.toString=function(){return"[ActiveTextTrackCueList]"},this.refreshCues()},s.ActiveTextTrackCueList.prototype=new s.TextTrackCueList(null);var a=function(t){this.targetObject=t,this.currentTime=0;this.addEventListener=function(t,e,n){"timeupdate"===t&&e instanceof Function&&(this.timeupdateEventHandler=e)},this.attachEvent=function(t,e){"timeupdate"===t&&e instanceof Function&&(this.timeupdateEventHandler=e)},this.updateTime=function(t){isNaN(t)||(this.currentTime=t)}};s.rebuildCaptions=function(t){var e,n=t.textTracks||[],i=(t._captionatorOptions instanceof Object&&t._captionatorOptions,t.currentTime),r=[],o=[];(n.forEach((function(t,e){t.mode===s.TextTrack.SHOWING&&t.readyState===s.TextTrack.LOADED&&(o=(o=[].slice.call(t.activeCues,0)).sort((function(t,e){return t.startTime>e.startTime?-1:1})),r=r.concat(o))})),e=r.map((function(t){return t.track.id+"."+t.id+":"+t.text.toString(i).length})),!s.compareArray(e,t._captionator_previousActiveCues)||t._captionator_dirtyBit)&&(t._captionator_dirtyBit=!1,t._captionator_availableCueArea=null,t._captionator_previousActiveCues=e,s.styleCueCanvas(t),[].slice.call(t._descriptionContainerObject.getElementsByTagName("div"),0).concat([].slice.call(t._containerObject.getElementsByTagName("div"),0)).forEach((function(t){t.cueObject&&!t.cueObject.active&&(t.cueObject.rendered=!1,t.cueObject.domNode=null,t.parentElement.removeChild(t))})),r.forEach((function(e){var n,r;"metadata"!==e.track.kind&&e.mode!==s.TextTrack.HIDDEN&&(e.rendered?(r=(n=e.domNode).getElementsByClassName("captionator-cue-inner")[0],e.text.toString(i)!==n.currentText&&(n.currentText=e.text.toString(i),r.innerHTML=n.currentText,r.spanified=!1)):(n=document.createElement("div"),(r=document.createElement("span")).className="captionator-cue-inner",n.id=String(e.id).length?e.id:s.generateID(),n.className="captionator-cue",n.appendChild(r),n.cueObject=e,e.domNode=n,n.setAttribute("lang",e.track.language),n.currentText=e.text.toString(i),r.innerHTML=n.currentText,e.rendered=!0,"descriptions"===e.track.kind?t._descriptionContainerObject.appendChild(n):t._containerObject.appendChild(n)),"descriptions"!==e.track.kind&&s.styleCue(n,e,t))})))},s.captionify=function(l,u,c){var h=[],d=0;if((c=c instanceof Object?c:{}).minimumFontSize&&"number"==typeof c.minimumFontSize&&(t=c.minimumFontSize),c.minimumLineHeight&&"number"==typeof c.minimumLineHeight&&(e=c.minimumLineHeight),c.fontSizeVerticalPercentage&&"number"==typeof c.fontSizeVerticalPercentage&&(n=c.fontSizeVerticalPercentage),c.lineHeightRatio&&"number"!=typeof c.lineHeightRatio&&(i=c.lineHeightRatio),c.cueBackgroundColour&&c.cueBackgroundColour instanceof Array&&(r=c.cueBackgroundColour),HTMLVideoElement||l instanceof a||c.forceCaptionify){if("function"!=typeof document.createElement("video").addTextTrack&&"function"!=typeof document.createElement("video").addTrack||c.forceCaptionify){if(!o&&c.exportObjects&&(window.TextTrack=s.TextTrack,window.TextTrackCueList=s.TextTrackCueList,window.ActiveTextTrackCueList=s.ActiveTextTrackCueList,window.TextTrackCue=s.TextTrackCue,o=!0),l&&!1!==l&&null!=l)if(l instanceof Array)for(d=0;d<l.length;d++)"string"==typeof l[d]?h=h.concat([].slice.call(document.querySelectorAll(l[d]),0)):l[d].constructor===HTMLVideoElement&&h.push(l[d]);else"string"==typeof l?h=[].slice.call(document.querySelectorAll(l),0):l.constructor===HTMLVideoElement&&h.push(l);else h=[].slice.call(document.getElementsByTagName("video"),0);return!!h.length&&(h.forEach((function(t){t.addTextTrack=function(e,n,i,r,o,a,l){var u,c=["subtitles","captions","descriptions","captions","metadata","chapters"];c.slice(0,7);if(e="string"==typeof e?e:"",i="string"==typeof i?i:"",r="string"==typeof r?r:"",l="boolean"==typeof l&&l,!c.filter((function(t){return n===t})).length)throw s.createDOMException(12,"DOMException 12: SYNTAX_ERR: You must use a valid kind when creating a TimedTextTrack.","SYNTAX_ERR");return!!(u=new s.TextTrack(e,n,i,r,o,null))&&(t.textTracks instanceof Array||(t.textTracks=[]),t.textTracks.push(u),u)},s.processVideoElement(h[d],u,c)})),!0)}return!1}return!1},s.parseCaptions=function(t,e){e=e instanceof Object?e:{};var n="",i=[],r="",o=[],a=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\,(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,l=/^(\d+)?:?(\d{2}):(\d{2})\.(\d+)\,(\d+)?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,u=/^(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s*(.*)/,c=/(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)/,h=/^([\d\.]+)\s+\+([\d\.]+)\s*(.*)/,d=/^\[(\d{2})?:?(\d{2})\:(\d{2})\.(\d{2,3})\]\s*(.*?)$/,p=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,f=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,v=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g,g=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)/;if(t){var m=function(t){var n,i,r,o,a,l=new s.CaptionatorCueStructure(t,e),u=[],h=[],d=0,p=function(t){return!!t.replace(/[^a-z0-9]+/gi,"").length};for(n in r=l,u=t.split(/(<\/?[^>]+>)/gi))if(u.hasOwnProperty(n))if("<"===(i=u[n]).substr(0,1)){if("/"===i.substr(1,1)){var f=i.substr(2).split(/[\s>]+/g)[0];if(h.length>0){var v=0;for(d=h.length-1;d>=0;d--){if(v=d,h[d][h[d].length-1].token===f)break}r=h[v],h=h.slice(0,v)}}else if(i.substr(1).match(c)||i.match(/^<v\s+[^>]+>/i)||i.match(/^<c[a-z0-9\-\_\.]+>/)||i.match(/^<(b|i|u|ruby|rt)>/)||!1!==e.sanitiseCueHTML){var g={token:i.replace(/[<\/>]+/gi,"").split(/[\s\.]+/)[0],rawToken:i,children:[]};"v"===g.token?g.voice=i.match(/^<v\s*([^>]+)>/i)[1]:"c"===g.token?g.classes=i.replace(/[<\/>\s]+/gi,"").split(/[\.]+/gi).slice(1).filter(p):!(o=g.rawToken.match(c))||(l.isTimeDependent=!0,a=o.slice(1),g.timeIn=parseInt(60*(a[0]||0)*60,10)+parseInt(60*(a[1]||0),10)+parseInt(a[2]||0,10)+parseFloat("0."+(a[3]||0))),r.push(g),h.push(r),r=g.children}}else!1!==e.sanitiseCueHTML&&(i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\&/g,"&amp;"),e.ignoreWhitespace||(i=i.replace(/\n+/g,"<br />"))),r.push(i);return l},y=function(t){var e,n=0;return"string"!=typeof t?0:((e=g.exec(t))&&(e=e.slice(1),n=parseInt(60*(e[0]||0)*60,10)+parseInt(60*(e[1]||0),10)+parseInt(e[2]||0,10)+parseFloat("0."+(e[3]||0))),n)};if(i=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),/<tt\s+xml/gi.exec(t)){var b=document.createElement("ttml");return b.innerHTML=t,[].slice.call(b.querySelectorAll("[begin],[end]"),0).map((function(t,n){var i,r,o,a=String(t.getAttribute("begin")),l=String(t.getAttribute("end")),u=t.getAttribute("id")||n;return r=y(a),o=y(l),i=!1===e.processCueHTML?t.innerHTML:m(t.innerHTML),new s.TextTrackCue(u,r,o,i,{},!1,null)}))}return t.split(/\n+/g).reduce((function(t,e,n,i){return t||!!d.exec(e)}),!1)?(i=i.split(/\n+/g),n="LRC"):i=i.split(/\n\n+/g),i=i.filter((function(t){return t.match(/^WEBVTT(\s*FILE)?/gi)?(n="WebVTT",!1):!!t.replace(/\s*/gi,"").length})).map((function(t,i){var c,g,y,b,w,A,S,E,x,T,_="";if(E=p.exec(t))return o=(o=E.slice(2).join("")).split(/\s+/g).filter((function(t){return t&&!!t.length})),null;if(E=f.exec(t))return r+=E[E.length-1],null;if(E=v.exec(t))return null;for(c="LRC"===n?[t.substr(0,t.indexOf("]")+1),t.substr(t.indexOf("]")+1)]:t.split(/\n/g);!c[0].replace(/\s+/gi,"").length&&c.length>0;)c.shift();for(S=c[0].match(/^\s*[a-z0-9\-]+\s*$/gi)?String(c.shift().replace(/\s*/gi,"")):i,A=0;A<c.length;A++){var C=c[A];(x=u.exec(C))||(x=a.exec(C))||(x=l.exec(C))?(w=x.slice(1),g=parseInt(60*(w[0]||0)*60,10)+parseInt(60*(w[1]||0),10)+parseInt(w[2]||0,10)+parseFloat("0."+(w[3]||0)),y=parseInt(60*(w[4]||0)*60,10)+parseInt(60*(w[5]||0),10)+parseInt(w[6]||0,10)+parseFloat("0."+(w[7]||0)),w[8]&&(_=w[8])):(x=h.exec(C))?(w=x.slice(1),y=(g=parseFloat(w[0]))+parseFloat(w[1]),w[2]&&(_=w[2])):!(x=d.exec(C))||(w=x.slice(1,x.length-1),y=g=parseInt(60*(w[0]||0)*60,10)+parseInt(60*(w[1]||0),10)+parseInt(w[2]||0,10)+parseFloat("0."+(w[3]||0))),c=c.slice(0,A).concat(c.slice(A+1));break}if(!g&&!y)return null;var k=o.reduce((function(t,e,n,i){return t[e.split(":")[0]]=e.split(":")[1],t}),{});for(var M in k=_.split(/\s+/g).filter((function(t){return t&&!!t.length})).reduce((function(t,e,n,i){return t[e.split(":")[0]]=e.split(":")[1],t}),k),_="",k)k.hasOwnProperty(M)&&(_+=_.length?" ":"",_+=M+":"+k[M]);return b=!1===e.processCueHTML?c.join("\n"):m(c.join("\n")),(T=new s.TextTrackCue(S,g,y,b,_,!1,null)).styleData=r,T})).filter((function(t){return null!==t})),"LRC"===n&&(i.forEach((function(t,e){var n,r=0;e>0&&(r=t.startTime,(n=i[--e]).endTime<r&&(n.endTime=r))})),i=i.filter((function(t){return t.text.toString().replace(/\s*/,"").length>0}))),i}throw new Error("Required parameter captionData not supplied.")},s.processVideoElement=function(t,e,n){var i=[],r=navigator.language||navigator.userLanguage;e||r.split("-")[0];if(n=n instanceof Object?n:{},!t.captioned){t._captionatorOptions=n,t.className+=(t.className.length?" ":"")+"captioned",t.captioned=!0,0===t.id.length&&(t.id=s.generateID());[].slice.call(t.querySelectorAll("track"),0).forEach((function(r){var o=null;o=r.querySelectorAll("source").length>0?r.querySelectorAll("source"):r.getAttribute("src");var a=t.addTextTrack(r.getAttribute("id")||s.generateID(),r.getAttribute("kind"),r.getAttribute("label"),r.getAttribute("srclang").split("-")[0],o,r.getAttribute("type"),r.hasAttribute("default"));r.track=a,a.trackNode=r,a.videoNode=t,i.push(a);var l=!1;("subtitles"===a.kind||"captions"===a.kind)&&e===a.language&&n.enableCaptionsByDefault&&(i.filter((function(t){return("captions"===t.kind||"subtitles"===t.kind)&&e===t.language&&t.mode===s.TextTrack.SHOWING})).length||(l=!0)),"chapters"===a.kind&&e===a.language&&(i.filter((function(t){return"chapters"===t.kind&&t.mode===s.TextTrack.SHOWING})).length||(l=!0)),"descriptions"===a.kind&&!0===n.enableDescriptionsByDefault&&e===a.language&&(i.filter((function(t){return"descriptions"===t.kind&&t.mode===s.TextTrack.SHOWING})).length||(l=!0)),!0===l&&i.forEach((function(t){t.trackNode.hasAttribute("default")&&t.mode===s.TextTrack.SHOWING&&(t.mode=s.TextTrack.HIDDEN)})),r.hasAttribute("default")&&(i.filter((function(t){return!(!t.trackNode.hasAttribute("default")||t.trackNode===r)})).length||(l=!0,a.internalDefault=!0)),!0===l&&(a.mode=s.TextTrack.SHOWING)})),t.addEventListener("timeupdate",(function(t){var e=t.target;try{e.textTracks.forEach((function(t){t.activeCues.refreshCues.apply(t.activeCues)}))}catch(t){}n.renderer instanceof Function?n.renderer.call(s,e):s.rebuildCaptions(e)}),!1),window.addEventListener("resize",(function(e){t._captionator_dirtyBit=!0,s.rebuildCaptions(t)}),!1),!0===n.enableHighResolution&&window.setInterval((function(){try{t.textTracks.forEach((function(t){t.activeCues.refreshCues.apply(t.activeCues)}))}catch(t){}n.renderer instanceof Function?n.renderer.call(s,t):s.rebuildCaptions(t)}),20)}return t},s.getNodeMetrics=function(t){var e,n,i=window.getComputedStyle(t,null),r=t,o=t.offsetTop,s=t.offsetLeft,a=0;for(e=parseInt(i.getPropertyValue("width"),10),n=parseInt(i.getPropertyValue("height"),10);r=r.offsetParent;)o+=r.offsetTop,s+=r.offsetLeft;if(t.hasAttribute("controls")){var l=navigator.userAgent.toLowerCase();-1!==l.indexOf("chrome")?a=32:-1!==l.indexOf("opera")?a=25:-1!==l.indexOf("firefox")?a=28:-1!==l.indexOf("ie 9")||-1!==l.indexOf("ipad")?a=44:-1!==l.indexOf("safari")&&(a=25)}else if(t._captionatorOptions){var u=t._captionatorOptions;u.controlHeight&&(a=parseInt(u.controlHeight,10))}return{left:s,top:o,width:e,height:n,controlHeight:a}},s.applyStyles=function(t,e){for(var n in e)({}).hasOwnProperty.call(e,n)&&(t.style[n]=e[n])},s.checkDirection=function(t){var e="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿",n="֑-߿יִ-﷽ﹰ-ﻼ",i=new RegExp("^[^"+n+"]*["+e+"]");return new RegExp("^[^"+e+"]*["+n+"]").test(t)?"rtl":i.test(t)?"ltr":""},s.styleCue=function(o,a,l){var u,c,h,d,p,f,v,g,m,y,b,w,A,S,E,x,T=0,_=0,C=0,k=0,M=0,O=0,P=0,L=0,I=0,R=0,D=0,N=l._captionatorOptions||{},H=50,V=0,F=0,B=!0,j="",U=(a.track.language,function(t){if(t.spanified)return t.characterCount;var e,n,i,r,o=function(t){return!!t.length},a="<span class='captionator-cue-character'>",l=0,u=function(t){l++,s.applyStyles(t,{display:"block",lineHeight:"auto",height:f+"px",width:w+"px",textAlign:"center"})};for(e in t.childNodes)t.childNodes.hasOwnProperty(e)&&!t.childNodes[e].nospan&&(3===(n=t.childNodes[e]).nodeType?(r=document.createDocumentFragment(),i=n.nodeValue,r.appendChild(document.createElement("span")),r.childNodes[0].innerHTML=a+i.split(/(.)/).filter(o).join("</span>"+a)+"</span>",[].slice.call(r.querySelectorAll("span.captionator-cue-character"),0).forEach(u),n.parentNode.replaceChild(r,n)):1===t.childNodes[e].nodeType&&(l+=U(t.childNodes[e])));return t.characterCount=l,t.spanified=!0,l});if(E=s.getNodeMetrics(l),l._captionator_availableCueArea||(l._captionator_availableCueArea={bottom:E.height-E.controlHeight,right:E.width,top:0,left:0,height:E.height-E.controlHeight,width:E.width}),"horizontal"===a.direction&&(s.applyStyles(o,{width:"auto",position:"static",display:"inline-block",padding:"1em"}),V=parseInt(o.offsetWidth,10),F=(F=Math.floor(V/l._captionator_availableCueArea.width*100))<=100?F:100),p=(p=E.height*(n/100)/96*72)>=t?p:t,f=Math.floor(p/72*96),v=(v=Math.floor(p*i))>e?v:e,b=Math.ceil(v/72*96),w=b,b*Math.floor(E.height/b)<E.height&&(b=Math.floor(E.height/Math.floor(E.height/b)),v=Math.ceil(b/96*72)),b*Math.floor(E.width/b)<E.width&&(w=Math.ceil(E.width/Math.floor(E.width/b))),m=Math.floor(l._captionator_availableCueArea.height/b),y=Math.floor(l._captionator_availableCueArea.width/w),0===parseFloat(String(a.size).replace(/[^\d\.]/gi,""))?!0===N.sizeCuesByTextBoundingBox?u=F:(u=100,B=!1):(B=!1,u=(u=parseFloat(String(a.size).replace(/[^\d\.]/gi,"")))<=100?u:100),h="horizontal"===a.direction?Math.floor(.01*E.width):0,d="horizontal"===a.direction?0:Math.floor(.01*E.height),"auto"===a.linePosition?a.linePosition="horizontal"===a.direction?m:y:String(a.linePosition).match(/\%/)&&(a.snapToLines=!1,a.linePosition=parseFloat(String(a.linePosition).replace(/\%/gi,""))),"horizontal"===a.direction)k=b,"auto"!==a.textPosition&&B&&(u-(H=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")))>F?u-=H:u=F),C=!0===a.snapToLines?l._captionator_availableCueArea.width*(u/100):E.width*(u/100),"auto"===a.textPosition?T=(l._captionator_availableCueArea.right-C)/2+l._captionator_availableCueArea.left:(H=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")),T=(l._captionator_availableCueArea.right-C)*(H/100)+l._captionator_availableCueArea.left),!0===a.snapToLines?_=(m-1)*b+l._captionator_availableCueArea.top:(g=E.controlHeight+b+2*d,_=(E.height-g)*(a.linePosition/100));else{if(_=l._captionator_availableCueArea.top,T=l._captionator_availableCueArea.right-w,C=w,k=l._captionator_availableCueArea.height*(u/100),O=U(o),P=[].slice.call(o.querySelectorAll("span.captionator-cue-character"),0),M=Math.floor((k-2*d)/f),C=Math.ceil(O/M)*w,L=Math.ceil(O/M),I=(O-M*(L-1))*f,!0===a.snapToLines)T="vertical-lr"===a.direction?l._captionator_availableCueArea.left:l._captionator_availableCueArea.right-C;else{var W=C+2*h;T="vertical-lr"===a.direction?(E.width-W)*(a.linePosition/100):E.width-W-(E.width-W)*(a.linePosition/100)}"auto"===a.textPosition?_=(l._captionator_availableCueArea.bottom-k)/2+l._captionator_availableCueArea.top:(a.textPosition=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")),_=(l._captionator_availableCueArea.bottom-k)*(a.textPosition/100)+l._captionator_availableCueArea.top),R=0,D=0,A=0,S=0,P.forEach((function(t,e){A="vertical-lr"===a.direction?w*R:C-w*(R+1),"start"===a.alignment||"start"!==a.alignment&&R<L-1?S=D*f+d:"end"===a.alignment?S=D*f-f+(k+2*d-I):"middle"===a.alignment&&(S=(k-2*d-I)/2+D*f),t.setAttribute("aria-hidden","true"),s.applyStyles(t,{position:"absolute",top:S+"px",left:A+"px"}),D>=M-1?(D=0,R++):D++})),o.accessified||(j=a.text.getPlain(l.currentTime),(x=document.createElement("div")).innerHTML=j,x.nospan=!0,o.appendChild(x),o.accessified=!0,s.applyStyles(x,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"}))}if("horizontal"===a.direction&&(c="rtl"===s.checkDirection(String(a.text))?{start:"right",middle:"center",end:"left"}[a.alignment]:{start:"left",middle:"center",end:"right"}[a.alignment]),s.applyStyles(o,{position:"absolute",overflow:"hidden",width:C+"px",height:k+"px",top:_+"px",left:T+"px",padding:d+"px "+h+"px",textAlign:c,backgroundColor:"rgba("+r.join(",")+")",direction:s.checkDirection(String(a.text)),lineHeight:v+"pt",boxSizing:"border-box"}),"vertical"===a.direction||"vertical-lr"===a.direction)T-l._captionator_availableCueArea.left-l._captionator_availableCueArea.left>=l._captionator_availableCueArea.right-(T+C)?l._captionator_availableCueArea.right=T:l._captionator_availableCueArea.left=T+C,l._captionator_availableCueArea.width=l._captionator_availableCueArea.right-l._captionator_availableCueArea.left;else{if(o.scrollHeight>1.2*o.offsetHeight)if(a.snapToLines){for(var z=0;o.scrollHeight>1.2*o.offsetHeight;)k+=b,o.style.height=k+"px",z++;_-=z*b,o.style.top=_+"px"}else{o.scrollHeight;k=o.scrollHeight+d,g=E.controlHeight+k+2*d,_=(E.height-g)*(a.linePosition/100),o.style.height=k+"px",o.style.top=_+"px"}_-l._captionator_availableCueArea.top-l._captionator_availableCueArea.top>=l._captionator_availableCueArea.bottom-(_+k)&&l._captionator_availableCueArea.bottom>_?l._captionator_availableCueArea.bottom=_:l._captionator_availableCueArea.top<_+k&&(l._captionator_availableCueArea.top=_+k),l._captionator_availableCueArea.height=l._captionator_availableCueArea.bottom-l._captionator_availableCueArea.top}},s.styleCueCanvas=function(r){var o,a,l,u,c,h,d=r._captionatorOptions instanceof Object?r._captionatorOptions:{};if(!(r instanceof HTMLVideoElement))throw new Error("Cannot style a cue canvas for a non-video node!");if(r._containerObject&&(c=(l=r._containerObject).id),r._descriptionContainerObject&&(h=(u=r._descriptionContainerObject).id),u?u.parentNode||document.body.appendChild(u):((u=document.createElement("div")).className="captionator-cue-descriptive-container",h=s.generateID(),u.id=h,r._descriptionContainerObject=u,u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),u.setAttribute("role","region"),document.body.appendChild(u),s.applyStyles(u,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"})),l)l.parentNode||document.body.appendChild(l);else{if((l=document.createElement("div")).className="captionator-cue-canvas",c=s.generateID(),l.id=c,d.appendCueCanvasTo){var p=null;if(d.appendCueCanvasTo instanceof HTMLElement)p=d.appendCueCanvasTo;else if("string"==typeof d.appendCueCanvasTo)try{var f=document.querySelectorAll(d.appendCueCanvasTo);if(!(f.length>0))throw null;p=f[0]}catch(t){p=document.body,d.appendCueCanvasTo=!1}else p=document.body,d.appendCueCanvasTo=!1;p.appendChild(l)}else document.body.appendChild(l);r._containerObject=l}var v=s.getNodeMetrics(r);o=(o=v.height*(n/100)/96*72)>=t?o:t,a=(a=Math.floor(o*i))>e?a:e,s.applyStyles(l,{position:"absolute",overflow:"hidden",zIndex:100,height:v.height-v.controlHeight+"px",width:v.width+"px",top:(d.appendCueCanvasTo?0:v.top)+"px",left:(d.appendCueCanvasTo?0:v.left)+"px",color:"white",fontFamily:"Verdana, Helvetica, Arial, sans-serif",fontSize:o+"pt",lineHeight:a+"pt",boxSizing:"border-box"})},s.createDOMException=function(t,e,n){try{document.querySelectorAll("div/[]")}catch(r){var i=function(t,e,n){this.code=t,this.message=e,this.name=n};return i.prototype=r,new i(t,e,n)}},s.compareArray=function(t,e){if(t instanceof Array&&e instanceof Array){if(t.length!==e.length)return!1;for(var n in t)if(t.hasOwnProperty(n)&&t[n]!==e[n])return!1;return!0}return!1},s.generateID=function(t){var e="";for(t=t||10;e.length<t;)e+=String.fromCharCode(65+Math.floor(26*Math.random()));return"captionator"+e}}()},1703:function(t,e){
/*!
 * CSSRulePlugin 3.6.1
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t){"use strict";function e(){return"undefined"!=typeof window}function n(){return r||e()&&(r=window.gsap)&&r.registerPlugin&&r}function i(){return o||(l(),a||console.warn("Please gsap.registerPlugin(CSSPlugin, CSSRulePlugin)")),o}var r,o,s,a,l=function(t){r=t||n(),e()&&(s=document),r&&(a=r.plugins.css)&&(o=1)},u={version:"3.6.1",name:"cssRule",init:function(t,e,n,r,o){if(!i()||void 0===t.cssText)return!1;var l=t._gsProxy=t._gsProxy||s.createElement("div");this.ss=t,this.style=l.style,l.style.cssText=t.cssText,a.prototype.init.call(this,l,e,n,r,o)},render:function(t,e){for(var n,i=e._pt,r=e.style,o=e.ss;i;)i.r(t,i.d),i=i._next;for(n=r.length;-1<--n;)o[r[n]]=r[r[n]]},getRule:function(t){i();var e,n,r,o,a=s.all?"rules":"cssRules",l=s.styleSheets,u=l.length,c=":"===t.charAt(0);for(t=(c?"":",")+t.split("::").join(":").toLowerCase()+",",c&&(o=[]);u--;){try{if(!(n=l[u][a]))continue;e=n.length}catch(t){console.warn(t);continue}for(;-1<--e;)if((r=n[e]).selectorText&&-1!==(","+r.selectorText.split("::").join(":").toLowerCase()+",").indexOf(t)){if(!c)return r.style;o.push(r.style)}}return o},register:l};n()&&r.registerPlugin(u),t.CSSRulePlugin=u,t.default=u,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}(e)},4303:function(t,e){
/*!
 * EasePack 3.6.1
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t){"use strict";function e(){return l||"undefined"!=typeof window&&(l=window.gsap)&&l.registerPlugin&&l}function n(t,e){return!!(void 0===t?e:t&&!~(t+"").indexOf("false"))}function i(t){if(l=t||e()){u=l.registerEase;var n,i=l.parseEase(),r=function(t){return function(e){var n=.5+e/2;t.config=function(e){return t(2*(1-e)*e*n+e*e)}}};for(n in i)i[n].config||r(i[n]);for(n in u("slow",c),u("expoScale",h),u("rough",d),p)"version"!==n&&l.core.globals(n,p[n])}}function r(t,e,i){var r=(t=Math.min(1,t||.7))<1?e||0===e?e:.7:0,o=(1-t)/2,s=o+t,a=n(i);return function(t){var e=t+(.5-t)*r;return t<o?a?1-(t=1-t/o)*t:e-(t=1-t/o)*t*t*t*e:s<t?a?1===t?0:1-(t=(t-s)/o)*t:e+(t-e)*(t=(t-s)/o)*t*t*t:a?1:e}}function o(t,e,n){var i=Math.log(e/t),r=e-t;return n=n&&l.parseEase(n),function(e){return(t*Math.exp(i*(n?n(e):e))-t)/r}}function s(t,e,n){this.t=t,this.v=e,n&&(((this.next=n).prev=this).c=n.v-e,this.gap=n.t-t)}function a(t){"object"!=typeof t&&(t={points:+t||20});for(var e,i,r,o,a,u,c,h=t.taper||"none",d=[],p=0,f=0|(+t.points||20),v=f,g=n(t.randomize,!0),m=n(t.clamp),y=l?l.parseEase(t.template):0,b=.4*(+t.strength||1);-1<--v;)e=g?Math.random():1/f*v,i=y?y(e):e,r="none"===h?b:"out"===h?(o=1-e)*o*b:"in"===h?e*e*b:e<.5?(o=2*e)*o*.5*b:(o=2*(1-e))*o*.5*b,g?i+=Math.random()*r-.5*r:v%2?i+=.5*r:i-=.5*r,m&&(1<i?i=1:i<0&&(i=0)),d[p++]={x:e,y:i};for(d.sort((function(t,e){return t.x-e.x})),u=new s(1,1,null),v=f;v--;)u=new s((a=d[v]).x,a.y,u);return c=new s(0,0,u.t?u:u.next),function(t){var e=c;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return(c=e).v+(t-e.t)/e.gap*e.c}}var l,u,c=r(.7);(c.ease=c).config=r;var h=o(1,2);h.config=o;var d=a();(d.ease=d).config=a;var p={SlowMo:c,RoughEase:d,ExpoScaleEase:h};for(var f in p)p[f].register=i,p[f].version="3.6.1";e()&&l.registerPlugin(c),t.EasePack=p,t.ExpoScaleEase=h,t.RoughEase=d,t.SlowMo=c,t.default=p,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}(e)},1558:function(t,e){
/*!
 * GSAP 3.6.1
 * https://greensock.com
 * 
 * @license Copyright 2021, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t){"use strict";function e(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return"string"==typeof t}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return void 0===t}function a(t){return"object"==typeof t}function l(t){return!1!==t}function u(){return"undefined"!=typeof window}function c(t){return r(t)||i(t)}function h(t){return(wt=ve(t,se))&&fn}function d(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")}function p(t,e){return!e&&console.warn(t)}function f(t,e){return t&&(se[t]=e)&&wt&&(wt[t]=e)||se}function v(){return 0}function g(t){var e,n,i=t[0];if(a(i)||r(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(n=pe.length;n--&&!pe[n].targetTest(i););e=pe[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new He(t[n],e)))||t.splice(n,1);return t}function m(t){return t._gsap||g(we(t))[0]._gsap}function y(t,e,n){return(n=t[e])&&r(n)?t[e]():s(n)&&t.getAttribute&&t.getAttribute(e)||n}function b(t,e){return(t=t.split(",")).forEach(e)||t}function w(t){return Math.round(1e5*t)/1e5||0}function A(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n}function S(t,e,n){var i,r=o(t[1]),s=(r?2:1)+(e<2?0:1),a=t[s];if(r&&(a.duration=t[1]),a.parent=n,e){for(i=a;n&&!("immediateRender"in i);)i=n.vars.defaults||{},n=l(n.vars.inherit)&&n.parent;a.immediateRender=l(i.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return a}function E(){var t,e,n=le.length,i=le.slice(0);for(ue={},t=le.length=0;t<n;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}function x(t,e,n,i){le.length&&E(),t.render(e,n,i),le.length&&E()}function T(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(re).length<2?e:i(t)?t.trim():t}function _(t){return t}function C(t,e){for(var n in e)n in t||(t[n]=e[n]);return t}function k(t,e){for(var n in e)n in t||"duration"===n||"ease"===n||(t[n]=e[n])}function M(t,e){for(var n in e)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(t[n]=a(e[n])?M(t[n]||(t[n]={}),e[n]):e[n]);return t}function O(t,e){var n,i={};for(n in t)n in e||(i[n]=t[n]);return i}function P(t){var e=t.parent||gt,n=t.keyframes?k:C;if(l(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t}function L(t,e,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=e._prev,o=e._next;r?r._next=o:t[n]===e&&(t[n]=o),o?o._prev=r:t[i]===e&&(t[i]=r),e._next=e._prev=e.parent=null}function I(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0}function R(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t}function D(t){return t._repeat?ge(t._tTime,t=t.duration()+t._rDelay)*t:0}function N(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function H(t){return t._end=w(t._start+(t._tDur/Math.abs(t._ts||t._rts||zt)||0))}function V(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=w(n._time-(0<t._ts?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),H(t),n._dirty||R(n,t)),t}function F(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=N(t.rawTime(),e),(!e._dur||ye(0,e.totalDuration(),n)-e._tTime>zt)&&e.render(n,!0)),R(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)0<=n.rawTime()&&n.totalTime(n._tTime),n=n._dp;t._zTime=-zt}}function B(t,e,n,i){return e.parent&&I(e),e._start=w(n+e._delay),e._end=w(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,n,i,r){void 0===n&&(n="_first"),void 0===i&&(i="_last");var o,s=t[i];if(r)for(o=e[r];s&&s[r]>o;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[i]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,i||F(t,e),t}function j(t,e){return(se.ScrollTrigger||d("scrollTrigger",e))&&se.ScrollTrigger.create(e,t)}function U(t,e,n,i){return ze(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&St!==Ce.frame?(le.push(t),t._lazy=[e,i],1):void 0:1}function W(t,e,n,i){var r=t._repeat,o=w(e)||0,s=t._tTime/t._tDur;return s&&!i&&(t._time*=o/t._dur),t._dur=o,t._tDur=r?r<0?1e10:w(o*(r+1)+t._rDelay*r):o,s&&!i?V(t,t._tTime=t._tDur*s):t.parent&&H(t),n||R(t.parent,t),t}function z(t){return t instanceof Be?R(t):W(t,t._dur)}function G(t,e){var n,r,o=t.labels,s=t._recent||me,a=t.duration()>=Wt?s.endTime(!1):t._dur;return i(e)&&(isNaN(e)||e in o)?"<"===(n=e.charAt(0))||">"===n?("<"===n?s._start:s.endTime(0<=s._repeat))+(parseFloat(e.substr(1))||0):(n=e.indexOf("="))<0?(e in o||(o[e]=a),o[e]):(r=+(e.charAt(n-1)+e.substr(n+1)),1<n?G(t,e.substr(0,n-1))+r:a+r):null==e?a:+e}function q(t,e){return t||0===t?e(t):e}function Y(t){if("string"!=typeof t)return"";var e=oe.exec(t);return e?t.substr(e.index+e[0].length):""}function X(t,e){return t&&a(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&a(t[0]))&&!t.nodeType&&t!==mt}function K(t){return t.sort((function(){return.5-Math.random()}))}function J(t){if(r(t))return t;var e=a(t)?t:{each:t},n=Ie(e.ease),o=e.from||0,s=parseFloat(e.base)||0,l={},u=0<o&&o<1,c=isNaN(o)||u,h=e.axis,d=o,p=o;return i(o)?d=p={center:.5,edges:.5,end:1}[o]||0:!u&&c&&(d=o[0],p=o[1]),function(t,i,r){var a,u,f,v,g,m,y,b,A,S=(r||e).length,E=l[S];if(!E){if(!(A="auto"===e.grid?0:(e.grid||[1,Wt])[1])){for(y=-Wt;y<(y=r[A++].getBoundingClientRect().left)&&A<S;);A--}for(E=l[S]=[],a=c?Math.min(A,S)*d-.5:o%A,u=c?S*p/A-.5:o/A|0,b=Wt,m=y=0;m<S;m++)f=m%A-a,v=u-(m/A|0),E[m]=g=h?Math.abs("y"===h?v:f):Xt(f*f+v*v),y<g&&(y=g),g<b&&(b=g);"random"===o&&K(E),E.max=y-b,E.min=b,E.v=S=(parseFloat(e.amount)||parseFloat(e.each)*(S<A?S-1:h?"y"===h?S/A:A:Math.max(A,S/A))||0)*("edges"===o?-1:1),E.b=S<0?s-S:s,E.u=Y(e.amount||e.each)||0,n=n&&S<0?Le(n):n}return S=(E[t]-E.min)/E.max||0,w(E.b+(n?n(S):S)*E.v)+E.u}}function Z(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(n){var i=Math.round(parseFloat(n)/t)*t*e;return(i-i%1)/e+(o(n)?0:Y(n))}}function $(t,e){var n,i,s=$t(t);return!s&&a(t)&&(n=s=t.radius||Wt,t.values?(t=we(t.values),(i=!o(t[0]))&&(n*=n)):t=Z(t.increment)),q(e,s?r(t)?function(e){return i=t(e),Math.abs(i-e)<=n?i:e}:function(e){for(var r,s,a=parseFloat(i?e.x:e),l=parseFloat(i?e.y:0),u=Wt,c=0,h=t.length;h--;)(r=i?(r=t[h].x-a)*r+(s=t[h].y-l)*s:Math.abs(t[h]-a))<u&&(u=r,c=h);return c=!n||u<=n?t[c]:e,i||c===e||o(e)?c:c+Y(e)}:Z(t))}function Q(t,e,n,i){return q($t(t)?!e:!0===n?!!(n=0):!i,(function(){return $t(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*i)/i}))}function tt(t,e,n){return q(n,(function(n){return t[~~e(n)]}))}function et(t){for(var e,n,i,r,o=0,s="";~(e=t.indexOf("random(",o));)i=t.indexOf(")",e),r="["===t.charAt(e+7),n=t.substr(e+7,i-e-7).match(r?re:Qt),s+=t.substr(o,e-o)+Q(r?n:+n[0],r?0:+n[1],+n[2]||1e-5),o=i+1;return s+t.substr(o,t.length-o)}function nt(t,e,n){var i,r,o,s=t.labels,a=Wt;for(i in s)(r=s[i]-e)<0==!!n&&r&&a>(r=Math.abs(r))&&(o=i,a=r);return o}function it(t){return I(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&Se(t,"onInterrupt"),t}function rt(t,e,n){return(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*Ee+.5|0}function ot(t,e,n){var i,r,s,a,l,u,c,h,d,p,f=t?o(t)?[t>>16,t>>8&Ee,t&Ee]:0:xe.black;if(!f){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),xe[t])f=xe[t];else if("#"===t.charAt(0)){if(t.length<6&&(t="#"+(i=t.charAt(1))+i+(r=t.charAt(2))+r+(s=t.charAt(3))+s+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(f=parseInt(t.substr(1,6),16))>>16,f>>8&Ee,f&Ee,parseInt(t.substr(7),16)/255];f=[(t=parseInt(t.substr(1),16))>>16,t>>8&Ee,t&Ee]}else if("hsl"===t.substr(0,3))if(f=p=t.match(Qt),e){if(~t.indexOf("="))return f=t.match(te),n&&f.length<4&&(f[3]=1),f}else a=+f[0]%360/360,l=f[1]/100,i=2*(u=f[2]/100)-(r=u<=.5?u*(l+1):u+l-u*l),3<f.length&&(f[3]*=1),f[0]=rt(a+1/3,i,r),f[1]=rt(a,i,r),f[2]=rt(a-1/3,i,r);else f=t.match(Qt)||xe.transparent;f=f.map(Number)}return e&&!p&&(i=f[0]/Ee,r=f[1]/Ee,s=f[2]/Ee,u=((c=Math.max(i,r,s))+(h=Math.min(i,r,s)))/2,c===h?a=l=0:(d=c-h,l=.5<u?d/(2-c-h):d/(c+h),a=c===i?(r-s)/d+(r<s?6:0):c===r?(s-i)/d+2:(i-r)/d+4,a*=60),f[0]=~~(a+.5),f[1]=~~(100*l+.5),f[2]=~~(100*u+.5)),n&&f.length<4&&(f[3]=1),f}function st(t){var e=[],n=[],i=-1;return t.split(Te).forEach((function(t){var r=t.match(ee)||[];e.push.apply(e,r),n.push(i+=r.length+1)})),e.c=n,e}function at(t,e,n){var i,r,o,s,a="",l=(t+a).match(Te),u=e?"hsla(":"rgba(",c=0;if(!l)return t;if(l=l.map((function(t){return(t=ot(t,e,1))&&u+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(o=st(t),(i=n.c).join(a)!==o.c.join(a)))for(s=(r=t.replace(Te,"1").split(ee)).length-1;c<s;c++)a+=r[c]+(~i.indexOf(c)?l.shift()||u+"0,0,0,0)":(o.length?o:l.length?l:n).shift());if(!r)for(s=(r=t.split(Te)).length-1;c<s;c++)a+=r[c]+l[c];return a+r[s]}function lt(t){var e,n=t.join(" ");if(Te.lastIndex=0,Te.test(n))return e=_e.test(n),t[1]=at(t[1],e),t[0]=at(t[0],e,st(t[1])),!0}function ut(t){var e=(t+"").split("("),n=Me[e[0]];return n&&1<e.length&&n.config?n.config.apply(null,~t.indexOf("{")?[function(t){for(var e,n,i,r={},o=t.substr(1,t.length-3).split(":"),s=o[0],a=1,l=o.length;a<l;a++)n=o[a],e=a!==l-1?n.lastIndexOf(","):n.length,i=n.substr(0,e),r[s]=isNaN(i)?i.replace(Pe,"").trim():+i,s=n.substr(e+1).trim();return r}(e[1])]:function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<n?t.indexOf(")",n+1):n)}(t).split(",").map(T)):Me._CE&&Oe.test(t)?Me._CE("",t):n}function ct(t,e){for(var n,i=t._first;i;)i instanceof Be?ct(i,e):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===e||(i.timeline?ct(i.timeline,e):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=e)),i=i._next}function ht(t,e,n,i){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,o={easeIn:e,easeOut:n,easeInOut:i};return b(t,(function(t){for(var e in Me[t]=se[t]=o,Me[r=t.toLowerCase()]=n,o)Me[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Me[t+"."+e]=o[e]})),o}function dt(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}}function pt(t,e,n){function i(t){return 1===t?1:r*Math.pow(2,-10*t)*Jt((t-s)*o)+1}var r=1<=e?e:1,o=(n||(t?.3:.45))/(e<1?e:1),s=o/Gt*(Math.asin(1/r)||0),a="out"===t?i:"in"===t?function(t){return 1-i(1-t)}:dt(i);return o=Gt/o,a.config=function(e,n){return pt(t,e,n)},a}function ft(t,e){function n(t){return t?--t*t*((e+1)*t+e)+1:0}void 0===e&&(e=1.70158);var i="out"===t?n:"in"===t?function(t){return 1-n(1-t)}:dt(n);return i.config=function(e){return ft(t,e)},i}var vt,gt,mt,yt,bt,wt,At,St,Et,xt,Tt,_t,Ct,kt,Mt,Ot,Pt,Lt,It,Rt,Dt,Nt,Ht,Vt,Ft,Bt,jt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ut={duration:.5,overwrite:!1,delay:0},Wt=1e8,zt=1/Wt,Gt=2*Math.PI,qt=Gt/4,Yt=0,Xt=Math.sqrt,Kt=Math.cos,Jt=Math.sin,Zt="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},$t=Array.isArray,Qt=/(?:-?\.?\d|\.)+/gi,te=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ee=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ne=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ie=/[+-]=-?[.\d]+/,re=/[#\-+.]*\b[a-z\d-=+%.]+/gi,oe=/[\d.+\-=]+(?:e[-+]\d*)*/i,se={},ae={},le=[],ue={},ce={},he={},de=30,pe=[],fe="",ve=function(t,e){for(var n in e)t[n]=e[n];return t},ge=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},me={_start:0,endTime:v},ye=function(t,e,n){return n<t?t:e<n?e:n},be=[].slice,we=function(t,e){return!i(t)||e||!yt&&ke()?$t(t)?function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){return i(t)&&!e||X(t,1)?n.push.apply(n,we(t)):n.push(t)}))||n}(t,e):X(t)?be.call(t,0):t?[t]:[]:be.call(bt.querySelectorAll(t),0)},Ae=function(t,e,n,i,r){var o=e-t,s=i-n;return q(r,(function(e){return n+((e-t)/o*s||0)}))},Se=function(t,e,n){var i,r,o=t.vars,s=o[e];if(s)return i=o[e+"Params"],r=o.callbackScope||t,n&&le.length&&E(),i?s.apply(r,i):s.call(r)},Ee=255,xe={aqua:[0,Ee,Ee],lime:[0,Ee,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ee],navy:[0,0,128],white:[Ee,Ee,Ee],olive:[128,128,0],yellow:[Ee,Ee,0],orange:[Ee,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ee,0,0],pink:[Ee,192,203],cyan:[0,Ee,Ee],transparent:[Ee,Ee,Ee,0]},Te=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in xe)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),_e=/hsl[a]?\(/,Ce=(Pt=Date.now,Lt=500,It=33,Rt=Pt(),Dt=Rt,Ht=Nt=1e3/240,kt={time:0,frame:0,tick:function(){Re(!0)},deltaRatio:function(t){return Mt/(1e3/(t||60))},wake:function(){At&&(!yt&&u()&&(mt=yt=window,bt=mt.document||{},se.gsap=fn,(mt.gsapVersions||(mt.gsapVersions=[])).push(fn.version),h(wt||mt.GreenSockGlobals||!mt.gsap&&mt||{}),Ct=mt.requestAnimationFrame),Tt&&kt.sleep(),_t=Ct||function(t){return setTimeout(t,Ht-1e3*kt.time+1|0)},xt=1,Re(2))},sleep:function(){(Ct?mt.cancelAnimationFrame:clearTimeout)(Tt),xt=0,_t=v},lagSmoothing:function(t,e){Lt=t||1e8,It=Math.min(e,Lt,0)},fps:function(t){Nt=1e3/(t||240),Ht=1e3*kt.time+Nt},add:function(t){Vt.indexOf(t)<0&&Vt.push(t),ke()},remove:function(t){var e;~(e=Vt.indexOf(t))&&Vt.splice(e,1)&&e<=Ot&&Ot--},_listeners:Vt=[]}),ke=function(){return!xt&&Ce.wake()},Me={},Oe=/^[\d.\-M][\d.\-,\s]/,Pe=/["']/g,Le=function(t){return function(e){return 1-t(1-e)}},Ie=function(t,e){return t&&(r(t)?t:Me[t]||ut(t))||e};function Re(t){var e,n,i,r,o=Pt()-Dt,s=!0===t;if(Lt<o&&(Rt+=o-It),(0<(e=(i=(Dt+=o)-Rt)-Ht)||s)&&(r=++kt.frame,Mt=i-1e3*kt.time,kt.time=i/=1e3,Ht+=e+(Nt<=e?4:Nt-e),n=1),s||(Tt=_t(Re)),n)for(Ot=0;Ot<Vt.length;Ot++)Vt[Ot](i,Mt,r,t)}function De(t){return t<Bt?Ft*t*t:t<.7272727272727273?Ft*Math.pow(t-1.5/2.75,2)+.75:t<.9090909090909092?Ft*(t-=2.25/2.75)*t+.9375:Ft*Math.pow(t-2.625/2.75,2)+.984375}b("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;ht(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Me.Linear.easeNone=Me.none=Me.Linear.easeIn,ht("Elastic",pt("in"),pt("out"),pt()),Ft=7.5625,Bt=1/2.75,ht("Bounce",(function(t){return 1-De(1-t)}),De),ht("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),ht("Circ",(function(t){return-(Xt(1-t*t)-1)})),ht("Sine",(function(t){return 1===t?1:1-Kt(t*qt)})),ht("Back",ft("in"),ft("out"),ft()),Me.SteppedEase=Me.steps=se.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,i=t+(e?0:1),r=e?1:0;return function(t){return((i*ye(0,.99999999,t)|0)+r)*n}}},Ut.ease=Me["quad.out"],b("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return fe+=t+","+t+"Params,"}));var Ne,He=function(t,e){this.id=Yt++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:y,this.set=e?e.getSetter:tn},Ve=((Ne=Fe.prototype).delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},Ne.duration=function(t){return arguments.length?this.totalDuration(0<this._repeat?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},Ne.totalDuration=function(t){return arguments.length?(this._dirty=0,W(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Ne.totalTime=function(t,e){if(ke(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(V(this,t),!n._dp||n.parent||F(n,this);n.parent;)n.parent._time!==n._start+(0<=n._ts?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&t<this._tDur||this._ts<0&&0<t||!this._tDur&&!t)&&B(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===zt||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),x(this,t,e)),this},Ne.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+D(this))%this._dur||(t?this._dur:0),e):this._time},Ne.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},Ne.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+D(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},Ne.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?ge(this._tTime,n)+1:1},Ne.timeScale=function(t){if(!arguments.length)return this._rts===-zt?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?N(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-zt?0:this._rts,function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this.totalTime(ye(-this._delay,this._tDur,e),!0))},Ne.paused=function(t){return arguments.length?(this._ps!==t&&((this._ps=t)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ke(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=zt)&&Math.abs(this._zTime)!==zt))),this):this._ps},Ne.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return!e||!e._sort&&this.parent||B(e,this,t-this._delay),this}return this._start},Ne.endTime=function(t){return this._start+(l(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},Ne.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?N(e.rawTime(t),this):this._tTime:this._tTime},Ne.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(e._ts||1),e=e._dp;return n},Ne.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,z(this)):-2===this._repeat?1/0:this._repeat},Ne.repeatDelay=function(t){return arguments.length?(this._rDelay=t,z(this)):this._rDelay},Ne.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},Ne.seek=function(t,e){return this.totalTime(G(this,t),l(e))},Ne.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,l(e))},Ne.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},Ne.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},Ne.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},Ne.resume=function(){return this.paused(!1)},Ne.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-zt:0)),this):this._rts<0},Ne.invalidate=function(){return this._initted=this._act=0,this._zTime=-zt,this},Ne.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-zt))},Ne.eventCallback=function(t,e,n){var i=this.vars;return 1<arguments.length?(e?(i[t]=e,n&&(i[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},Ne.then=function(t){var e=this;return new Promise((function(n){function i(){var t=e.then;e.then=null,r(o)&&(o=o(e))&&(o.then||o===e)&&(e.then=t),n(o),e.then=t}var o=r(t)?t:_;e._initted&&1===e.totalProgress()&&0<=e._ts||!e._tTime&&e._ts<0?i():e._prom=i}))},Ne.kill=function(){it(this)},Fe);function Fe(t,e){var n=t.parent||gt;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,W(this,+t.duration,1,1),this.data=t.data,xt||Ce.wake(),n&&B(n,this,e||0===e?e:n._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}C(Ve.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-zt,_prom:0,_ps:!1,_rts:1});var Be=function(t){function s(e,i){var r;return void 0===e&&(e={}),(r=t.call(this,e,i)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=l(e.sortChildren),r.parent&&F(r.parent,n(r)),e.scrollTrigger&&j(n(r),e.scrollTrigger),r}e(s,t);var a=s.prototype;return a.to=function(t,e,n,i){return new Xe(t,S(arguments,0,this),G(this,o(e)?i:n)),this},a.from=function(t,e,n,i){return new Xe(t,S(arguments,1,this),G(this,o(e)?i:n)),this},a.fromTo=function(t,e,n,i,r){return new Xe(t,S(arguments,2,this),G(this,o(e)?r:i)),this},a.set=function(t,e,n){return e.duration=0,e.parent=this,P(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Xe(t,e,G(this,n),1),this},a.call=function(t,e,n){return B(this,Xe.delayedCall(0,t,e),G(this,n))},a.staggerTo=function(t,e,n,i,r,o,s){return n.duration=e,n.stagger=n.stagger||i,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new Xe(t,n,G(this,r)),this},a.staggerFrom=function(t,e,n,i,r,o,s){return n.runBackwards=1,P(n).immediateRender=l(n.immediateRender),this.staggerTo(t,e,n,i,r,o,s)},a.staggerFromTo=function(t,e,n,i,r,o,s,a){return i.startAt=n,P(i).immediateRender=l(i.immediateRender),this.staggerTo(t,e,i,r,o,s,a)},a.render=function(t,e,n){var i,r,o,s,a,l,u,c,h,d,p,f,v=this._time,g=this._dirty?this.totalDuration():this._tDur,m=this._dur,y=this!==gt&&g-zt<t&&0<=t?g:t<zt?0:t,b=this._zTime<0!=t<0&&(this._initted||!m);if(y!==this._tTime||n||b){if(v!==this._time&&m&&(y+=this._time-v,t+=this._time-v),i=y,h=this._start,l=!(c=this._ts),b&&(m||(v=this._zTime),!t&&e||(this._zTime=t)),this._repeat){if(p=this._yoyo,a=m+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,n);if(i=w(y%a),y===g?(s=this._repeat,i=m):((s=~~(y/a))&&s===y/a&&(i=m,s--),m<i&&(i=m)),d=ge(this._tTime,a),!v&&this._tTime&&d!==s&&(d=s),p&&1&s&&(i=m-i,f=1),s!==d&&!this._lock){var A=p&&1&d,S=A===(p&&1&s);if(s<d&&(A=!A),v=A?0:m,this._lock=1,this.render(v||(f?0:w(s*a)),e,!m)._lock=0,!e&&this.parent&&Se(this,"onRepeat"),this.vars.repeatRefresh&&!f&&(this.invalidate()._lock=1),v&&v!==this._time||l!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(m=this._dur,g=this._tDur,S&&(this._lock=2,v=A?m:-1e-4,this.render(v,!0)),this._lock=0,!this._ts&&!l)return this;ct(this,f)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(t,e,n){var i;if(e<n)for(i=t._first;i&&i._start<=n;){if(!i._dur&&"isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=n;){if(!i._dur&&"isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,w(v),w(i)))&&(y-=i-(i=u._start)),this._tTime=y,this._time=i,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,v=0),v||!i||e||Se(this,"onStart"),v<=i&&0<=t)for(r=this._first;r;){if(o=r._next,(r._act||i>=r._start)&&r._ts&&u!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(0<r._ts?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!l){u=0,o&&(y+=this._zTime=-zt);break}}r=o}else{r=this._last;for(var E=t<0?t:i;r;){if(o=r._prev,(r._act||E<=r._end)&&r._ts&&u!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(0<r._ts?(E-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(E-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!l){u=0,o&&(y+=this._zTime=E?-zt:zt);break}}r=o}}if(u&&!e&&(this.pause(),u.render(v<=i?0:-zt)._zTime=v<=i?1:-1,this._ts))return this._start=h,H(this),this.render(t,e,n);this._onUpdate&&!e&&Se(this,"onUpdate",!0),(y===g&&g>=this.totalDuration()||!y&&v)&&(h!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||(!t&&m||!(y===g&&0<this._ts||!y&&this._ts<0)||I(this,1),e||t<0&&!v||!y&&!v||(Se(this,y===g?"onComplete":"onReverseComplete",!0),!this._prom||y<g&&0<this.timeScale()||this._prom())))}return this},a.add=function(t,e){var n=this;if(o(e)||(e=G(this,e)),!(t instanceof Ve)){if($t(t))return t.forEach((function(t){return n.add(t,e)})),this;if(i(t))return this.addLabel(t,e);if(!r(t))return this;t=Xe.delayedCall(0,t)}return this!==t?B(this,t,e):this},a.getChildren=function(t,e,n,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=-Wt);for(var r=[],o=this._first;o;)o._start>=i&&(o instanceof Xe?e&&r.push(o):(n&&r.push(o),t&&r.push.apply(r,o.getChildren(!0,e,n)))),o=o._next;return r},a.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},a.remove=function(t){return i(t)?this.removeLabel(t):r(t)?this.killTweensOf(t):(L(this,t),t===this._recent&&(this._recent=this._last),R(this))},a.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=w(Ce.time-(0<this._ts?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},a.addLabel=function(t,e){return this.labels[t]=G(this,e),this},a.removeLabel=function(t){return delete this.labels[t],this},a.addPause=function(t,e,n){var i=Xe.delayedCall(0,e||v,n);return i.data="isPause",this._hasPause=1,B(this,i,G(this,t))},a.removePause=function(t){var e=this._first;for(t=G(this,t);e;)e._start===t&&"isPause"===e.data&&I(e),e=e._next},a.killTweensOf=function(t,e,n){for(var i=this.getTweensOf(t,n),r=i.length;r--;)Ue!==i[r]&&i[r].kill(t,e);return this},a.getTweensOf=function(t,e){for(var n,i=[],r=we(t),s=this._first,a=o(e);s;)s instanceof Xe?A(s._targets,r)&&(a?(!Ue||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&i.push(s):(n=s.getTweensOf(r,e)).length&&i.push.apply(i,n),s=s._next;return i},a.tweenTo=function(t,e){e=e||{};var n=this,i=G(n,t),r=e.startAt,o=e.onStart,s=e.onStartParams,a=e.immediateRender,l=Xe.to(n,C({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(r&&"time"in r?r.time:n._time))/n.timeScale())||zt,onStart:function(){n.pause();var t=e.duration||Math.abs((i-n._time)/n.timeScale());l._dur!==t&&W(l,t,0,1).render(l._time,!0,!0),o&&o.apply(l,s||[])}},e));return a?l.render(0):l},a.tweenFromTo=function(t,e,n){return this.tweenTo(e,C({startAt:{time:G(this,t)}},n))},a.recent=function(){return this._recent},a.nextLabel=function(t){return void 0===t&&(t=this._time),nt(this,G(this,t))},a.previousLabel=function(t){return void 0===t&&(t=this._time),nt(this,G(this,t),1)},a.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+zt)},a.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var i,r=this._first,o=this.labels;r;)r._start>=n&&(r._start+=t,r._end+=t),r=r._next;if(e)for(i in o)o[i]>=n&&(o[i]+=t);return R(this)},a.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},a.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),R(this)},a.totalDuration=function(t){var e,n,i,r=0,o=this,s=o._last,a=Wt;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(i=o.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),a<(n=s._start)&&o._sort&&s._ts&&!o._lock?(o._lock=1,B(o,s,n-s._delay,1)._lock=0):a=n,n<0&&s._ts&&(r-=n,(!i&&!o._dp||i&&i.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-1/0),a=0),s._end>r&&s._ts&&(r=s._end),s=e;W(o,o===gt&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},s.updateRoot=function(t){if(gt._ts&&(x(gt,N(t,gt)),St=Ce.frame),Ce.frame>=de){de+=jt.autoSleep||120;var e=gt._first;if((!e||!e._ts)&&jt.autoSleep&&Ce._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Ce.sleep()}}},s}(Ve);function je(t,e,n,o,s,l){var u,c,h,d;if(ce[t]&&!1!==(u=new ce[t]).init(s,u.rawVars?e[t]:function(t,e,n,o,s){if(r(t)&&(t=Ge(t,s,e,n,o)),!a(t)||t.style&&t.nodeType||$t(t)||Zt(t))return i(t)?Ge(t,s,e,n,o):t;var l,u={};for(l in t)u[l]=Ge(t[l],s,e,n,o);return u}(e[t],o,s,l,n),n,o,l)&&(n._pt=c=new un(n._pt,s,t,0,1,u.render,u,0,u.priority),n!==Et))for(h=n._ptLookup[n._targets.indexOf(s)],d=u._props.length;d--;)h[u._props[d]]=c;return u}C(Be.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ue,We=function(t,e,n,o,s,a,l,u,c){r(o)&&(o=o(s||0,t,a));var h,p=t[e],f="get"!==n?n:r(p)?c?t[e.indexOf("set")||!r(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():p,v=r(p)?c?Qe:$e:Ze;if(i(o)&&(~o.indexOf("random(")&&(o=et(o)),"="===o.charAt(1)&&(o=parseFloat(f)+parseFloat(o.substr(2))*("-"===o.charAt(0)?-1:1)+(Y(f)||0))),f!==o)return isNaN(f*o)?(p||e in t||d(e,o),function(t,e,n,i,r,o,s){var a,l,u,c,h,d,p,f,v=new un(this._pt,t,e,0,1,rn,null,r),g=0,m=0;for(v.b=n,v.e=i,n+="",(p=~(i+="").indexOf("random("))&&(i=et(i)),o&&(o(f=[n,i],t,e),n=f[0],i=f[1]),l=n.match(ne)||[];a=ne.exec(i);)c=a[0],h=i.substring(g,a.index),u?u=(u+1)%5:"rgba("===h.substr(-5)&&(u=1),c!==l[m++]&&(d=parseFloat(l[m-1])||0,v._pt={_next:v._pt,p:h||1===m?h:",",s:d,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-d,m:u&&u<4?Math.round:0},g=ne.lastIndex);return v.c=g<i.length?i.substring(g,i.length):"",v.fp=s,(ie.test(i)||p)&&(v.e=0),this._pt=v}.call(this,t,e,f,o,v,u||jt.stringFilter,c)):(h=new un(this._pt,t,e,+f||0,o-(f||0),"boolean"==typeof p?nn:en,0,v),c&&(h.fp=c),l&&h.modifier(l,this,t),this._pt=h)},ze=function t(e,n){var i,r,o,s,a,u,c,h,d,p,f,v,y,b=e.vars,w=b.ease,A=b.startAt,S=b.immediateRender,x=b.lazy,T=b.onUpdate,_=b.onUpdateParams,k=b.callbackScope,M=b.runBackwards,P=b.yoyoEase,L=b.keyframes,R=b.autoRevert,D=e._dur,N=e._startAt,H=e._targets,V=e.parent,F=V&&"nested"===V.data?V.parent._targets:H,B="auto"===e._overwrite&&!vt,j=e.timeline;if(!j||L&&w||(w="none"),e._ease=Ie(w,Ut.ease),e._yEase=P?Le(Ie(!0===P?w:P,Ut.ease)):0,P&&e._yoyo&&!e._repeat&&(P=e._yEase,e._yEase=e._ease,e._ease=P),!j){if(v=(h=H[0]?m(H[0]).harness:0)&&b[h.prop],i=O(b,ae),N&&N.render(-1,!0).kill(),A)if(I(e._startAt=Xe.set(H,C({data:"isStart",overwrite:!1,parent:V,immediateRender:!0,lazy:l(x),startAt:null,delay:0,onUpdate:T,onUpdateParams:_,callbackScope:k,stagger:0},A))),S){if(0<n)R||(e._startAt=0);else if(D&&!(n<0&&N))return void(n&&(e._zTime=n))}else!1===R&&(e._startAt=0);else if(M&&D)if(N)R||(e._startAt=0);else if(n&&(S=!1),o=C({overwrite:!1,data:"isFromStart",lazy:S&&l(x),immediateRender:S,stagger:0,parent:V},i),v&&(o[h.prop]=v),I(e._startAt=Xe.set(H,o)),S){if(!n)return}else t(e._startAt,zt);for(e._pt=0,x=D&&l(x)||x&&!D,r=0;r<H.length;r++){if(c=(a=H[r])._gsap||g(H)[r]._gsap,e._ptLookup[r]=p={},ue[c.id]&&le.length&&E(),f=F===H?r:F.indexOf(a),h&&!1!==(d=new h).init(a,v||i,e,f,F)&&(e._pt=s=new un(e._pt,a,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(t){p[t]=s})),d.priority&&(u=1)),!h||v)for(o in i)ce[o]&&(d=je(o,i,e,f,a,F))?d.priority&&(u=1):p[o]=s=We.call(e,a,o,"get",i[o],f,F,0,b.stringFilter);e._op&&e._op[r]&&e.kill(a,e._op[r]),B&&e._pt&&(Ue=e,gt.killTweensOf(a,p,e.globalTime(0)),y=!e.parent,Ue=0),e._pt&&x&&(ue[c.id]=1)}u&&ln(e),e._onInit&&e._onInit(e)}e._from=!j&&!!b.runBackwards,e._onUpdate=T,e._initted=(!e._op||e._pt)&&!y},Ge=function(t,e,n,o,s){return r(t)?t.call(e,n,o,s):i(t)&&~t.indexOf("random(")?et(t):t},qe=fe+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Ye=(qe+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Xe=function(t){function r(e,i,r,s){var u;"number"==typeof i&&(r.duration=i,i=r,r=null);var h,d,f,m,y,b,A,S,E=(u=t.call(this,s?i:P(i),r)||this).vars,x=E.duration,T=E.delay,_=E.immediateRender,k=E.stagger,M=E.overwrite,O=E.keyframes,L=E.defaults,I=E.scrollTrigger,R=E.yoyoEase,D=u.parent,N=($t(e)||Zt(e)?o(e[0]):"length"in i)?[e]:we(e);if(u._targets=N.length?g(N):p("GSAP target "+e+" not found. https://greensock.com",!jt.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=M,O||k||c(x)||c(T)){if(i=u.vars,(h=u.timeline=new Be({data:"nested",defaults:L||{}})).kill(),h.parent=h._dp=n(u),h._start=0,O)C(h.vars.defaults,{ease:"none"}),O.forEach((function(t){return h.to(N,t,">")}));else{if(m=N.length,A=k?J(k):v,a(k))for(y in k)~qe.indexOf(y)&&((S=S||{})[y]=k[y]);for(d=0;d<m;d++){for(y in f={},i)Ye.indexOf(y)<0&&(f[y]=i[y]);f.stagger=0,R&&(f.yoyoEase=R),S&&ve(f,S),b=N[d],f.duration=+Ge(x,n(u),d,b,N),f.delay=(+Ge(T,n(u),d,b,N)||0)-u._delay,!k&&1===m&&f.delay&&(u._delay=T=f.delay,u._start+=T,f.delay=0),h.to(b,f,A(d,b,N))}h.duration()?x=T=0:u.timeline=0}x||u.duration(x=h.duration())}else u.timeline=0;return!0!==M||vt||(Ue=n(u),gt.killTweensOf(N),Ue=0),D&&F(D,n(u)),(_||!x&&!O&&u._start===w(D._time)&&l(_)&&function t(e){return!e||e._ts&&t(e.parent)}(n(u))&&"nested"!==D.data)&&(u._tTime=-zt,u.render(Math.max(0,-T))),I&&j(n(u),I),u}e(r,t);var s=r.prototype;return s.render=function(t,e,n){var i,r,o,s,a,l,u,c,h,d=this._time,p=this._tDur,f=this._dur,v=p-zt<t&&0<=t?p:t<zt?0:t;if(f){if(v!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(i=v,c=this.timeline,this._repeat){if(s=f+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,n);if(i=w(v%s),v===p?(o=this._repeat,i=f):((o=~~(v/s))&&o===v/s&&(i=f,o--),f<i&&(i=f)),(l=this._yoyo&&1&o)&&(h=this._yEase,i=f-i),a=ge(this._tTime,s),i===d&&!n&&this._initted)return this;o!==a&&(c&&this._yEase&&ct(c,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=n=1,this.render(w(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(U(this,t<0?t:i,n,e))return this._tTime=0,this;if(f!==this._dur)return this.render(t,e,n)}for(this._tTime=v,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(h||this._ease)(i/f),this._from&&(this.ratio=u=1-u),!i||d||e||Se(this,"onStart"),r=this._pt;r;)r.r(u,r.d),r=r._next;c&&c.render(t<0?t:!i&&l?-zt:c._dur*u,e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),Se(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!e&&this.parent&&Se(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),!t&&f||!(v===this._tDur&&0<this._ts||!v&&this._ts<0)||I(this,1),e||t<0&&!d||!v&&!d||(Se(this,v===p?"onComplete":"onReverseComplete",!0),!this._prom||v<p&&0<this.timeScale()||this._prom()))}}else!function(t,e,n,i){var r,o,s,a=t.ratio,l=e<0||!e&&(!t._start&&function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))}(t)||(t._ts<0||t._dp._ts<0)&&"isFromStart"!==t.data&&"isStart"!==t.data)?0:1,u=t._rDelay,c=0;if(u&&t._repeat&&(c=ye(0,t._tDur,e),o=ge(c,u),s=ge(t._tTime,u),t._yoyo&&1&o&&(l=1-l),o!==s&&(a=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==a||i||t._zTime===zt||!e&&t._zTime){if(!t._initted&&U(t,e,i,n))return;for(s=t._zTime,t._zTime=e||(n?zt:0),n=n||e&&!s,t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=c,r=t._pt;r;)r.r(l,r.d),r=r._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!n&&Se(t,"onUpdate"),c&&t._repeat&&!n&&t.parent&&Se(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&I(t,1),n||(Se(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},s.targets=function(){return this._targets},s.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},s.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?it(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Ue&&!0!==Ue.vars.overwrite)._first||it(this),this.parent&&n!==this.timeline.totalDuration()&&W(this,this._dur*this.timeline._tDur/n,0,1),this}var r,o,s,a,l,u,c,h=this._targets,d=t?we(t):h,p=this._ptLookup,f=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,i=n===e.length;i&&n--&&t[n]===e[n];);return n<0}(h,d))return"all"===e&&(this._pt=0),it(this);for(r=this._op=this._op||[],"all"!==e&&(i(e)&&(l={},b(e,(function(t){return l[t]=1})),e=l),e=function(t,e){var n,i,r,o,s=t[0]?m(t[0]).harness:0,a=s&&s.aliases;if(!a)return e;for(i in n=ve({},e),a)if(i in n)for(r=(o=a[i].split(",")).length;r--;)n[o[r]]=n[i];return n}(h,e)),c=h.length;c--;)if(~d.indexOf(h[c]))for(l in o=p[c],"all"===e?(r[c]=e,a=o,s={}):(s=r[c]=r[c]||{},a=e),a)(u=o&&o[l])&&("kill"in u.d&&!0!==u.d.kill(l)||L(this,u,"_pt"),delete o[l]),"all"!==s&&(s[l]=1);return this._initted&&!this._pt&&f&&it(this),this},r.to=function(t,e,n){return new r(t,e,n)},r.from=function(t,e){return new r(t,S(arguments,1))},r.delayedCall=function(t,e,n,i){return new r(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},r.fromTo=function(t,e,n){return new r(t,S(arguments,2))},r.set=function(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new r(t,e)},r.killTweensOf=function(t,e,n){return gt.killTweensOf(t,e,n)},r}(Ve);function Ke(t,e,n){return t.setAttribute(e,n)}function Je(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)}C(Xe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),b("staggerTo,staggerFrom,staggerFromTo",(function(t){Xe[t]=function(){var e=new Be,n=be.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var Ze=function(t,e,n){return t[e]=n},$e=function(t,e,n){return t[e](n)},Qe=function(t,e,n,i){return t[e](i.fp,n)},tn=function(t,e){return r(t[e])?$e:s(t[e])&&t.setAttribute?Ke:Ze},en=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},nn=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},rn=function(t,e){var n=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+i,n=n._next;i+=e.c}e.set(e.t,e.p,i,e)},on=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},sn=function(t,e,n,i){for(var r,o=this._pt;o;)r=o._next,o.p===i&&o.modifier(t,e,n),o=r},an=function(t){for(var e,n,i=this._pt;i;)n=i._next,i.p===t&&!i.op||i.op===t?L(this,i,"_pt"):i.dep||(e=1),i=n;return!e},ln=function(t){for(var e,n,i,r,o=t._pt;o;){for(e=o._next,n=i;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:r)?o._prev._next=o:i=o,(o._next=n)?n._prev=o:r=o,o=e}t._pt=i},un=(cn.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=Je,this.m=t,this.mt=n,this.tween=e},cn);function cn(t,e,n,i,r,o,s,a,l){this.t=e,this.s=i,this.c=r,this.p=n,this.r=o||en,this.d=s||this,this.set=a||Ze,this.pr=l||0,(this._next=t)&&(t._prev=this)}b(fe+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return ae[t]=1})),se.TweenMax=se.TweenLite=Xe,se.TimelineLite=se.TimelineMax=Be,gt=new Be({sortChildren:!1,defaults:Ut,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),jt.stringFilter=lt;var hn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return function(t){var e=(t=!t.name&&t.default||t).name,n=r(t),i=e&&!n&&t.init?function(){this._props=[]}:t,o={init:v,render:on,add:We,kill:an,modifier:sn,rawVars:0},s={targetTest:0,get:0,getSetter:tn,aliases:{},register:0};if(ke(),t!==i){if(ce[e])return;C(i,C(O(t,o),s)),ve(i.prototype,ve(o,O(t,s))),ce[i.prop=e]=i,t.targetTest&&(pe.push(i),ae[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}f(e,i),t.register&&t.register(fn,i,un)}(t)}))},timeline:function(t){return new Be(t)},getTweensOf:function(t,e){return gt.getTweensOf(t,e)},getProperty:function(t,e,n,r){i(t)&&(t=we(t)[0]);var o=m(t||{}).get,s=n?_:T;return"native"===n&&(n=""),t?e?s((ce[e]&&ce[e].get||o)(t,e,n,r)):function(e,n,i){return s((ce[e]&&ce[e].get||o)(t,e,n,i))}:t},quickSetter:function(t,e,n){if(1<(t=we(t)).length){var i=t.map((function(t){return fn.quickSetter(t,e,n)})),r=i.length;return function(t){for(var e=r;e--;)i[e](t)}}t=t[0]||{};var o=ce[e],s=m(t),a=s.harness&&(s.harness.aliases||{})[e]||e,l=o?function(e){var i=new o;Et._pt=0,i.init(t,n?e+n:e,Et,0,[t]),i.render(1,i),Et._pt&&on(1,Et)}:s.set(t,a);return o?l:function(e){return l(t,a,n?e+n:e,s,1)}},isTweening:function(t){return 0<gt.getTweensOf(t,!0).length},defaults:function(t){return t&&t.ease&&(t.ease=Ie(t.ease,Ut.ease)),M(Ut,t||{})},config:function(t){return M(jt,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,i=t.plugins,r=t.defaults,o=t.extendTimeline;(i||"").split(",").forEach((function(t){return t&&!ce[t]&&!se[t]&&p(e+" effect requires "+t+" plugin.")})),he[e]=function(t,e,i){return n(we(t),C(e||{},r),i)},o&&(Be.prototype[e]=function(t,n,i){return this.add(he[e](t,a(n)?n:(i=n)&&{},this),i)})},registerEase:function(t,e){Me[t]=Ie(e)},parseEase:function(t,e){return arguments.length?Ie(t,e):Me},getById:function(t){return gt.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,i,r=new Be(t);for(r.smoothChildTiming=l(t.smoothChildTiming),gt.remove(r),r._dp=0,r._time=r._tTime=gt._time,n=gt._first;n;)i=n._next,!e&&!n._dur&&n instanceof Xe&&n.vars.onComplete===n._targets[0]||B(r,n,n._start-n._delay),n=i;return B(gt,r,0),r},utils:{wrap:function t(e,n,i){var r=n-e;return $t(e)?tt(e,t(0,e.length),n):q(i,(function(t){return(r+(t-e)%r)%r+e}))},wrapYoyo:function t(e,n,i){var r=n-e,o=2*r;return $t(e)?tt(e,t(0,e.length-1),n):q(i,(function(t){return e+(r<(t=(o+(t-e)%o)%o||0)?o-t:t)}))},distribute:J,random:Q,snap:$,normalize:function(t,e,n){return Ae(t,e,0,1,n)},getUnit:Y,clamp:function(t,e,n){return q(n,(function(n){return ye(t,e,n)}))},splitColor:ot,toArray:we,mapRange:Ae,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||Y(n))}},interpolate:function t(e,n,r,o){var s=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!s){var a,l,u,c,h,d=i(e),p={};if(!0===r&&(o=1)&&(r=null),d)e={p:e},n={p:n};else if($t(e)&&!$t(n)){for(u=[],c=e.length,h=c-2,l=1;l<c;l++)u.push(t(e[l-1],e[l]));c--,s=function(t){t*=c;var e=Math.min(h,~~t);return u[e](t-e)},r=n}else o||(e=ve($t(e)?[]:{},e));if(!u){for(a in n)We.call(p,e,a,"get",n[a]);s=function(t){return on(t,p)||(d?e.p:e)}}}return q(r,s)},shuffle:K},install:h,effects:he,ticker:Ce,updateRoot:Be.updateRoot,plugins:ce,globalTimeline:gt,core:{PropTween:un,globals:f,Tween:Xe,Timeline:Be,Animation:Ve,getCache:m,_removeLinkedListItem:L,suppressOverwrites:function(t){return vt=t}}};function dn(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n}function pn(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,o;if(i(n)&&(r={},b(n,(function(t){return r[t]=1})),n=r),e){for(o in r={},n)r[o]=e(n[o]);n=r}!function(t,e){var n,i,r,o=t._targets;for(n in e)for(i=o.length;i--;)(r=(r=t._ptLookup[i][n])&&r.d)&&(r._pt&&(r=dn(r,n)),r&&r.modifier&&r.modifier(e[n],t,o[i],n))}(t,n)}}}}b("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return hn[t]=Xe[t]})),Ce.add(Be.updateRoot),Et=hn.to({},{duration:0});var fn=hn.registerPlugin({name:"attr",init:function(t,e,n,i,r){var o,s;for(o in e)(s=this.add(t,"setAttribute",(t.getAttribute(o)||0)+"",e[o],i,r,0,0,o))&&(s.op=o),this._props.push(o)}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n])}},pn("roundProps",Z),pn("modifiers"),pn("snap",$))||hn;function vn(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function gn(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function mn(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function yn(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)}function bn(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function wn(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function An(t,e,n){return t.style[e]=n}function Sn(t,e,n){return t.style.setProperty(e,n)}function En(t,e,n){return t._gsap[e]=n}function xn(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n}function Tn(t,e,n,i,r){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(r,o)}function _n(t,e,n,i,r){var o=t._gsap;o[e]=n,o.renderTransform(r,o)}function Cn(t,e){var n=Jn.createElementNS?Jn.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Jn.createElement(t);return n.style?n:Jn.createElement(t)}function kn(t,e,n){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(xi,"-$1").toLowerCase())||i.getPropertyValue(e)||!n&&kn(t,Pi(e)||e,1)||""}function Mn(){"undefined"!=typeof window&&window.document&&(Kn=window,Jn=Kn.document,Zn=Jn.documentElement,Qn=Cn("div")||{style:{}},Cn("div"),ki=Pi(ki),Mi=ki+"Origin",Qn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ei=!!Pi("perspective"),$n=1)}function On(t){var e,n=Cn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(Zn.appendChild(n),n.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=On}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),Zn.removeChild(n),this.style.cssText=o,e}function Pn(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])}function Ln(t){var e;try{e=t.getBBox()}catch(n){e=On.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===On||(e=On.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Pn(t,["x","cx","x1"])||0,y:+Pn(t,["y","cy","y1"])||0,width:0,height:0}}function In(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Ln(t))}function Rn(t,e){if(e){var n=t.style;e in wi&&e!==Mi&&(e=ki),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(xi,"-$1").toLowerCase())):n.removeAttribute(e)}}function Dn(t,e,n,i,r,o){var s=new un(t._pt,e,n,0,1,o?wn:bn);return(t._pt=s).b=i,s.e=r,t._props.push(n),s}function Nn(t,e,n,i){var r,o,s,a,l=parseFloat(n)||0,u=(n+"").trim().substr((l+"").length)||"px",c=Qn.style,h=Ti.test(e),d="svg"===t.tagName.toLowerCase(),p=(d?"client":"offset")+(h?"Width":"Height"),f="px"===i,v="%"===i;return i===u||!l||Li[i]||Li[u]?l:("px"===u||f||(l=Nn(t,e,n,"px")),a=t.getCTM&&In(t),!v&&"%"!==u||!wi[e]&&!~e.indexOf("adius")?(c[h?"width":"height"]=100+(f?u:i),o=~e.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,a&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==Jn&&o.appendChild||(o=Jn.body),(s=o._gsap)&&v&&s.width&&h&&s.time===Ce.time?w(l/s.width*100):(!v&&"%"!==u||(c.position=kn(t,"position")),o===t&&(c.position="static"),o.appendChild(Qn),r=Qn[p],o.removeChild(Qn),c.position="absolute",h&&v&&((s=m(o)).time=Ce.time,s.width=o[p]),w(f?r*l/100:r&&l?100/r*l:0))):(r=a?t.getBBox()[h?"width":"height"]:t[p],w(v?l/r*100:l/100*r)))}function Hn(t,e,n,i){var r;return $n||Mn(),e in Ci&&"transform"!==e&&~(e=Ci[e]).indexOf(",")&&(e=e.split(",")[0]),wi[e]&&"transform"!==e?(r=Hi(t,i),r="transformOrigin"!==e?r[e]:Vi(kn(t,Mi))+" "+r.zOrigin+"px"):(r=t.style[e])&&"auto"!==r&&!i&&!~(r+"").indexOf("calc(")||(r=Ri[e]&&Ri[e](t,e,n)||kn(t,e)||y(t,e)||("opacity"===e?1:0)),n&&!~(r+"").trim().indexOf(" ")?Nn(t,e,r,n)+n:r}function Vn(t,e,n,i){if(!n||"none"===n){var r=Pi(e,t,1),o=r&&kn(t,r,1);o&&o!==n?(e=r,n=o):"borderColor"===e&&(n=kn(t,"borderTopColor"))}var s,a,l,u,c,h,d,p,f,v,g,m,y=new un(this._pt,t.style,e,0,1,rn),b=0,w=0;if(y.b=n,y.e=i,n+="","auto"==(i+="")&&(t.style[e]=i,i=kn(t,e)||i,t.style[e]=n),lt(s=[n,i]),i=s[1],l=(n=s[0]).match(ee)||[],(i.match(ee)||[]).length){for(;a=ee.exec(i);)d=a[0],f=i.substring(b,a.index),c?c=(c+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(c=1),d!==(h=l[w++]||"")&&(u=parseFloat(h)||0,g=h.substr((u+"").length),(m="="===d.charAt(1)?+(d.charAt(0)+"1"):0)&&(d=d.substr(2)),p=parseFloat(d),v=d.substr((p+"").length),b=ee.lastIndex-v.length,v||(v=v||jt.units[e]||g,b===i.length&&(i+=v,y.e+=v)),g!==v&&(u=Nn(t,e,h,v)||0),y._pt={_next:y._pt,p:f||1===w?f:",",s:u,c:m?m*p:p-u,m:c&&c<4||"zIndex"===e?Math.round:0});y.c=b<i.length?i.substring(b,i.length):""}else y.r="display"===e&&"none"===i?wn:bn;return ie.test(i)&&(y.e=0),this._pt=y}function Fn(t){var e=t.split(" "),n=e[0],i=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==i&&"right"!==i||(t=n,n=i,i=t),e[0]=Ii[n]||n,e[1]=Ii[i]||i,e.join(" ")}function Bn(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,i,r,o=e.t,s=o.style,a=e.u,l=o._gsap;if("all"===a||!0===a)s.cssText="",i=1;else for(r=(a=a.split(",")).length;-1<--r;)n=a[r],wi[n]&&(i=1,n="transformOrigin"===n?Mi:ki),Rn(o,n);i&&(Rn(o,ki),l&&(l.svg&&o.removeAttribute("transform"),Hi(o,1),l.uncache=1))}}function jn(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function Un(t){var e=kn(t,ki);return jn(e)?Di:e.substr(7).match(te).map(w)}function Wn(t,e){var n,i,r,o,s=t._gsap||m(t),a=t.style,l=Un(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?Di:l:(l!==Di||t.offsetParent||t===Zn||s.svg||(r=a.display,a.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,i=t.nextSibling,Zn.appendChild(t)),l=Un(t),r?a.display=r:Rn(t,"display"),o&&(i?n.insertBefore(t,i):n?n.appendChild(t):Zn.removeChild(t))),e&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)}function zn(t,e,n,i,r,o){var s,a,l,u=t._gsap,c=r||Wn(t,!0),h=u.xOrigin||0,d=u.yOrigin||0,p=u.xOffset||0,f=u.yOffset||0,v=c[0],g=c[1],m=c[2],y=c[3],b=c[4],w=c[5],A=e.split(" "),S=parseFloat(A[0])||0,E=parseFloat(A[1])||0;n?c!==Di&&(a=v*y-g*m)&&(l=S*(-g/a)+E*(v/a)-(v*w-g*b)/a,S=S*(y/a)+E*(-m/a)+(m*w-y*b)/a,E=l):(S=(s=Ln(t)).x+(~A[0].indexOf("%")?S/100*s.width:S),E=s.y+(~(A[1]||A[0]).indexOf("%")?E/100*s.height:E)),i||!1!==i&&u.smooth?(b=S-h,w=E-d,u.xOffset=p+(b*v+w*m)-b,u.yOffset=f+(b*g+w*y)-w):u.xOffset=u.yOffset=0,u.xOrigin=S,u.yOrigin=E,u.smooth=!!i,u.origin=e,u.originIsAbsolute=!!n,t.style[Mi]="0px 0px",o&&(Dn(o,u,"xOrigin",h,S),Dn(o,u,"yOrigin",d,E),Dn(o,u,"xOffset",p,u.xOffset),Dn(o,u,"yOffset",f,u.yOffset)),t.setAttribute("data-svg-origin",S+" "+E)}function Gn(t,e,n){var i=Y(e);return w(parseFloat(e)+parseFloat(Nn(t,"x",n+"px",i)))+i}function qn(t,e,n,r,o,s){var a,l,u=360,c=i(o),h=parseFloat(o)*(c&&~o.indexOf("rad")?Ai:1),d=s?h*s:h-r,p=r+d+"deg";return c&&("short"===(a=o.split("_")[1])&&(d%=u)!=d%180&&(d+=d<0?u:-u),"cw"===a&&d<0?d=(d+36e9)%u-~~(d/u)*u:"ccw"===a&&0<d&&(d=(d-36e9)%u-~~(d/u)*u)),t._pt=l=new un(t._pt,e,n,r,d,gn),l.e=p,l.u="deg",t._props.push(n),l}function Yn(t,e){for(var n in e)t[n]=e[n];return t}function Xn(t,e,n){var i,r,o,s,a,l,u,c=Yn({},n._gsap),h=n.style;for(r in c.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),h[ki]=e,i=Hi(n,1),Rn(n,ki),n.setAttribute("transform",o)):(o=getComputedStyle(n)[ki],h[ki]=e,i=Hi(n,1),h[ki]=o),wi)(o=c[r])!==(s=i[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(a=Y(o)!==(u=Y(s))?Nn(n,r,o,u):parseFloat(o),l=parseFloat(s),t._pt=new un(t._pt,i,r,a,l-a,vn),t._pt.u=u||0,t._props.push(r));Yn(i,c)}Xe.version=Be.version=fn.version="3.6.1",At=1,u()&&ke();var Kn,Jn,Zn,$n,Qn,ti,ei,ni=Me.Power0,ii=Me.Power1,ri=Me.Power2,oi=Me.Power3,si=Me.Power4,ai=Me.Linear,li=Me.Quad,ui=Me.Cubic,ci=Me.Quart,hi=Me.Quint,di=Me.Strong,pi=Me.Elastic,fi=Me.Back,vi=Me.SteppedEase,gi=Me.Bounce,mi=Me.Sine,yi=Me.Expo,bi=Me.Circ,wi={},Ai=180/Math.PI,Si=Math.PI/180,Ei=Math.atan2,xi=/([A-Z])/g,Ti=/(?:left|right|width|margin|padding|x)/i,_i=/[\s,\(]\S/,Ci={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ki="transform",Mi=ki+"Origin",Oi="O,Moz,ms,Ms,Webkit".split(","),Pi=function(t,e,n){var i=(e||Qn).style,r=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(Oi[r]+t in i););return r<0?null:(3===r?"ms":0<=r?Oi[r]:"")+t},Li={deg:1,rad:1,turn:1},Ii={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ri={clearProps:function(t,e,n,i,r){if("isFromStart"!==r.data){var o=t._pt=new un(t._pt,e,n,0,0,Bn);return o.u=i,o.pr=-10,o.tween=r,t._props.push(n),1}}},Di=[1,0,0,1,0,0],Ni={},Hi=function(t,e){var n=t._gsap||new He(t);if("x"in n&&!e&&!n.uncache)return n;var i,r,o,s,a,l,u,c,h,d,p,f,v,g,m,y,b,A,S,E,x,T,_,C,k,M,O,P,L,I,R,D,N=t.style,H=n.scaleX<0,V="deg",F=kn(t,Mi)||"0";return i=r=o=l=u=c=h=d=p=0,s=a=1,n.svg=!(!t.getCTM||!In(t)),g=Wn(t,n.svg),n.svg&&(C=!n.uncache&&!e&&t.getAttribute("data-svg-origin"),zn(t,C||F,!!C||n.originIsAbsolute,!1!==n.smooth,g)),f=n.xOrigin||0,v=n.yOrigin||0,g!==Di&&(A=g[0],S=g[1],E=g[2],x=g[3],i=T=g[4],r=_=g[5],6===g.length?(s=Math.sqrt(A*A+S*S),a=Math.sqrt(x*x+E*E),l=A||S?Ei(S,A)*Ai:0,(h=E||x?Ei(E,x)*Ai+l:0)&&(a*=Math.abs(Math.cos(h*Si))),n.svg&&(i-=f-(f*A+v*E),r-=v-(f*S+v*x))):(D=g[6],I=g[7],O=g[8],P=g[9],L=g[10],R=g[11],i=g[12],r=g[13],o=g[14],u=(m=Ei(D,L))*Ai,m&&(C=T*(y=Math.cos(-m))+O*(b=Math.sin(-m)),k=_*y+P*b,M=D*y+L*b,O=T*-b+O*y,P=_*-b+P*y,L=D*-b+L*y,R=I*-b+R*y,T=C,_=k,D=M),c=(m=Ei(-E,L))*Ai,m&&(y=Math.cos(-m),R=x*(b=Math.sin(-m))+R*y,A=C=A*y-O*b,S=k=S*y-P*b,E=M=E*y-L*b),l=(m=Ei(S,A))*Ai,m&&(C=A*(y=Math.cos(m))+S*(b=Math.sin(m)),k=T*y+_*b,S=S*y-A*b,_=_*y-T*b,A=C,T=k),u&&359.9<Math.abs(u)+Math.abs(l)&&(u=l=0,c=180-c),s=w(Math.sqrt(A*A+S*S+E*E)),a=w(Math.sqrt(_*_+D*D)),m=Ei(T,_),h=2e-4<Math.abs(m)?m*Ai:0,p=R?1/(R<0?-R:R):0),n.svg&&(C=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!jn(kn(t,ki)),C&&t.setAttribute("transform",C))),90<Math.abs(h)&&Math.abs(h)<270&&(H?(s*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),n.x=i-((n.xPercent=i&&(n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+"px",n.y=r-((n.yPercent=r&&(n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+"px",n.z=o+"px",n.scaleX=w(s),n.scaleY=w(a),n.rotation=w(l)+V,n.rotationX=w(u)+V,n.rotationY=w(c)+V,n.skewX=h+V,n.skewY=d+V,n.transformPerspective=p+"px",(n.zOrigin=parseFloat(F.split(" ")[2])||0)&&(N[Mi]=Vi(F)),n.xOffset=n.yOffset=0,n.force3D=jt.force3D,n.renderTransform=n.svg?zi:ei?Wi:Fi,n.uncache=0,n},Vi=function(t){return(t=t.split(" "))[0]+" "+t[1]},Fi=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Wi(t,e)},Bi="0deg",ji="0px",Ui=") ",Wi=function(t,e){var n=e||this,i=n.xPercent,r=n.yPercent,o=n.x,s=n.y,a=n.z,l=n.rotation,u=n.rotationY,c=n.rotationX,h=n.skewX,d=n.skewY,p=n.scaleX,f=n.scaleY,v=n.transformPerspective,g=n.force3D,m=n.target,y=n.zOrigin,b="",w="auto"===g&&t&&1!==t||!0===g;if(y&&(c!==Bi||u!==Bi)){var A,S=parseFloat(u)*Si,E=Math.sin(S),x=Math.cos(S);S=parseFloat(c)*Si,o=Gn(m,o,E*(A=Math.cos(S))*-y),s=Gn(m,s,-Math.sin(S)*-y),a=Gn(m,a,x*A*-y+y)}v!==ji&&(b+="perspective("+v+Ui),(i||r)&&(b+="translate("+i+"%, "+r+"%) "),!w&&o===ji&&s===ji&&a===ji||(b+=a!==ji||w?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+Ui),l!==Bi&&(b+="rotate("+l+Ui),u!==Bi&&(b+="rotateY("+u+Ui),c!==Bi&&(b+="rotateX("+c+Ui),h===Bi&&d===Bi||(b+="skew("+h+", "+d+Ui),1===p&&1===f||(b+="scale("+p+", "+f+Ui),m.style[ki]=b||"translate(0, 0)"},zi=function(t,e){var n,i,r,o,s,a=e||this,l=a.xPercent,u=a.yPercent,c=a.x,h=a.y,d=a.rotation,p=a.skewX,f=a.skewY,v=a.scaleX,g=a.scaleY,m=a.target,y=a.xOrigin,b=a.yOrigin,A=a.xOffset,S=a.yOffset,E=a.forceCSS,x=parseFloat(c),T=parseFloat(h);d=parseFloat(d),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),d+=f),d||p?(d*=Si,p*=Si,n=Math.cos(d)*v,i=Math.sin(d)*v,r=Math.sin(d-p)*-g,o=Math.cos(d-p)*g,p&&(f*=Si,s=Math.tan(p-f),r*=s=Math.sqrt(1+s*s),o*=s,f&&(s=Math.tan(f),n*=s=Math.sqrt(1+s*s),i*=s)),n=w(n),i=w(i),r=w(r),o=w(o)):(n=v,o=g,i=r=0),(x&&!~(c+"").indexOf("px")||T&&!~(h+"").indexOf("px"))&&(x=Nn(m,"x",c,"px"),T=Nn(m,"y",h,"px")),(y||b||A||S)&&(x=w(x+y-(y*n+b*r)+A),T=w(T+b-(y*i+b*o)+S)),(l||u)&&(x=w(x+l/100*(s=m.getBBox()).width),T=w(T+u/100*s.height)),s="matrix("+n+","+i+","+r+","+o+","+x+","+T+")",m.setAttribute("transform",s),E&&(m.style[ki]=s)};b("padding,margin,Width,Radius",(function(t,e){var n="Right",i="Bottom",r="Left",o=(e<3?["Top",n,i,r]:["Top"+r,"Top"+n,i+n,i+r]).map((function(n){return e<2?t+n:"border"+n+t}));Ri[1<e?"border"+t:t]=function(t,e,n,i,r){var s,a;if(arguments.length<4)return s=o.map((function(e){return Hn(t,e,n)})),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(i+"").split(" "),a={},o.forEach((function(t,e){return a[t]=s[e]=s[e]||s[(e-1)/2|0]})),t.init(e,a,r)}}));var Gi,qi,Yi,Xi={name:"css",register:Mn,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,i,r){var o,s,a,l,u,c,h,p,f,v,g,m,y,b,w,A=this._props,S=t.style,E=n.vars.startAt;for(h in $n||Mn(),e)if("autoRound"!==h&&(s=e[h],!ce[h]||!je(h,e,n,i,t,r)))if(u=typeof s,c=Ri[h],"function"===u&&(u=typeof(s=s.call(n,i,t,r))),"string"===u&&~s.indexOf("random(")&&(s=et(s)),c)c(this,t,h,s,n)&&(w=1);else if("--"===h.substr(0,2))o=(getComputedStyle(t).getPropertyValue(h)+"").trim(),s+="",Te.lastIndex=0,Te.test(o)||(p=Y(o),f=Y(s)),f?p!==f&&(o=Nn(t,h,o,f)+f):p&&(s+=p),this.add(S,"setProperty",o,s,i,r,0,0,h);else if("undefined"!==u){if(E&&h in E?(o="function"==typeof E[h]?E[h].call(n,i,t,r):E[h],h in jt.units&&!Y(o)&&(o+=jt.units[h]),"="===(o+"").charAt(1)&&(o=Hn(t,h))):o=Hn(t,h),l=parseFloat(o),(v="string"===u&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),a=parseFloat(s),h in Ci&&("autoAlpha"===h&&(1===l&&"hidden"===Hn(t,"visibility")&&a&&(l=0),Dn(this,S,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=Ci[h]).indexOf(",")&&(h=h.split(",")[0])),g=h in wi)if(m||((y=t._gsap).renderTransform&&!e.parseTransform||Hi(t,e.parseTransform),b=!1!==e.smoothOrigin&&y.smooth,(m=this._pt=new un(this._pt,S,ki,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===h)this._pt=new un(this._pt,y,"scaleY",y.scaleY,v?v*a:a-y.scaleY),A.push("scaleY",h),h+="X";else{if("transformOrigin"===h){s=Fn(s),y.svg?zn(t,s,0,b,0,this):((f=parseFloat(s.split(" ")[2])||0)!==y.zOrigin&&Dn(this,y,"zOrigin",y.zOrigin,f),Dn(this,S,h,Vi(o),Vi(s)));continue}if("svgOrigin"===h){zn(t,s,1,b,0,this);continue}if(h in Ni){qn(this,y,h,l,s,v);continue}if("smoothOrigin"===h){Dn(this,y,"smooth",y.smooth,s);continue}if("force3D"===h){y[h]=s;continue}if("transform"===h){Xn(this,s,t);continue}}else h in S||(h=Pi(h)||h);if(g||(a||0===a)&&(l||0===l)&&!_i.test(s)&&h in S)a=a||0,(p=(o+"").substr((l+"").length))!==(f=Y(s)||(h in jt.units?jt.units[h]:p))&&(l=Nn(t,h,o,f)),this._pt=new un(this._pt,g?y:S,h,l,v?v*a:a-l,g||"px"!==f&&"zIndex"!==h||!1===e.autoRound?vn:yn),this._pt.u=f||0,p!==f&&(this._pt.b=o,this._pt.r=mn);else if(h in S)Vn.call(this,t,h,o,s);else{if(!(h in t)){d(h,s);continue}this.add(t,h,t[h],s,i,r)}A.push(h)}w&&ln(this)},get:Hn,aliases:Ci,getSetter:function(t,e,n){var i=Ci[e];return i&&i.indexOf(",")<0&&(e=i),e in wi&&e!==Mi&&(t._gsap.x||Hn(t,"x"))?n&&ti===n?"scale"===e?xn:En:(ti=n||{})&&("scale"===e?Tn:_n):t.style&&!s(t.style[e])?An:~e.indexOf("-")?Sn:tn(t,e)},core:{_removeProperty:Rn,_getMatrix:Wn}};fn.utils.checkPrefix=Pi,Yi=b((Gi="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(qi="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){wi[t]=1})),b(qi,(function(t){jt.units[t]="deg",Ni[t]=1})),Ci[Yi[13]]=Gi+","+qi,b("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Ci[e[1]]=Yi[e[0]]})),b("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){jt.units[t]="px"})),fn.registerPlugin(Xi);var Ki=fn.registerPlugin(Xi)||fn,Ji=Ki.core.Tween;t.Back=fi,t.Bounce=gi,t.CSSPlugin=Xi,t.Circ=bi,t.Cubic=ui,t.Elastic=pi,t.Expo=yi,t.Linear=ai,t.Power0=ni,t.Power1=ii,t.Power2=ri,t.Power3=oi,t.Power4=si,t.Quad=li,t.Quart=ci,t.Quint=hi,t.Sine=mi,t.SteppedEase=vi,t.Strong=di,t.TimelineLite=Be,t.TimelineMax=Be,t.TweenLite=Xe,t.TweenMax=Ji,t.default=Ki,t.gsap=Ki,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}(e)},6138:function(t,e,n){var i;
/**
 * @license
 * lodash 3.10.1 (Custom Build) <https://lodash.com/>
 * Build: `lodash modern -o ./lodash.js`
 * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <https://lodash.com/license>
 */t=n.nmd(t),function(){var r,o,s,a=32,l=64,u=128,c=256,h=200,d="Expected a function",p="__lodash_placeholder__",f="[object Arguments]",v="[object Array]",g="[object Boolean]",m="[object Date]",y="[object Error]",b="[object Function]",w="[object Map]",A="[object Number]",S="[object Object]",E="[object RegExp]",x="[object Set]",T="[object String]",_="[object WeakMap]",C="[object ArrayBuffer]",k="[object Float32Array]",M="[object Float64Array]",O="[object Int8Array]",P="[object Int16Array]",L="[object Int32Array]",I="[object Uint8Array]",R="[object Uint8ClampedArray]",D="[object Uint16Array]",N="[object Uint32Array]",H=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,F=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/&(?:amp|lt|gt|quot|#39|#96);/g,j=/[&<>"'`]/g,U=RegExp(B.source),W=RegExp(j.source),z=/<%-([\s\S]+?)%>/g,G=/<%([\s\S]+?)%>/g,q=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,X=/^\w*$/,K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,J=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Z=RegExp(J.source),$=/[\u0300-\u036f\ufe20-\ufe23]/g,Q=/\\(\\)?/g,tt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,et=/\w*$/,nt=/^0[xX]/,it=/^\[object .+?Constructor\]$/,rt=/^\d+$/,ot=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,st=/($^)/,at=/['\n\r\u2028\u2029\\]/g,lt=(o="[A-Z\\xc0-\\xd6\\xd8-\\xde]",s="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(o+"+(?="+o+s+")|"+o+"?"+s+"|"+o+"+|[0-9]+","g")),ut=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],ct=-1,ht={};ht[k]=ht[M]=ht[O]=ht[P]=ht[L]=ht[I]=ht[R]=ht[D]=ht[N]=!0,ht[f]=ht[v]=ht[C]=ht[g]=ht[m]=ht[y]=ht[b]=ht[w]=ht[A]=ht[S]=ht[E]=ht[x]=ht[T]=ht[_]=!1;var dt={};dt[f]=dt[v]=dt[C]=dt[g]=dt[m]=dt[k]=dt[M]=dt[O]=dt[P]=dt[L]=dt[A]=dt[S]=dt[E]=dt[T]=dt[I]=dt[R]=dt[D]=dt[N]=!0,dt[y]=dt[b]=dt[w]=dt[x]=dt[_]=!1;var pt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},ft={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},vt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},gt={function:!0,object:!0},mt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},yt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bt=gt[typeof e]&&e&&!e.nodeType&&e,wt=gt.object&&t&&!t.nodeType&&t,At=bt&&wt&&"object"==typeof n.g&&n.g&&n.g.Object&&n.g,St=gt[typeof self]&&self&&self.Object&&self,Et=gt[typeof window]&&window&&window.Object&&window,xt=(wt&&wt.exports,At||Et!==(this&&this.window)&&Et||St||this);function Tt(t,e){if(t!==e){var n=null===t,i=t===r,o=t==t,s=null===e,a=e===r,l=e==e;if(t>e&&!s||!o||n&&!a&&l||i&&l)return 1;if(t<e&&!n||!l||s&&!i&&o||a&&o)return-1}return 0}function _t(t,e,n){for(var i=t.length,r=n?i:-1;n?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function Ct(t,e,n){if(e!=e)return Ht(t,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function kt(t){return"function"==typeof t||!1}function Mt(t){return null==t?"":t+""}function Ot(t,e){for(var n=-1,i=t.length;++n<i&&e.indexOf(t.charAt(n))>-1;);return n}function Pt(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function Lt(t,e){return Tt(t.criteria,e.criteria)||t.index-e.index}function It(t){return pt[t]}function Rt(t){return ft[t]}function Dt(t,e,n){return e?t=mt[t]:n&&(t=yt[t]),"\\"+t}function Nt(t){return"\\"+yt[t]}function Ht(t,e,n){for(var i=t.length,r=e+(n?0:-1);n?r--:++r<i;){var o=t[r];if(o!=o)return r}return-1}function Vt(t){return!!t&&"object"==typeof t}function Ft(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function Bt(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;)t[n]===e&&(t[n]=p,o[++r]=n);return o}function jt(t){for(var e=-1,n=t.length;++e<n&&Ft(t.charCodeAt(e)););return e}function Ut(t){for(var e=t.length;e--&&Ft(t.charCodeAt(e)););return e}function Wt(t){return vt[t]}var zt=function t(e){var n=(e=e?zt.defaults(xt.Object(),e,zt.pick(xt,ut)):xt).Array,i=e.Date,o=e.Error,s=e.Function,w=e.Math,x=e.Number,_=e.Object,pt=e.RegExp,ft=e.String,vt=e.TypeError,gt=n.prototype,mt=_.prototype,yt=ft.prototype,bt=s.prototype.toString,wt=mt.hasOwnProperty,At=0,St=mt.toString,Et=xt._,Ft=pt("^"+bt.call(wt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gt=e.ArrayBuffer,qt=e.clearTimeout,Yt=e.parseFloat,Xt=w.pow,Kt=mt.propertyIsEnumerable,Jt=li(e,"Set"),Zt=e.setTimeout,$t=gt.splice,Qt=e.Uint8Array,te=li(e,"WeakMap"),ee=w.ceil,ne=li(_,"create"),ie=w.floor,re=li(n,"isArray"),oe=e.isFinite,se=li(_,"keys"),ae=w.max,le=w.min,ue=li(i,"now"),ce=e.parseInt,he=w.random,de=x.NEGATIVE_INFINITY,pe=x.POSITIVE_INFINITY,fe=4294967295,ve=9007199254740991,ge=te&&new te,me={};function ye(t){if(Vt(t)&&!Hr(t)&&!(t instanceof Ae)){if(t instanceof we)return t;if(wt.call(t,"__chain__")&&wt.call(t,"__wrapped__"))return Ci(t)}return new we(t)}function be(){}function we(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Ae(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=pe,this.__views__=[]}function Se(){this.__data__={}}function Ee(t){var e=t?t.length:0;for(this.data={hash:ne(null),set:new Jt};e--;)this.push(t[e])}function xe(t,e){var n=t.data;return("string"==typeof e||jr(e)?n.set.has(e):n.hash[e])?0:-1}function Te(t,e){var i=-1,r=t.length;for(e||(e=n(r));++i<r;)e[i]=t[i];return e}function _e(t,e){for(var n=-1,i=t.length;++n<i&&!1!==e(t[n],n,t););return t}function Ce(t,e){for(var n=-1,i=t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function ke(t,e){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[++r]=s)}return o}function Me(t,e){for(var i=-1,r=t.length,o=n(r);++i<r;)o[i]=e(t[i],i,t);return o}function Oe(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function Pe(t,e,n,i){var r=-1,o=t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function Le(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function Ie(t,e,n,i){return t!==r&&wt.call(i,n)?t:e}function Re(t,e,n){for(var i=-1,o=lo(e),s=o.length;++i<s;){var a=o[i],l=t[a],u=n(l,e[a],a,t,e);((u==u?u!==l:l==l)||l===r&&!(a in t))&&(t[a]=u)}return t}function De(t,e){return null==e?t:He(e,lo(e),t)}function Ne(t,e){for(var i=-1,o=null==t,s=!o&&ci(t),a=s?t.length:0,l=e.length,u=n(l);++i<l;){var c=e[i];u[i]=s?hi(c,a)?t[c]:r:o?r:t[c]}return u}function He(t,e,n){n||(n={});for(var i=-1,r=e.length;++i<r;){var o=e[i];n[o]=t[o]}return n}function Ve(t,e,n){var i=typeof t;return"function"==i?e===r?t:En(t,e,n):null==t?Mo:"object"==i?sn(t):e===r?Do(t):an(t,e)}function Fe(t,e,n,i,o,s,a){var l;if(n&&(l=o?n(t,i,o):n(t)),l!==r)return l;if(!jr(t))return t;var u=Hr(t);if(u){if(l=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&wt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return Te(t,l)}else{var c=St.call(t),h=c==b;if(c!=S&&c!=f&&(!h||o))return dt[c]?function(t,e,n){var i=t.constructor;switch(e){case C:return xn(t);case g:case m:return new i(+t);case k:case M:case O:case P:case L:case I:case R:case D:case N:var r=t.buffer;return new i(n?xn(r):r,t.byteOffset,t.length);case A:case T:return new i(t);case E:var o=new i(t.source,et.exec(t));o.lastIndex=t.lastIndex}return o}(t,c,e):o?t:{};if(l=function(t){var e=t.constructor;"function"==typeof e&&e instanceof e||(e=_);return new e}(h?{}:t),!e)return De(l,t)}s||(s=[]),a||(a=[]);for(var d=s.length;d--;)if(s[d]==t)return a[d];return s.push(t),a.push(l),(u?_e:$e)(t,(function(i,r){l[r]=Fe(i,e,n,r,t,s,a)})),l}ye.support={},ye.templateSettings={escape:z,evaluate:G,interpolate:q,variable:"",imports:{_:ye}};var Be=function(){function t(){}return function(e){if(jr(e)){t.prototype=e;var n=new t;t.prototype=r}return n||{}}}();function je(t,e,n){if("function"!=typeof t)throw new vt(d);return Zt((function(){t.apply(r,n)}),e)}function Ue(t,e){var n=t?t.length:0,i=[];if(!n)return i;var r=-1,o=oi(),s=o===Ct,a=s&&e.length>=h?Pn(e):null,l=e.length;a&&(o=xe,s=!1,e=a);t:for(;++r<n;){var u=t[r];if(s&&u==u){for(var c=l;c--;)if(e[c]===u)continue t;i.push(u)}else o(e,u,0)<0&&i.push(u)}return i}var We=Mn($e),ze=Mn(Qe,!0);function Ge(t,e){var n=!0;return We(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function qe(t,e){var n=[];return We(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function Ye(t,e,n,i){var r;return n(t,(function(t,n,o){if(e(t,n,o))return r=i?n:t,!1})),r}function Xe(t,e,n,i){i||(i=[]);for(var r=-1,o=t.length;++r<o;){var s=t[r];Vt(s)&&ci(s)&&(n||Hr(s)||Nr(s))?e?Xe(s,e,n,i):Oe(i,s):n||(i[i.length]=s)}return i}var Ke=On(),Je=On(!0);function Ze(t,e){return Ke(t,e,uo)}function $e(t,e){return Ke(t,e,lo)}function Qe(t,e){return Je(t,e,lo)}function tn(t,e){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];Br(t[s])&&(o[++r]=s)}return o}function en(t,e,n){if(null!=t){n!==r&&n in Ti(t)&&(e=[n]);for(var i=0,o=e.length;null!=t&&i<o;)t=t[e[i++]];return i&&i==o?t:r}}function nn(t,e,n,i,r,o){return t===e||(null==t||null==e||!jr(t)&&!Vt(e)?t!=t&&e!=e:function(t,e,n,i,r,o,s){var a=Hr(t),l=Hr(e),u=v,c=v;a||((u=St.call(t))==f?u=S:u!=S&&(a=Yr(t)));l||((c=St.call(e))==f?c=S:c!=S&&(l=Yr(e)));var h=u==S,d=c==S,p=u==c;if(p&&!a&&!h)return function(t,e,n){switch(n){case g:case m:return+t==+e;case y:return t.name==e.name&&t.message==e.message;case A:return t!=+t?e!=+e:t==+e;case E:case T:return t==e+""}return!1}(t,e,u);if(!r){var b=h&&wt.call(t,"__wrapped__"),w=d&&wt.call(e,"__wrapped__");if(b||w)return n(b?t.value():t,w?e.value():e,i,r,o,s)}if(!p)return!1;o||(o=[]),s||(s=[]);var x=o.length;for(;x--;)if(o[x]==t)return s[x]==e;o.push(t),s.push(e);var _=(a?ti:ei)(t,e,n,i,r,o,s);return o.pop(),s.pop(),_}(t,e,nn,n,i,r,o))}function rn(t,e,n){var i=e.length,o=i,s=!n;if(null==t)return!o;for(t=Ti(t);i--;){var a=e[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var l=(a=e[i])[0],u=t[l],c=a[1];if(s&&a[2]){if(u===r&&!(l in t))return!1}else{var h=n?n(u,c,l):r;if(!(h===r?nn(c,u,n,!0):h))return!1}}return!0}function on(t,e){var i=-1,r=ci(t)?n(t.length):[];return We(t,(function(t,n,o){r[++i]=e(t,n,o)})),r}function sn(t){var e=ai(t);if(1==e.length&&e[0][2]){var n=e[0][0],i=e[0][1];return function(t){return null!=t&&(t[n]===i&&(i!==r||n in Ti(t)))}}return function(t){return rn(t,e)}}function an(t,e){var n=Hr(t),i=pi(t)&&gi(e),o=t+"";return t=_i(t),function(s){if(null==s)return!1;var a=o;if(s=Ti(s),(n||!i)&&!(a in s)){if(null==(s=1==t.length?s:en(s,pn(t,0,-1))))return!1;a=Ni(t),s=Ti(s)}return s[a]===e?e!==r||a in s:nn(e,s[a],r,!0)}}function ln(t){return function(e){return null==e?r:e[t]}}function un(t,e){for(var n=t?e.length:0;n--;){var i=e[n];if(i!=r&&hi(i)){var r=i;$t.call(t,i,1)}}return t}function cn(t,e){return t+ie(he()*(e-t+1))}function hn(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}var dn=ge?function(t,e){return ge.set(t,e),t}:Mo;function pn(t,e,i){var o=-1,s=t.length;(e=null==e?0:+e||0)<0&&(e=-e>s?0:s+e),(i=i===r||i>s?s:+i||0)<0&&(i+=s),s=e>i?0:i-e>>>0,e>>>=0;for(var a=n(s);++o<s;)a[o]=t[o+e];return a}function fn(t,e){var n;return We(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function vn(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function gn(t,e,n){var i=ni(),r=-1;return e=Me(e,(function(t){return i(t)})),vn(on(t,(function(t){return{criteria:Me(e,(function(e){return e(t)})),index:++r,value:t}})),(function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var l=Tt(r[i],o[i]);if(l){if(i>=a)return l;var u=n[i];return l*("asc"===u||!0===u?1:-1)}}return t.index-e.index}(t,e,n)}))}function mn(t,e){var n=-1,i=oi(),r=t.length,o=i===Ct,s=o&&r>=h,a=s?Pn():null,l=[];a?(i=xe,o=!1):(s=!1,a=e?[]:l);t:for(;++n<r;){var u=t[n],c=e?e(u,n,t):u;if(o&&u==u){for(var d=a.length;d--;)if(a[d]===c)continue t;e&&a.push(c),l.push(u)}else i(a,c,0)<0&&((e||s)&&a.push(c),l.push(u))}return l}function yn(t,e){for(var i=-1,r=e.length,o=n(r);++i<r;)o[i]=t[e[i]];return o}function bn(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?pn(t,i?0:o,i?o+1:r):pn(t,i?o+1:0,i?r:o)}function wn(t,e){var n=t;n instanceof Ae&&(n=n.value());for(var i=-1,r=e.length;++i<r;){var o=e[i];n=o.func.apply(o.thisArg,Oe([n],o.args))}return n}function An(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,s=t[o];(n?s<=e:s<e)&&null!==s?i=o+1:r=o}return r}return Sn(t,e,Mo,n)}function Sn(t,e,n,i){e=n(e);for(var o=0,s=t?t.length:0,a=e!=e,l=null===e,u=e===r;o<s;){var c=ie((o+s)/2),h=n(t[c]),d=h!==r,p=h==h;if(a)var f=p||i;else f=l?p&&d&&(i||null!=h):u?p&&(i||d):null!=h&&(i?h<=e:h<e);f?o=c+1:s=c}return le(s,4294967294)}function En(t,e,n){if("function"!=typeof t)return Mo;if(e===r)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,s){return t.call(e,n,i,r,o,s)}}return function(){return t.apply(e,arguments)}}function xn(t){var e=new Gt(t.byteLength);return new Qt(e).set(new Qt(t)),e}function Tn(t,e,i){for(var r=i.length,o=-1,s=ae(t.length-r,0),a=-1,l=e.length,u=n(l+s);++a<l;)u[a]=e[a];for(;++o<r;)u[i[o]]=t[o];for(;s--;)u[a++]=t[o++];return u}function _n(t,e,i){for(var r=-1,o=i.length,s=-1,a=ae(t.length-o,0),l=-1,u=e.length,c=n(a+u);++s<a;)c[s]=t[s];for(var h=s;++l<u;)c[h+l]=e[l];for(;++r<o;)c[h+i[r]]=t[s++];return c}function Cn(t,e){return function(n,i,r){var o=e?e():{};if(i=ni(i,r,3),Hr(n))for(var s=-1,a=n.length;++s<a;){var l=n[s];t(o,l,i(l,s,n),n)}else We(n,(function(e,n,r){t(o,e,i(e,n,r),r)}));return o}}function kn(t){return Rr((function(e,n){var i=-1,o=null==e?0:n.length,s=o>2?n[o-2]:r,a=o>2?n[2]:r,l=o>1?n[o-1]:r;for("function"==typeof s?(s=En(s,l,5),o-=2):o-=(s="function"==typeof l?l:r)?1:0,a&&di(n[0],n[1],a)&&(s=o<3?r:s,o=1);++i<o;){var u=n[i];u&&t(e,u,s)}return e}))}function Mn(t,e){return function(n,i){var r=n?si(n):0;if(!vi(r))return t(n,i);for(var o=e?r:-1,s=Ti(n);(e?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function On(t){return function(e,n,i){for(var r=Ti(e),o=i(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var l=o[a];if(!1===n(r[l],l,r))break}return e}}function Pn(t){return ne&&Jt?new Ee(t):null}function Ln(t){return function(e){for(var n=-1,i=_o(yo(e)),r=i.length,o="";++n<r;)o=t(o,i[n],n);return o}}function In(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Be(t.prototype),i=t.apply(n,e);return jr(i)?i:n}}function Rn(t){return function e(n,i,o){o&&di(n,i,o)&&(i=r);var s=Qn(n,t,r,r,r,r,r,i);return s.placeholder=e.placeholder,s}}function Dn(t,e){return Rr((function(n){var i=n[0];return null==i?i:(n.push(e),t.apply(r,n))}))}function Nn(t,e){return function(n,i,o){if(o&&di(n,i,o)&&(i=r),1==(i=ni(i,o,3)).length){var s=function(t,e,n,i){for(var r=-1,o=t.length,s=i,a=s;++r<o;){var l=t[r],u=+e(l);n(u,s)&&(s=u,a=l)}return a}(n=Hr(n)?n:xi(n),i,t,e);if(!n.length||s!==e)return s}return function(t,e,n,i){var r=i,o=r;return We(t,(function(t,s,a){var l=+e(t,s,a);(n(l,r)||l===i&&l===o)&&(r=l,o=t)})),o}(n,i,t,e)}}function Hn(t,e){return function(n,i,o){if(i=ni(i,o,3),Hr(n)){var s=_t(n,i,e);return s>-1?n[s]:r}return Ye(n,i,t)}}function Vn(t){return function(e,n,i){return e&&e.length?_t(e,n=ni(n,i,3),t):-1}}function Fn(t){return function(e,n,i){return Ye(e,n=ni(n,i,3),t,!0)}}function Bn(t){return function(){for(var e,i=arguments.length,o=t?i:-1,s=0,a=n(i);t?o--:++o<i;){var l=a[s++]=arguments[o];if("function"!=typeof l)throw new vt(d);!e&&we.prototype.thru&&"wrapper"==ri(l)&&(e=new we([],!0))}for(o=e?-1:i;++o<i;){var u=ri(l=a[o]),c="wrapper"==u?ii(l):r;e=c&&fi(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?e[ri(c[0])].apply(e,c[3]):1==l.length&&fi(l)?e[u]():e.thru(l)}return function(){var t=arguments,n=t[0];if(e&&1==t.length&&Hr(n)&&n.length>=h)return e.plant(n).value();for(var r=0,o=i?a[r].apply(this,t):n;++r<i;)o=a[r].call(this,o);return o}}}function jn(t,e){return function(n,i,o){return"function"==typeof i&&o===r&&Hr(n)?t(n,i):e(n,En(i,o,3))}}function Un(t){return function(e,n,i){return"function"==typeof n&&i===r||(n=En(n,i,3)),t(e,n,uo)}}function Wn(t){return function(e,n,i){return"function"==typeof n&&i===r||(n=En(n,i,3)),t(e,n)}}function zn(t){return function(e,n,i){var r={};return n=ni(n,i,3),$e(e,(function(e,i,o){var s=n(e,i,o);e=t?e:s,r[i=t?s:i]=e})),r}}function Gn(t){return function(e,n,i){return e=Mt(e),(t?e:"")+Kn(e,n,i)+(t?"":e)}}function qn(t){var e=Rr((function(n,i){var o=Bt(i,e.placeholder);return Qn(n,t,r,i,o)}));return e}function Yn(t,e){return function(n,i,o,s){var a=arguments.length<3;return"function"==typeof i&&s===r&&Hr(n)?t(n,i,o,a):hn(n,ni(i,s,4),o,a,e)}}function Xn(t,e,i,o,s,c,h,d,p,f){var v=e&u,g=1&e,m=2&e,y=8&e,b=4&e,w=16&e,A=m?r:In(t);return function u(){for(var S=arguments.length,E=S,x=n(S);E--;)x[E]=arguments[E];if(o&&(x=Tn(x,o,s)),c&&(x=_n(x,c,h)),y||w){var T=u.placeholder,_=Bt(x,T);if((S-=_.length)<f){var C=d?Te(d):r,k=ae(f-S,0),M=y?_:r,O=y?r:_,P=y?x:r,L=y?r:x;e|=y?a:l,e&=~(y?l:a),b||(e&=-4);var I=[t,e,i,P,M,L,O,C,p,k],R=Xn.apply(r,I);return fi(t)&&Si(R,I),R.placeholder=T,R}}var D=g?i:this,N=m?D[t]:t;return d&&(x=bi(x,d)),v&&p<x.length&&(x.length=p),this&&this!==xt&&this instanceof u&&(N=A||In(t)),N.apply(D,x)}}function Kn(t,e,n){var i=t.length;if(i>=(e=+e)||!oe(e))return"";var r=e-i;return So(n=null==n?" ":n+"",ee(r/n.length)).slice(0,r)}function Jn(t,e,i,r){var o=1&e,s=In(t);return function e(){for(var a=-1,l=arguments.length,u=-1,c=r.length,h=n(c+l);++u<c;)h[u]=r[u];for(;l--;)h[u++]=arguments[++a];var d=this&&this!==xt&&this instanceof e?s:t;return d.apply(o?i:this,h)}}function Zn(t){var e=w[t];return function(t,n){return(n=n===r?0:+n||0)?(n=Xt(10,n),e(t*n)/n):e(t)}}function $n(t){return function(e,n,i,r){var o=ni(i);return null==i&&o===Ve?An(e,n,t):Sn(e,n,o(i,r,1),t)}}function Qn(t,e,n,i,o,s,h,f){var v=2&e;if(!v&&"function"!=typeof t)throw new vt(d);var g=i?i.length:0;if(g||(e&=-97,i=o=r),g-=o?o.length:0,e&l){var m=i,y=o;i=o=r}var b=v?r:ii(t),w=[t,e,n,i,o,m,y,s,h,f];if(b&&(!function(t,e){var n=t[1],i=e[1],r=n|i,o=r<u,s=i==u&&8==n||i==u&&n==c&&t[7].length<=e[8]||384==i&&8==n;if(!o&&!s)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var a=e[3];if(a){var l=t[3];t[3]=l?Tn(l,a,e[4]):Te(a),t[4]=l?Bt(t[3],p):Te(e[4])}(a=e[5])&&(l=t[5],t[5]=l?_n(l,a,e[6]):Te(a),t[6]=l?Bt(t[5],p):Te(e[6]));(a=e[7])&&(t[7]=Te(a));i&u&&(t[8]=null==t[8]?e[8]:le(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(w,b),e=w[1],f=w[9]),w[9]=null==f?v?0:t.length:ae(f-g,0)||0,1==e)var A=function(t,e){var n=In(t);return function i(){return(this&&this!==xt&&this instanceof i?n:t).apply(e,arguments)}}(w[0],w[2]);else A=e!=a&&33!=e||w[4].length?Xn.apply(r,w):Jn.apply(r,w);return(b?dn:Si)(A,w)}function ti(t,e,n,i,o,s,a){var l=-1,u=t.length,c=e.length;if(u!=c&&!(o&&c>u))return!1;for(;++l<u;){var h=t[l],d=e[l],p=i?i(o?d:h,o?h:d,l):r;if(p!==r){if(p)continue;return!1}if(o){if(!Le(e,(function(t){return h===t||n(h,t,i,o,s,a)})))return!1}else if(h!==d&&!n(h,d,i,o,s,a))return!1}return!0}function ei(t,e,n,i,o,s,a){var l=lo(t),u=l.length;if(u!=lo(e).length&&!o)return!1;for(var c=u;c--;){var h=l[c];if(!(o?h in e:wt.call(e,h)))return!1}for(var d=o;++c<u;){var p=t[h=l[c]],f=e[h],v=i?i(o?f:p,o?p:f,h):r;if(!(v===r?n(p,f,i,o,s,a):v))return!1;d||(d="constructor"==h)}if(!d){var g=t.constructor,m=e.constructor;if(g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m))return!1}return!0}function ni(t,e,n){var i=ye.callback||ko;return i=i===ko?Ve:i,n?i(t,e,n):i}var ii=ge?function(t){return ge.get(t)}:Ro;function ri(t){for(var e=t.name+"",n=me[e],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function oi(t,e,n){var i=ye.indexOf||Ri;return i=i===Ri?Ct:i,t?i(t,e,n):i}var si=ln("length");function ai(t){for(var e=fo(t),n=e.length;n--;)e[n][2]=gi(e[n][1]);return e}function li(t,e){var n=null==t?r:t[e];return Ur(n)?n:r}function ui(t,e,n){null==t||pi(e,t)||(t=1==(e=_i(e)).length?t:en(t,pn(e,0,-1)),e=Ni(e));var i=null==t?t:t[e];return null==i?r:i.apply(t,n)}function ci(t){return null!=t&&vi(si(t))}function hi(t,e){return t="number"==typeof t||rt.test(t)?+t:-1,e=null==e?ve:e,t>-1&&t%1==0&&t<e}function di(t,e,n){if(!jr(n))return!1;var i=typeof e;if("number"==i?ci(n)&&hi(e,n.length):"string"==i&&e in n){var r=n[e];return t==t?t===r:r!=r}return!1}function pi(t,e){var n=typeof t;return!!("string"==n&&X.test(t)||"number"==n)||!Hr(t)&&(!Y.test(t)||null!=e&&t in Ti(e))}function fi(t){var e=ri(t),n=ye[e];if("function"!=typeof n||!(e in Ae.prototype))return!1;if(t===n)return!0;var i=ii(n);return!!i&&t===i[0]}function vi(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=ve}function gi(t){return t==t&&!jr(t)}function mi(t,e){t=Ti(t);for(var n=-1,i=e.length,r={};++n<i;){var o=e[n];o in t&&(r[o]=t[o])}return r}function yi(t,e){var n={};return Ze(t,(function(t,i,r){e(t,i,r)&&(n[i]=t)})),n}function bi(t,e){for(var n=t.length,i=le(e.length,n),o=Te(t);i--;){var s=e[i];t[i]=hi(s,n)?o[s]:r}return t}var wi,Ai,Si=(wi=0,Ai=0,function(t,e){var n=mr(),i=16-(n-Ai);if(Ai=n,i>0){if(++wi>=150)return t}else wi=0;return dn(t,e)});function Ei(t){for(var e=uo(t),n=e.length,i=n&&t.length,r=!!i&&vi(i)&&(Hr(t)||Nr(t)),o=-1,s=[];++o<n;){var a=e[o];(r&&hi(a,i)||wt.call(t,a))&&s.push(a)}return s}function xi(t){return null==t?[]:ci(t)?jr(t)?t:_(t):go(t)}function Ti(t){return jr(t)?t:_(t)}function _i(t){if(Hr(t))return t;var e=[];return Mt(t).replace(K,(function(t,n,i,r){e.push(i?r.replace(Q,"$1"):n||t)})),e}function Ci(t){return t instanceof Ae?t.clone():new we(t.__wrapped__,t.__chain__,Te(t.__actions__))}var ki=Rr((function(t,e){return Vt(t)&&ci(t)?Ue(t,Xe(e,!1,!0)):[]}));function Mi(t,e,n){return(t?t.length:0)?((n?di(t,e,n):null==e)&&(e=1),pn(t,e<0?0:e)):[]}function Oi(t,e,n){var i=t?t.length:0;return i?((n?di(t,e,n):null==e)&&(e=1),pn(t,0,(e=i-(+e||0))<0?0:e)):[]}var Pi=Vn(),Li=Vn(!0);function Ii(t){return t?t[0]:r}function Ri(t,e,n){var i=t?t.length:0;if(!i)return-1;if("number"==typeof n)n=n<0?ae(i+n,0):n;else if(n){var r=An(t,e);return r<i&&(e==e?e===t[r]:t[r]!=t[r])?r:-1}return Ct(t,e,n||0)}var Di=Rr((function(t){for(var e=t.length,i=e,r=n(h),o=oi(),s=o===Ct,a=[];i--;){var l=t[i]=ci(l=t[i])?l:[];r[i]=s&&l.length>=120?Pn(i&&l):null}var u=t[0],c=-1,h=u?u.length:0,d=r[0];t:for(;++c<h;)if(l=u[c],(d?xe(d,l):o(a,l,0))<0){for(i=e;--i;){var p=r[i];if((p?xe(p,l):o(t[i],l,0))<0)continue t}d&&d.push(l),a.push(l)}return a}));function Ni(t){var e=t?t.length:0;return e?t[e-1]:r}var Hi=Rr((function(t,e){var n=Ne(t,e=Xe(e));return un(t,e.sort(Tt)),n}));function Vi(t){return Mi(t,1)}var Fi=$n(),Bi=$n(!0),ji=Rr((function(t){return mn(Xe(t,!1,!0))}));function Ui(t,e,n,i){if(!(t?t.length:0))return[];null!=e&&"boolean"!=typeof e&&(n=di(t,e,i=n)?r:e,e=!1);var o=ni();return null==n&&o===Ve||(n=o(n,i,3)),e&&oi()===Ct?function(t,e){for(var n,i=-1,r=t.length,o=-1,s=[];++i<r;){var a=t[i],l=e?e(a,i,t):a;i&&n===l||(n=l,s[++o]=a)}return s}(t,n):mn(t,n)}function Wi(t){if(!t||!t.length)return[];var e=-1,i=0;t=ke(t,(function(t){if(ci(t))return i=ae(t.length,i),!0}));for(var r=n(i);++e<i;)r[e]=Me(t,ln(e));return r}function zi(t,e,n){if(!(t?t.length:0))return[];var i=Wi(t);return null==e?i:(e=En(e,n,4),Me(i,(function(t){return Pe(t,e,r,!0)})))}var Gi=Rr((function(t,e){return ci(t)?Ue(t,e):[]})),qi=Rr(Wi);function Yi(t,e){var n=-1,i=t?t.length:0,r={};for(!i||e||Hr(t[0])||(e=[]);++n<i;){var o=t[n];e?r[o]=e[n]:o&&(r[o[0]]=o[1])}return r}var Xi=Rr((function(t){var e=t.length,n=e>2?t[e-2]:r,i=e>1?t[e-1]:r;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof i?(--e,i):r,i=r),t.length=e,zi(t,n,i)}));function Ki(t){var e=ye(t);return e.__chain__=!0,e}function Ji(t,e,n){return e.call(n,t)}var Zi=Rr((function(t){return t=Xe(t),this.thru((function(e){return function(t,e){for(var i=-1,r=t.length,o=-1,s=e.length,a=n(r+s);++i<r;)a[i]=t[i];for(;++o<s;)a[i++]=e[o];return a}(Hr(e)?e:[Ti(e)],t)}))})),$i=Rr((function(t,e){return Ne(t,Xe(e))})),Qi=Cn((function(t,e,n){wt.call(t,n)?++t[n]:t[n]=1}));function tr(t,e,n){var i=Hr(t)?Ce:Ge;return n&&di(t,e,n)&&(e=r),"function"==typeof e&&n===r||(e=ni(e,n,3)),i(t,e)}function er(t,e,n){return(Hr(t)?ke:qe)(t,e=ni(e,n,3))}var nr=Hn(We),ir=Hn(ze,!0),rr=jn(_e,We),or=jn((function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t}),ze),sr=Cn((function(t,e,n){wt.call(t,n)?t[n].push(e):t[n]=[e]}));function ar(t,e,n,i){var r=t?si(t):0;return vi(r)||(r=(t=go(t)).length),n="number"!=typeof n||i&&di(e,n,i)?0:n<0?ae(r+n,0):n||0,"string"==typeof t||!Hr(t)&&qr(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&oi(t,e,n)>-1}var lr=Cn((function(t,e,n){t[n]=e})),ur=Rr((function(t,e,i){var o=-1,s="function"==typeof e,a=pi(e),l=ci(t)?n(t.length):[];return We(t,(function(t){var n=s?e:a&&null!=t?t[e]:r;l[++o]=n?n.apply(t,i):ui(t,e,i)})),l}));function cr(t,e,n){return(Hr(t)?Me:on)(t,e=ni(e,n,3))}var hr=Cn((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),dr=Yn(Pe,We),pr=Yn((function(t,e,n,i){var r=t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}),ze);function fr(t,e,n){if(n?di(t,e,n):null==e)return(i=(t=xi(t)).length)>0?t[cn(0,i-1)]:r;var i,o=-1,s=Kr(t),a=(i=s.length)-1;for(e=le(e<0?0:+e||0,i);++o<e;){var l=cn(o,a),u=s[l];s[l]=s[o],s[o]=u}return s.length=e,s}function vr(t,e,n){var i=Hr(t)?Le:fn;return n&&di(t,e,n)&&(e=r),"function"==typeof e&&n===r||(e=ni(e,n,3)),i(t,e)}var gr=Rr((function(t,e){if(null==t)return[];var n=e[2];return n&&di(e[0],e[1],n)&&(e.length=1),gn(t,Xe(e),[])})),mr=ue||function(){return(new i).getTime()};function yr(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new vt(d);var i=t;t=e,e=i}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var br=Rr((function(t,e,n){var i=1;if(n.length){var r=Bt(n,br.placeholder);i|=a}return Qn(t,i,e,n,r)})),wr=Rr((function(t,e){for(var n=-1,i=(e=e.length?Xe(e):ao(t)).length;++n<i;){var r=e[n];t[r]=Qn(t[r],1,t)}return t})),Ar=Rr((function(t,e,n){var i=3;if(n.length){var r=Bt(n,Ar.placeholder);i|=a}return Qn(e,i,t,n,r)})),Sr=Rn(8),Er=Rn(16);function xr(t,e,n){var i,o,s,a,l,u,c,h=0,p=!1,f=!0;if("function"!=typeof t)throw new vt(d);if(e=e<0?0:+e||0,!0===n){var v=!0;f=!1}else jr(n)&&(v=!!n.leading,p="maxWait"in n&&ae(+n.maxWait||0,e),f="trailing"in n?!!n.trailing:f);function g(e,n){n&&qt(n),o=u=c=r,e&&(h=mr(),s=t.apply(l,i),u||o||(i=l=r))}function m(){var t=e-(mr()-a);t<=0||t>e?g(c,o):u=Zt(m,t)}function y(){g(f,u)}function b(){if(i=arguments,a=mr(),l=this,c=f&&(u||!v),!1===p)var n=v&&!u;else{o||v||(h=a);var d=p-(a-h),g=d<=0||d>p;g?(o&&(o=qt(o)),h=a,s=t.apply(l,i)):o||(o=Zt(y,d))}return g&&u?u=qt(u):u||e===p||(u=Zt(m,e)),n&&(g=!0,s=t.apply(l,i)),!g||u||o||(i=l=r),s}return b.cancel=function(){u&&qt(u),o&&qt(o),h=0,o=u=c=r},b}var Tr=Rr((function(t,e){return je(t,1,e)})),_r=Rr((function(t,e,n){return je(t,e,n)})),Cr=Bn(),kr=Bn(!0);function Mr(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new vt(d);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new Mr.Cache,n}var Or=Rr((function(t,e){if(e=Xe(e),"function"!=typeof t||!Ce(e,kt))throw new vt(d);var n=e.length;return Rr((function(i){for(var r=le(i.length,n);r--;)i[r]=e[r](i[r]);return t.apply(this,i)}))})),Pr=qn(a),Lr=qn(l),Ir=Rr((function(t,e){return Qn(t,c,r,r,r,Xe(e))}));function Rr(t,e){if("function"!=typeof t)throw new vt(d);return e=ae(e===r?t.length-1:+e||0,0),function(){for(var i=arguments,r=-1,o=ae(i.length-e,0),s=n(o);++r<o;)s[r]=i[e+r];switch(e){case 0:return t.call(this,s);case 1:return t.call(this,i[0],s);case 2:return t.call(this,i[0],i[1],s)}var a=n(e+1);for(r=-1;++r<e;)a[r]=i[r];return a[e]=s,t.apply(this,a)}}function Dr(t,e){return t>e}function Nr(t){return Vt(t)&&ci(t)&&wt.call(t,"callee")&&!Kt.call(t,"callee")}var Hr=re||function(t){return Vt(t)&&vi(t.length)&&St.call(t)==v};function Vr(t,e,n,i){var o=(n="function"==typeof n?En(n,i,3):r)?n(t,e):r;return o===r?nn(t,e,n):!!o}function Fr(t){return Vt(t)&&"string"==typeof t.message&&St.call(t)==y}function Br(t){return jr(t)&&St.call(t)==b}function jr(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ur(t){return null!=t&&(Br(t)?Ft.test(bt.call(t)):Vt(t)&&it.test(t))}function Wr(t){return"number"==typeof t||Vt(t)&&St.call(t)==A}function zr(t){var e,n;return!(!Vt(t)||St.call(t)!=S||Nr(t)||!(wt.call(t,"constructor")||"function"!=typeof(e=t.constructor)||e instanceof e))&&(Ze(t,(function(t,e){n=e})),n===r||wt.call(t,n))}function Gr(t){return jr(t)&&St.call(t)==E}function qr(t){return"string"==typeof t||Vt(t)&&St.call(t)==T}function Yr(t){return Vt(t)&&vi(t.length)&&!!ht[St.call(t)]}function Xr(t,e){return t<e}function Kr(t){var e=t?si(t):0;return vi(e)?e?Te(t):[]:go(t)}function Jr(t){return He(t,uo(t))}var Zr=kn((function t(e,n,i,o,s){if(!jr(e))return e;var a=ci(n)&&(Hr(n)||Yr(n)),l=a?r:lo(n);return _e(l||n,(function(u,c){if(l&&(u=n[c=u]),Vt(u))o||(o=[]),s||(s=[]),function(t,e,n,i,o,s,a){var l=s.length,u=e[n];for(;l--;)if(s[l]==u)return void(t[n]=a[l]);var c=t[n],h=o?o(c,u,n,t,e):r,d=h===r;d&&(h=u,ci(u)&&(Hr(u)||Yr(u))?h=Hr(c)?c:ci(c)?Te(c):[]:zr(u)||Nr(u)?h=Nr(c)?Jr(c):zr(c)?c:{}:d=!1);s.push(u),a.push(h),d?t[n]=i(h,u,o,s,a):(h==h?h!==c:c==c)&&(t[n]=h)}(e,n,c,t,i,o,s);else{var h=e[c],d=i?i(h,u,c,e,n):r,p=d===r;p&&(d=u),d===r&&(!a||c in e)||!p&&(d==d?d===h:h!=h)||(e[c]=d)}})),e})),$r=kn((function(t,e,n){return n?Re(t,e,n):De(t,e)})),Qr=Dn($r,(function(t,e){return t===r?e:t})),to=Dn(Zr,(function t(e,n){return e===r?n:Zr(e,n,t)})),eo=Fn($e),no=Fn(Qe),io=Un(Ke),ro=Un(Je),oo=Wn($e),so=Wn(Qe);function ao(t){return tn(t,uo(t))}var lo=se?function(t){var e=null==t?r:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&ci(t)?Ei(t):jr(t)?se(t):[]}:Ei;function uo(t){if(null==t)return[];jr(t)||(t=_(t));var e=t.length;e=e&&vi(e)&&(Hr(t)||Nr(t))&&e||0;for(var i=t.constructor,r=-1,o="function"==typeof i&&i.prototype===t,s=n(e),a=e>0;++r<e;)s[r]=r+"";for(var l in t)a&&hi(l,e)||"constructor"==l&&(o||!wt.call(t,l))||s.push(l);return s}var co=zn(!0),ho=zn(),po=Rr((function(t,e){if(null==t)return{};if("function"!=typeof e[0]){e=Me(Xe(e),ft);return mi(t,Ue(uo(t),e))}var n=En(e[0],e[1],3);return yi(t,(function(t,e,i){return!n(t,e,i)}))}));function fo(t){t=Ti(t);for(var e=-1,i=lo(t),r=i.length,o=n(r);++e<r;){var s=i[e];o[e]=[s,t[s]]}return o}var vo=Rr((function(t,e){return null==t?{}:"function"==typeof e[0]?yi(t,En(e[0],e[1],3)):mi(t,Xe(e))}));function go(t){return yn(t,lo(t))}var mo=Ln((function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}));function yo(t){return(t=Mt(t))&&t.replace(ot,It).replace($,"")}var bo=Ln((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),wo=Gn(),Ao=Gn(!0);function So(t,e){var n="";if(t=Mt(t),(e=+e)<1||!t||!oe(e))return n;do{e%2&&(n+=t),e=ie(e/2),t+=t}while(e);return n}var Eo=Ln((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),xo=Ln((function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}));function To(t,e,n){var i=t;return(t=Mt(t))?(n?di(i,e,n):null==e)?t.slice(jt(t),Ut(t)+1):(e+="",t.slice(Ot(t,e),Pt(t,e)+1)):t}function _o(t,e,n){return n&&di(t,e,n)&&(e=r),(t=Mt(t)).match(e||lt)||[]}var Co=Rr((function(t,e){try{return t.apply(r,e)}catch(t){return Fr(t)?t:new o(t)}}));function ko(t,e,n){return n&&di(t,e,n)&&(e=r),Vt(t)?Oo(t):Ve(t,e)}function Mo(t){return t}function Oo(t){return sn(Fe(t,!0))}var Po=Rr((function(t,e){return function(n){return ui(n,t,e)}})),Lo=Rr((function(t,e){return function(n){return ui(t,n,e)}}));function Io(t,e,n){if(null==n){var i=jr(e),o=i?lo(e):r,s=o&&o.length?tn(e,o):r;(s?s.length:i)||(s=!1,n=e,e=t,t=this)}s||(s=tn(e,lo(e)));var a=!0,l=-1,u=Br(t),c=s.length;!1===n?a=!1:jr(n)&&"chain"in n&&(a=n.chain);for(;++l<c;){var h=s[l],d=e[h];t[h]=d,u&&(t.prototype[h]=function(e){return function(){var n=this.__chain__;if(a||n){var i=t(this.__wrapped__),r=i.__actions__=Te(this.__actions__);return r.push({func:e,args:arguments,thisArg:t}),i.__chain__=n,i}return e.apply(t,Oe([this.value()],arguments))}}(d))}return t}function Ro(){}function Do(t){return pi(t)?ln(t):function(t){var e=t+"";return t=_i(t),function(n){return en(n,t,e)}}(t)}var No,Ho=Zn("ceil"),Vo=Zn("floor"),Fo=Nn(Dr,de),Bo=Nn(Xr,pe),jo=Zn("round");return ye.prototype=be.prototype,we.prototype=Be(be.prototype),we.prototype.constructor=we,Ae.prototype=Be(be.prototype),Ae.prototype.constructor=Ae,Se.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Se.prototype.get=function(t){return"__proto__"==t?r:this.__data__[t]},Se.prototype.has=function(t){return"__proto__"!=t&&wt.call(this.__data__,t)},Se.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Ee.prototype.push=function(t){var e=this.data;"string"==typeof t||jr(t)?e.set.add(t):e.hash[t]=!0},Mr.Cache=Se,ye.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new vt(d);var n=t;t=e,e=n}return t=oe(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}},ye.ary=function(t,e,n){return n&&di(t,e,n)&&(e=r),e=t&&null==e?t.length:ae(+e||0,0),Qn(t,u,r,r,r,r,e)},ye.assign=$r,ye.at=$i,ye.before=yr,ye.bind=br,ye.bindAll=wr,ye.bindKey=Ar,ye.callback=ko,ye.chain=Ki,ye.chunk=function(t,e,i){e=(i?di(t,e,i):null==e)?1:ae(ie(e)||1,1);for(var r=0,o=t?t.length:0,s=-1,a=n(ee(o/e));r<o;)a[++s]=pn(t,r,r+=e);return a},ye.compact=function(t){for(var e=-1,n=t?t.length:0,i=-1,r=[];++e<n;){var o=t[e];o&&(r[++i]=o)}return r},ye.constant=function(t){return function(){return t}},ye.countBy=Qi,ye.create=function(t,e,n){var i=Be(t);return n&&di(t,e,n)&&(e=r),e?De(i,e):i},ye.curry=Sr,ye.curryRight=Er,ye.debounce=xr,ye.defaults=Qr,ye.defaultsDeep=to,ye.defer=Tr,ye.delay=_r,ye.difference=ki,ye.drop=Mi,ye.dropRight=Oi,ye.dropRightWhile=function(t,e,n){return t&&t.length?bn(t,ni(e,n,3),!0,!0):[]},ye.dropWhile=function(t,e,n){return t&&t.length?bn(t,ni(e,n,3),!0):[]},ye.fill=function(t,e,n,i){var o=t?t.length:0;return o?(n&&"number"!=typeof n&&di(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=null==n?0:+n||0)<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:+i||0)<0&&(i+=o),o=n>i?0:i>>>0,n>>>=0;n<o;)t[n++]=e;return t}(t,e,n,i)):[]},ye.filter=er,ye.flatten=function(t,e,n){var i=t?t.length:0;return n&&di(t,e,n)&&(e=!1),i?Xe(t,e):[]},ye.flattenDeep=function(t){return(t?t.length:0)?Xe(t,!0):[]},ye.flow=Cr,ye.flowRight=kr,ye.forEach=rr,ye.forEachRight=or,ye.forIn=io,ye.forInRight=ro,ye.forOwn=oo,ye.forOwnRight=so,ye.functions=ao,ye.groupBy=sr,ye.indexBy=lr,ye.initial=function(t){return Oi(t,1)},ye.intersection=Di,ye.invert=function(t,e,n){n&&di(t,e,n)&&(e=r);for(var i=-1,o=lo(t),s=o.length,a={};++i<s;){var l=o[i],u=t[l];e?wt.call(a,u)?a[u].push(l):a[u]=[l]:a[u]=l}return a},ye.invoke=ur,ye.keys=lo,ye.keysIn=uo,ye.map=cr,ye.mapKeys=co,ye.mapValues=ho,ye.matches=Oo,ye.matchesProperty=function(t,e){return an(t,Fe(e,!0))},ye.memoize=Mr,ye.merge=Zr,ye.method=Po,ye.methodOf=Lo,ye.mixin=Io,ye.modArgs=Or,ye.negate=function(t){if("function"!=typeof t)throw new vt(d);return function(){return!t.apply(this,arguments)}},ye.omit=po,ye.once=function(t){return yr(2,t)},ye.pairs=fo,ye.partial=Pr,ye.partialRight=Lr,ye.partition=hr,ye.pick=vo,ye.pluck=function(t,e){return cr(t,Do(e))},ye.property=Do,ye.propertyOf=function(t){return function(e){return en(t,_i(e),e+"")}},ye.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,i=oi(),r=t.length;++n<r;)for(var o=0,s=t[n];(o=i(e,s,o))>-1;)$t.call(e,o,1);return e},ye.pullAt=Hi,ye.range=function(t,e,i){i&&di(t,e,i)&&(e=i=r),t=+t||0,null==e?(e=t,t=0):e=+e||0;for(var o=-1,s=ae(ee((e-t)/((i=null==i?1:+i||0)||1)),0),a=n(s);++o<s;)a[o]=t,t+=i;return a},ye.rearg=Ir,ye.reject=function(t,e,n){var i=Hr(t)?ke:qe;return e=ni(e,n,3),i(t,(function(t,n,i){return!e(t,n,i)}))},ye.remove=function(t,e,n){var i=[];if(!t||!t.length)return i;var r=-1,o=[],s=t.length;for(e=ni(e,n,3);++r<s;){var a=t[r];e(a,r,t)&&(i.push(a),o.push(r))}return un(t,o),i},ye.rest=Vi,ye.restParam=Rr,ye.set=function(t,e,n){if(null==t)return t;for(var i=e+"",r=-1,o=(e=null!=t[i]||pi(e,t)?[i]:_i(e)).length,s=o-1,a=t;null!=a&&++r<o;){var l=e[r];jr(a)&&(r==s?a[l]=n:null==a[l]&&(a[l]=hi(e[r+1])?[]:{})),a=a[l]}return t},ye.shuffle=function(t){return fr(t,pe)},ye.slice=function(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&di(t,e,n)&&(e=0,n=i),pn(t,e,n)):[]},ye.sortBy=function(t,e,n){if(null==t)return[];n&&di(t,e,n)&&(e=r);var i=-1;return e=ni(e,n,3),vn(on(t,(function(t,n,r){return{criteria:e(t,n,r),index:++i,value:t}})),Lt)},ye.sortByAll=gr,ye.sortByOrder=function(t,e,n,i){return null==t?[]:(i&&di(e,n,i)&&(n=r),Hr(e)||(e=null==e?[]:[e]),Hr(n)||(n=null==n?[]:[n]),gn(t,e,n))},ye.spread=function(t){if("function"!=typeof t)throw new vt(d);return function(e){return t.apply(this,e)}},ye.take=function(t,e,n){return(t?t.length:0)?((n?di(t,e,n):null==e)&&(e=1),pn(t,0,e<0?0:e)):[]},ye.takeRight=function(t,e,n){var i=t?t.length:0;return i?((n?di(t,e,n):null==e)&&(e=1),pn(t,(e=i-(+e||0))<0?0:e)):[]},ye.takeRightWhile=function(t,e,n){return t&&t.length?bn(t,ni(e,n,3),!1,!0):[]},ye.takeWhile=function(t,e,n){return t&&t.length?bn(t,ni(e,n,3)):[]},ye.tap=function(t,e,n){return e.call(n,t),t},ye.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new vt(d);return!1===n?i=!1:jr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),xr(t,e,{leading:i,maxWait:+e,trailing:r})},ye.thru=Ji,ye.times=function(t,e,i){if((t=ie(t))<1||!oe(t))return[];var r=-1,o=n(le(t,fe));for(e=En(e,i,1);++r<t;)r<fe?o[r]=e(r):e(r);return o},ye.toArray=Kr,ye.toPlainObject=Jr,ye.transform=function(t,e,n,i){var o=Hr(t)||Yr(t);if(e=ni(e,i,4),null==n)if(o||jr(t)){var s=t.constructor;n=o?Hr(t)?new s:[]:Be(Br(s)?s.prototype:r)}else n={};return(o?_e:$e)(t,(function(t,i,r){return e(n,t,i,r)})),n},ye.union=ji,ye.uniq=Ui,ye.unzip=Wi,ye.unzipWith=zi,ye.values=go,ye.valuesIn=function(t){return yn(t,uo(t))},ye.where=function(t,e){return er(t,sn(e))},ye.without=Gi,ye.wrap=function(t,e){return Qn(e=null==e?Mo:e,a,r,[t],[])},ye.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(ci(n))var i=i?Oe(Ue(i,n),Ue(n,i)):n}return i?mn(i):[]},ye.zip=qi,ye.zipObject=Yi,ye.zipWith=Xi,ye.backflow=kr,ye.collect=cr,ye.compose=kr,ye.each=rr,ye.eachRight=or,ye.extend=$r,ye.iteratee=ko,ye.methods=ao,ye.object=Yi,ye.select=er,ye.tail=Vi,ye.unique=Ui,Io(ye,ye),ye.add=function(t,e){return(+t||0)+(+e||0)},ye.attempt=Co,ye.camelCase=mo,ye.capitalize=function(t){return(t=Mt(t))&&t.charAt(0).toUpperCase()+t.slice(1)},ye.ceil=Ho,ye.clone=function(t,e,n,i){return e&&"boolean"!=typeof e&&di(t,e,n)?e=!1:"function"==typeof e&&(i=n,n=e,e=!1),"function"==typeof n?Fe(t,e,En(n,i,3)):Fe(t,e)},ye.cloneDeep=function(t,e,n){return"function"==typeof e?Fe(t,!0,En(e,n,3)):Fe(t,!0)},ye.deburr=yo,ye.endsWith=function(t,e,n){e+="";var i=(t=Mt(t)).length;return n=n===r?i:le(n<0?0:+n||0,i),(n-=e.length)>=0&&t.indexOf(e,n)==n},ye.escape=function(t){return(t=Mt(t))&&W.test(t)?t.replace(j,Rt):t},ye.escapeRegExp=function(t){return(t=Mt(t))&&Z.test(t)?t.replace(J,Dt):t||"(?:)"},ye.every=tr,ye.find=nr,ye.findIndex=Pi,ye.findKey=eo,ye.findLast=ir,ye.findLastIndex=Li,ye.findLastKey=no,ye.findWhere=function(t,e){return nr(t,sn(e))},ye.first=Ii,ye.floor=Vo,ye.get=function(t,e,n){var i=null==t?r:en(t,_i(e),e+"");return i===r?n:i},ye.gt=Dr,ye.gte=function(t,e){return t>=e},ye.has=function(t,e){if(null==t)return!1;var n=wt.call(t,e);if(!n&&!pi(e)){if(null==(t=1==(e=_i(e)).length?t:en(t,pn(e,0,-1))))return!1;e=Ni(e),n=wt.call(t,e)}return n||vi(t.length)&&hi(e,t.length)&&(Hr(t)||Nr(t))},ye.identity=Mo,ye.includes=ar,ye.indexOf=Ri,ye.inRange=function(t,e,n){return e=+e||0,n===r?(n=e,e=0):n=+n||0,t>=le(e,n)&&t<ae(e,n)},ye.isArguments=Nr,ye.isArray=Hr,ye.isBoolean=function(t){return!0===t||!1===t||Vt(t)&&St.call(t)==g},ye.isDate=function(t){return Vt(t)&&St.call(t)==m},ye.isElement=function(t){return!!t&&1===t.nodeType&&Vt(t)&&!zr(t)},ye.isEmpty=function(t){return null==t||(ci(t)&&(Hr(t)||qr(t)||Nr(t)||Vt(t)&&Br(t.splice))?!t.length:!lo(t).length)},ye.isEqual=Vr,ye.isError=Fr,ye.isFinite=function(t){return"number"==typeof t&&oe(t)},ye.isFunction=Br,ye.isMatch=function(t,e,n,i){return n="function"==typeof n?En(n,i,3):r,rn(t,ai(e),n)},ye.isNaN=function(t){return Wr(t)&&t!=+t},ye.isNative=Ur,ye.isNull=function(t){return null===t},ye.isNumber=Wr,ye.isObject=jr,ye.isPlainObject=zr,ye.isRegExp=Gr,ye.isString=qr,ye.isTypedArray=Yr,ye.isUndefined=function(t){return t===r},ye.kebabCase=bo,ye.last=Ni,ye.lastIndexOf=function(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(n<0?ae(i+n,0):le(n||0,i-1))+1;else if(n){var o=t[r=An(t,e,!0)-1];return(e==e?e===o:o!=o)?r:-1}if(e!=e)return Ht(t,r,!0);for(;r--;)if(t[r]===e)return r;return-1},ye.lt=Xr,ye.lte=function(t,e){return t<=e},ye.max=Fo,ye.min=Bo,ye.noConflict=function(){return xt._=Et,this},ye.noop=Ro,ye.now=mr,ye.pad=function(t,e,n){e=+e;var i=(t=Mt(t)).length;if(i>=e||!oe(e))return t;var r=(e-i)/2,o=ie(r);return(n=Kn("",ee(r),n)).slice(0,o)+t+n},ye.padLeft=wo,ye.padRight=Ao,ye.parseInt=function(t,e,n){return(n?di(t,e,n):null==e)?e=0:e&&(e=+e),t=To(t),ce(t,e||(nt.test(t)?16:10))},ye.random=function(t,e,n){n&&di(t,e,n)&&(e=n=r);var i=null==t,o=null==e;if(null==n&&(o&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,o=!0)),i&&o&&(e=1,o=!1),t=+t||0,o?(e=t,t=0):e=+e||0,n||t%1||e%1){var s=he();return le(t+s*(e-t+Yt("1e-"+((s+"").length-1))),e)}return cn(t,e)},ye.reduce=dr,ye.reduceRight=pr,ye.repeat=So,ye.result=function(t,e,n){var i=null==t?r:t[e];return i===r&&(null==t||pi(e,t)||(i=null==(t=1==(e=_i(e)).length?t:en(t,pn(e,0,-1)))?r:t[Ni(e)]),i=i===r?n:i),Br(i)?i.call(t):i},ye.round=jo,ye.runInContext=t,ye.size=function(t){var e=t?si(t):0;return vi(e)?e:lo(t).length},ye.snakeCase=Eo,ye.some=vr,ye.sortedIndex=Fi,ye.sortedLastIndex=Bi,ye.startCase=xo,ye.startsWith=function(t,e,n){return t=Mt(t),n=null==n?0:le(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n},ye.sum=function(t,e,n){return n&&di(t,e,n)&&(e=r),1==(e=ni(e,n,3)).length?function(t,e){for(var n=t.length,i=0;n--;)i+=+e(t[n])||0;return i}(Hr(t)?t:xi(t),e):function(t,e){var n=0;return We(t,(function(t,i,r){n+=+e(t,i,r)||0})),n}(t,e)},ye.template=function(t,e,n){var i=ye.templateSettings;n&&di(t,e,n)&&(e=n=r),t=Mt(t),e=Re(De({},n||e),i,Ie);var o,a,l=Re(De({},e.imports),i.imports,Ie),u=lo(l),c=yn(l,u),h=0,d=e.interpolate||st,p="__p += '",f=pt((e.escape||st).source+"|"+d.source+"|"+(d===q?tt:st).source+"|"+(e.evaluate||st).source+"|$","g"),v="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++ct+"]")+"\n";t.replace(f,(function(e,n,i,r,s,l){return i||(i=r),p+=t.slice(h,l).replace(at,Nt),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=l+e.length,e})),p+="';\n";var g=e.variable;g||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(H,""):p).replace(V,"$1").replace(F,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Co((function(){return s(u,v+"return "+p).apply(r,c)}));if(m.source=p,Fr(m))throw m;return m},ye.trim=To,ye.trimLeft=function(t,e,n){var i=t;return(t=Mt(t))?(n?di(i,e,n):null==e)?t.slice(jt(t)):t.slice(Ot(t,e+"")):t},ye.trimRight=function(t,e,n){var i=t;return(t=Mt(t))?(n?di(i,e,n):null==e)?t.slice(0,Ut(t)+1):t.slice(0,Pt(t,e+"")+1):t},ye.trunc=function(t,e,n){n&&di(t,e,n)&&(e=r);var i=30,o="...";if(null!=e)if(jr(e)){var s="separator"in e?e.separator:s;i="length"in e?+e.length||0:i,o="omission"in e?Mt(e.omission):o}else i=+e||0;if(i>=(t=Mt(t)).length)return t;var a=i-o.length;if(a<1)return o;var l=t.slice(0,a);if(null==s)return l+o;if(Gr(s)){if(t.slice(a).search(s)){var u,c,h=t.slice(0,a);for(s.global||(s=pt(s.source,(et.exec(s)||"")+"g")),s.lastIndex=0;u=s.exec(h);)c=u.index;l=l.slice(0,null==c?a:c)}}else if(t.indexOf(s,a)!=a){var d=l.lastIndexOf(s);d>-1&&(l=l.slice(0,d))}return l+o},ye.unescape=function(t){return(t=Mt(t))&&U.test(t)?t.replace(B,Wt):t},ye.uniqueId=function(t){var e=++At;return Mt(t)+e},ye.words=_o,ye.all=tr,ye.any=vr,ye.contains=ar,ye.eq=Vr,ye.detect=nr,ye.foldl=dr,ye.foldr=pr,ye.head=Ii,ye.include=ar,ye.inject=dr,Io(ye,(No={},$e(ye,(function(t,e){ye.prototype[e]||(No[e]=t)})),No),!1),ye.sample=fr,ye.prototype.sample=function(t){return this.__chain__||null!=t?this.thru((function(e){return fr(e,t)})):fr(this.value())},ye.VERSION="3.10.1",_e(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){ye[t].placeholder=ye})),_e(["drop","take"],(function(t,e){Ae.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new Ae(this);n=null==n?1:ae(ie(n)||0,0);var r=this.clone();return i?r.__takeCount__=le(r.__takeCount__,n):r.__views__.push({size:n,type:t+(r.__dir__<0?"Right":"")}),r},Ae.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),_e(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=2!=n;Ae.prototype[t]=function(t,e){var r=this.clone();return r.__iteratees__.push({iteratee:ni(t,e,1),type:n}),r.__filtered__=r.__filtered__||i,r}})),_e(["first","last"],(function(t,e){var n="take"+(e?"Right":"");Ae.prototype[t]=function(){return this[n](1).value()[0]}})),_e(["initial","rest"],(function(t,e){var n="drop"+(e?"":"Right");Ae.prototype[t]=function(){return this.__filtered__?new Ae(this):this[n](1)}})),_e(["pluck","where"],(function(t,e){var n=e?"filter":"map",i=e?sn:Do;Ae.prototype[t]=function(t){return this[n](i(t))}})),Ae.prototype.compact=function(){return this.filter(Mo)},Ae.prototype.reject=function(t,e){return t=ni(t,e,1),this.filter((function(e){return!t(e)}))},Ae.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new Ae(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=+e||0)<0?n.dropRight(-e):n.take(e-t)),n)},Ae.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Ae.prototype.toArray=function(){return this.take(pe)},$e(Ae.prototype,(function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),i=/^(?:first|last)$/.test(e),o=ye[i?"take"+("last"==e?"Right":""):e];o&&(ye.prototype[e]=function(){var e=i?[1]:arguments,s=this.__chain__,a=this.__wrapped__,l=!!this.__actions__.length,u=a instanceof Ae,c=e[0],h=u||Hr(a);h&&n&&"function"==typeof c&&1!=c.length&&(u=h=!1);var d=function(t){return i&&s?o(t,1)[0]:o.apply(r,Oe([t],e))},p={func:Ji,args:[d],thisArg:r},f=u&&!l;if(i&&!s)return f?((a=a.clone()).__actions__.push(p),t.call(a)):o.call(r,this.value())[0];if(!i&&h){a=f?a:new Ae(this);var v=t.apply(a,e);return v.__actions__.push(p),new we(v,s)}return this.thru(d)})})),_e(["join","pop","push","replace","shift","sort","splice","split","unshift"],(function(t){var e=(/^(?:replace|split)$/.test(t)?yt:gt)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);ye.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[n]((function(n){return e.apply(n,t)}))}})),$e(Ae.prototype,(function(t,e){var n=ye[e];if(n){var i=n.name+"";(me[i]||(me[i]=[])).push({name:e,func:n})}})),me[Xn(r,2).name]=[{name:"wrapper",func:r}],Ae.prototype.clone=function(){var t=new Ae(this.__wrapped__);return t.__actions__=Te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Te(this.__views__),t},Ae.prototype.reverse=function(){if(this.__filtered__){var t=new Ae(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Ae.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Hr(t),i=e<0,r=n?t.length:0,o=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=le(e,t+s);break;case"takeRight":t=ae(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,d=c.length,p=0,f=le(l,this.__takeCount__);if(!n||r<h||r==l&&f==l)return wn(t,this.__actions__);var v=[];t:for(;l--&&p<f;){for(var g=-1,m=t[u+=e];++g<d;){var y=c[g],b=y.iteratee,w=y.type,A=b(m);if(2==w)m=A;else if(!A){if(1==w)continue t;break t}}v[p++]=m}return v},ye.prototype.chain=function(){return Ki(this)},ye.prototype.commit=function(){return new we(this.value(),this.__chain__)},ye.prototype.concat=Zi,ye.prototype.plant=function(t){for(var e,n=this;n instanceof be;){var i=Ci(n);e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e},ye.prototype.reverse=function(){var t=this.__wrapped__,e=function(t){return t.reverse()};if(t instanceof Ae){var n=t;return this.__actions__.length&&(n=new Ae(this)),(n=n.reverse()).__actions__.push({func:Ji,args:[e],thisArg:r}),new we(n,this.__chain__)}return this.thru(e)},ye.prototype.toString=function(){return this.value()+""},ye.prototype.run=ye.prototype.toJSON=ye.prototype.valueOf=ye.prototype.value=function(){return wn(this.__wrapped__,this.__actions__)},ye.prototype.collect=ye.prototype.map,ye.prototype.head=ye.prototype.first,ye.prototype.select=ye.prototype.filter,ye.prototype.tail=ye.prototype.rest,ye}();xt._=zt,(i=function(){return zt}.call(e,n,e,t))===r||(t.exports=i)}.call(this)},1645:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){var t,e,n,i,r,o,s=(t=/^(?:application|text)\/xml/,e=/^application\/json/,n=function(n,i){return null==n&&(n=i.getResponseHeader("content-type")),t.test(n)?i.responseXML:e.test(n)&&""!==i.responseText?JSON.parse(i.responseText):i.responseText},i=function(t){return t.status>=200&&t.status<300||304===t.status||0===t.status&&"file:"===window.location.protocol},r=function(t,e,r,s,a){return function(){if(o(t,r),4===t.readyState){var l=t.status,u=n(e.headers&&e.headers.Accept,t);if(i(t))e.success&&e.success(u),s&&s(u);else{var c=new Error("Server responded with a status of "+l);e.error&&e.error(t,l,c),a&&a(t)}}}},o=function(t,e){if(e){for(var n=["readyState","status","statusText","responseText","responseXML","setRequestHeader","getAllResponseHeaders","getResponseHeader","statusCode","abort"],i=0;i<n.length;i++){var r=n[i];try{e[r]="function"==typeof t[r]?t[r].bind(t):t[r]}catch(t){console.log(t)}}return e}},function(t){if(null==t)throw new Error("You must provide options");null==t.type&&(t.type="GET");var e,n,i=new XMLHttpRequest,a=s.Promise||"undefined"!=typeof Promise&&Promise,l=a&&new a((function(t,i){e=t,n=i}));if(t.contentType&&(null==t.headers&&(t.headers={}),t.headers["Content-Type"]=t.contentType),"GET"===t.type&&"object"==typeof t.data){var u="",c=function(t,e){return null==e?"":"&"+encodeURIComponent(t)+"="+encodeURIComponent(e)};for(var h in t.data)u+=c(h,t.data[h]);if(u){var d=-1===t.url.indexOf("?")?"?":"&";t.url+=d+u.substring(1)}}if(i.onreadystatechange=r(i,t,l,e,n),i.open(t.type,t.url,!1!==t.async),!t.headers||!t.headers.Accept){var p="*/".concat("*"),f={"*":p,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"};i.setRequestHeader("Accept",t.dataType&&f[t.dataType]?f[t.dataType]+("*"!==t.dataType?", "+p+"; q=0.01":""):f["*"])}if(t.headers)for(var h in t.headers)i.setRequestHeader(h,t.headers[h]);return t.beforeSend&&t.beforeSend(i),i.send(t.data),t.originalXhr=i,o(i,l),l||i});return s})?i.call(e,n,e,t):i)||(t.exports=r)},8622:function(){!function(){function t(t,e){return[].slice.call((e||document).querySelectorAll(t))}if(window.addEventListener){var e=window.StyleFix={link:function(t){try{if("stylesheet"!==t.rel||t.hasAttribute("data-noprefix"))return}catch(t){return}var n,i=t.href||t.getAttribute("data-href"),r=i.replace(/[^\/]+$/,""),o=(/^[a-z]{3,10}:/.exec(r)||[""])[0],s=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(r)||[""])[0],a=/^([^?]*)\??/.exec(i)[1],l=t.parentNode,u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&n()},n=function(){if((n=u.responseText)&&t.parentNode&&(!u.status||400>u.status||600<u.status)){if(n=e.fix(n,!0,t),r){var n=n.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,(function(t,e,n){return/^([a-z]{3,10}:|#)/i.test(n)?t:/^\/\//.test(n)?'url("'+o+n+'")':/^\//.test(n)?'url("'+s+n+'")':/^\?/.test(n)?'url("'+a+n+'")':'url("'+r+n+'")'})),i=r.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");n=n.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+i,"gi"),"$1")}(i=document.createElement("style")).textContent=n,i.media=t.media,i.disabled=t.disabled,i.setAttribute("data-href",t.getAttribute("href")),l.insertBefore(i,t),l.removeChild(t),i.media=t.media}};try{u.open("GET",i),u.send(null)}catch(t){"undefined"!=typeof XDomainRequest&&((u=new XDomainRequest).onerror=u.onprogress=function(){},u.onload=n,u.open("GET",i),u.send(null))}t.setAttribute("data-inprogress","")},styleElement:function(t){if(!t.hasAttribute("data-noprefix")){var n=t.disabled;t.textContent=e.fix(t.textContent,!0,t),t.disabled=n}},styleAttribute:function(t){var n=t.getAttribute("style");n=e.fix(n,!1,t);t.setAttribute("style",n)},process:function(){t('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),t("style").forEach(StyleFix.styleElement),t("[style]").forEach(StyleFix.styleAttribute)},register:function(t,n){(e.fixers=e.fixers||[]).splice(void 0===n?e.fixers.length:n,0,t)},fix:function(t,n,i){for(var r=0;r<e.fixers.length;r++)t=e.fixers[r](t,n,i)||t;return t},camelCase:function(t){return t.replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()})).replace("-","")},deCamelCase:function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))}};setTimeout((function(){t('link[rel="stylesheet"]').forEach(StyleFix.link)}),10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}}(),function(t){function e(t,e,i,r,o){return(t=n[t]).length&&(t=RegExp(e+"("+t.join("|")+")"+i,"gi"),o=o.replace(t,r)),o}if(window.StyleFix&&window.getComputedStyle){var n=window.PrefixFree={prefixCSS:function(t,i,r){var o=n.prefix;if(-1<n.functions.indexOf("linear-gradient")&&(t=t.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,(function(t,e,n,i){return e+(n||"")+"linear-gradient("+(90-i)+"deg"}))),t=e("functions","(\\s|:|,)","\\s*\\(","$1"+o+"$2(",t),t=e("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+o+"$2$3",t),t=e("properties","(^|\\{|\\s|;)","\\s*:","$1"+o+"$2:",t),n.properties.length){var s=RegExp("\\b("+n.properties.join("|")+")(?!:)","gi");t=e("valueProperties","\\b",":(.+?);",(function(t){return t.replace(s,o+"$1")}),t)}return i&&(t=e("selectors","","\\b",n.prefixSelector,t),t=e("atrules","@","\\b","@"+o+"$1",t)),(t=t.replace(RegExp("-"+o,"g"),"-")).replace(/-\*-(?=[a-z]+)/gi,n.prefix)},property:function(t){return(0<=n.properties.indexOf(t)?n.prefix:"")+t},value:function(t,i){return t=e("functions","(^|\\s|,)","\\s*\\(","$1"+n.prefix+"$2(",t),t=e("keywords","(^|\\s)","(\\s|$)","$1"+n.prefix+"$2$3",t),0<=n.valueProperties.indexOf(i)&&(t=e("properties","(^|\\s|,)","($|\\s|,)","$1"+n.prefix+"$2$3",t)),t},prefixSelector:function(t){return t.replace(/^:{1,2}/,(function(t){return t+n.prefix}))},prefixProperty:function(t,e){var i=n.prefix+t;return e?StyleFix.camelCase(i):i}};!function(){var t={},e=[],i=getComputedStyle(document.documentElement,null),r=document.createElement("div").style,o=function(n){if("-"===n.charAt(0)){e.push(n);var i=(n=n.split("-"))[1];for(t[i]=++t[i]||1;3<n.length;)n.pop(),i=n.join("-"),StyleFix.camelCase(i)in r&&-1===e.indexOf(i)&&e.push(i)}};if(0<i.length)for(var s=0;s<i.length;s++)o(i[s]);else for(var a in i)o(StyleFix.deCamelCase(a));var l,u;s=0;for(u in t)s<(i=t[u])&&(l=u,s=i);for(n.prefix="-"+l+"-",n.Prefix=StyleFix.camelCase(n.prefix),n.properties=[],s=0;s<e.length;s++)0===(a=e[s]).indexOf(n.prefix)&&(l=a.slice(n.prefix.length),StyleFix.camelCase(l)in r||n.properties.push(l));"Ms"==n.Prefix&&!("transform"in r)&&!("MsTransform"in r)&&"msTransform"in r&&n.properties.push("transform","transform-origin"),n.properties.sort()}(),function(){function t(t,e){return o[e]="",o[e]=t,!!o[e]}var e={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};e["repeating-linear-gradient"]=e["repeating-radial-gradient"]=e["radial-gradient"]=e["linear-gradient"];var i={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width"};n.functions=[],n.keywords=[];var r,o=document.createElement("div").style;for(r in e){var s,a=(s=e[r]).property;!t(s=r+"("+s.params+")",a)&&t(n.prefix+s,a)&&n.functions.push(r)}for(var l in i)!t(l,a=i[l])&&t(n.prefix+l,a)&&n.keywords.push(l)}(),function(){function e(t){return s.textContent=t+"{}",!!s.sheet.cssRules.length}var i={":read-only":null,":read-write":null,":any-link":null,"::selection":null},r={keyframes:"name",viewport:null,document:'regexp(".")'};n.selectors=[],n.atrules=[];var o,s=t.appendChild(document.createElement("style"));for(o in i){var a=o+(i[o]?"("+i[o]+")":"");!e(a)&&e(n.prefixSelector(a))&&n.selectors.push(o)}for(var l in r)!e("@"+(a=l+" "+(r[l]||"")))&&e("@"+n.prefix+a)&&n.atrules.push(l);t.removeChild(s)}(),n.valueProperties=["transition","transition-property"],t.className+=" "+n.prefix,StyleFix.register(n.prefixCSS)}}(document.documentElement)},9661:function(module){var CryptoJS=CryptoJS||function(t,e){var n={},i=n.lib={},r=i.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.$super.extend(this)}}}(),o=i.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;t=t.sigBytes;if(this.clamp(),i%4)for(var r=0;r<t;r++)e[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<t;r+=4)e[i+r>>>2]=n[r>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return o.create(n,e)}}),s=n.enc={},a=s.Hex={stringify:function(t){for(var e=t.words,n=(t=t.sigBytes,[]),i=0;i<t;i++){var r=e[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return o.create(n,e/2)}},l=s.Latin1={stringify:function(t){for(var e=t.words,n=(t=t.sigBytes,[]),i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return o.create(n,e)}},u=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},c=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=o.create(),this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,r=n.sigBytes,s=this.blockSize,a=r/(4*s);e=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,r=t.min(4*e,r);if(e){for(var l=0;l<e;l+=s)this._doProcessBlock(i,l);l=i.splice(0,e),n.sigBytes-=r}return o.create(l,r)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=c.extend({init:function(){this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize(),this._hash},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:16,_createHelper:function(t){return function(e,n){return t.create(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return h.HMAC.create(t,n).finalize(e)}}});var h=n.algo={};return n}(Math),i,p,m,h,n,C,WordArray,TinCan;i=CryptoJS,p=(m=i.lib).WordArray,m=m.Hasher,h=[],n=i.algo.SHA1=m.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=0;80>l;l++){if(16>l)h[l]=0|t[e+l];else{var u=h[l-3]^h[l-8]^h[l-14]^h[l-16];h[l]=u<<1|u>>>31}u=(i<<5|i>>>27)+a+h[l],u=20>l?u+(1518500249+(r&o|~r&s)):40>l?u+(1859775393+(r^o^s)):60>l?u+((r&o|r&s|o&s)-1894007588):u+((r^o^s)-899497514),a=s,s=o,o=r<<30|r>>>2,r=i,i=u}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[15+(i+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process()}}),i.SHA1=m._createHelper(n),i.HmacSHA1=m._createHmacHelper(n),C=CryptoJS,WordArray=C.lib.WordArray,C.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var r=[],o=0;o<n;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)r.push(i.charAt(s>>>6*(3-a)&63));var l=i.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(t){var e=(t=t.replace(/\s/g,"")).length,n=this._map,i=n.charAt(64);if(i){var r=t.indexOf(i);-1!=r&&(e=r)}for(var o=[],s=0,a=0;a<e;a++)if(a%4){var l=n.indexOf(t.charAt(a-1))<<a%4*2,u=n.indexOf(t.charAt(a))>>>6-a%4*2;o[s>>>2]|=(l|u)<<24-s%4*8,s++}return WordArray.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(){"use strict";var t={statementId:!0,voidedStatementId:!0,verb:!0,object:!0,registration:!0,context:!0,actor:!0,since:!0,until:!0,limit:!0,authoritative:!0,sparse:!0,instructor:!0,ascending:!0,continueToken:!0,agent:!0,activityId:!0,stateId:!0,profileId:!0,activity_platform:!0,grouping:!0,"Accept-Language":!0};(TinCan=function(t){this.log("constructor"),this.recordStores=[],this.actor=null,this.activity=null,this.registration=null,this.context=null,this.init(t)}).prototype={LOG_SRC:"TinCan",log:function(t,e){TinCan.DEBUG&&"undefined"!=typeof console&&console.log&&(e=e||this.LOG_SRC||"TinCan",console.log("TinCan."+e+": "+t))},init:function(t){var e;if(this.log("init"),(t=t||{}).hasOwnProperty("url")&&""!==t.url&&this._initFromQueryString(t.url),t.hasOwnProperty("recordStores")&&void 0!==t.recordStores)for(e=0;e<t.recordStores.length;e+=1)this.addRecordStore(t.recordStores[e]);t.hasOwnProperty("activity")&&(t.activity instanceof TinCan.Activity?this.activity=t.activity:this.activity=new TinCan.Activity(t.activity)),t.hasOwnProperty("actor")&&(t.actor instanceof TinCan.Agent?this.actor=t.actor:this.actor=new TinCan.Agent(t.actor)),t.hasOwnProperty("context")&&(t.context instanceof TinCan.Context?this.context=t.context:this.context=new TinCan.Context(t.context)),t.hasOwnProperty("registration")&&(this.registration=t.registration)},_initFromQueryString:function(e){this.log("_initFromQueryString");var n,i,r,o=TinCan.Utils.parseURL(e).params,s=["endpoint","auth"],a={},l=null;if(o.hasOwnProperty("actor")){this.log("_initFromQueryString - found actor: "+o.actor);try{this.actor=TinCan.Agent.fromJSON(o.actor),delete o.actor}catch(t){this.log("_initFromQueryString - failed to set actor: "+t)}}if(o.hasOwnProperty("activity_id")&&(this.activity=new TinCan.Activity({id:o.activity_id}),delete o.activity_id),(o.hasOwnProperty("activity_platform")||o.hasOwnProperty("registration")||o.hasOwnProperty("grouping"))&&(r={},o.hasOwnProperty("activity_platform")&&(r.platform=o.activity_platform,delete o.activity_platform),o.hasOwnProperty("registration")&&(r.registration=this.registration=o.registration,delete o.registration),o.hasOwnProperty("grouping")&&(r.contextActivities={},r.contextActivities.grouping=o.grouping,delete o.grouping),this.context=new TinCan.Context(r)),o.hasOwnProperty("endpoint")){for(n=0;n<s.length;n+=1)i=s[n],o.hasOwnProperty(i)&&(a[i]=o[i],delete o[i]);for(n in o)o.hasOwnProperty(n)&&(t.hasOwnProperty(n)?delete o[n]:(l=l||{})[n]=o[n]);null!==l&&(a.extended=l),a.allowFail=!1,this.addRecordStore(a)}},addRecordStore:function(t){var e;this.log("addRecordStore"),e=t instanceof TinCan.LRS?t:new TinCan.LRS(t),this.recordStores.push(e)},prepareStatement:function(t){return this.log("prepareStatement"),t instanceof TinCan.Statement||(t=new TinCan.Statement(t)),null===t.actor&&null!==this.actor&&(t.actor=this.actor),null===t.target&&null!==this.activity&&(t.target=this.activity),null!==this.context&&(null===t.context?t.context=this.context:(null===t.context.registration&&(t.context.registration=this.context.registration),null===t.context.platform&&(t.context.platform=this.context.platform),null!==this.context.contextActivities&&(null===t.context.contextActivities?t.context.contextActivities=this.context.contextActivities:(null!==this.context.contextActivities.grouping&&null===t.context.contextActivities.grouping&&(t.context.contextActivities.grouping=this.context.contextActivities.grouping),null!==this.context.contextActivities.parent&&null===t.context.contextActivities.parent&&(t.context.contextActivities.parent=this.context.contextActivities.parent),null!==this.context.contextActivities.other&&null===t.context.contextActivities.other&&(t.context.contextActivities.other=this.context.contextActivities.other))))),t},sendStatement:function(t,e){this.log("sendStatement");var n,i,r,o=this,s=this.prepareStatement(t),a=this.recordStores.length,l=[],u=[];if(a>0)for("function"==typeof e&&(r=function(t,n){var i;o.log("sendStatement - callbackWrapper: "+a),a>1?(a-=1,u.push({err:t,xhr:n})):1===a?(u.push({err:t,xhr:n}),i=[u,s],e.apply(this,i)):o.log("sendStatement - unexpected record store count: "+a)}),i=0;i<a;i+=1)n=this.recordStores[i],l.push(n.saveStatement(s,{callback:r}));else this.log("[warning] sendStatement: No LRSs added yet (statement not sent)"),"function"==typeof e&&e.apply(this,[null,s]);return{statement:s,results:l}},getStatement:function(t,e){if(this.log("getStatement"),this.recordStores.length>0)return this.recordStores[0].retrieveStatement(t,{callback:e});this.log("[warning] getStatement: No LRSs added yet (statement not retrieved)")},voidStatement:function(t,e,n){this.log("voidStatement");var i,r,o,s,a,l=this,u=this.recordStores.length,c=[],h=[];if(t instanceof TinCan.Statement&&(t=t.id),void 0!==n.actor?r=n.actor:null!==this.actor&&(r=this.actor),o=new TinCan.Statement({actor:r,verb:{id:"http://adlnet.gov/expapi/verbs/voided"},target:{objectType:"StatementRef",id:t}}),u>0)for("function"==typeof e&&(a=function(t,n){var i;l.log("voidStatement - callbackWrapper: "+u),u>1?(u-=1,h.push({err:t,xhr:n})):1===u?(h.push({err:t,xhr:n}),i=[h,o],e.apply(this,i)):l.log("voidStatement - unexpected record store count: "+u)}),s=0;s<u;s+=1)i=this.recordStores[s],c.push(i.saveStatement(o,{callback:a}));else this.log("[warning] voidStatement: No LRSs added yet (statement not sent)"),"function"==typeof e&&e.apply(this,[null,o]);return{statement:o,results:c}},getVoidedStatement:function(t,e){if(this.log("getVoidedStatement"),this.recordStores.length>0)return this.recordStores[0].retrieveVoidedStatement(t,{callback:e});this.log("[warning] getVoidedStatement: No LRSs added yet (statement not retrieved)")},sendStatements:function(t,e){this.log("sendStatements");var n,i,r,o=this,s=[],a=this.recordStores.length,l=[],u=[];if(0===t.length)"function"==typeof e&&e.apply(this,[null,s]);else{for(i=0;i<t.length;i+=1)s.push(this.prepareStatement(t[i]));if(a>0)for("function"==typeof e&&(r=function(t,n){var i;o.log("sendStatements - callbackWrapper: "+a),a>1?(a-=1,u.push({err:t,xhr:n})):1===a?(u.push({err:t,xhr:n}),i=[u,s],e.apply(this,i)):o.log("sendStatements - unexpected record store count: "+a)}),i=0;i<a;i+=1)n=this.recordStores[i],l.push(n.saveStatements(s,{callback:r}));else this.log("[warning] sendStatements: No LRSs added yet (statements not sent)"),"function"==typeof e&&e.apply(this,[null,s])}return{statements:s,results:l}},getStatements:function(t){this.log("getStatements");var e,n,i={};if(this.recordStores.length>0)return e=this.recordStores[0],n=(t=t||{}).params||{},t.sendActor&&null!==this.actor&&("0.9"===e.version||"0.95"===e.version?n.actor=this.actor:n.agent=this.actor),t.sendActivity&&null!==this.activity&&("0.9"===e.version||"0.95"===e.version?n.target=this.activity:n.activity=this.activity),void 0===n.registration&&null!==this.registration&&(n.registration=this.registration),i={params:n},void 0!==t.callback&&(i.callback=t.callback),e.queryStatements(i);this.log("[warning] getStatements: No LRSs added yet (statements not read)")},getState:function(t,e){var n,i;if(this.log("getState"),this.recordStores.length>0)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor,activity:void 0!==e.activity?e.activity:this.activity},void 0!==e.registration?n.registration=e.registration:null!==this.registration&&(n.registration=this.registration),void 0!==e.callback&&(n.callback=e.callback),i.retrieveState(t,n);this.log("[warning] getState: No LRSs added yet (state not retrieved)")},setState:function(t,e,n){var i,r;if(this.log("setState"),this.recordStores.length>0)return r=this.recordStores[0],i={agent:void 0!==(n=n||{}).agent?n.agent:this.actor,activity:void 0!==n.activity?n.activity:this.activity},void 0!==n.registration?i.registration=n.registration:null!==this.registration&&(i.registration=this.registration),void 0!==n.lastSHA1&&(i.lastSHA1=n.lastSHA1),void 0!==n.contentType&&(i.contentType=n.contentType,void 0!==n.overwriteJSON&&!n.overwriteJSON&&TinCan.Utils.isApplicationJSON(n.contentType)&&(i.method="POST")),void 0!==n.callback&&(i.callback=n.callback),r.saveState(t,e,i);this.log("[warning] setState: No LRSs added yet (state not saved)")},deleteState:function(t,e){var n,i;if(this.log("deleteState"),this.recordStores.length>0)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor,activity:void 0!==e.activity?e.activity:this.activity},void 0!==e.registration?n.registration=e.registration:null!==this.registration&&(n.registration=this.registration),void 0!==e.callback&&(n.callback=e.callback),i.dropState(t,n);this.log("[warning] deleteState: No LRSs added yet (state not deleted)")},getActivityProfile:function(t,e){var n,i;if(this.log("getActivityProfile"),this.recordStores.length>0)return i=this.recordStores[0],n={activity:void 0!==(e=e||{}).activity?e.activity:this.activity},void 0!==e.callback&&(n.callback=e.callback),i.retrieveActivityProfile(t,n);this.log("[warning] getActivityProfile: No LRSs added yet (activity profile not retrieved)")},setActivityProfile:function(t,e,n){var i,r;if(this.log("setActivityProfile"),this.recordStores.length>0)return r=this.recordStores[0],i={activity:void 0!==(n=n||{}).activity?n.activity:this.activity},void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&(i.lastSHA1=n.lastSHA1),void 0!==n.contentType&&(i.contentType=n.contentType,void 0!==n.overwriteJSON&&!n.overwriteJSON&&TinCan.Utils.isApplicationJSON(n.contentType)&&(i.method="POST")),r.saveActivityProfile(t,e,i);this.log("[warning] setActivityProfile: No LRSs added yet (activity profile not saved)")},deleteActivityProfile:function(t,e){var n,i;if(this.log("deleteActivityProfile"),this.recordStores.length>0)return i=this.recordStores[0],n={activity:void 0!==(e=e||{}).activity?e.activity:this.activity},void 0!==e.callback&&(n.callback=e.callback),i.dropActivityProfile(t,n);this.log("[warning] deleteActivityProfile: No LRSs added yet (activity profile not deleted)")},getAgentProfile:function(t,e){var n,i;if(this.log("getAgentProfile"),this.recordStores.length>0)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor},void 0!==e.callback&&(n.callback=e.callback),i.retrieveAgentProfile(t,n);this.log("[warning] getAgentProfile: No LRSs added yet (agent profile not retrieved)")},setAgentProfile:function(t,e,n){var i,r;if(this.log("setAgentProfile"),this.recordStores.length>0)return r=this.recordStores[0],i={agent:void 0!==(n=n||{}).agent?n.agent:this.actor},void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&(i.lastSHA1=n.lastSHA1),void 0!==n.contentType&&(i.contentType=n.contentType,void 0!==n.overwriteJSON&&!n.overwriteJSON&&TinCan.Utils.isApplicationJSON(n.contentType)&&(i.method="POST")),r.saveAgentProfile(t,e,i);this.log("[warning] setAgentProfile: No LRSs added yet (agent profile not saved)")},deleteAgentProfile:function(t,e){var n,i;if(this.log("deleteAgentProfile"),this.recordStores.length>0)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor},void 0!==e.callback&&(n.callback=e.callback),i.dropAgentProfile(t,n);this.log("[warning] deleteAgentProfile: No LRSs added yet (agent profile not deleted)")}},TinCan.DEBUG=!1,TinCan.enableDebug=function(){TinCan.DEBUG=!0},TinCan.disableDebug=function(){TinCan.DEBUG=!1},TinCan.versions=function(){return["1.0.1","1.0.0","0.95","0.9"]},module.exports=TinCan}(),function(){"use strict";TinCan.Utils={getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},getISODateString:function(t){function e(t,e){var n,i;for(null==t&&(t=0),null==e&&(e=2),n=Math.pow(10,e-1),i=t.toString();t<n&&n>1;)i="0"+i,n/=10;return i}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+e(t.getUTCMilliseconds(),3)+"Z"},convertISO8601DurationToMilliseconds:function(t){var e,n,i,r,o=t.indexOf("-")>=0,s=t.indexOf("T"),a=t.indexOf("H"),l=t.indexOf("M"),u=t.indexOf("S");if(-1===s||-1!==l&&l<s||-1!==t.indexOf("D")||-1!==t.indexOf("Y"))throw new Error("ISO 8601 timestamps including years, months and/or days are not currently supported");return-1===a?(a=s,e=0):e=parseInt(t.slice(s+1,a),10),-1===l?(l=s,n=0):n=parseInt(t.slice(a+1,l),10),i=parseFloat(t.slice(l+1,u)),r=parseInt(1e3*(60*(60*e+n)+i),10),isNaN(r)&&(r=0),o&&(r*=-1),r},convertMillisecondsToISO8601Duration:function(t){var e,n,i=parseInt(t,10),r="",o="";return i<0&&(r="-",i*=-1),o=r+"PT",(e=parseInt(i/36e5,10))>0&&(o+=e+"H"),(n=parseInt(i%36e5/6e4,10))>0&&(o+=n+"M"),o+=i%36e5%6e4/1e3+"S"},getSHA1String:function(t){return CryptoJS.SHA1(t).toString(CryptoJS.enc.Hex)},getBase64String:function(t){return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Latin1.parse(t))},getLangDictionaryValue:function(t,e){var n,i=this[t];if(void 0!==e&&void 0!==i[e])return i[e];if(void 0!==i.und)return i.und;if(void 0!==i["en-US"])return i["en-US"];for(n in i)if(i.hasOwnProperty(n))return i[n];return""},parseURL:function(t){var e,n,i,r,o=/\+/g,s=/([^&=]+)=?([^&]*)/g,a=function(t){return decodeURIComponent(t.replace(o," "))};if(e=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),(i={protocol:(n=t.match(e))[1],host:n[2],hostname:n[3],port:n[4],pathname:n[5],search:n[6],hash:n[7],params:{}}).path=i.protocol+"//"+i.host+i.pathname,""!==i.search)for(;r=s.exec(i.search.substring(1));)i.params[a(r[1])]=a(r[2]);return i},getServerRoot:function(t){var e=t.split("/");return e[0]+"//"+e[2]},getContentTypeFromHeader:function(t){return String(t).split(";")[0]},isApplicationJSON:function(t){return 0===TinCan.Utils.getContentTypeFromHeader(t).toLowerCase().indexOf("application/json")}}}(),function(){"use strict";var t=TinCan.LRS=function(t){this.log("constructor"),this.endpoint=null,this.version=null,this.auth=null,this.allowFail=!0,this.extended=null,this.init(t)};t.prototype={LOG_SRC:"LRS",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=TinCan.versions(),i=!1;if((t=t||{}).hasOwnProperty("alertOnRequestFailure")&&this.log("'alertOnRequestFailure' is deprecated (alerts have been removed) no need to set it now"),!t.hasOwnProperty("endpoint")||null===t.endpoint||""===t.endpoint)throw this.log("[error] LRS invalid: no endpoint"),{code:3,mesg:"LRS invalid: no endpoint"};if(this.endpoint=String(t.endpoint),"/"!==this.endpoint.slice(-1)&&(this.log("adding trailing slash to endpoint"),this.endpoint+="/"),t.hasOwnProperty("allowFail")&&(this.allowFail=t.allowFail),t.hasOwnProperty("auth")?this.auth=t.auth:t.hasOwnProperty("username")&&t.hasOwnProperty("password")&&(this.auth="Basic "+TinCan.Utils.getBase64String(t.username+":"+t.password)),t.hasOwnProperty("extended")&&(this.extended=t.extended),this._initByEnvironment(t),void 0!==t.version){for(this.log("version: "+t.version),e=0;e<n.length;e+=1)if(n[e]===t.version){i=!0;break}if(!i)throw this.log("[error] LRS invalid: version not supported ("+t.version+")"),{code:5,mesg:"LRS invalid: version not supported ("+t.version+")"};this.version=t.version}else this.version=n[0]},_initByEnvironment:function(){this.log("_initByEnvironment not overloaded - no environment loaded?")},_makeRequest:function(){this.log("_makeRequest not overloaded - no environment loaded?")},_IEModeConversion:function(){this.log("_IEModeConversion not overloaded - browser environment not loaded.")},sendRequest:function(t){this.log("sendRequest");var e,n=this.endpoint+t.url,i={};if(0===t.url.indexOf("http")&&(n=t.url),null!==this.extended)for(e in t.params=t.params||{},this.extended)this.extended.hasOwnProperty(e)&&(t.params.hasOwnProperty(e)||null!==this.extended[e]&&(t.params[e]=this.extended[e]));for(e in i.Authorization=this.auth,"0.9"!==this.version&&(i["X-Experience-API-Version"]=this.version),t.headers)t.headers.hasOwnProperty(e)&&(i[e]=t.headers[e]);return this._makeRequest(n,i,t)},about:function(t){var e,n,i;if(this.log("about"),e={url:"about",method:"GET",params:{}},void 0!==(t=t||{}).callback&&(i=function(e,n){var i=n;null===e&&(i=TinCan.About.fromJSON(n.responseText)),t.callback(e,i)},e.callback=i),n=this.sendRequest(e),!i)return null===n.err&&(n.xhr=TinCan.About.fromJSON(n.xhr.responseText)),n},saveStatement:function(t,e){var n,i;this.log("saveStatement"),e=e||{};try{i=t.asVersion(this.version)}catch(t){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(t,null):{err:t,xhr:null})}return n={url:"statements",data:JSON.stringify(i),headers:{"Content-Type":"application/json"}},null!==t.id?(n.method="PUT",n.params={statementId:t.id}):n.method="POST",void 0!==e.callback&&(n.callback=e.callback),this.sendRequest(n)},retrieveStatement:function(t,e){var n,i,r;return this.log("retrieveStatement"),n={url:"statements",method:"GET",params:{statementId:t}},void 0!==(e=e||{}).callback&&(r=function(t,n){var i=n;null===t&&(i=TinCan.Statement.fromJSON(n.responseText)),e.callback(t,i)},n.callback=r),i=this.sendRequest(n),r||(i.statement=null,null===i.err&&(i.statement=TinCan.Statement.fromJSON(i.xhr.responseText))),i},retrieveVoidedStatement:function(t,e){var n,i,r;return this.log("retrieveVoidedStatement"),e=e||{},n={url:"statements",method:"GET",params:{}},"0.9"===this.version||"0.95"===this.version?n.params.statementId=t:n.params.voidedStatementId=t,void 0!==e.callback&&(r=function(t,n){var i=n;null===t&&(i=TinCan.Statement.fromJSON(n.responseText)),e.callback(t,i)},n.callback=r),i=this.sendRequest(n),r||(i.statement=null,null===i.err&&(i.statement=TinCan.Statement.fromJSON(i.xhr.responseText))),i},saveStatements:function(t,e){this.log("saveStatements");var n,i,r,o=[];if(e=e||{},0===t.length)return void 0!==e.callback?void e.callback(new Error("no statements"),null):{err:new Error("no statements"),xhr:null};for(r=0;r<t.length;r+=1){try{i=t[r].asVersion(this.version)}catch(t){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(t,null):{err:t,xhr:null})}o.push(i)}return n={url:"statements",method:"POST",data:JSON.stringify(o),headers:{"Content-Type":"application/json"}},void 0!==e.callback&&(n.callback=e.callback),this.sendRequest(n)},queryStatements:function(t){var e,n,i;this.log("queryStatements"),(t=t||{}).params=t.params||{};try{e=this._queryStatementsRequestCfg(t)}catch(e){return this.log("[error] Query statements failed - "+e),void 0!==t.callback&&t.callback(e,{}),{err:e,statementsResult:null}}return void 0!==t.callback&&(i=function(e,n){var i=n;null===e&&(i=TinCan.StatementsResult.fromJSON(n.responseText)),t.callback(e,i)},e.callback=i),(n=this.sendRequest(e)).config=e,i||(n.statementsResult=null,null===n.err&&(n.statementsResult=TinCan.StatementsResult.fromJSON(n.xhr.responseText))),n},_queryStatementsRequestCfg:function(t){this.log("_queryStatementsRequestCfg");var e,n,i={},r={url:"statements",method:"GET",params:i},o=["agent","actor","object","instructor"],s=["verb","activity"],a=["registration","context","since","until","limit","authoritative","sparse","ascending","related_activities","related_agents","format","attachments"],l={verb:!0,registration:!0,since:!0,until:!0,limit:!0,ascending:!0},u={.9:{supported:{actor:!0,instructor:!0,target:!0,object:!0,context:!0,authoritative:!0,sparse:!0}},"1.0.0":{supported:{agent:!0,activity:!0,related_activities:!0,related_agents:!0,format:!0,attachments:!0}}};for(n in u[.95]=u[.9],u["1.0.1"]=u["1.0.0"],t.params.hasOwnProperty("target")&&(t.params.object=t.params.target),t.params)if(t.params.hasOwnProperty(n)&&void 0===l[n]&&void 0===u[this.version].supported[n])throw"Unrecognized query parameter configured: "+n;for(e=0;e<o.length;e+=1)void 0!==t.params[o[e]]&&(i[o[e]]=JSON.stringify(t.params[o[e]].asVersion(this.version)));for(e=0;e<s.length;e+=1)void 0!==t.params[s[e]]&&(i[s[e]]=t.params[s[e]].id);for(e=0;e<a.length;e+=1)void 0!==t.params[a[e]]&&(i[a[e]]=t.params[a[e]]);return r},moreStatements:function(t){var e,n,i,r,o;return this.log("moreStatements: "+t.url),t=t||{},r=TinCan.Utils.parseURL(t.url),o=TinCan.Utils.getServerRoot(this.endpoint),0===r.path.indexOf("/statements")&&(r.path=this.endpoint.replace(o,"")+r.path,this.log("converting non-standard more URL to "+r.path)),0!==r.path.indexOf("/")&&(r.path="/"+r.path),e={method:"GET",url:o+r.path,params:r.params},void 0!==t.callback&&(i=function(e,n){var i=n;null===e&&(i=TinCan.StatementsResult.fromJSON(n.responseText)),t.callback(e,i)},e.callback=i),(n=this.sendRequest(e)).config=e,i||(n.statementsResult=null,null===n.err&&(n.statementsResult=TinCan.StatementsResult.fromJSON(n.xhr.responseText))),n},retrieveState:function(t,e){this.log("retrieveState");var n,i,r={},o={};if(r={stateId:t,activityId:e.activity.id},"0.9"===this.version?r.actor=JSON.stringify(e.agent.asVersion(this.version)):r.agent=JSON.stringify(e.agent.asVersion(this.version)),void 0!==e.registration&&null!==e.registration&&("0.9"===this.version?r.registrationId=e.registration:r.registration=e.registration),o={url:"activities/state",method:"GET",params:r,ignore404:!0},void 0!==e.callback&&(i=function(n,i){var r=i;if(null===n)if(404===i.status)r=null;else if(r=new TinCan.State({id:t,contents:i.responseText}),void 0!==i.getResponseHeader&&null!==i.getResponseHeader("ETag")&&""!==i.getResponseHeader("ETag")?r.etag=i.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(i.responseText),void 0!==i.contentType?r.contentType=i.contentType:void 0!==i.getResponseHeader&&null!==i.getResponseHeader("Content-Type")&&""!==i.getResponseHeader("Content-Type")&&(r.contentType=i.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(t){this.log("retrieveState - failed to deserialize JSON: "+t)}e.callback(n,r)},o.callback=i),n=this.sendRequest(o),!i&&(n.state=null,null===n.err&&404!==n.xhr.status&&(n.state=new TinCan.State({id:t,contents:n.xhr.responseText}),void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("ETag")&&""!==n.xhr.getResponseHeader("ETag")?n.state.etag=n.xhr.getResponseHeader("ETag"):n.state.etag=TinCan.Utils.getSHA1String(n.xhr.responseText),void 0!==n.xhr.contentType?n.state.contentType=n.xhr.contentType:void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("Content-Type")&&""!==n.xhr.getResponseHeader("Content-Type")&&(n.state.contentType=n.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(n.state.contentType))))try{n.state.contents=JSON.parse(n.state.contents)}catch(t){this.log("retrieveState - failed to deserialize JSON: "+t)}return n},saveState:function(t,e,n){var i,r;return this.log("saveState"),void 0===n.contentType&&(n.contentType="application/octet-stream"),"object"==typeof e&&TinCan.Utils.isApplicationJSON(n.contentType)&&(e=JSON.stringify(e)),void 0!==n.method&&"POST"===n.method||(n.method="PUT"),i={stateId:t,activityId:n.activity.id},"0.9"===this.version?i.actor=JSON.stringify(n.agent.asVersion(this.version)):i.agent=JSON.stringify(n.agent.asVersion(this.version)),void 0!==n.registration&&null!==n.registration&&("0.9"===this.version?i.registrationId=n.registration:i.registration=n.registration),r={url:"activities/state",method:n.method,params:i,data:e,headers:{"Content-Type":n.contentType}},void 0!==n.callback&&(r.callback=n.callback),void 0!==n.lastSHA1&&null!==n.lastSHA1&&(r.headers["If-Match"]=n.lastSHA1),this.sendRequest(r)},dropState:function(t,e){var n,i;return this.log("dropState"),n={activityId:e.activity.id},"0.9"===this.version?n.actor=JSON.stringify(e.agent.asVersion(this.version)):n.agent=JSON.stringify(e.agent.asVersion(this.version)),null!==t&&(n.stateId=t),void 0!==e.registration&&null!==e.registration&&("0.9"===this.version?n.registrationId=e.registration:n.registration=e.registration),i={url:"activities/state",method:"DELETE",params:n},void 0!==e.callback&&(i.callback=e.callback),this.sendRequest(i)},retrieveActivityProfile:function(t,e){this.log("retrieveActivityProfile");var n,i,r={};if(r={url:"activities/profile",method:"GET",params:{profileId:t,activityId:e.activity.id},ignore404:!0},void 0!==e.callback&&(i=function(n,i){var r=i;if(null===n)if(404===i.status)r=null;else if(r=new TinCan.ActivityProfile({id:t,activity:e.activity,contents:i.responseText}),void 0!==i.getResponseHeader&&null!==i.getResponseHeader("ETag")&&""!==i.getResponseHeader("ETag")?r.etag=i.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(i.responseText),void 0!==i.contentType?r.contentType=i.contentType:void 0!==i.getResponseHeader&&null!==i.getResponseHeader("Content-Type")&&""!==i.getResponseHeader("Content-Type")&&(r.contentType=i.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(t){this.log("retrieveActivityProfile - failed to deserialize JSON: "+t)}e.callback(n,r)},r.callback=i),n=this.sendRequest(r),!i&&(n.profile=null,null===n.err&&404!==n.xhr.status&&(n.profile=new TinCan.ActivityProfile({id:t,activity:e.activity,contents:n.xhr.responseText}),void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("ETag")&&""!==n.xhr.getResponseHeader("ETag")?n.profile.etag=n.xhr.getResponseHeader("ETag"):n.profile.etag=TinCan.Utils.getSHA1String(n.xhr.responseText),void 0!==n.xhr.contentType?n.profile.contentType=n.xhr.contentType:void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("Content-Type")&&""!==n.xhr.getResponseHeader("Content-Type")&&(n.profile.contentType=n.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(n.profile.contentType))))try{n.profile.contents=JSON.parse(n.profile.contents)}catch(t){this.log("retrieveActivityProfile - failed to deserialize JSON: "+t)}return n},saveActivityProfile:function(t,e,n){var i;return this.log("saveActivityProfile"),void 0===n.contentType&&(n.contentType="application/octet-stream"),void 0!==n.method&&"POST"===n.method||(n.method="PUT"),"object"==typeof e&&TinCan.Utils.isApplicationJSON(n.contentType)&&(e=JSON.stringify(e)),i={url:"activities/profile",method:n.method,params:{profileId:t,activityId:n.activity.id},data:e,headers:{"Content-Type":n.contentType}},void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&null!==n.lastSHA1?i.headers["If-Match"]=n.lastSHA1:i.headers["If-None-Match"]="*",this.sendRequest(i)},dropActivityProfile:function(t,e){var n;return this.log("dropActivityProfile"),n={url:"activities/profile",method:"DELETE",params:{profileId:t,activityId:e.activity.id}},void 0!==e.callback&&(n.callback=e.callback),this.sendRequest(n)},retrieveAgentProfile:function(t,e){this.log("retrieveAgentProfile");var n,i,r={};if(r={method:"GET",params:{profileId:t},ignore404:!0},"0.9"===this.version?(r.url="actors/profile",r.params.actor=JSON.stringify(e.agent.asVersion(this.version))):(r.url="agents/profile",r.params.agent=JSON.stringify(e.agent.asVersion(this.version))),void 0!==e.callback&&(i=function(n,i){var r=i;if(null===n)if(404===i.status)r=null;else if(r=new TinCan.AgentProfile({id:t,agent:e.agent,contents:i.responseText}),void 0!==i.getResponseHeader&&null!==i.getResponseHeader("ETag")&&""!==i.getResponseHeader("ETag")?r.etag=i.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(i.responseText),void 0!==i.contentType?r.contentType=i.contentType:void 0!==i.getResponseHeader&&null!==i.getResponseHeader("Content-Type")&&""!==i.getResponseHeader("Content-Type")&&(r.contentType=i.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(t){this.log("retrieveAgentProfile - failed to deserialize JSON: "+t)}e.callback(n,r)},r.callback=i),n=this.sendRequest(r),!i&&(n.profile=null,null===n.err&&404!==n.xhr.status&&(n.profile=new TinCan.AgentProfile({id:t,agent:e.agent,contents:n.xhr.responseText}),void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("ETag")&&""!==n.xhr.getResponseHeader("ETag")?n.profile.etag=n.xhr.getResponseHeader("ETag"):n.profile.etag=TinCan.Utils.getSHA1String(n.xhr.responseText),void 0!==n.xhr.contentType?n.profile.contentType=n.xhr.contentType:void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("Content-Type")&&""!==n.xhr.getResponseHeader("Content-Type")&&(n.profile.contentType=n.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(n.profile.contentType))))try{n.profile.contents=JSON.parse(n.profile.contents)}catch(t){this.log("retrieveAgentProfile - failed to deserialize JSON: "+t)}return n},saveAgentProfile:function(t,e,n){var i;return this.log("saveAgentProfile"),void 0===n.contentType&&(n.contentType="application/octet-stream"),void 0!==n.method&&"POST"===n.method||(n.method="PUT"),"object"==typeof e&&TinCan.Utils.isApplicationJSON(n.contentType)&&(e=JSON.stringify(e)),i={method:n.method,params:{profileId:t},data:e,headers:{"Content-Type":n.contentType}},"0.9"===this.version?(i.url="actors/profile",i.params.actor=JSON.stringify(n.agent.asVersion(this.version))):(i.url="agents/profile",i.params.agent=JSON.stringify(n.agent.asVersion(this.version))),void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&null!==n.lastSHA1?i.headers["If-Match"]=n.lastSHA1:i.headers["If-None-Match"]="*",this.sendRequest(i)},dropAgentProfile:function(t,e){var n,i;return this.log("dropAgentProfile"),i={method:"DELETE",params:n={profileId:t}},"0.9"===this.version?(i.url="actors/profile",n.actor=JSON.stringify(e.agent.asVersion(this.version))):(i.url="agents/profile",n.agent=JSON.stringify(e.agent.asVersion(this.version))),void 0!==e.callback&&(i.callback=e.callback),this.sendRequest(i)}},t.syncEnabled=null}(),function(){"use strict";var t=TinCan.AgentAccount=function(t){this.log("constructor"),this.homePage=null,this.name=null,this.init(t)};t.prototype={LOG_SRC:"AgentAccount",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["name","homePage"];for(void 0!==(t=t||{}).accountServiceHomePage&&(t.homePage=t.accountServiceHomePage),void 0!==t.accountName&&(t.name=t.accountName),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(){this.log("toString");var t="";return null!==this.name||null!==this.homePage?(t+=null!==this.name?this.name:"-",t+=":",t+=null!==this.homePage?this.homePage:"-"):t="AgentAccount: unidentified",t},asVersion:function(t){this.log("asVersion: "+t);var e={};return"0.9"===(t=t||TinCan.versions()[0])?(e.accountName=this.name,e.accountServiceHomePage=this.homePage):(e.name=this.name,e.homePage=this.homePage),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Agent=function(t){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.degraded=!1,this.init(t)};t.prototype={objectType:"Agent",LOG_SRC:"Agent",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i=["name","mbox","mbox_sha1sum","openid"];for(void 0!==(t=t||{}).lastName||void 0!==t.firstName?(t.name="",void 0!==t.firstName&&t.firstName.length>0&&(t.name=t.firstName[0],t.firstName.length>1&&(this.degraded=!0)),""!==t.name&&(t.name+=" "),void 0!==t.lastName&&t.lastName.length>0&&(t.name+=t.lastName[0],t.lastName.length>1&&(this.degraded=!0))):void 0===t.familyName&&void 0===t.givenName||(t.name="",void 0!==t.givenName&&t.givenName.length>0&&(t.name=t.givenName[0],t.givenName.length>1&&(this.degraded=!0)),""!==t.name&&(t.name+=" "),void 0!==t.familyName&&t.familyName.length>0&&(t.name+=t.familyName[0],t.familyName.length>1&&(this.degraded=!0))),"object"==typeof t.name&&null!==t.name&&(t.name.length>1&&(this.degraded=!0),t.name=t.name[0]),"object"==typeof t.mbox&&null!==t.mbox&&(t.mbox.length>1&&(this.degraded=!0),t.mbox=t.mbox[0]),"object"==typeof t.mbox_sha1sum&&null!==t.mbox_sha1sum&&(t.mbox_sha1sum.length>1&&(this.degraded=!0),t.mbox_sha1sum=t.mbox_sha1sum[0]),"object"==typeof t.openid&&null!==t.openid&&(t.openid.length>1&&(this.degraded=!0),t.openid=t.openid[0]),"object"==typeof t.account&&null!==t.account&&void 0===t.account.homePage&&void 0===t.account.name&&(0===t.account.length?delete t.account:(t.account.length>1&&(this.degraded=!0),t.account=t.account[0])),t.hasOwnProperty("account")&&(t.account instanceof TinCan.AgentAccount?this.account=t.account:this.account=new TinCan.AgentAccount(t.account)),e=0;e<i.length;e+=1)t.hasOwnProperty(i[e])&&null!==t[i[e]]&&(n=t[i[e]],"mbox"===i[e]&&-1===n.indexOf("mailto:")&&(n="mailto:"+n),this[i[e]]=n)},toString:function(){return this.log("toString"),null!==this.name?this.name:null!==this.mbox?this.mbox.replace("mailto:",""):null!==this.mbox_sha1sum?this.mbox_sha1sum:null!==this.openid?this.openid:null!==this.account?this.account.toString():this.objectType+": unidentified"},asVersion:function(t){this.log("asVersion: "+t);var e={objectType:this.objectType};return"0.9"===(t=t||TinCan.versions()[0])?(null!==this.mbox?e.mbox=[this.mbox]:null!==this.mbox_sha1sum?e.mbox_sha1sum=[this.mbox_sha1sum]:null!==this.openid?e.openid=[this.openid]:null!==this.account&&(e.account=[this.account.asVersion(t)]),null!==this.name&&(e.name=[this.name])):(null!==this.mbox?e.mbox=this.mbox:null!==this.mbox_sha1sum?e.mbox_sha1sum=this.mbox_sha1sum:null!==this.openid?e.openid=this.openid:null!==this.account&&(e.account=this.account.asVersion(t)),null!==this.name&&(e.name=this.name)),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Group=function(t){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.member=[],this.init(t)};t.prototype={objectType:"Group",LOG_SRC:"Group",log:TinCan.prototype.log,init:function(t){var e;if(this.log("init"),t=t||{},TinCan.Agent.prototype.init.call(this,t),void 0!==t.member)for(e=0;e<t.member.length;e+=1)t.member[e]instanceof TinCan.Agent?this.member.push(t.member[e]):this.member.push(new TinCan.Agent(t.member[e]))},toString:function(t){this.log("toString");var e=TinCan.Agent.prototype.toString.call(this,t);return e!==this.objectType+": unidentified"&&(e=this.objectType+": "+e),e},asVersion:function(t){var e,n;if(this.log("asVersion: "+t),t=t||TinCan.versions()[0],e=TinCan.Agent.prototype.asVersion.call(this,t),this.member.length>0)for(e.member=[],n=0;n<this.member.length;n+=1)e.member.push(this.member[n].asVersion(t));return e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t={"http://adlnet.gov/expapi/verbs/experienced":"experienced","http://adlnet.gov/expapi/verbs/attended":"attended","http://adlnet.gov/expapi/verbs/attempted":"attempted","http://adlnet.gov/expapi/verbs/completed":"completed","http://adlnet.gov/expapi/verbs/passed":"passed","http://adlnet.gov/expapi/verbs/failed":"failed","http://adlnet.gov/expapi/verbs/answered":"answered","http://adlnet.gov/expapi/verbs/interacted":"interacted","http://adlnet.gov/expapi/verbs/imported":"imported","http://adlnet.gov/expapi/verbs/created":"created","http://adlnet.gov/expapi/verbs/shared":"shared","http://adlnet.gov/expapi/verbs/voided":"voided"},e=TinCan.Verb=function(t){this.log("constructor"),this.id=null,this.display=null,this.init(t)};e.prototype={LOG_SRC:"Verb",log:TinCan.prototype.log,init:function(e){this.log("init");var n,i,r=["id","display"];if("string"==typeof e){for(i in this.id=e,this.display={und:this.id},t)if(t.hasOwnProperty(i)&&t[i]===e){this.id=i;break}}else{for(e=e||{},n=0;n<r.length;n+=1)e.hasOwnProperty(r[n])&&null!==e[r[n]]&&(this[r[n]]=e[r[n]]);null===this.display&&void 0!==t[this.id]&&(this.display={und:t[this.id]})}},toString:function(t){return this.log("toString"),null!==this.display?this.getLangDictionaryValue("display",t):this.id},asVersion:function(e){var n;return this.log("asVersion"),"0.9"===(e=e||TinCan.versions()[0])?n=t[this.id]:(n={id:this.id},null!==this.display&&(n.display=this.display)),n},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},e.fromJSON=function(t){e.prototype.log("fromJSON");var n=JSON.parse(t);return new e(n)}}(),function(){"use strict";var t=TinCan.Result=function(t){this.log("constructor"),this.score=null,this.success=null,this.completion=null,this.duration=null,this.response=null,this.extensions=null,this.init(t)};t.prototype={LOG_SRC:"Result",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["completion","duration","extensions","response","success"];for((t=t||{}).hasOwnProperty("score")&&null!==t.score&&(t.score instanceof TinCan.Score?this.score=t.score:this.score=new TinCan.Score(t.score)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);"Completed"===this.completion&&(this.completion=!0)},asVersion:function(t){this.log("asVersion");var e,n={},i=["success","duration","response","extensions"],r=["score"];for(t=t||TinCan.versions()[0],e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);for(e=0;e<r.length;e+=1)null!==this[r[e]]&&(n[r[e]]=this[r[e]].asVersion(t));return null!==this.completion&&("0.9"===t?this.completion&&(n.completion="Completed"):n.completion=this.completion),n}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Score=function(t){this.log("constructor"),this.scaled=null,this.raw=null,this.min=null,this.max=null,this.init(t)};t.prototype={LOG_SRC:"Score",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["scaled","raw","min","max"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},asVersion:function(t){this.log("asVersion");var e,n={},i=["scaled","raw","min","max"];for(t=t||TinCan.versions()[0],e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);return n}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.InteractionComponent=function(t){this.log("constructor"),this.id=null,this.description=null,this.init(t)};t.prototype={LOG_SRC:"InteractionComponent",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","description"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},asVersion:function(t){this.log("asVersion");var e,n,i={id:this.id},r=["description"];for(t=t||TinCan.versions()[0],e=0;e<r.length;e+=1)null!==this[n=r[e]]&&(i[n]=this[n]);return i},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t={"http://adlnet.gov/expapi/activities/course":"course","http://adlnet.gov/expapi/activities/module":"module","http://adlnet.gov/expapi/activities/meeting":"meeting","http://adlnet.gov/expapi/activities/media":"media","http://adlnet.gov/expapi/activities/performance":"performance","http://adlnet.gov/expapi/activities/simulation":"simulation","http://adlnet.gov/expapi/activities/assessment":"assessment","http://adlnet.gov/expapi/activities/interaction":"interaction","http://adlnet.gov/expapi/activities/cmi.interaction":"cmi.interaction","http://adlnet.gov/expapi/activities/question":"question","http://adlnet.gov/expapi/activities/objective":"objective","http://adlnet.gov/expapi/activities/link":"link"},e=TinCan.ActivityDefinition=function(t){this.log("constructor"),this.name=null,this.description=null,this.type=null,this.moreInfo=null,this.extensions=null,this.interactionType=null,this.correctResponsesPattern=null,this.choices=null,this.scale=null,this.source=null,this.target=null,this.steps=null,this.init(t)};e.prototype={LOG_SRC:"ActivityDefinition",log:TinCan.prototype.log,init:function(e){this.log("init");var n,i,r,o=["name","description","moreInfo","extensions","correctResponsesPattern"],s=[];if((e=e||{}).hasOwnProperty("type")&&null!==e.type){for(r in t)t.hasOwnProperty(r)&&t[r]===e.type&&(e.type=t[r]);this.type=e.type}if(e.hasOwnProperty("interactionType")&&null!==e.interactionType&&(this.interactionType=e.interactionType,"choice"===e.interactionType||"sequencing"===e.interactionType?s.push("choices"):"likert"===e.interactionType?s.push("scale"):"matching"===e.interactionType?(s.push("source"),s.push("target")):"performance"===e.interactionType&&s.push("steps"),s.length>0))for(n=0;n<s.length;n+=1)if(r=s[n],e.hasOwnProperty(r)&&null!==e[r])for(this[r]=[],i=0;i<e[r].length;i+=1)e[r][i]instanceof TinCan.InteractionComponent?this[r].push(e[r][i]):this[r].push(new TinCan.InteractionComponent(e[r][i]));for(n=0;n<o.length;n+=1)e.hasOwnProperty(o[n])&&null!==e[o[n]]&&(this[o[n]]=e[o[n]])},toString:function(t){return this.log("toString"),null!==this.name?this.getLangDictionaryValue("name",t):null!==this.description?this.getLangDictionaryValue("description",t):""},asVersion:function(e){this.log("asVersion");var n,i,r,o={},s=["name","description","interactionType","correctResponsesPattern","extensions"],a=["choices","scale","source","target","steps"];for(e=e||TinCan.versions()[0],null!==this.type&&(o.type="0.9"===e?t[this.type]:this.type),n=0;n<s.length;n+=1)null!==this[r=s[n]]&&(o[r]=this[r]);for(n=0;n<a.length;n+=1)if(null!==this[r=a[n]])for(o[r]=[],i=0;i<this[r].length;i+=1)o[r].push(this[r][i].asVersion(e));return 0!==e.indexOf("0.9")&&null!==this.moreInfo&&(o.moreInfo=this.moreInfo),o},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},e.fromJSON=function(t){e.prototype.log("fromJSON");var n=JSON.parse(t);return new e(n)}}(),function(){"use strict";var t=TinCan.Activity=function(t){this.log("constructor"),this.objectType="Activity",this.id=null,this.definition=null,this.init(t)};t.prototype={LOG_SRC:"Activity",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id"];for((t=t||{}).hasOwnProperty("definition")&&(t.definition instanceof TinCan.ActivityDefinition?this.definition=t.definition:this.definition=new TinCan.ActivityDefinition(t.definition)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(t){this.log("toString");var e="";return null!==this.definition&&""!==(e=this.definition.toString(t))?e:null!==this.id?this.id:"Activity: unidentified"},asVersion:function(t){this.log("asVersion");var e={id:this.id,objectType:this.objectType};return t=t||TinCan.versions()[0],null!==this.definition&&(e.definition=this.definition.asVersion(t)),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.ContextActivities=function(t){this.log("constructor"),this.category=null,this.parent=null,this.grouping=null,this.other=null,this.init(t)};t.prototype={LOG_SRC:"ContextActivities",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i,r,o=["category","parent","grouping","other"];for(t=t||{},e=0;e<o.length;e+=1)if(i=o[e],t.hasOwnProperty(i)&&null!==t[i])if("[object Array]"===Object.prototype.toString.call(t[i]))for(n=0;n<t[i].length;n+=1)this.add(i,t[i][n]);else r=t[i],this.add(i,r)},add:function(t,e){if("category"===t||"parent"===t||"grouping"===t||"other"===t)return null===this[t]&&(this[t]=[]),e instanceof TinCan.Activity||(e="string"==typeof e?{id:e}:e,e=new TinCan.Activity(e)),this[t].push(e),this[t].length-1},asVersion:function(t){this.log("asVersion");var e,n,i={},r=["parent","grouping","other"];for(t=t||TinCan.versions()[0],e=0;e<r.length;e+=1)if(null!==this[r[e]]&&this[r[e]].length>0)if("0.9"===t||"0.95"===t)this[r[e]].length>1&&this.log("[warning] version does not support multiple values in: "+r[e]),i[r[e]]=this[r[e]][0].asVersion(t);else for(i[r[e]]=[],n=0;n<this[r[e]].length;n+=1)i[r[e]].push(this[r[e]][n].asVersion(t));if(null!==this.category&&this.category.length>0){if("0.9"===t||"0.95"===t)throw this.log("[error] version does not support the 'category' property: "+t),new Error(t+" does not support the 'category' property");for(i.category=[],e=0;e<this.category.length;e+=1)i.category.push(this.category[e].asVersion(t))}return i}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Context=function(t){this.log("constructor"),this.registration=null,this.instructor=null,this.team=null,this.contextActivities=null,this.revision=null,this.platform=null,this.language=null,this.statement=null,this.extensions=null,this.init(t)};t.prototype={LOG_SRC:"Context",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i,r=["registration","revision","platform","language","extensions"],o=["instructor","team"];for(t=t||{},e=0;e<r.length;e+=1)n=r[e],t.hasOwnProperty(n)&&null!==t[n]&&(this[n]=t[n]);for(e=0;e<o.length;e+=1)n=o[e],t.hasOwnProperty(n)&&null!==t[n]&&(void 0!==(i=t[n]).objectType&&"Person"!==i.objectType||(i.objectType="Agent"),"Agent"!==i.objectType||i instanceof TinCan.Agent?"Group"!==i.objectType||i instanceof TinCan.Group||(i=new TinCan.Group(i)):i=new TinCan.Agent(i),this[n]=i);t.hasOwnProperty("contextActivities")&&null!==t.contextActivities&&(t.contextActivities instanceof TinCan.ContextActivities?this.contextActivities=t.contextActivities:this.contextActivities=new TinCan.ContextActivities(t.contextActivities)),t.hasOwnProperty("statement")&&null!==t.statement&&(t.statement instanceof TinCan.StatementRef||t.statement instanceof TinCan.SubStatement?this.statement=t.statement:"StatementRef"===t.statement.objectType?this.statement=new TinCan.StatementRef(t.statement):"SubStatement"===t.statement.objectType?this.statement=new TinCan.SubStatement(t.statement):this.log("Unable to parse statement.context.statement property."))},asVersion:function(t){this.log("asVersion");var e,n={},i=["registration","revision","platform","language","extensions"],r=["instructor","team","contextActivities","statement"];if(t=t||TinCan.versions()[0],this.statement instanceof TinCan.SubStatement&&"0.9"!==t&&"0.95"!==t)throw this.log("[error] version does not support SubStatements in the 'statement' property: "+t),new Error(t+" does not support SubStatements in the 'statement' property");for(e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);for(e=0;e<r.length;e+=1)null!==this[r[e]]&&(n[r[e]]=this[r[e]].asVersion(t));return n}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.StatementRef=function(t){this.log("constructor"),this.id=null,this.init(t)};t.prototype={objectType:"StatementRef",LOG_SRC:"StatementRef",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(){return this.log("toString"),this.id},asVersion:function(t){this.log("asVersion");var e={objectType:this.objectType,id:this.id};return"0.9"===t&&(e.objectType="Statement"),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.SubStatement=function(t){this.log("constructor"),this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.init(t)};t.prototype={objectType:"SubStatement",LOG_SRC:"SubStatement",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["timestamp"];for((t=t||{}).hasOwnProperty("object")&&(t.target=t.object),t.hasOwnProperty("actor")&&(void 0!==t.actor.objectType&&"Person"!==t.actor.objectType||(t.actor.objectType="Agent"),"Agent"===t.actor.objectType?t.actor instanceof TinCan.Agent?this.actor=t.actor:this.actor=new TinCan.Agent(t.actor):"Group"===t.actor.objectType&&(t.actor instanceof TinCan.Group?this.actor=t.actor:this.actor=new TinCan.Group(t.actor))),t.hasOwnProperty("verb")&&(t.verb instanceof TinCan.Verb?this.verb=t.verb:this.verb=new TinCan.Verb(t.verb)),t.hasOwnProperty("target")&&(t.target instanceof TinCan.Activity||t.target instanceof TinCan.Agent||t.target instanceof TinCan.Group||t.target instanceof TinCan.SubStatement||t.target instanceof TinCan.StatementRef?this.target=t.target:(void 0===t.target.objectType&&(t.target.objectType="Activity"),"Activity"===t.target.objectType?this.target=new TinCan.Activity(t.target):"Agent"===t.target.objectType?this.target=new TinCan.Agent(t.target):"Group"===t.target.objectType?this.target=new TinCan.Group(t.target):"SubStatement"===t.target.objectType?this.target=new TinCan.SubStatement(t.target):"StatementRef"===t.target.objectType?this.target=new TinCan.StatementRef(t.target):this.log("Unrecognized target type: "+t.target.objectType))),t.hasOwnProperty("result")&&(t.result instanceof TinCan.Result?this.result=t.result:this.result=new TinCan.Result(t.result)),t.hasOwnProperty("context")&&(t.context instanceof TinCan.Context?this.context=t.context:this.context=new TinCan.Context(t.context)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(t){return this.log("toString"),(null!==this.actor?this.actor.toString(t):"")+" "+(null!==this.verb?this.verb.toString(t):"")+" "+(null!==this.target?this.target.toString(t):"")},asVersion:function(t){this.log("asVersion");var e,n,i=["timestamp"],r=["actor","verb","result","context"];for(e={objectType:this.objectType},t=t||TinCan.versions()[0],n=0;n<i.length;n+=1)null!==this[i[n]]&&(e[i[n]]=this[i[n]]);for(n=0;n<r.length;n+=1)null!==this[r[n]]&&(e[r[n]]=this[r[n]].asVersion(t));return null!==this.target&&(e.object=this.target.asVersion(t)),"0.9"===t&&(e.objectType="Statement"),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Statement=function(t,e){this.log("constructor"),void 0===(e="number"==typeof e?{storeOriginal:e}:e||{}).storeOriginal&&(e.storeOriginal=null),void 0===e.doStamp&&(e.doStamp=!0),this.id=null,this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.stored=null,this.authority=null,this.version=null,this.degraded=!1,this.voided=null,this.inProgress=null,this.originalJSON=null,this.init(t,e)};t.prototype={LOG_SRC:"Statement",log:TinCan.prototype.log,init:function(t,e){this.log("init");var n,i=["id","stored","timestamp","version","inProgress","voided"];for(t=t||{},e.storeOriginal&&(this.originalJSON=JSON.stringify(t,null,e.storeOriginal)),t.hasOwnProperty("object")&&(t.target=t.object),t.hasOwnProperty("actor")&&(void 0!==t.actor.objectType&&"Person"!==t.actor.objectType||(t.actor.objectType="Agent"),"Agent"===t.actor.objectType?t.actor instanceof TinCan.Agent?this.actor=t.actor:this.actor=new TinCan.Agent(t.actor):"Group"===t.actor.objectType&&(t.actor instanceof TinCan.Group?this.actor=t.actor:this.actor=new TinCan.Group(t.actor))),t.hasOwnProperty("authority")&&(void 0!==t.authority.objectType&&"Person"!==t.authority.objectType||(t.authority.objectType="Agent"),"Agent"===t.authority.objectType?t.authority instanceof TinCan.Agent?this.authority=t.authority:this.authority=new TinCan.Agent(t.authority):"Group"===t.authority.objectType&&(t.actor instanceof TinCan.Group?this.authority=t.authority:this.authority=new TinCan.Group(t.authority))),t.hasOwnProperty("verb")&&(t.verb instanceof TinCan.Verb?this.verb=t.verb:this.verb=new TinCan.Verb(t.verb)),t.hasOwnProperty("target")&&(t.target instanceof TinCan.Activity||t.target instanceof TinCan.Agent||t.target instanceof TinCan.Group||t.target instanceof TinCan.SubStatement||t.target instanceof TinCan.StatementRef?this.target=t.target:(void 0===t.target.objectType&&(t.target.objectType="Activity"),"Activity"===t.target.objectType?this.target=new TinCan.Activity(t.target):"Agent"===t.target.objectType?this.target=new TinCan.Agent(t.target):"Group"===t.target.objectType?this.target=new TinCan.Group(t.target):"SubStatement"===t.target.objectType?this.target=new TinCan.SubStatement(t.target):"StatementRef"===t.target.objectType?this.target=new TinCan.StatementRef(t.target):this.log("Unrecognized target type: "+t.target.objectType))),t.hasOwnProperty("result")&&(t.result instanceof TinCan.Result?this.result=t.result:this.result=new TinCan.Result(t.result)),t.hasOwnProperty("context")&&(t.context instanceof TinCan.Context?this.context=t.context:this.context=new TinCan.Context(t.context)),n=0;n<i.length;n+=1)t.hasOwnProperty(i[n])&&null!==t[i[n]]&&(this[i[n]]=t[i[n]]);e.doStamp&&this.stamp()},toString:function(t){return this.log("toString"),(null!==this.actor?this.actor.toString(t):"")+" "+(null!==this.verb?this.verb.toString(t):"")+" "+(null!==this.target?this.target.toString(t):"")},asVersion:function(t){this.log("asVersion");var e,n={},i=["id","timestamp"],r=["actor","verb","result","context","authority"];for(t=t||TinCan.versions()[0],e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);for(e=0;e<r.length;e+=1)null!==this[r[e]]&&(n[r[e]]=this[r[e]].asVersion(t));return null!==this.target&&(n.object=this.target.asVersion(t)),"0.9"!==t&&"0.95"!==t||null!==this.voided&&(n.voided=this.voided),"0.9"===t&&null!==this.inProgress&&(n.inProgress=this.inProgress),n},stamp:function(){this.log("stamp"),null===this.id&&(this.id=TinCan.Utils.getUUID()),null===this.timestamp&&(this.timestamp=TinCan.Utils.getISODateString(new Date))}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.StatementsResult=function(t){this.log("constructor"),this.statements=null,this.more=null,this.init(t)};t.prototype={LOG_SRC:"StatementsResult",log:TinCan.prototype.log,init:function(t){this.log("init"),(t=t||{}).hasOwnProperty("statements")&&(this.statements=t.statements),t.hasOwnProperty("more")&&(this.more=t.more)}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n,i,r,o=[];try{n=JSON.parse(e)}catch(e){t.prototype.log("fromJSON - JSON.parse error: "+e)}if(n){for(r=0;r<n.statements.length;r+=1){try{i=new TinCan.Statement(n.statements[r],4)}catch(e){t.prototype.log("fromJSON - statement instantiation failed: "+e+" ("+JSON.stringify(n.statements[r])+")"),i=new TinCan.Statement({id:n.statements[r].id},4)}o.push(i)}n.statements=o}return new t(n)}}(),function(){"use strict";var t=TinCan.State=function(t){this.log("constructor"),this.id=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(t)};t.prototype={LOG_SRC:"State",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","contents","etag","contentType"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);this.updated=!1}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.ActivityProfile=function(t){this.log("constructor"),this.id=null,this.activity=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(t)};t.prototype={LOG_SRC:"ActivityProfile",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","contents","etag","contentType"];for((t=t||{}).hasOwnProperty("activity")&&(t.activity instanceof TinCan.Activity?this.activity=t.activity:this.activity=new TinCan.Activity(t.activity)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);this.updated=!1}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.AgentProfile=function(t){this.log("constructor"),this.id=null,this.agent=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(t)};t.prototype={LOG_SRC:"AgentProfile",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","contents","etag","contentType"];for((t=t||{}).hasOwnProperty("agent")&&(t.agent instanceof TinCan.Agent?this.agent=t.agent:this.agent=new TinCan.Agent(t.agent)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);this.updated=!1}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.About=function(t){this.log("constructor"),this.version=null,this.init(t)};t.prototype={LOG_SRC:"About",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["version"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var LOG_SRC="Environment.Browser",nativeRequest,xdrRequest,requestComplete,__delay,__IEModeConversion,env={},log=TinCan.prototype.log;"undefined"!=typeof window?(window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(t){var e,n,i="";if(t instanceof Object){if(t.constructor===Array){for(e=0;e<t.length;e+=1)i+=this.stringify(t[e])+",";return"["+i.substr(0,i.length-1)+"]"}if(t.toString!==Object.prototype.toString)return'"'+t.toString().replace(/"/g,"\\$&")+'"';for(n in t)t.hasOwnProperty(n)&&(i+='"'+n.replace(/"/g,"\\$&")+'":'+this.stringify(t[n])+",");return"{"+i.substr(0,i.length-1)+"}"}return"string"==typeof t?'"'+t.replace(/"/g,"\\$&")+'"':String(t)}}),Date.now||(Date.now=function(){return+new Date}),env.hasCORS=!1,env.useXDR=!1,"undefined"!=typeof XMLHttpRequest&&void 0!==(new XMLHttpRequest).withCredentials?env.hasCORS=!0:"undefined"!=typeof XDomainRequest&&(env.hasCORS=!0,env.useXDR=!0),requestComplete=function(t,e,n){var i,r,o;return log("requestComplete: "+n.finished+", xhr.status: "+t.status,LOG_SRC),o=void 0===t.status?n.fakeStatus:1223===t.status?204:t.status,n.finished?i:(n.finished=!0,r=e.ignore404&&404===o,o>=200&&o<400||r?e.callback?void e.callback(null,t):i={err:null,xhr:t}:(i={err:o,xhr:t},log(0===o?"[warning] There was a problem communicating with the Learning Record Store. Aborted, offline, or invalid CORS endpoint ("+o+")":"[warning] There was a problem communicating with the Learning Record Store. ("+o+" | "+t.responseText+")",LOG_SRC),e.callback&&e.callback(o,t),i))},__IEModeConversion=function(t,e,n,i){var r;for(r in e)e.hasOwnProperty(r)&&n.push(r+"="+encodeURIComponent(e[r]));return void 0!==i.data&&n.push("content="+encodeURIComponent(i.data)),e["Content-Type"]="application/x-www-form-urlencoded",t+="?method="+i.method,i.method="POST",i.params={},n.length>0&&(i.data=n.join("&")),t},nativeRequest=function(t,e,n){log("sendRequest using XMLHttpRequest",LOG_SRC);var i,r,o,s,a=this,l=[],u={finished:!1,fakeStatus:null},c=void 0!==n.callback,h=t;for(r in log("sendRequest using XMLHttpRequest - async: "+c,LOG_SRC),n.params)n.params.hasOwnProperty(r)&&l.push(r+"="+encodeURIComponent(n.params[r]));if(l.length>0&&(h+="?"+l.join("&")),h.length>=2048){if(void 0!==e["Content-Type"]&&"application/json"!==e["Content-Type"])return s=new Error("Unsupported content type for IE Mode request"),void 0!==n.callback&&n.callback(s,null),{err:s,xhr:null};if(void 0===n.method)return s=new Error("method must not be undefined for an IE Mode Request conversion"),void 0!==n.callback&&n.callback(s,null),{err:s,xhr:null};t=__IEModeConversion(t,e,l,n)}else t=h;for(r in(i="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open(n.method,t,c),e)e.hasOwnProperty(r)&&i.setRequestHeader(r,e[r]);void 0!==n.data&&(n.data+=""),o=n.data,c&&(i.onreadystatechange=function(){log("xhr.onreadystatechange - xhr.readyState: "+i.readyState,LOG_SRC),4===i.readyState&&requestComplete.call(a,i,n,u)});try{i.send(o)}catch(t){log("sendRequest caught send exception: "+t,LOG_SRC)}return c?i:requestComplete.call(this,i,n,u)},xdrRequest=function(t,e,n){log("sendRequest using XDomainRequest",LOG_SRC);var i,r,o,s,a,l=this,u=[],c={finished:!1,fakeStatus:null};if(void 0!==e["Content-Type"]&&"application/json"!==e["Content-Type"])return a=new Error("Unsupported content type for IE Mode request"),n.callback?(n.callback(a,null),null):{err:a,xhr:null};for(o in t+="?method="+n.method,n.params)n.params.hasOwnProperty(o)&&u.push(o+"="+encodeURIComponent(n.params[o]));for(o in e)e.hasOwnProperty(o)&&u.push(o+"="+encodeURIComponent(e[o]));void 0!==n.data&&u.push("content="+encodeURIComponent(n.data)),r=u.join("&"),(i=new XDomainRequest).open("POST",t),n.callback?(i.onload=function(){c.fakeStatus=200,requestComplete.call(l,i,n,c)},i.onerror=function(){c.fakeStatus=400,requestComplete.call(l,i,n,c)},i.ontimeout=function(){c.fakeStatus=0,requestComplete.call(l,i,n,c)}):(i.onload=function(){c.fakeStatus=200},i.onerror=function(){c.fakeStatus=400},i.ontimeout=function(){c.fakeStatus=0}),i.onprogress=function(){},i.timeout=0;try{i.send(r)}catch(t){log("sendRequest caught send exception: "+t,LOG_SRC)}if(!n.callback){for(s=1e4+Date.now(),log("sendRequest - until: "+s+", finished: "+c.finished,LOG_SRC);Date.now()<s&&null===c.fakeStatus;)__delay();return requestComplete.call(l,i,n,c)}return i},TinCan.LRS.prototype._initByEnvironment=function(t){var e,n,i;if(log("_initByEnvironment",LOG_SRC),t=t||{},this._makeRequest=nativeRequest,this._IEModeConversion=__IEModeConversion,null===(e=this.endpoint.toLowerCase().match(/([A-Za-z]+:)\/\/([^:\/]+):?(\d+)?(\/.*)?$/)))throw log("[error] LRS invalid: failed to divide URL parts",LOG_SRC),{code:4,mesg:"LRS invalid: failed to divide URL parts"};if(i=location.port,n=location.protocol.toLowerCase()===e[1],""===i&&(i="http:"===location.protocol.toLowerCase()?"80":"https:"===location.protocol.toLowerCase()?"443":""),!n||location.hostname.toLowerCase()!==e[2]||i!==(null!==e[3]&&void 0!==e[3]&&""!==e[3]?e[3]:"http:"===e[1]?"80":"https:"===e[1]?"443":""))if(env.hasCORS){if(env.useXDR&&n)this._makeRequest=xdrRequest;else if(env.useXDR&&!n){if(!t.allowFail)throw log("[error] LRS invalid: cross domain request for differing scheme in IE with XDR",LOG_SRC),{code:2,mesg:"LRS invalid: cross domain request for differing scheme in IE with XDR"};log("[warning] LRS invalid: cross domain request for differing scheme in IE with XDR (allowed to fail)",LOG_SRC)}}else{if(!t.allowFail)throw log("[error] LRS invalid: cross domain requests not supported in this browser",LOG_SRC),{code:1,mesg:"LRS invalid: cross domain requests not supported in this browser"};log("[warning] LRS invalid: cross domain requests not supported in this browser (allowed to fail)",LOG_SRC)}},__delay=function(){var t=new XMLHttpRequest,e=window.location+"?forcenocache="+TinCan.Utils.getUUID();t.open("GET",e,!1),t.send(null)},TinCan.LRS.syncEnabled=!0):log("'window' not defined",LOG_SRC)}()},3847:function(t,e,n){"use strict";var i,r;i=[n(8087)],void 0===(r=function(){Promise.resolve().then((function(){var t=[n(6138),n(6407),n(5273),n(5812),n(6295)];(function(t){Promise.resolve().then((function(){var e=[n(7510),n(9739),n(857),n(292),n(9229),n(1421),n(5611),n(4698),n(8766),n(7812),n(7594),n(4839),n(8579),n(1251),n(8939),n(8880),n(5626),n(1419),n(2581),n(3034),n(3716),n(8901),n(9835),n(3400),n(9032),n(1070),n(3797),n(9904),n(6882),n(3005),n(4481),n(1291),n(8935),n(2972),n(9447),n(1681),n(7097),n(2075),n(5641),n(2499),n(1294),n(82),n(6194),n(4811),n(118),n(7235),n(7300),n(520),n(3586),n(5173),n(262),n(6978),n(5337),n(6334),n(6159),n(9005),n(4427),n(4403),n(1458),n(6936),n(5470),n(1558),n(4303),n(1703)];(function(e,n,i,r,o,s,a,l,u,c,h,d,p,f,v,g,m,y,b,w,A,S,E,x,T,_,C,k,M,O,P,L,I,R,D,N,H,V,F,B,j,U,W,z,G,q,Y,X,K,J,Z,$,Q,tt,et,nt,it,rt,ot){var st=p.deviceView.isMobile?"MOBILE":"DESKTOP",at=c.frameLocations[st],lt=c.cssLocations[st],ut=void 0;if(!window.globals.AUTHORING_HOST_MODE){ut=function(){return DS.loadScript(c.slideLocation)},(p.deviceView.isMobile||p.theme.isUnified)&&(window.globals.scale="noscale"),window.globals.HAS_SLIDE&&window.globals.HAS_FRAME||k.initialize(window.globals.HAS_SLIDE);var ct=document.createElement("link");ct.type="text/css",ct.href=lt,ct.rel="stylesheet",ct.dataset.noprefix=!0,document.head.appendChild(ct)}if(window.DS=window.DS||{},Object.assign(window.DS,{_:t,globalEventHelper:e,analyticsHelper:n,animationClock:i,AnimationTimeline:r,appState:o,audioContext:s,automation:a,BaseModel:l,captionsManager:u,constants:c,cssPrefix:h,debug:d,detection:p,dom:f,errorManager:v,events:g,fileProtocolOverrides:m,flagManager:y,focusManager:b,fontManager:w,keyManager:A,MicroScrollBar:S,mobileChromeKiller:E,pinchZoomController:x,pubSub:T,playerGlobals:_,previewHelper:C,rangeSliders:M,requestAnimationFrame:O,scaler:P,shortcutManager:L,slideNumberManager:I,slideObjectUtils:R,slidesController:D,stringTabler:N,svgUtils:H,tabFocusBox:V,TimelineLite:F,ThreeSixtyImage:B,TransMatrix:j,TweenLite:TweenLite,utils:U,vendorOverrides:W,vow:z,resolver:G,webObjectHelper:q,windowOpen:Y,windowManager:X,mixer:K,PostMessaging:J,ancestral:Z,resolveable:$,shortEventable:Q,subscribable:tt,Chunk:et,courseStateHelper:nt,resumer:it,superagent:rt,Backbone:ot,clientHeight:document.body.clientHeight,clientWidth:document.body.clientWidth,loadScript:function(t,e){var n=document.createElement("script");n.src=t,n.onload=e,document.head.appendChild(n)}}),!window.globals.AUTHORING_HOST_MODE){var ht=function(){T.once(g.ds.PRESO_LOADED,(function(t){T.trigger(g.ds.PRESO_READY,DS.presentation,c.els.PRESO),G.initialize(),D.initialize(DS.presentation),a.initialize(D,DS.presentation),A.initialize(),X.initialize(),Y.initialize(DS.presentation),q.initialize(DS.presentation),n.initialize(DS.presentation),d.initialize(window.globals.HAS_SLIDE?DS.presentation:void 0,window.globals.HAS_FRAME?DS.frame:void 0),C.initialize(DS.frame,DS.presentation,t),T.trigger(g.app.COMPLETE)}))};T.once(g.ds.FRAME_DATA_LOADED,(function(t){DS.frame=t,ht(),window.globals.HAS_SLIDE?ut():(y.register("slides",U.getPath(window,"globals.features","").split(",")),DS.playerGlobals.presentation=DS.presentation,P.initialize(),T.trigger(g.ds.PRESO_LOADED),DS.frameModel.frame.controlOptions.controls.closed_captions&&T.trigger(g.captions.SHOW_BUTTON))})),window.globals.HAS_FRAME?DS.loadScript(at):(ht(),ut(),document.querySelector("body > .slide-loader").style.display="none")}}).apply(null,e)})).catch(n.oe)}).apply(null,t)})).catch(n.oe)}.apply(e,i))||(t.exports=r)},292:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(82),r=n(6295),o=n(5641),s=n(857),a=function(t,n){return e.findIndex(t,{id:n})},l=function(t){return t instanceof r||t instanceof o},u=function(t){this.playing=!1,this.currentTime=0,this.lastCallbackTime=-1,this.labels={},this.duration=0,this.callbacks=[],this.seekables=[],this.activeSeekables=[],null!=t&&(["onUpdate","onComplete"].forEach(function(e){this[e]=t[e]}.bind(this)),t.tweens&&t.tweens.forEach(function(t){var e=t.delay();l(t)&&(this.wrapGsap(t),e=i.toMilliseconds(e)),this.addSeekable(t,e,!0)}.bind(this)))};return e.extend(u.prototype,{add:function(t,n,i){if(e.isString(t))this.labels[t]=n;else{if(n=e.isString(n)?this.labels[n]:n||0,e.isFunction(t))return this.insertCallback(this.wrapCallback(t,n)),void this.updateDuration(n);l(t)&&this.wrapGsap(t),e.isFunction(t.stepAnimation)&&this.addSeekable(t,n,i)}},remove:function(t){var n,i,r,o;e.isString(t)?this.labels[t]=null:null!=t.timelineData&&(n=t.timelineData.seekableId,(i=a(this.callbacks,n))>=0&&(this.callbacks.splice(i,1),(r=a(this.seekables,n))>=0&&(this.seekables.splice(r,1),(o=a(this.activeSeekables,n))>=0&&(this.activeMutated=!0,this.activeSeekables.splice(o,1)))),t.timelineData=null,this.mutated=!0)},updateDuration:function(t){t>this.duration&&(this.duration=t,null!=this.timelineData&&this.timelineData.parent.childDurationChanged(this))},childDurationChanged:function(t){this.updateDuration(t.timelineData.startTime+t.totalTime())},wrapGsap:function(t){t.pause(),t.totalTime=function(){return i.toMilliseconds(t.duration())},t.stepAnimation=function(e,n){var r=i.toSeconds(e);t.seek(r,!0),t.render(r,!!n,!0)}},addSeekable:function(t,e,n){var r=t.totalTime(),o=i.clamp(0,r,this.currentTime-e),s=this.wrapSeekable(t,e);this.seekables.push(s),this.insertCallback(s),!n&&this.currentTime>=e&&((this.executingCallbacks||o<=r)&&s.timelineCallback(),this.executingCallbacks||t.stepAnimation(o)),this.updateDuration(e+t.totalTime())},wrapCallback:function(t,n){return{startTime:n,id:e.uniqueId("wc"),timelineCallback:t}},wrapSeekable:function(t,n){var i=e.uniqueId("ws"),r={startTime:n,id:i,seekable:t};return r.timelineCallback=function(){r.seekable.killed||this.activeSeekables.push(r)}.bind(this),t.timelineData={parent:this,seekableId:i,startTime:n},r},insertCallback:function(t){0===this.callbacks.length||t.startTime>=e.last(this.callbacks).startTime?this.callbacks.push(t):this.callbacks.splice(e.sortedLastIndex(this.callbacks,t,"startTime"),0,t)},hasParentTimeline:function(){return null!=this.timelineData},pause:function(){this.playing&&!this.hasParentTimeline()&&(this.playing=!1,this.currentTime=this.executingCallbacks?this.lastCallbackTime:s.time()-this.startTime)},play:function(){!this.playing&&!this.hasParentTimeline()&&this.currentTime<this.duration&&(this.playing=!0,this.startTime=s.time()-this.currentTime,s.requestAnimationFrame(this.tick.bind(this)))},seek:function(t,e){this.hasParentTimeline()||(t<=this.lastCallbackTime&&this.reset(),this.startTime=s.time()-t,this.currentTime=t,this.executingCallbacks&&!this.renderDirty||this.update(e))},reset:function(){this.killed||(this.renderDirty=!0,this.lastCallbackTime=-1,this.activeSeekables=[],this.seekables.forEach((function(t){null!=t.seekable.reset&&t.seekable.reset()})))},progress:function(t,e){return null==t?i.clamp(0,1,this.currentTime/(this.duration||1)):(this.seek(t*this.duration,e),this)},isActive:function(){return this.hasParentTimeline()?this.timelineData.parent.isActive():this.playing},time:function(){return i.clamp(0,this.duration,this.currentTime)},totalTime:function(t){if(null==t)return this.duration;this.duration=t},tick:function(){var t;this.killed||(t=this.currentTime,this.currentTime=s.time()-this.startTime,this.playing&&(t<this.duration||this.activeSeekables.length>0)&&!this.hasParentTimeline()&&(this.update(),s.requestAnimationFrame(this.tick.bind(this))))},stepAnimation:function(t,e){this.currentTime;this.currentTime=i.clamp(0,this.duration,t),this.update(e)},update:function(t){this.renderDirty=!1,!this.silent&&this.executeCallbacks()&&(this.updateActiveSeekables(t),this.onUpdate&&this.onUpdate(),this.currentTime>=this.duration&&(this.playing=!1,t||null==this.onComplete||this.onComplete()))},executeCallbacks:function(){this.executingCallbacks=!0;var t=e.sortedLastIndex(this.callbacks,{startTime:this.lastCallbackTime},"startTime");if(t>=this.callbacks.length)return this.executingCallbacks=!1,!0;for(var n=this.callbacks.slice(t),i=n.length,r=0,o=this.currentTime;!this.killed&&r<i&&n[r].startTime<=o;){if(this.lastCallbackTime=n[r].startTime,n[r].timelineCallback(),o>this.currentTime)return this.executingCallbacks=!1,!1;o=this.currentTime,r++}return this.executingCallbacks=!1,!0},updateActiveSeekables:function(t){var e,n,i,r=this.activeSeekables.length-1;for(this.activeMutated=!1;r>=0&&!this.killed;)(!this.activeMutated||r<this.activeSeekables.length)&&(e=(i=this.activeSeekables[r]).seekable,n=i.startTime,e.stepAnimation(this.currentTime-n,t),this.currentTime>=n+e.totalTime()&&(!this.activeMutated||i===this.activeSeekables[r])&&this.activeSeekables.splice(r,1)),r--},kill:function(){this.killed||(this.killed=!0,null!=this.timelineData&&this.timelineData.parent.remove(this),this.timelineData=null,this.onUpdate=null,this.onComplete=null,this.labels=null,this.callbacks=null,this.activeSeekables=null,this.seekables.forEach((function(t){null!=t.seekable.kill&&t.seekable.kill()})),this.seekables=null)}}),u}.call(e,n,e,t))||(t.exports=i)},4698:function(t,e,n){"use strict";var i;void 0===(i=function(t){n(4293);var e=n(1458),i=n(6138),r=n(8880),o=n(8939),s=n(6334),a=n(6978),l=n(262),u=n(5337),c=n(3586),h=n(82),d=o.throwError("BaseModel"),p=function(){},f=h.createSuper(e.Model),v=e.Model.extend({abilities:{resolveAsThis:!1,resolveAsParent:!1,beEventTarget:!1},mixins:[s,a,l,u],autoParse:!1,isModel:!0,constructor:function(t,n){i.bindAll(this,"createAbsoluteId");var o=this.initialize;this.initialize=p,this.autoParse&&((n=n||{}).parse=!0),e.Model.call(this,t,n),this.on(r.data.UPDATED,this.createAbsoluteId),this.createParentReference(n).buildAssociations().bindAssociations().createAbsoluteId(),c.initMixinsOf(this),this.initialize=o,this.initialize.apply(this,arguments),c.postInitMixinsOf(this)},index:function(){return this.collection||d("index","must have a `collection` defined"),this.collection.indexOf(this)},sibling:function(t){return this.collection||d("sibling","must have a `collection` defined"),t=t||0,this.collection.at(this.index()+t)},prevSibling:function(){return this.sibling(-1)},nextSibling:function(){return this.sibling(1)},toJSON:function(t){return h.isTrue(t)?h.cloneDeeply(this):f("toJSON").call(this)},buildAssociations:function(t){for(var e in this.associations)this.associations.hasOwnProperty(e)&&this.buildAssociation(e);return this},buildAssociation:function(t,e){var n=e||this.get(t),i={parent:this},r=this.associations[t];return n instanceof r||(this.attributes[t]=h.buildDataStructure(r,i,n)),this},bindAssociation:function(t){return this.on("change:"+t,(function(e,n,o){var s=this.previous(t);i.isFunction(s.set)?(s.set(n,{parent:this}),s.trigger(r.data.UPDATED),s.isCollection&&s.invoke("trigger",r.data.UPDATED),this.set(t,s,{silent:!0})):this.buildAssociation(t,n)})),this},bindAssociations:function(){for(var t in this.associations)this.associations.hasOwnProperty(t)&&this.bindAssociation(t);return this},buildAbsoluteId:function(){if(!this.id)return null;for(var t=this,e=[this.id];t=t.parent;)t.id&&e.push(t.id);return e.reverse().join(".")},createAbsoluteId:function(){this.absoluteId=this.buildAbsoluteId()},isType:function(t){return this.get("type")===t},isKind:function(t){return this.get("kind")===t}});v.addAssociation=function(t,e){this.prototype.associations.hasOwnProperty(t)||(this.prototype.associations[t]=e,this.shorthandify(t))};var g=v.extend;return v.extend=function(){var t=g.apply(this,arguments);return t.prototype.associations=i.extend({},t.prototype.associations,this.prototype.associations),t.shorthandify().shorthandify(i.keys(t.prototype.associations)),t},v}.call(e,n,e,t))||(t.exports=i)},3511:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6138),i=n(8880),o=n(8766),s=n(82);n(9032);return function(){function t(e){var n=e.type,i=e.slideId,r=e.assetId,o=e.slideOwner,s=e.captions,a=e.parentEl,l=e.mediaElName,u=e.isMediaVisible;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=n,this.assetId=r,this.slideId=i,this.slideOwner=o,this.parentEl=a,this.mediaElName=l,this.isMediaVisible=u,this.captions=s,this.currentCaptions=[],this.init()}return r(t,[{key:"setCurrentTime",value:function(t){this.currTime=t}},{key:"getCurrentTime",value:function(){return this.currTime}},{key:"isVideo",value:function(){return"video"===this.type}},{key:"ended",value:function(){var t=this.parentEl[this.mediaElName];if(null!=t)return t.ended}},{key:"getAssetId",value:function(){return this.assetId}},{key:"init",value:function(){o.mount(this,this.slideId),o.checkHasCaptions()}},{key:"destroy",value:function(){this.clearCaptions(),o.unmount(this,this.slideId)}},{key:"toggleCaptioning",value:function(){o.toggleCaptioning()}},{key:"isCaptionEnabled",value:function(){return o.isCaptionEnabled()}},{key:"adjustCaptions",value:function(){var t=this,n=this.slideOwner.currView.props.slideContainer;if(null!=n){var r=this.getCurrentTime();this.currentCaptions.length>0&&(this.currentCaptions=this.currentCaptions.reduce((function(t,e){return s.isWithinRange(e.startTime,e.endTime,r)?t.push(e):n.trigger(i.captions.REMOVE,e.getCueAsHTML()),t}),[])),e.difference(this.captions,this.currentCaptions).forEach((function(e){s.isWithinRange(e.startTime,e.endTime,r)&&(t.currentCaptions.push(e),n.trigger(i.captions.ADD,e.getCueAsHTML()))}))}return this}},{key:"clearCaptions",value:function(){var t=this.slideOwner.currView.props.slideContainer;return null!=t&&this.currentCaptions.length>0&&this.currentCaptions.forEach((function(e){t.trigger(i.captions.REMOVE,e.getCueAsHTML())})),this.currentCaptions=[],this}}]),t}()}.call(e,n,e,t))||(t.exports=i)},5641:function(t,e,n){"use strict";var i;void 0===(i=function(t){n(1558);return n(1558),n(4303),n(1703),TimelineLite}.call(e,n,e,t))||(t.exports=i)},6295:function(t,e,n){"use strict";var i;void 0===(i=function(t){n(1558);return n(4303),n(1703),TweenLite.defaultOverwrite=!1,TweenLite}.call(e,n,e,t))||(t.exports=i)},8901:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}void 0===(i=function(t){var e=n(6138),i=n(1251),s=n(8880),a=n(82),l=n(9032),u=n(7812),c=n(8579),h=n(7510),d=h.addWindowListener,p=h.addDocumentListener,f=n(7812).ANIMATION_DURATION,v=void 0;return p("wheel",(function(){document.body.classList.add("document-scrolling"),clearTimeout(v),v=setTimeout((function(){document.body.classList.remove("document-scrolling")}),200)})),function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(o(this,t),this.onTouchMovePrevent=function(t){t.preventDefault()},this.onMouseOver=function(){r.hovered=!0,r.update()},this.onMouseOut=function(){r.hovered=!1,r.update()},e.bindAll(this,"onScrollBtnDown","onEndScrollDrag","onDragBtn","onScroll","onResize","unHighlight","delayedUpdate","update","onFocus","onKeyDown"),this.enabled=!0,this.hScroll=s,this.targetEl=n,this.isHidden=!1,this.highlight=!1,this.cls=i+"-"+(s?"h":"")+"scroll",this.targetId=i,this.marginTop=a,this.showOnlyOnHover=!1,this.hovered=!1,this.showOnlyWhenScrolling=!1,this.scrolling=!1,c.theme.isUnified){var l=this.cls+"-id";null==document.getElementById(l)&&this.createElements(l)}else this.createElements(null);this.update()}return r(t,[{key:"addOrRemoveClass",value:function(t,e,n){i[t?"addClass":"removeClass"](e,n)}},{key:"changeHighlight",value:function(){this.addOrRemoveClass(this.highlight,this.scrollBar,"highlight-scrollbar")}},{key:"changeHidden",value:function(){this.addOrRemoveClass(this.isHidden,this.scrollBar,"hidden")}},{key:"disableMobile",value:function(){this.targetEl.addEventListener("touchmove",this.onTouchMovePrevent)}},{key:"enableMobile",value:function(){this.targetEl.removeEventListener("touchmove",this.onTouchMovePrevent)}},{key:"initScroll",value:function(){this.targetEl.addEventListener("scroll",this.onScroll),d("resize",this.onResize),this.targetEl.style.overflowY="hidden !important",this.targetEl.style.overflowX="hidden !important",this.hasInited=!0}},{key:"createElements",value:function(t){this.scrollBar=document.createElement("div"),null!=t&&(this.scrollBar.id=t),this.scrollBar.setAttribute("class","scrollarea-scrollbar micro-scrollbar "+(this.hScroll?"horizontal-scroll ":"")+this.cls),!this.hScroll&&this.marginTop>0&&(this.scrollBar.style.marginTop=this.marginTop+"px"),this.scrollBar.setAttribute("tabindex",0),this.scrollBar.addEventListener("focus",this.onFocus),this.scrollBar.addEventListener("keydown",this.onKeyDown),this.scrollBtn=document.createElement("div"),this.scrollBtn.setAttribute("class","scrollarea-btn micro-scrollbar-btn"),this.scrollBtn.addEventListener("mousedown",this.onScrollBtnDown),this.scrollBtn.addEventListener("touchstart",this.onScrollBtnDown),this.scrollBar.appendChild(this.scrollBtn),this.targetEl.parentNode.appendChild(this.scrollBar),this.initScroll(),this.setupUpdateEvents()}},{key:"setupUpdateEvents",value:function(){var t=this;l.on(s.tab.SHOW,(function(e){t.targetId===e&&t.delayedUpdate()})),l.on(s.tabLink.SHOW_PANEL,(function(e){var n=e.model.name;t.targetId===n&&t.delayedUpdate()})),"search"===this.targetId&&l.on(s.search.UPDATE_PANEL,(function(){setTimeout(t.delayedUpdate,f)})),"outline"===this.targetId&&l.on(s.menuLinksListItem.TOGGLE,this.delayedUpdate),"transcript"===this.targetId&&l.on(s.transcript.CHANGED,this.delayedUpdate),DS.detection.deviceView.isMobile&&(this.teardownResize=d("resize",this.delayedUpdate))}},{key:"delayedUpdate",value:function(){var t=this;window.requestAnimationFrame((function(){return t.update(!1)}))}},{key:"onScroll",value:function(){var t=this;this.update(!0),this.showOnlyWhenScrolling&&(this.scrollStartTime=Date.now(),this.scrolling||(this.scrolling=!0,this.scrollHideInterval=setInterval((function(){Date.now()-t.scrollStartTime>=1e3&&(clearInterval(t.scrollHideInterval),t.scrolling=!1,t.update())}),200)))}},{key:"onFocus",value:function(t){DS.focusManager.setFocusRectOn(this.targetEl)}},{key:"onKeyDown",value:function(t){switch(t.which){case u.keys.DOWN:this.targetEl.scrollTop+=10;break;case u.keys.UP:this.targetEl.scrollTop-=10;break;case u.keys.PAGE_DOWN:this.targetEl.scrollTop+=this.btnLength;break;case u.keys.PAGE_UP:this.targetEl.scrollTop-=this.btnLength;break;case u.keys.HOME:this.targetEl.scrollTop=0;break;case u.keys.END:this.targetEl.scrollTop=this.targetEl.scrollHeight}}},{key:"onResize",value:function(){this.update()}},{key:"canScroll",value:function(){var t=this.getTargetMetrics();return t.contentLength>t.scrollbarLength}},{key:"getTargetMetrics",value:function(){var t=this.targetEl,e=t.scrollHeight,n=t.scrollWidth,i=t.clientHeight,r=t.clientWidth,o=t.scrollTop,s=t.scrollLeft;return this.hScroll?{contentLength:n,scrollbarLength:r,currScrollPos:s}:{contentLength:e,scrollbarLength:i,currScrollPos:o}}},{key:"setEnabled",value:function(t){this.enabled=t,this.update()}},{key:"setShowOnlyOnHover",value:function(t){this.showOnlyOnHover=!0,this.hoverTargetEl=t,this.hoverTargetEl.addEventListener("mouseover",this.onMouseOver),this.hoverTargetEl.addEventListener("mouseout",this.onMouseOut)}},{key:"setShowOnlyWhenScrolling",value:function(){this.showOnlyWhenScrolling=!0}},{key:"update",value:function(t){if(this.hasInited&&null!=this.scrollBtn){var e=this.getTargetMetrics(),n=e.contentLength,i=e.scrollbarLength,r=e.currScrollPos;this.isHidden=this.shouldHideScrollbar(n,i);var o=i-(this.hsScroll?0:this.marginTop),s=n-o,l=a.clamp(0,1,r/s);this.btnLength=o/n*o,this.scrollBtn.style[this.hScroll?"width":"height"]=a.pxify(this.btnLength),this.scrollBtn.style[this.getPosAttrib()]=a.pxify(l*a.invertPercent(this.btnLength/i)*i),this.highlight=t,t&&(clearTimeout(this.colorId),this.colorId=setTimeout(this.unHighlight,1e3)),this.changeHighlight(),this.changeHidden(),null!=this.updateScroll&&this.updateScroll()}}},{key:"shouldHideScrollbar",value:function(t,e){return Math.abs(t-e)<2||(!this.enabled||(this.showOnlyOnHover?!this.hovered&&!this.scrollByButton:!!this.showOnlyWhenScrolling&&!this.scrolling))}},{key:"getPosAttrib",value:function(){return this.hScroll?"left":"top"}},{key:"getPagePostion",value:function(t){return this.hScroll?t.pageX:t.pageY}},{key:"getParentPos",value:function(){return this.targetEl.getBoundingClientRect()[this.getPosAttrib()]}},{key:"onScrollBtnDown",value:function(t){this.scrollByButton=!0,this.startPos=this.getPagePostion(t)-this.getParentPos()-parseFloat(this.scrollBtn.style[this.getPosAttrib()]),document.body.addEventListener("mousemove",this.onDragBtn),document.body.addEventListener("mouseup",this.onEndScrollDrag)}},{key:"onEndScrollDrag",value:function(){this.scrollByButton=!1,document.body.removeEventListener("mouseup",this.onEndScrollDrag),document.body.removeEventListener("mousemove",this.onDragBtn),this.showOnlyOnHover&&this.update()}},{key:"onDragBtn",value:function(t){var e=this.getTargetMetrics(),n=e.contentLength,i=e.scrollbarLength,r=n-i,o=i-this.btnLength,s=this.getPagePostion(t)-this.getParentPos()-this.startPos,l=a.clamp(0,1,s/o);this.scrollBtn.style[this.getPosAttrib()]=a.pxify(l*a.invertPercent(this.btnLength/i)*i),this.targetEl[this.hScroll?"scrollLeft":"scrollTop"]=r*l}},{key:"unHighlight",value:function(){this.highlight=!1,this.changeHighlight()}},{key:"teardown",value:function(){this.scrollBar.removeEventListener("focus",this.onFocus),this.scrollBar.removeEventListener("keydown",this.onKeyDown),this.scrollBtn.removeEventListener("mousedown",this.onScrollBtnDown),this.scrollBtn.removeEventListener("touchstart",this.onScrollBtnDown),this.targetEl.removeEventListener("scroll",this.onScroll),this.enableMobile(),this.showOnlyOnHover&&null!=this.hoverTargetEl&&(this.hoverTargetEl.removeEventListener("mouseover",this.onMouseOver),this.hoverTargetEl.removeEventListener("mouseout",this.onMouseOut)),l.off(s.search.UPDATE_PANEL),l.off(s.tab.SHOW),l.off(s.menuLinksListItem.TOGGLE),l.off(s.transcript.CHANGED),this.teardownResize()}}]),t}()}.call(e,n,e,t))||(t.exports=i)},5173:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i=n(4811),r=n(8939),o=n(7510).addWindowListener,s={},a="request",l="response",u="SUCCESS",c="ERROR",h=[a,l],d=function(t){var e,n=r.throwError("PostMessaging");if(null!=t.data){try{e=JSON.parse(t.data)}catch(t){return}(function(t){return null!=t&&null!=t.id&&null!=t.type&&-1!==h.indexOf(t.type)})(e)&&(null!=s[e.connectionId]?s[e.connectionId](e,t):n("No listener exists for connectionId: ",e.connectionId))}};return function(t,n){var h,p,f,v=r.throwError("PostMessaging"),g={},m=0,y=i.Deferred(),b=n,w=function(t,e,n,r,o){var s=++m,l=i.Deferred(),c={type:e,connectionId:b};return g[s]=l,e===a?(c.method=n,c.params=r,c.id=s):(c.id=n,c.data=r,c.status=null!=o?o:u),t.postMessage(JSON.stringify(c),"*"),l.always((function(){delete g[s]})).catch((function(t){delete g[s],v(t.message)})),l.promise()},A=function(t){h=function(e,n){return y.then((function(){return w(t,a,e,n)}))},p=function(e,n,i){return y.then((function(){return w(t,l,e,n,i)}))}};null==e&&(e=o("message",d,!1)),f=function(t,e){return s[t]=e,function(){delete s[t]}}(b,(function(e,n){var i,r,o;if(e.type===a)if("connect"===e.method)A(n.source),w(n.source,l,e.id),y.resolve();else if(null!=t[e.method])try{r=t[e.method].apply(void 0,Array.isArray(e.params)?e.params:[e.params]),null!=(o=r)&&"function"==typeof o.then?r.then((function(t){p(e.id,t)})):p(e.id,r)}catch(t){p(e.id,t.message,c)}else p(e.id,["No handler for this method ",e.method].join(""),c);else{if(null!=(i=g[e.id]))return void(e.status===u?i.resolve(e.data,n):i.reject(e.data,n));p(e.id,["No pending requests for this response id ",e.id].join(""),c)}})),this.ready=function(){return y},this.connect=function(t){return A(t),w(t,a,"connect").then(y.resolve),y},this.request=function(){if(null!=h)return h.apply(void 0,arguments);v("request","A destination iframe needs to be connected before sending requests to it.  Try using `connect` first.")},this.tearDown=function(){f(),_.isEmpty(Object.keys(s))&&null!=e&&(e(),e=null)}}}.call(e,n,e,t))||(t.exports=i)},2499:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}void 0===(i=function(t){var e=n(4428),i=n(82),s=n(8400),a=n(3508),l=n(9032),u=n(8880),c=n(1294),h=n(6138),d=n(6295),p=n(1251),f=n(118),v=n(1681),g=n(7545).createBackSpriteCanvas,m=n(3163),y=m.FOCUS_ON_TITLE,b=m.FOCUS_ON_BODY,w=m.FOCUS_ON_IMAGE,A=m.FOCUS_ON_VIDEO,S=m.FOCUS_ON_AUDIO,E=m.FOCUS_ON_NONE,x=n(49),T=n(7552),_=n(7812),C=_.math,k=(C.TWO_PI,C.HALF_PI),M=_.MOBILE_360_IMAGE_SCALE_THRESHOLD,O=n(8579).device.isMobile,P=n(9337),L=P.angle,I=P.angleDiff,R=(P.getPinchDistance,P.textureSettings),D=(P.backTextureSettings,P.isPanelBody),N=P.isPanelTitle,H=P.isHintContent,V=P.adjustVariable,F=(P.toScreenPosition,P.touchify),B=P.createBoundingBoxEl,j=P.isLeftClickOrTouch,U=P.isRightClick,W=n(5505),z=W.clickOrTouchEnd,G=W.downOrTouchStart,q=W.moveOrTouchMove,Y=W.upOrTouchEnd,X=n(9045),K=X.formatMessage,J=X.getSpanStyle,Z=X.crosshairsSvg,$=X.bottomUi,Q=X.BOTTOM_UI_HEIGHT,tt=X.modes,et=n(1815),nt=et.freeNavigation,it=et.guidedNavigtion,rt=et.navigation,ot="",st="crosshair",at=function(){function t(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),lt.call(this),this.model=n.model,this.el=n.el,this.cssEl=n.cssEl,this.overlaysEl=n.overlaysEl,this.editorApi=n.editorApi,this.suppressOnSelectionChange=0,this.markerShownCounter=0,this.mobileZoom=1,this.editorSettings=n.editorSettings,this.id="three-canvas-"+i.getPath(this,"slideObject.props.model.id",h.uniqueId("edit-mode")),null!=this.editorApi&&this.setEditMode(!0),this.localizedText=n.localizedText||{},this.isDragging=!1,this.forcingCameraTarget=!1,this.newWidth=n.width,this.newHeight=n.height,this.origWidth=n.width,this.origHeight=n.height,this.nudgeOnLoad=n.nudgeOnLoad,this.downX=0,this.downY=0,this.downLon=0,this.downLat=0,this.lastTimeStampMs=performance.now(),this.kpPanAnimation=.008,this.lon=0,this.lat=0,this.phi=0,this.theta=0,this.radius=21,this.latMin=-89.8,this.latMax=89.5,this.oldIntersections={},this.drag={},this.sprites={},this.markersByIdx={},this.markerCount=0,this.initialLatOffset=0,this.assetManager=n.assetManager,this.slideObject=n.slideObject,this.overlaySvgEl=n.overlaySvgEl,this.miscOverlaysEl=n.miscOverlaysEl,this.playerAccentColor=n.playerAccentColor,this.setHotspotColor(n.hotspotColor),this.setHotspotReveal(n.hotspotReveal),this.pulseHotspots=n.pulseHotspots,this.pulseMarkers=n.pulseMarkers,this.navigation=n.navigation||{type:rt.NONE,visible:!1},this.bind=n.bind,this.spherical=new e.Spherical,this.orientation=0,this.pinch={scale:1,matrix:new c},this.setupEditorMessages(),this.setMode(tt.DEFAULT),this.setupScene(n),this.setupDom(n),this.setupBackSpriteTex(),this.setupVelocityToss(),this.setupRaycasting(),this.hotspotLayer=new T(this),this.setupMarkers(n.markerData),this.setMarkerPulse(n.pulseMarkers),this.setHotspotPulse(n.pulseHotspots),this.setInitialCameraTarget(n.initialLat,n.initialLon),this.setupVars(),this.setupNavigation(),window.addEventListener("resize",this.onResize),l.on("forceRender",this.onForceRender),null!=this.editorApi&&l.on(u.threeSixtyImage.MARKER_UPDATED,this.onMarkerUpdated),this.ready()}return r(t,[{key:"updateEditorSettings",value:function(t){this.editorSettings=t,l.trigger(u.threeSixtyImage.EDITOR_SETTINGS_CHANGED)}},{key:"setInitialCameraTarget",value:function(t,e){this.editMode||!this.nudgeOnLoad?this.initialLat=t:(this.initialLatOffset=t-2>=this.latMin?-2:2,this.initialLat=t+this.initialLatOffset),this.initialLon=e,this.setCameraTarget(this.initialLat,this.initialLon)}},{key:"setupEditorMessages",value:function(){var t,e=this;this.editorMessages=(o(t={updateText:function(t){return e.updateText(t)},updateMarker:function(t){return e.updateMarker(t)},updateMarkers:function(t){return e.updateMarkers(t)},batchUpdateMarkers:function(t){return e.batchUpdateMarkers(t)},removeMarker:function(t){return e.removeMarker(t.id)},forceRemoveMarker:function(t){return e.removeMarker(t.id,!0)},placeMarkerFromContextMenu:function(t){return e.placeMarkerFromContextMenu(t)},panToMarker:function(t){return e.panToMarker(t.id)},selectMarker:function(t){return e.selectMarker(t)},setFocus:function(t){return e.setFocus(t)},showMedia:function(t){return e.showMedia()},hideMedia:function(t){return e.hideMedia()},setEffects:function(t){return e.setEffect(t)},duplicateMarker:function(t){return e.duplicateMarker(t.sourceId,t.duplicatedMarkerData)},pasteMarker:function(t){return e.pasteMarker(t)},resetMode:function(t){return e.setMode(tt.DEFAULT)}},tt.ADD_MARKER,(function(t){e.setMode(tt.ADD_MARKER),e.upcomingMarkerData=t})),o(t,tt.SET_INITIAL_CAMERA_ANGLE,(function(t){return e.setMode(tt.SET_INITIAL_CAMERA_ANGLE)})),o(t,"saveInitialCameraAngle",(function(t){return e.onSetInitialCamDone()})),o(t,tt.SET_CROP_IMAGE_MEDIA,(function(t){return e.setMode(tt.SET_CROP_IMAGE_MEDIA)})),o(t,"saveCropImageMedia",(function(t){return e.saveCropImageMedia()})),o(t,"updateEditorSettings",(function(t){return e.updateEditorSettings(t)})),t)}},{key:"ready",value:function(){var t=this;window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){Object.values(t.sprites).forEach((function(t){null!=t&&t.userData.cssMarker.panoReady()})),null!=t.model&&t.model.trigger(u.threeSixtyImage.READY,t)}))}))}},{key:"cancelNudge",value:function(){clearTimeout(this.nudgeTimeout),this.nudgeTimeout=null}},{key:"nudge",value:function(){var t=this;clearTimeout(this.nudgeTimeout),this.nudgeTimeout=setTimeout((function(){t.spherical.setFromCartesianCoords(t.camera.target.x,t.camera.target.y,t.camera.target.z);var n=e.Math.radToDeg(k-t.phi);n+=-1*t.initialLatOffset,t.spherical.phi=e.Math.degToRad(90-n);var i=new e.Vector3;i.setFromSpherical(t.spherical),t.setPanToCoord(i)}),250)}},{key:"setMarkerPulse",value:function(t){this.pulseMarkers=t,Object.values(this.sprites).forEach((function(e){if(null!=e){var n=e.userData.cssMarker;n.isHotspot()||n.adjust({props:{animation:t?"pulse":"normal"}})}}))}},{key:"setHotspotPulse",value:function(t){this.pulseHotspots=t}},{key:"setupBackSpriteTex",value:function(){var t=this,e=g("none",this.maxAnisotropy),n=e.canvas,i=e.tex,r=e.mat;e.render;this.backSpriteTex={normal:function(){return{canvas:n,tex:i,mat:r}},pulse:function(){t.pulseAnimation||(t.pulseAnimation=g("pulse",t.maxAnisotropy));var e=t.pulseAnimation;return{canvas:e.canvas,tex:e.tex,mat:e.mat}},empty:function(){t.emptyTexture||(t.emptyTexture=g("empty",t.maxAnisotropy));var e=t.emptyTexture;return{canvas:e.canvas,tex:e.tex,mat:e.mat}}}}},{key:"getMarker",value:function(t){var e=this.sprites[t];if(null!=e)return e.userData.cssMarker}},{key:"removeMarker",value:function(t,e){var n=this.getMarker(t);if(null!=n){if(null!=n.polyHotspot)if(n.polyHotspot.delete(e))return;n.remove(),this.boundingBox.style.display="none",this.cssScene.remove(n.object),this.scene.remove(n.sprite),this.scene.remove(n.backSprite),delete this.sprites[n.id],delete this.markersByIdx[n.idx],null!=this.editorApi&&this.editorApi.onMarkerRemoved(n.id)}}},{key:"getCurrInputElement",value:function(){var t=document.activeElement;return null==t||t===document.body?null:D(t)||N(t)||H(t)?t:null}},{key:"getCurrMediaElementType",value:function(){var t=this.currMarker;if(null==t)return E;var e=t.userData.cssMarker.panel;if(null==e)return E;var n=function(t){if(null==t)return!1;var n=e.getSelectionBox(t);return null!=n&&n.shown};return n(e.mediaImageEl)?w:n(e.mediaAudioEl)?S:n(e.mediaVideoPosterEl)?A:E}},{key:"getIsMediaShowing",value:function(){var t=this.currMarker;if(null==t)return!1;var e=t.userData.cssMarker.panel;return null!=e&&e.mediaShowing}},{key:"getAccHtml",value:function(){var t='<div class="three-sixty-image-acc-markers">',e=33/this.origWidth*100,n=33/this.origHeight*100;if(t+="\n        <style>\n        .acc-three-sixty-marker {\n          left: "+(50-e/2)+"%;\n          top:  "+(50-n/2)+"%;\n          width: "+e+"%;\n          height: "+n+"%;\n        }\n        </style>\n      ",Object.values(this.sprites).forEach((function(e){null!=e&&(t+=e.userData.cssMarker.getAccHtml())})),this.isGuidedNav()){var i={three_image_interaction_next:"next",three_image_interaction_prev:"previous"},r=i.three_image_interaction_next||v.getString("three_image_interaction_next"),o=i.three_image_interaction_prev||v.getString("three_image_interaction_prev");t+='\n          <button\n            class="acc-shadow-el acc-button acc-three-sixty-nav-btn acc-three-sixty-nav-next"\n            tabindex="0" type="button"\n            aria-label="'+r+'"\n          ><p><span>'+r+'</span></p></button>\n          <button\n            class="acc-shadow-el acc-button acc-three-sixty-nav-btn acc-three-sixty-nav-prev"\n            tabindex="0" type="button"\n            aria-label="'+o+'"\n          ><p><span>'+o+"</span></p></button>\n        "}return t+="</div>"}},{key:"connectAccChildren",value:function(t,e){this.threeSixtyAcc=t,this.accChildContainerEl=e,Object.values(this.sprites).forEach((function(t){null!=t&&t.userData.cssMarker.setAccChild(e)})),this.isGuidedNav()&&(this.nextAccBtn=e.querySelector(".acc-three-sixty-nav-next"),this.prevAccBtn=e.querySelector(".acc-three-sixty-nav-prev"),this.updateGuidedArrows())}},{key:"updateText",value:function(t){if(null!=this.getMarker(t.id)){var e=this.getCurrInputElement();null!=e&&this.withOnSelectionChange((function(){K(e,t)}))}}},{key:"updateMarkers",value:function(t){for(var e in this.sprites){this.sprites[e].userData.cssMarker.adjustProps(t)}null!=this.editorApi&&this.editorApi.onMarkersUpdated(this.getAllMarkerData())}},{key:"batchUpdateMarkers",value:function(t){var e=this;t.forEach((function(t){return e.updateMarker(t)}))}},{key:"selectMarker",value:function(t){if(null!=this.currMarker){var e=this.currMarker.userData.cssMarker.panel;null!=e&&e.hide()}if(this.hideMarkerBounds(),null==t.id)this.selectNextSprite=!1,this.setCurrMarker(null);else{var n=this.getMarker(t.id);null!=n&&(this.selectNextSprite=!0,this.setCurrMarker(n.sprite),this.panToMarker(t.id))}}},{key:"setFocus",value:function(t){var e=this;null!=this.currMarker&&this.withOnSelectionChange((function(){var n=e.currMarker.userData.cssMarker.panel;if(null!=n){var i=t.focus;n.shown||i==E||(n.marker.isHotspot()?n.showHotspotPanel():n.show()),i===y?(n.showSelectionBox(n.titleEl,!0),n.titleEl.focus()):i===b?(n.showSelectionBox(n.bodyEl.parentNode,!0),n.bodyEl.focus()):i===w?n.showSelectionBox(n.mediaImageEl,!0):i===S?n.showSelectionBox(n.mediaAudioEl,!0):i===A?n.showSelectionBox(n.mediaVideoPosterEl,!0):n.hideSelectionBoxes()}}))}},{key:"showMedia",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker.panel;null!=t&&t.showMediaType(this.getCurrMediaElementType())}}},{key:"hideMedia",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker.panel;null!=t&&t.hideAllMedia()}}},{key:"setEffect",value:function(t){null!=t.color&&this.setHotspotColor(t.color),null!=t.reveal&&this.setHotspotReveal(t.reveal),null!=t.pulseMarkers&&this.setMarkerPulse(t.pulseMarkers),null!=t.pulseHotspots&&this.setHotspotPulse(t.pulseHotspots),null!=this.currMarker&&this.currMarker.userData.cssMarker.updateProps()}},{key:"editorMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.editorMessages[t](e)}},{key:"setupDom",value:function(t){var e=this,n=t.width*t.scale,i=t.height*t.scale;this.renderer.setSize(n,i),this.renderer.domElement.id=this.id,this.renderer.domElement.dataset.canvasType="360-image",this.renderer.domElement.style.pointerEvents="all",this.renderer.domElement.addEventListener(G,this.onMouseDown),this.cssRenderer.setSize(n,i),document.addEventListener(Y,this.onMouseUp,!1),document.addEventListener(q,this.onMouseMove),this.el.appendChild(this.renderer.domElement),this.cssEl.appendChild(this.cssRenderer.domElement);var r=setInterval((function(){e.calcSceneRect(),e.sceneRect.width>0&&clearInterval(r)}),16)}},{key:"toDomCoords",value:function(t,e){this.calcSceneRect();var n=t/window.innerWidth,i=e/window.innerHeight;return{x:n*this.sceneRect.width,y:i*this.sceneRect.height}}},{key:"toScreenPosition",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=new e.Vector3;n||this.calcSceneRect();var r=this.sceneRect.width/2,o=this.sceneRect.height/2;return t.updateMatrixWorld(),i.setFromMatrixPosition(t.matrixWorld).project(this.camera),{x:i.x*r+r,y:-i.y*o+o}}},{key:"vecToScreenPosition",value:function(t){this.calcSceneRect();var e=this.sceneRect.width,n=this.sceneRect.height,i=t.clone().project(this.camera);return i.x=(i.x+1)/2,i.x*=e,i.y=-(i.y-1)/2,i.y*=n,i}},{key:"duplicateMarker",value:function(t,n){this.calcSceneRect();var i=this.sprites[t],r=this.toScreenPosition(i),o=this.scaleCoord(r.x,r.y),s=new e.Vector2(o.x,o.y);this.placeMarkerWithOffset(s,n)}},{key:"pasteMarker",value:function(t){this.calcSceneRect();var n=this.scaleCoord(this.sceneRect.width/2,this.sceneRect.height/2),i=new e.Vector2(n.x,n.y);this.placeMarkerWithOffset(i,t)}},{key:"placeMarkerWithOffset",value:function(t,n){for(var i=e.Math.degToRad(20),r=new e.Vector2(15*Math.cos(i),20*Math.sin(i)),o=.8*r.lengthSq();this.isScreenPositionNearbySprite(t,o);)t.add(r);this.placeMarker(t.x,t.y,n.props,n.id)}},{key:"isScreenPositionNearbySprite",value:function(t,e){for(var n in this.sprites){var i=this.sprites[n],r=this.toScreenPosition(i),o=this.scaleCoord(r.x,r.y);if(t.distanceToSquared(o)<e)return!0}return!1}},{key:"setHotspotColor",value:function(t){t||(t="#00ccff"),this.hotspotColor=t,this.hotspotTransColor=i.rgbify(t,.4),null!=this.hotspotLayer&&this.hotspotLayer.updateColors(),Object.values(this.sprites).forEach((function(t){if(null!=t){var e=t.userData.cssMarker;e.isHotspot()&&e.updateHotspotColor()}}))}},{key:"setHotspotReveal",value:function(t){this.hotspotReveal=t}},{key:"projection",value:function(t,e){if(null!=t){this.viewMatrix.copy(this.camera.matrixWorldInverse),this.viewProjectionMatrix.multiplyMatrices(this.camera.projectionMatrix,this.viewMatrix),this.renderData=this.projector.projectScene(this.scene,this.camera),this.elements=this.renderData.elements,this.normalViewMatrix.getNormalMatrix(this.camera.matrixWorldInverse),this.calcSceneRect();var n=this.elements.find((function(e){return e.object===t}));if(null!=n){var i=n,r={x:i.x,y:i.y};i.x*=this.sceneRect.width/2,i.y*=-this.sceneRect.height/2,e(i,n,r)}}}},{key:"displayBoundingBox",value:function(){!this.currMarker||!i.getPath(this,"currMarker.userData.cssMarker")||"hotspot"===this.currMarker.userData.cssMarker.props.type&&i.getPath(this,"currMarker.userData.cssMarker.polyHotspot")||(this.currMarker.userData.cssMarker.isHotspot()?this.boundingBox.classList.add("hotspot-bb"):this.boundingBox.classList.remove("hotspot-bb"),this.boundingBox.style.display="block",this.projection(this.currMarker,this.renderSpriteBoundingBox))}},{key:"displayBoundingBoxOnMarker",value:function(t){this.projection(t.sprite,this.renderSpriteBoundingBox)}},{key:"setupProjector",value:function(){this.projector=new e.Projector,this.viewMatrix=new e.Matrix4,this.viewProjectionMatrix=new e.Matrix4,this.normalViewMatrix=new e.Matrix3}},{key:"getBoxCenter",value:function(){var t=this.boundingBox,e=this.scaleCoord(parseFloat(t.style.left),parseFloat(t.style.top)),n=this.scaleCoord(parseFloat(t.style.width),parseFloat(t.style.height));return{cx:e.x+n.x/2,cy:e.y+n.y/2}}},{key:"setupScene",value:function(t){this.setupProjector(),this.scene=new e.Scene,this.cssScene=new e.Scene,this.camera=new e.PerspectiveCamera(75,t.width/t.height,1,5e3),this.camera.layers.enable(1),this.camera.zoom=.8,this.camera.updateProjectionMatrix(),this.camera.target=new e.Vector3(0,0,0),this.renderer=new e.WebGLRenderer({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio||2),this.cssRenderer=new e.CSS3DRenderer,this.maxAnisotropy=this.renderer.capabilities.getMaxAnisotropy();var n=O?50:64;this.sphere=new e.SphereBufferGeometry(1e3,n,n),this.sphere.scale(-1,1,1),this.sphere.rotateY(k),null!=t.croppedHeight?this.croppedTextureSphere(t):this.createSphere(t.dataUri),this.overlaysEl.classList.add("three-sixty-overlay"),this.createBoundingBox()}},{key:"createBoundingBox",value:function(){this.boundingBox=B(),this.overlaysEl.appendChild(this.boundingBox),this.boundingBox.addEventListener("mousedown",this.onBoxDown)}},{key:"croppedTextureSphere",value:function(t){var e=this,n=new Image;n.src=t.dataUri;n.addEventListener("load",(function i(){var r=n.width/t.croppedWidth,o=document.createElement("canvas"),s=o.getContext("2d");o.width=t.fullWidth*r,o.height=t.fullHeight*r,s.fillStyle="black",s.fillRect(0,0,o.width,o.height),s.drawImage(n,t.croppedX*r,t.croppedY*r),e.createSphere(o.toDataURL()),n.removeEventListener("load",i)}))}},{key:"createSphere",value:function(t){var n=new e.MeshBasicMaterial;n.depthTest=!1;var i=(new e.TextureLoader).load(t);i.anisotropy=this.maxAnisotropy,n.map=i,this.sphereMesh=new e.Mesh(this.sphere,n),this.scene.add(this.sphereMesh)}},{key:"calcSceneRect",value:function(){this.sceneRect=this.renderer.domElement.getBoundingClientRect(),this.sceneScale=this.newWidth/this.origWidth}},{key:"scaleCoord",value:function(t,e){return{x:t*=window.innerWidth/this.sceneRect.width,y:e*=window.innerHeight/this.sceneRect.height}}},{key:"setEditMode",value:function(t){this.editMode=t,l.trigger(u.threeSixtyImage.EDIT_MODE_CHANGED),this.editMode?(document.addEventListener("focusin",this.onSelectionChange),document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("focusout",this.onSelectionChange)):(document.removeEventListener("focusin",this.onSelectionChange),document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("focusout",this.onSelectionChange))}},{key:"setMode",value:function(t){this.mode!==t&&(this.mode===tt.SET_INITIAL_CAMERA_ANGLE?this.cancelSetInitialCam():this.mode===tt.SET_CROP_IMAGE_MEDIA&&this.cancelCropImageMedia(!1),this.mode=t,t===tt.DEFAULT?(this.el.style.cursor=ot,null!=this.hotspotLayer&&this.hotspotLayer.deleteUnfinishedHotspot()):t===tt.ADD_MARKER?this.el.style.cursor=st:t===tt.SET_INITIAL_CAMERA_ANGLE?this.setInitialCameraAngle():t===tt.SET_CROP_IMAGE_MEDIA&&this.setCropImageMedia())}},{key:"setupRaycasting",value:function(){this.raycaster=new e.Raycaster,this.mouseRay=new e.Vector2}},{key:"getBackSpriteMaterial",value:function(t,e){this.editMode||e?t.animation="normal":this.pulseMarkers&&(t.animation="pulse");var n="hotspot"===t.type?"empty":t.animation;return this.backSpriteTex[n||"normal"]().mat}},{key:"initSprite",value:function(t,n){var i,r,o,s=void 0,a=void 0,l=void 0;return i=(s=document.createElement("canvas")).getContext("2d"),s.width=512,s.height=512,r=new e.CanvasTexture(s),o=new e.SpriteMaterial({map:r}),R(r,o,this.maxAnisotropy),(a=new e.Sprite(o)).material.opacity=1,a.renderOrder=10,(l=new e.Sprite(this.getBackSpriteMaterial(n))).renderOrder=1,l.dynamic=!0,l.userData.isBackSprite=!0,l.position.normalize(),l.scale.set(50,50,1),l.position.copy(t),{sprite:a,canvas:s,ctx:i,tex:r,mat:o,backSprite:l}}},{key:"createSprite",value:function(t,e,n){var i=this,r=this.initSprite(t,n),o=r.sprite,a=r.canvas,l=r.ctx,u=r.tex,c=(r.mat,r.backSprite);o.position.normalize(),o.scale.set(50,50,1),o.position.copy(t),o.userData.backSprite=c,this.scene.add(o),window.requestAnimationFrame((function(){return i.scene.add(c)}));var d=new s({pano:this,loc:t,sprite:o,id:e,idx:this.markerCount++,canvas:a,backSprite:c,ctx:l,tex:u,props:h.merge({type:"normal"},n||{})});return o.userData.cssMarker=d,this.sprites[e]=o,this.markersByIdx[d.idx]=d,{sprite:o,marker:d}}},{key:"setupMarkers",value:function(t){var n=this;null!=t&&t.forEach((function(t){var i=new e.Vector3(t.xPos,t.yPos,t.zPos),r=n.createSprite(i,t.id,t.props).sprite;if(r.userData.id=t.id,"hotspot"===t.props.type)if(r.userData.cssMarker.hide(),r.userData.cssMarker.el.style.display="none",null!=t.props.hotspotData){var o=t.props.hotspotData;n.hotspotLayer.createHotspot(o,r.userData.cssMarker)}else n.hotspotLayer.createHotspotAtPoint(i,r.userData.cssMarker);"normal"===t.props.type&&n.makeMarkerSwitchable(r.userData.cssMarker,i)}))}},{key:"setupVelocityToss",value:function(){this.locX=0,this.locY=0,this.prevLocX=0,this.prevLocY=0,this.locXvel=0,this.locYvel=0,this.enableVelocityDamping()}},{key:"enableVelocityDamping",value:function(){this.velDamp=.95}},{key:"disableVelocityDamping",value:function(){this.velDamp=0}},{key:"setLonLat",value:function(t,e){this.lon=.1*(this.downX-t)+this.downLon,this.lat=.1*(e-this.downY)+this.downLat}},{key:"stopVelocity",value:function(){this.locYvel=this.locXvel=0}},{key:"applyVelocity",value:function(){this.isDragging||this.forcingCameraTarget||this.downOnMarker||(this.locX+=this.locXvel,this.locY+=this.locYvel,this.locXvel*=this.velDamp,this.locYvel*=this.velDamp,this.locY>1200&&(this.locY=1200,this.locYvel=0),this.locY<-600&&(this.locY=-600,this.locYvel=0),this.setLonLat(this.locX,this.locY))}},{key:"removeNavListeners",value:function(){if(null!=this.navUi){var t=this.navUi,e=t.threeNavContentEl,n=t.threeGuidedLeftBtnEl,i=t.threeGuidedRightBtnEl;e&&e.removeEventListener(z,this.onNavClicked),n&&n.removeEventListener(z,this.goPrevGuidedClick),i&&i.removeEventListener(z,this.goNextGuidedClick)}}},{key:"destroy",value:function(){Object.values(this.sprites).forEach((function(t){null!=t&&t.userData.cssMarker.remove()})),this.renderer.domElement.removeEventListener(G,this.onMouseDown),document.removeEventListener(Y,this.onMouseUp),document.removeEventListener(q,this.onMouseMove),this.el.removeChild(this.renderer.domElement),this.killAnimation(),window.removeEventListener("resize",this.onResize),l.off("forceRender",this.onForceRender),this.hotspotLayer.destroy(),null!=this.editorApi&&l.off(u.threeSixtyImage.MARKER_UPDATED,this.onMarkerUpdated),this.removeNavListeners()}},{key:"killAnimation",value:function(){window.cancelAnimationFrame(this.animateId)}},{key:"changeSize",value:function(){this.camera.aspect=this.newWidth/this.newHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.newWidth,this.newHeight),this.cssRenderer.setSize(this.newWidth,this.newHeight),this.width=this.newWidth,this.height=this.newHeight}},{key:"updateLatLonUi",value:function(){var t=Math.round(this.lat),e=i.normalizeDeg(Math.round(this.lon));this.setCamUi.threeLatLonTextEl.innerHTML="<div>\n      "+this.localizedText.initialView+" "+t+"&#176;, "+e+"&#176;\n      </div>"}},{key:"resetCropImageMedia",value:function(){this.cancelCropImageMedia(!1),this.setCropImageMedia(!0)}},{key:"cancelCropImageMedia",value:function(t){null!=this.cropTool&&(this.cropTool.hide(),this.cropTool=null),this.cropToolShown=!1,this.bottomCropUiEl.style.display="none";var e=this.currMarker.userData.cssMarker.panel;null!=e&&e.cancelCrop(),null!=this.editorApi&&null!=this.editorApi.restoreFit&&this.editorApi.restoreFit(),t&&(this.setMode(tt.DEFAULT),null!=this.editorApi&&this.editorApi.onCancelImageMediaCrop())}},{key:"saveCropImageMedia",value:function(){if(this.cropToolShown){var t=this.cropTool.getCropRect();t.markerId=this.currMarker.userData.cssMarker.id,this.currMarker.userData.cssMarker.panel.saveCrop(t),this.cancelCropImageMedia(!1),null!=this.editorApi&&this.editorApi.onImageMediaCrop(t)}}},{key:"setCropImageMedia",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cropToolShown){null!=this.cropTool&&(this.cropTool.hide(),this.cropTool=null);var n=this.currMarker.userData.cssMarker.panel,i=n.prepCrop(),r=e?null:n.marker.getEditorVar("imageMediaCropRectangle");if(this.cropTool=new x(".panel-image-container"),this.cropTool.show(),null!=r&&this.cropTool.setCropRect(r),this.cropToolShown=!0,!this.bottomCropUiEl){var o=this.localizedText,s=o.cropReset,a=o.cropCancel,l=o.cropDone;this.bottomCropUiEl=document.createElement("div"),this.bottomCropUiEl.innerHTML=$({reset:s,cancel:a,done:l}),this.bottomCropUiEl=this.bottomCropUiEl.firstElementChild,this.bottomCropUiEl.style.zIndex=1e4,this.setCropUiBottom={},p.selectAllByRef(this.setCropUiBottom,this.bottomCropUiEl);var u=document.querySelector("#wrapper");null!=u&&u.appendChild(this.bottomCropUiEl),this.setCropUiBottom.threeBottomUiResetEl.addEventListener("click",(function(){t.resetCropImageMedia()})),this.setCropUiBottom.threeBottomUiDoneEl.addEventListener("click",(function(){t.saveCropImageMedia(),t.setMode(tt.DEFAULT)})),this.setCropUiBottom.threeBottomUiCancelEl.addEventListener("click",(function(){t.cancelCropImageMedia(!0)}))}null!=this.editorApi&&null!=this.editorApi.forceFitInWindow&&this.editorApi.forceFitInWindow(),i(),this.bottomCropUiEl.style.display="block",this.updateSize(this.newWidth,this.newHeight),this.positionCropUi()}}},{key:"hideCrosshairUi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8;null!=this.editorApi&&null!=this.editorApi.restoreFit&&this.editorApi.restoreFit(),d.to(this.setCamUi.threeCrosshairsEl,t,{opacity:0}),this.bottomCamUiEl.style.display="none",d.to(this.setCamUi.threeLatLonPillEl,t,{opacity:0,delay:e}),this.el.parentNode.classList.remove("three-setting-intial-camera"),this.enableVelocityDamping()}},{key:"cancelSetInitialCam",value:function(){this.hideCrosshairUi(0,0)}},{key:"setupVars",value:function(){null!=this.bind&&null!=this.navigation&&(this.vars={visitedPath:this.bind.visited,total:f.resolvePath(this.bind.total),visited:f.resolvePath(this.bind.visited)})}},{key:"hasNavigationVars",value:function(){return null!=this.bind&&null!=this.vars&&null!=this.vars.visitedPath&&null!=this.vars.total&&null!=this.vars.visited}},{key:"resetView",value:function(){this.visitedMarkers=0,this.resetMarkers(),this.setCameraTarget(this.initialLat,this.initialLon)}},{key:"updateResumeProps",value:function(){this.model.prop("CameraLat",this.lat),this.model.prop("CameraLon",this.lon)}},{key:"applyResume",value:function(){this.resumeVisitedMarkers(),this.visitedMarkersChanged(),this.cancelNudge(),this.setCameraTarget(this.model.prop("CameraLat"),this.model.prop("CameraLon"))}},{key:"resetMarkers",value:function(){Object.values(this.markersByIdx).forEach((function(t){t.reset()}))}},{key:"resumeVisitedMarkers",value:function(){for(var t=this.model.indexValues,e=this.model.labelValues,n=0;n<t.length;n++){var i=t[n];this.markersByIdx[i]&&this.markersByIdx[i].resumeVisited(e[i])}}},{key:"getNavigationText",value:function(){if(!1!==this.navigation.visible&&this.navigation.type!==rt.NONE){var t=this.navigation.itemText||v.getString("three_image_item"),e=this.navigation.itemsText||v.getString("three_image_items"),n=this.navigation.viewedText||v.getString("three_image_viewed"),i=this.navigation.ofText||v.getString("three_image_of"),r=this.vars.total.value();return this.navigation.type===rt.FREE?0===this.visitedMarkers?r+" "+(1!==r?e:t):this.visitedMarkers+" "+i+" "+r+" "+n:this.isGuidedNav()?Math.min(this.guidedMarkerInView+1,r)+" "+i+" "+r:void 0}}},{key:"getVerboseNavigationText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={three_image_interaction:"360 degree Image interaction",three_image_navigation_free:"Free exploration mode",three_image_navigation_guided:"Guided tour mode",three_image_navigation_step:"Step"},n=e.three_image_interaction||v.getString("three_image_interaction"),i=this.navigation.type===rt.FREE?e.three_image_navigation_free||v.getString("three_image_navigation_free"):e.three_image_navigation_guided||v.getString("three_image_navigation_guided"),r=e.three_image_navigation_step||v.getString("three_image_navigation_step"),o=this.navigation.itemText||v.getString("three_image_item"),s=this.navigation.itemsText||v.getString("three_image_items"),a=this.navigation.viewedText||v.getString("three_image_viewed"),l=this.navigation.ofText||v.getString("three_image_of"),u=this.vars.total.value(),c=void 0;if(this.navigation.type===rt.FREE){var h=1!==u?s:o;c=t?n+". "+i+". "+u+" "+h+" "+this.visitedMarkers+" "+a:this.visitedMarkers+" "+l+" "+u+" "+h+" "+a+" "}else if(this.isGuidedNav()){var d=Math.min(this.guidedMarkerInView+1,u);c=t?n+". "+i+". "+r+" "+d+" "+l+" "+u:r+" "+d+" "+l+" "+u}return c}},{key:"updateNavigationText",value:function(){null!=this.navUi&&(this.navUi.threeNavContentEl.innerHTML=this.getNavigationText())}},{key:"setupNavigation",value:function(){this.hasNavigationVars()&&(V(this.bind.total,Object.keys(this.sprites).length,this),this.navigation.type===rt.FREE&&!0===this.navigation.visible?(this.navigationEl=this.miscOverlaysEl,null!=this.navigationEl&&(this.navigationEl.innerHTML=nt(this.navigation.textColor,this.navigation.backgroundColor),this.navUi={},p.selectAllByRef(this.navUi,this.navigationEl),this.updateNavigationText(),this.setLocVarsCenter())):this.isGuidedNav()&&(this.navigationEl=this.miscOverlaysEl,null!=this.navigationEl&&(this.setupGuidedUi(),this.goFirstGuidedMarker(),this.updateNavigationText())))}},{key:"visitedMarkersChanged",value:function(){this.isGuidedNav()&&this.updateGuidedArrows()}},{key:"isGuidedNav",value:function(){return this.navigation.type===rt.GUIDED}},{key:"setupGuidedUi",value:function(){!0===this.navigation.visible&&(this.navigationEl.innerHTML=it(this.navigation.textColor,this.navigation.backgroundColor,this.playerAccentColor),this.navUi={},p.selectAllByRef(this.navUi,this.navigationEl),d.from(this.navUi.threeNavigationEl,.4,{opacity:0,delay:.4}),this.navUi.threeNavContentEl.addEventListener(z,this.onNavClicked),this.navUi.threeGuidedLeftBtnEl.addEventListener(z,this.goPrevGuidedClick),this.navUi.threeGuidedRightBtnEl.addEventListener(z,this.goNextGuidedClick)),Object.values(this.markersByIdx).forEach((function(t){t.hide()}))}},{key:"goFirstGuidedMarker",value:function(){var t=this;this.slideObject.afterHtmlReady((function(){if(t.isGuidedNav()){var e=t.markersByIdx[t.guidedMarkerInView];null!=e&&(t.isNavigationPan=!0,e.show(),e.isHotspot()&&(e.polyHotspot.visible=t.hotspotReveal,e.polyHotspot.canClick=!0),t.panToMarker(e.id),t.updateGuidedArrows(),t.updateNavigationText())}}))}},{key:"isFirstMarkerWithNoResume",value:function(){return 0===this.guidedMarkerInView&&0===this.model.indexValues.length}},{key:"canNavNextMarker",value:function(){return-1!=this.model.indexValues.indexOf(this.guidedMarkerInView)&&this.guidedMarkerInView<this.vars.total.value()-1}},{key:"updateAccArrowBtns",value:function(t,e){null!=this.prevAccBtn&&null!=t&&(t?this.prevAccBtn.setAttribute("aria-disabled",t):this.prevAccBtn.removeAttribute("aria-disabled")),null!=this.nextAccBtn&&null!=e&&(e?this.nextAccBtn.setAttribute("aria-disabled",e):this.nextAccBtn.removeAttribute("aria-disabled"))}},{key:"updateGuidedArrows",value:function(){if(null!=this.navUi){if(this.isFirstMarkerWithNoResume())return this.navUi.threeGuidedRightBtnEl.classList.add("three-guided-disabled"),this.navUi.threeGuidedLeftBtnEl.classList.add("three-guided-disabled"),void this.updateAccArrowBtns(!0,!0);this.canNavNextMarker()?(this.navUi.threeGuidedRightBtnEl.classList.remove("three-guided-disabled"),this.updateAccArrowBtns(null,!1)):(this.navUi.threeGuidedRightBtnEl.classList.add("three-guided-disabled"),this.updateAccArrowBtns(null,!0)),this.guidedMarkerInView>0?(this.navUi.threeGuidedLeftBtnEl.classList.remove("three-guided-disabled"),this.updateAccArrowBtns(!1)):(this.navUi.threeGuidedLeftBtnEl.classList.add("three-guided-disabled"),this.updateAccArrowBtns(!0))}}},{key:"hideShowGuidedArrows",value:function(){if(null!=this.prevMarker&&(this.prevMarker.hide(),null!=this.prevMarker.panel&&(this.model.updateLabelState(this.prevMarker.idx,this.prevMarker.panel.shown),this.model.setVisitedMarkers()),this.prevMarker.isHotspot()&&(this.prevMarker.polyHotspot.visible=!1,this.prevMarker.polyHotspot.canClick=!1)),null!=this.nextMarker)if(this.nextMarker.show(),this.nextMarker.isHotspot()&&(this.nextMarker.polyHotspot.canClick=!0),this.isNavigationPan=!0,this.accNavConfig){var t=this.accNavConfig,e=t.isAcc,n=t.cb;this.panToMarker(this.nextMarker.id,e,n),this.accNavConfig=null}else this.panToMarker(this.nextMarker.id);this.updateNavigationText(),this.updateGuidedArrows()}},{key:"setAccNavPanConfig",value:function(t){this.accNavConfig={isAcc:!0,cb:t}}},{key:"positionInitialCamUi",value:function(){if(this.mode===tt.SET_INITIAL_CAMERA_ANGLE){var t=document.querySelector("#container");if(null!=t){var e=t.getBoundingClientRect();this.bottomCamUiEl.style.top=e.bottom+"px",this.bottomCamUiEl.style.left=e.left+"px",this.bottomCamUiEl.style.width=e.width+"px"}}}},{key:"positionCropUi",value:function(){if(this.mode===tt.SET_CROP_IMAGE_MEDIA){var t=document.querySelector(".panel-image-frame");if(null!=t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top,bottom:e.bottom,width:e.width};if(n.width<410){n.width=410;var i=(410-e.width)/2;n.left=e.left-i}this.bottomCropUiEl.style.top=n.bottom+"px",this.bottomCropUiEl.style.left=n.left+"px",this.bottomCropUiEl.style.width=n.width+"px"}}}},{key:"setInitialCameraAngle",value:function(){var t=this;if(this.deselectMarker(),this.el.parentNode.classList.add("three-setting-intial-camera"),this.disableVelocityDamping(),this.panToCoord=!1,this.setCameraTarget(this.initialLat,this.initialLon),Object.values(this.sprites).forEach((function(t){if(null!=t){var e=t.userData.cssMarker;null!=e.panel&&e.panel.shown&&e.panel.hide()}})),null!=this.editorApi&&null!=this.editorApi.forceFitInWindow&&this.editorApi.forceFitInWindow(),this.crossHairsEl)this.crossHairsEl.style.display="block",this.setCamUi.threeCrosshairsEl.style.opacity=1,this.setCamUi.threeLatLonPillEl.style.opacity=1,this.bottomCamUiEl.style.display="block";else{this.bottomCamUiEl=document.createElement("div");var e=this.localizedText,n=e.initialCameraReset,i=e.initialCameraCancel,r=e.initialCameraDone;this.bottomCamUiEl.innerHTML=$({reset:n,cancel:i,done:r}),this.bottomCamUiEl=this.bottomCamUiEl.firstElementChild,this.setCamUiBottom={},p.selectAllByRef(this.setCamUiBottom,this.bottomCamUiEl);var o=document.querySelector("#wrapper");null!=o&&o.appendChild(this.bottomCamUiEl),this.crossHairsEl=document.querySelector(".three-misc-overlays"),null!=this.crossHairsEl&&(this.crossHairsEl.innerHTML=Z()),this.setCamUi={},p.selectAllByRef(this.setCamUi,this.crossHairsEl),this.setCamUiBottom.threeBottomUiDoneEl.addEventListener("click",this.onSetInitialCamDone),this.setCamUiBottom.threeBottomUiResetEl.addEventListener("click",(function(){t.panToCoord=!1,t.deselectMarker(),t.setCameraTarget(0,0)})),this.setCamUiBottom.threeBottomUiCancelEl.addEventListener("click",(function(){null!=t.editorApi&&null!=t.editorApi.onCancelInitialCameraAngleSet&&t.editorApi.onCancelInitialCameraAngleSet(),t.setMode(tt.DEFAULT)}))}this.positionInitialCamUi(),this.updateSize(this.newWidth,this.newHeight),d.from(this.setCamUi.threeCrosshairsEl,.2,{opacity:0})}},{key:"panComplete",value:function(){var t=this;if(this.panToCoord&&(this.setLocVarsCenter(),this.panToCoord=!1,null!=this.panCallback&&(this.panCallback(this.showNextSprite),this.panCallback=null)),this.selectNextSprite&&setTimeout((function(){t.currMarker&&(t.displayBoundingBox(),t.showMarkerBounds(),t.boundingBox.style.display="block",t.selectNextSprite=!1)}),300),null!=this.showNextSprite){var e=this.showNextSprite,n=e.userData.cssMarker,i=n.polyHotspot,r=n.isHotspot(),o=this.editMode||!this.isGuidedNav()||this.markerShownCounter>0,s=this.isAccPan;this.isAccPan&&(this.isAccPan=!1),s||(this.hotspotLayer.currHotspot=r&&o?i:null),(n.panel||n.hotspotHint)&&this.mode!==tt.SET_INITIAL_CAMERA_ANGLE&&(null!=n.panel&&(n.panel.forcePlaceCenter=!0),window.requestAnimationFrame((function(){if(!s&&(0!==t.markerShownCounter||t.editMode||t.model.labelValues[n.idx]))if(r){if(n.panel){t.calcSceneRect();var e=t.vecToScreenPosition(i.getCenterPoint(i.shapeMesh));n.panel.show(!0,e)}else l.trigger(u.threeSixtyImage.PUSH_DOWN_BY_LABEL);null!=n.hotspotHint&&n.hotspotHint.show()}else n.panel.show();null!=n.panel&&n.panel.hideSelectionBoxes(),t.markerShownCounter++}))),this.isNavigationPan&&(window.requestAnimationFrame((function(){t.isFirstMarkerWithNoResume()||n.addToVisitedMarkers()})),this.isGuidedNav()&&(this.markerShownCounter>0&&n.triggerEvent("onlinkrelease",e.userData.id),r&&(i.visible=this.hotspotReveal,i.canClick=!0))),this.showNextSprite=null}this.isNavigationPan=!1}},{key:"updateHotspotStrokes",value:function(){(Math.abs(this.locXvel)>.005||Math.abs(this.locYvel)>.005)&&Object.values(this.sprites).forEach((function(t){if(null!=t){var e=t.userData.cssMarker;e.isHotspot()&&e.displayBounds()}}))}},{key:"showMarkerBounds",value:function(){var t=this.currMarker.userData.cssMarker.displayBounds();t!=this.currMarkerBounds&&(this.hideMarkerBounds(),this.currMarkerBounds=t)}},{key:"hideMarkerBounds",value:function(){null!=this.currMarkerBounds&&(this.currMarkerBounds.hideShowControlPoints(!1),this.currMarkerBounds.isHotspot()||(this.currMarkerBounds.boundsEl.style.display="none"),this.currMarkerBounds=null)}},{key:"triggerEvent",value:function(t,e){this.model.executeFilteredPlayerEvent((function(t){return t.triggerid===e}),t)}},{key:"executeMarkerEvent",value:function(t,e){"click"===e?this.triggerEvent("onlinkrelease",t.userData.id):"move"!==e||t.userData.isOver?"out"===e&&(t.userData.isOver=!1):t.userData.isOver=!0}},{key:"getMarkerIntersection",value:function(t,e,n){var i=this,r=!1;this.mouseRay.x=t/window.innerWidth*2-1,this.mouseRay.y=-e/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouseRay,this.camera);var o=this.scene.children.filter((function(t){return"Sprite"===t.type&&!t.userData.isBackSprite&&!t.userData.isHotspotControlPoint})),s=this.raycaster.intersectObjects(o),a={};return s.forEach((function(t){r=!0,a[t.object.userData.id]=t.object,"over"===n&&i.setCurrMarker(t.object)})),r}},{key:"deselectMarker",value:function(){this.setCurrMarker(null),this.boundingBox.style.display="none",this.hideMarkerBounds(),this.forcingCameraTarget=!1}},{key:"setCurrMarker",value:function(t){(null==this.hotspotLayer.currHotspot||this.hotspotLayer.currHotspot.finished)&&(this.currMarker=t,l.trigger(u.threeSixtyImage.SELECTED_MARKER_CHANGED,i.getPath(this,"currMarker.userData.cssMarker.id",null)),this.editMode&&null!=this.editorApi&&this.editorApi.onMarkerSelected(null!=this.currMarker?this.currMarker.userData.cssMarker.id:null))}},{key:"panToMarker",value:function(t,e,n){var i=this.sprites[t];if(null!=i){n&&(this.panCallback=n);var r=i.userData.cssMarker;if(this.isNavigationPan&&!this.hotspotReveal&&r.isHotspot())return r.el.style.opacity=0,null!=r.hotspotHint&&r.hotspotHint.show(),void l.trigger(u.threeSixtyImage.PUSH_DOWN_BY_LABEL);this.isAccPan=e,this.setPanToCoord(i.position),this.showNextSprite=i}}},{key:"setPanToCoord",value:function(t){this.spherical.setFromCartesianCoords(t.x,t.y,t.z),this.panCoord=this.spherical;var e=k-this.panCoord.theta,n=I(this.theta,e);this.panCoord.theta=this.theta+n,this.panToCoord=!0}},{key:"getMarkerData",value:function(t){var e=this.getMarker(t);if(null!=e)return e.getData()}},{key:"getAllMarkerData",value:function(t){var e=[];for(var n in this.sprites){var i=this.sprites[n].userData.cssMarker;(null==t||t.includes(i.id))&&e.push(i.getData())}return e}},{key:"getCentermostMarker",value:function(){this.calcSceneRect();var t=[],n={x:this.sceneRect.width/2,y:this.sceneRect.height/2};this.camera.updateMatrix(),this.camera.updateMatrixWorld();var r=new e.Frustum;for(var o in r.setFromMatrix((new e.Matrix4).multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse)),this.sprites){var s=this.sprites[o].userData.cssMarker,a=s.isHotspot()?s.polyHotspot.shapeMesh:s.sprite;if(r.containsPoint(a.position)){var l=this.toScreenPosition(a,!0);if(null!=l){var u=i.dist(n.x,n.y,l.x,l.y);t.push({dist:u,marker:s})}}}var c=t.sort((function(t,e){return t.dist-e.dist}))[0];return null!=c&&c.marker}},{key:"mouseIntersect",value:function(t,e){return this.mouseRay.x=t/window.innerWidth*2-1,this.mouseRay.y=-e/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouseRay,this.camera),this.raycaster.intersectObject(this.sphereMesh)}},{key:"placeMarkerFromContextMenu",value:function(t){null!=this.contextMenuOrigin&&this.placeMarker(this.contextMenuOrigin.pageX,this.contextMenuOrigin.pageY,t.props,t.id)}},{key:"placeMarker",value:function(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3],s=this.mouseIntersect(t,n),a=void 0,l=void 0;if(s.length>0){var u=s[0].point;u.lerp(new e.Vector3(0,0,0),.05);var c=function(){null!=i.editorApi&&i.editorApi.onMarkerPlaced(a.marker.getData())};if(l=(a=this.createSprite(u,o,r)).marker.isHotspot())if(a.marker.hide(),a.marker.el.style.display="none",null==a.marker.props.hotspotData)this.setMode(tt.DRAWING_HOTSPOT),this.hotspotLayer.beginHotspot(u,a.marker,c);else{var h=this.hotspotLayer.createHotspot(a.marker.props.hotspotData,a.marker);h.drag(u),c(),this.setCurrMarker(h.marker.sprite),this.setFocus({focus:y})}else c(),this.makeMarkerSwitchable(a.marker,u);this.stopVelocity(),this.hideMarkerBounds(),this.setCurrMarker(a.sprite),l||this.setFocus({focus:y})}l||this.setMode(tt.DEFAULT)}},{key:"makeMarkerSwitchable",value:function(t,e){this.editMode&&"normal"===t.props.type&&(this.hotspotLayer.createHotspotAtPoint(e,t),t.polyHotspot.visible=!1)}},{key:"dragMarker",value:function(t,n){this.boundingBox.style.display="block",this.mouseRay.x=t/window.innerWidth*2-1,this.mouseRay.y=-n/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouseRay,this.camera);var i=this.raycaster.intersectObject(this.sphereMesh);if(i.length>0){var r=i[0].point;r.lerp(new e.Vector3(0,0,0),.05),this.drag.started||(this.drag.startX=r.x-this.currMarker.position.x,this.drag.startY=r.y-this.currMarker.position.y,this.drag.startZ=r.z-this.currMarker.position.z,this.drag.started=!0,this.drag.count=0),this.drag.started&&(r.set(r.x-this.drag.startX,r.y-this.drag.startY,r.z-this.drag.startZ),this.drag.count++),this.currMarker.position.copy(r);var o=this.currMarker.userData.cssMarker;o.updateLoc(r),null!=o.polyHotspot&&o.polyHotspot.drag(r,!0)}}},{key:"canDragMarker",value:function(){return this.editMode&&this.downOnMarker&&null!=this.currMarker&&this.mode!=tt.SET_INITIAL_CAMERA_ANGLE}},{key:"checkHideHotspotPanel",value:function(){if(this.drag.started&&this.drag.count>4){var t=this.currMarker.userData.cssMarker;t.isHotspot()&&t.panel.shown&&(t.panel.hide(!0),this.hotspotLayer.currHotspot=null)}}},{key:"setLocVarsCenter",value:function(){this.calcSceneRect(),this.forcingCameraTarget=!1,this.downX=this.sceneRect.width/2,this.downY=this.sceneRect.height/2,this.locX=this.downX,this.locY=this.downY,this.locXvel=this.locYvel=this.locDist=this.locTheta=0,this.downLon=this.lon,this.downLat=this.lat,this.prevLocX=this.lastUpX=this.locX,this.prevLocY=this.lastUpY=this.locY,this.setLonLat(this.locX,this.locY)}},{key:"updateSize",value:function(t,e){var n=this;if(this.mode===tt.SET_INITIAL_CAMERA_ANGLE||this.mode===tt.SET_CROP_IMAGE_MEDIA){var r=(e-Q)/e;t*=r,e*=r,window.ResizeContainer(t,e),document.getElementById("container").scrollIntoView({inline:"center",block:"center"}),this.calcSceneRect()}if(this.positionInitialCamUi(),this.positionCropUi(),clearTimeout(this.uiPositionId),this.uiPositionId=setTimeout((function(){n.positionInitialCamUi(),n.positionCropUi()}),100),this.newWidth=t,this.newHeight=e,l.trigger(u.threeSixtyImage.RESIZED,{scale:i.getPath(this,"slideObject.props.winScale",1),width:t,height:e}),null!=this.currMarker){var o=this.currMarker.userData.cssMarker;if(null!=o.panel&&o.panel.shown){var s=o.isHotspot();window.requestAnimationFrame((function(){return o.panel.update(s)}))}}}},{key:"hideLastPanel",value:function(){a.hideLast()}},{key:"lastPanel",value:function(){return a.last}},{key:"hidePanelAndDeselect",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker,e=t.panel;null!=e&&e.hide(!0),t.disableActive()}else if(this.hotspotLayer.currHotspot){var n=this.hotspotLayer.currHotspot.marker;null!=n&&n.panel&&n.panel.hide(!0),this.hotspotLayer.currHotspot.deselect()}}},{key:"changeLocX",value:function(t){return this.hidePanelAndDeselect(),this.panToCoord=!1,this.forcingCameraTarget=!1,this.locXvel+=t,this.lastMoveDist=100,!0}},{key:"changeLocY",value:function(t){return this.hidePanelAndDeselect(),this.panToCoord=!1,this.forcingCameraTarget=!1,this.locYvel+=t,this.lastMoveDist=100,!0}},{key:"setCameraTarget",value:function(t,e){this.forcingCameraTarget=!0,this.lat=t||0,this.lon=e||0}},{key:"visitedMarkers",set:function(t){this.vars&&(V(this.vars.visitedPath,t,this),this.updateNavigationText())},get:function(){if(this.vars)return f.resolvePath(this.vars.visitedPath).value()}},{key:"guidedMarkerInView",set:function(t){this.model.prop("MarkerInView",t)},get:function(){return this.model.prop("MarkerInView")}}]),t}(),lt=function(){var t=this;this.updateMarker=function(e){var n=t.getMarker(e.id);null!=n&&n.adjust(e)},this.onMarkerUpdated=function(e){null!=t.editorApi&&t.editorApi.onMarkerUpdated(e.getData())},this.onTransitionIn=function(){t.nudgeOnLoad?t.nudge():t.cancelNudge()},this.onResize=function(){for(var e in t.sprites){t.sprites[e].userData.cssMarker.resize()}},this.onForceRender=function(e){e===t.id&&(t.renderer.render(t.scene,t.camera),t.cssRenderer.render(t.cssScene,t.camera))},this.renderSpriteBoundingBox=function(e,n){var i=n.scale.x*t.sceneRect.width/2,r=n.scale.y*t.sceneRect.height/2;t.spriteWidth=i,t.spriteHeight=r,Object.assign(t.boundingBox.style,{left:e.x-i/2+t.sceneRect.width/2+"px",top:e.y-r/2+t.sceneRect.height/2+"px",width:i+"px",height:r+"px"})},this.onBoxDown=function(e){if(null!=t.currMarker){var n=F(e,t),r=n.pageX,o=n.pageY,s=t.getBoxCenter(),a=s.cx,l=s.cy;t.handleData={isNonUniform:e.target.classList.contains("non-uniform"),dir:e.target.dataset.axis};var u=t.currMarker.scale.x,c=t.currMarker.scale.y,h=i.dist(r,o,a,l);t.scaleRatioX=u/h,t.scaleRatioY=c/h,document.addEventListener("mousemove",t.onBoxMove),document.addEventListener("mouseup",t.onBoxUp)}},this.onBoxMove=function(e){var n=F(e,t),r=n.pageX,o=n.pageY,s=t.getBoxCenter(),a=s.cx,l=s.cy,u=t.currMarker.userData.cssMarker,c=i.dist(r,o,a,l),h=void 0;if(t.handleData.isNonUniform)"x"===t.handleData.dir?(h=Math.max(50,c*t.scaleRatioX),u.scaleX(h)):"y"===t.handleData.dir&&(h=Math.max(50,c*t.scaleRatioY),u.scaleY(h));else if(t.currMarker.userData.cssMarker.isHotspot()){var d=Math.max(50,c*t.scaleRatioX),p=Math.max(50,c*t.scaleRatioY);u.scale(d,p)}else h=i.clamp(50,200,c*t.scaleRatioX),u.scale(h,h)},this.onBoxUp=function(e){t.handleData=null,document.removeEventListener("mousemove",t.onBoxMove),document.removeEventListener("mouseup",t.onBoxUp)},this.onSetInitialCamDone=function(){if(t.mode===tt.SET_INITIAL_CAMERA_ANGLE){t.setCamUi.threeLatLonTextEl.innerHTML="<div>\n        "+t.localizedText.initialViewSet+"\n      </div>";var e=document.createElement("div");p.setStyles(e,{position:"absolute",width:"100%",height:"100%",left:0,top:0,background:"white",opacity:1}),t.el.appendChild(e),d.to(e,.3,{opacity:0,onComplete:function(){t.el.removeChild(e)}}),t.hideCrosshairUi(),t.initialLat=t.lat,t.initialLon=t.lon,null!=t.editorApi&&t.editorApi.onInitialCameraAngleSet(t.lat,t.lon),t.setMode(tt.DEFAULT)}},this.onNavClicked=function(t){t.stopPropagation()},this.goPrevGuidedClick=function(e){t.guidedNavClicked=!0,t.goPrevGuided(),e.stopPropagation()},this.goPrevGuided=function(){t.prevMarker=t.markersByIdx[t.guidedMarkerInView],t.nextMarker=t.markersByIdx[t.guidedMarkerInView-1],t.guidedMarkerInView--,t.isGuidedPrevShow=!0,t.nextMarker.disablePulse(),t.nextMarker.downActiveState(),t.prevMarker.active=!1,t.hideShowGuidedArrows()},this.goNextGuidedClick=function(e){t.guidedNavClicked=!0,t.goNextGuided(),e.stopPropagation()},this.goNextGuided=function(){t.guidedMarkerInView++,t.prevMarker=t.markersByIdx[t.guidedMarkerInView-1],t.nextMarker=t.markersByIdx[t.guidedMarkerInView],t.isGuidedNextShow=!0,t.nextMarker.disablePulse(),t.nextMarker.downActiveState(),t.prevMarker.active=!1,t.hideShowGuidedArrows()},this.animate=function(n){var i=t.kpPanAnimation,r=Math.min(n-t.lastTimeStampMs,1/i);t.lastTimeStampMs=n,t.width==t.newWidth&&t.height==t.newHeight||t.changeSize(),t.panToCoord?(t.phi+=i*(t.panCoord.phi-t.phi)*r,t.theta+=i*(t.panCoord.theta-t.theta)*r,t.lat=e.Math.radToDeg(k-t.phi),t.lon=e.Math.radToDeg(t.theta),Math.abs(t.phi-t.panCoord.phi)<.005&&Math.abs(t.theta-t.panCoord.theta)<.005&&t.panComplete()):(t.applyVelocity(),t.lat=Math.max(t.latMin,Math.min(t.latMax,t.lat)),t.phi=e.Math.degToRad(90-t.lat),t.theta=e.Math.degToRad(t.lon)),t.targetX=t.radius*Math.sin(t.phi)*Math.cos(t.theta),t.targetY=t.radius*Math.cos(t.phi),t.targetZ=t.radius*Math.sin(t.phi)*Math.sin(t.theta),t.camera.target.set(t.targetX,t.targetY,t.targetZ),t.camera.lookAt(t.camera.target),t.renderer.render(t.scene,t.camera),t.cssRenderer.render(t.cssScene,t.camera),t.editMode&&(t.updateHotspotStrokes(),t.displayBoundingBox(),null!=t.currMarker&&t.showMarkerBounds(),t.mode===tt.SET_INITIAL_CAMERA_ANGLE&&t.updateLatLonUi()),t.animateId=window.requestAnimationFrame(t.animate)},this.onMouseDown=function(e){t.contextMenuOrigin=null,t.lastMouseEvent=e,t.moved=!1;var n=e.touches||[e];t.startX=n[0].screenX,t.startY=n[0].screenY;var i=j(e),r=U(e);if(t.editMode){if(!i&&!r)return}else if(!i)return;t.calcSceneRect();var o=F(e,t),s=o.pageX,a=o.pageY,l=o.gesture;if(r&&t.editMode){if(t.hotspotLayer.getHotspotIntersection(s,a))return;return t.contextMenuOrigin={pageX:s,pageY:a},e.preventDefault(),void t.editorApi.onRightClickImage()}if(!(l||t.mobileZoom>M||t.allowSwiping||t.hotspotLayer.onMouseDown(e,s,a)&&t.editMode)){if(t.editMode&&t.mode===tt.ADD_MARKER)return e.stopPropagation(),t.placeMarker(s,a,t.upcomingMarkerData.props,t.upcomingMarkerData.id),void e.preventDefault();if(t.panToCoord=!1,t.editMode&&t.mode!=tt.SET_INITIAL_CAMERA_ANGLE&&t.getMarkerIntersection(s,a,"over"))return t.boundingBox.style.display="block",void(t.downOnMarker=!0);null==t.hotspotLayer.draggableHotspot&&t.setCurrMarker(null),t.boundingBox.style.display="none",t.hideMarkerBounds(),t.isDragging=!0,t.forcingCameraTarget=!1,t.downX=s,t.downY=a,t.locX=s,t.locY=a,t.locXvel=0,t.locYvel=0,t.downLon=t.lon,t.downLat=t.lat,t.locDist=0,t.lastMoveDist=0}},this.setupSuppressOnSelectionChange=function(){t.suppressOnSelectionChange+=1},this.teardownSuppressOnSelectionChange=function(){t.suppressOnSelectionChange>0&&(t.suppressOnSelectionChange-=1)},this.withOnSelectionChange=function(e){t.withoutOnSelectionChange(e),t.onSelectionChange()},this.withoutOnSelectionChange=function(e){t.setupSuppressOnSelectionChange(),e(),t.teardownSuppressOnSelectionChange()},this.onSelectionChange=function(){if(null!=t.editorApi&&0==t.suppressOnSelectionChange){var e=t.getCurrInputElement(),n=t.getCurrMediaElementType(),i=t.getIsMediaShowing(),r=void 0;if(null==e)r={isCollapsed:!0,isRightToLeft:!1,supportsParagraphs:!1,type:"none",mediaType:n,isMediaShowing:i,spanStyle:null};else{var o=document.getSelection();r={isCollapsed:o.isCollapsed,isRightToLeft:!1,supportsParagraphs:D(e),type:o.rangeCount>0?o.type.toLowerCase():"none",mediaType:n,isMediaShowing:i,spanStyle:o.rangeCount>0?J(e,o.getRangeAt(0)):null}}var s=JSON.stringify(r);t.lastSelectionChangedEventArgs!==s&&(t.editorApi.onSelectionChanged(r),t.lastSelectionChangedEventArgs=s)}},this.onMouseMove=function(e){var n=F(e,t),r=n.pageX,o=n.pageY,s=n.gesture;if(t.lastMouseEvent=e,!(s||t.mobileZoom>M||t.allowSwiping)){var a=e.touches||[];if(!(!t.moved&&1===a.length&&Math.abs(t.startX-a[0].screenX)<1&&Math.abs(t.startY-a[0].screenY)<1||(t.moved=!0,t.hotspotLayer.onMouseMove(e,r,o),t.editMode&&t.hotspotLayer.isEditing())))if(t.canDragMarker())t.checkHideHotspotPanel(),t.dragMarker(r,o);else if(t.isDragging){t.prevLocX=t.locX,t.prevLocY=t.locY;var l=F(e,t),u=l.pageX,c=l.pageY;t.locX=u,t.locY=c,t.locDist=i.dist(t.locX,t.locY,t.prevLocX,t.prevLocY),t.locTheta=L(t.locX,t.locY,t.prevLocX,t.prevLocY),t.locXvel=t.locDist*Math.cos(t.locTheta),t.locYvel=t.locDist*Math.sin(t.locTheta),t.setLonLat(t.locX,t.locY)}else t.getMarkerIntersection(r,o,"move")}},this.onMouseUp=function(e){if(t.lastMouseEvent){var n=F(t.lastMouseEvent,t),r=n.pageX,o=n.pageY;if(t.lastUpX=r,t.lastUpY=o,t.hotspotLayer.onMouseUp(e,r,o),t.getMarkerIntersection(r,o,"click"),null!=t.pinch.currMatrix&&(t.pinch.scale=t.pinch.currMatrix.getScale().x-.19999999999999996,t.pinch.matrix=t.pinch.currMatrix),t.isDragging&&(t.lastMoveDist=i.dist(t.downX,t.downY,r,o),t.isDragging=!1),t.downOnMarker)if(t.downOnMarker=!1,t.drag.started=!1,null!=t.currMarker)t.currMarker.userData.cssMarker.dragging=!1}}};return at}.call(e,n,e,t))||(t.exports=i)},1294:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(7097),r=n(82),o=n(7812),s=o.math.TO_RADIANS,a=function(){this.reset()};return e.extend(a.prototype,{adjustByViewProps:function(t){return this.translate(t.RawXPos,t.RawYPos).scale(t.ScaleX,t.ScaleY,t.rotateXPos,t.rotateYPos).rotate(t.Rotation,t.rotateXPos,t.rotateYPos),this},reset:function(){return this.a=this.d=1,this.c=this.b=this.tx=this.ty=0,this},translate:function(t,e){return this.tx+=t*this.a+e*this.b,this.ty+=t*this.c+e*this.d,this},scale:function(t,e,n,i){var r=n||i;return r&&this.translate(n,i),this.a*=t,this.c*=t,this.b*=e,this.d*=e,r&&this.translate(-n,-i),this},rotate:function(t,e,n){t*=s;var i=Math.cos(t),r=Math.sin(t),o=e-e*i+n*r,a=n-e*r-n*i,l=this.a,u=this.b,c=this.c,h=this.d;return this.a=i*l+r*u,this.b=-r*l+i*u,this.c=i*c+r*h,this.d=-r*c+i*h,this.tx+=o*l+a*u,this.ty+=o*c+a*h,this},skew:function(t,e,n,i){var r=n||i,o=this.a,a=this.c;return t=Math.tan(t*s),e=Math.tan(e*s),r&&this.translate(n,i),this.a+=e*this.b,this.c+=e*this.d,this.b+=t*o,this.d+=t*a,r&&this.translate(-n,-i),this},transform:function(t,e){return{x:t*this.a+e*this.b+this.tx,y:t*this.c+e*this.d+this.ty}},copy:function(){var t=new a;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},invert:function(){var t=1/(this.a*this.d-this.b*this.c),e=this.d*t,n=-this.b*t,i=-this.c*t,r=this.a*t,o=t*(this.b*this.ty-this.d*this.tx),s=t*(this.c*this.tx-this.a*this.ty);return this.a=e,this.b=n,this.c=i,this.d=r,this.tx=o,this.ty=s,this},toCssTransform:function(){var t=r.fix(this.a,6),e=r.fix(this.b,6),n=r.fix(this.c,6),o=r.fix(this.d,6),s=r.fix(this.tx,6),a=r.fix(this.ty,6);return i.buildTransformFn("matrix",t,n,e,o,s,a)},getScale:function(){return{x:r.hypot(this.a,this.c),y:r.hypot(this.b,this.d)}},transformPoint:function(t,e){return{x:t*this.a+e*this.b+this.tx,y:t*this.c+e*this.d+this.ty}},unTransformPoint:function(t,e){return this.copy().invert().transformPoint(t,e)},decompose:function(){var t,e,n,i=this.a,r=this.b,o=this.c,s=this.d;return n=i*s-r*o,Math.abs(n)<=1e-12?null:(r/=t=Math.sqrt(i*i+r*r),(i/=t)*(s/=e=Math.sqrt(o*o+s*s))<r*(o/=e)&&(i=-i,r=-r,t=-t),{scaling:{x:t,y:e},rotation:180*-Math.atan2(r,i)/Math.PI})},delta:function(t){var e=new a;return e.a=this.a-t.a,e.b=this.b-t.b,e.c=this.c-t.c,e.d=this.d-t.d,e.tx=this.tx-t.tx,e.ty=this.ty-t.ty,e},add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new a;return n.a=this.a+t.a*e,n.b=this.b+t.b*e,n.c=this.c+t.c*e,n.d=this.d+t.d*e,n.tx=this.tx+t.tx*e,n.ty=this.ty+t.ty*e,n},append:function(t){var e=this.a,n=this.b,i=this.c,r=this.d,o=t.a,s=t.b,a=t.c,l=t.d,u=t.tx,c=t.ty;return this.a=o*e+a*n,this.b=s*e+l*n,this.c=o*i+a*r,this.d=s*i+l*r,this.tx+=u*e+c*n,this.ty+=u*i+c*r,this},isEqual:function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},isOnlyTranslated:function(t){return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d}}),a}.call(e,n,e,t))||(t.exports=i)},9739:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r,o=n(6138),s=n(5470),a=n(8880),l=n(82),u=n(4811),c=n(9032),h=!1===window.globals.suppressAnalytics&&-1===window.location.protocol.indexOf("file");if(h){e=document.createElement("iframe"),i=function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}(),r=u.Deferred();e.id="analytics-frame",e.src="analytics-frame.html#"+i,e.style.position="fixed",e.style.left="-1000px",e.style.top=0,window.addEventListener("message",(function t(n){n.data.id===i&&("loaded"===n.data.message?r.resolve():"xhr sent"===n.data.message&&(document.body.removeChild(e),window.removeEventListener("message",t),e=null,i=null))})),document.body.appendChild(e)}return{initialize:function(t){o.bindAll(this,"onMounted"),this.confirmValidProps(),this.dfd=r,t.assetLib(),t.slideMap(),c.once(a.slide.HAS_MOUNTED,this.onMounted)},confirmValidProps:function(){this.hasValidProps=["productChannel","publishSource","aid","cid","playerVersion"].every((function(t){return null!=window.globals[t]}))},onMounted:function(t){var e=Math.round(performance.now()),n=l.getPath(t,"props.model.parent.isMessageScene",!1),i=document.getElementById("font-test"),r=document.getElementById("font-test-download"),o=document.getElementById("font-test-default"),a=Math.floor(r.getComputedTextLength())!==Math.floor(o.getComputedTextLength()),u={os:[s.osname,s.osversion].join(" "),browser:[s.name,s.version].join(" "),playerVersion:window.globals.playerVersion,playerType:"HTML5-A",lmsPresent:window.globals.lmsPresent,tinCanPresent:window.globals.tinCanPresent,cmi5Present:window.globals.cmi5Present,aoSupport:window.globals.aoSupport,protocol:window.location.protocol.slice(0,-1),productChannel:window.globals.productChannel,publishSource:window.globals.publishSource,cid:window.globals.cid,timeToLoad:e,resumePrompt:n,canDownloadFonts:a};i.parentNode.removeChild(i),this.sendMessage("player_course_load",u)},sendMessage:function(t,n){h&&this.hasValidProps&&r.then((function(){e.contentWindow.postMessage({id:i,event:t,properties:n,aid:window.globals.aid},"*")}))}}}.call(e,n,e,t))||(t.exports=i)},857:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(8880),r=n(9032),o={callbacks:[],endFrameCallbacks:[],frameRequested:!1,staleFrameRequested:!1,timeStale:!0,staleTime:-1,lastCpuTime:Date.now(),lastEndFrameTime:0,currentTime:0,locks:[],locked:!1,waitingLock:!1,clockOverridden:!1,overrideClock:function(t){this.clockOverridden=!0,this.frameTimeMs=t},requestAnimationFrame:function(t,e){e?this.endFrameCallbacks.push(t):this.callbacks.push(t),this.frameRequested||(this.frameRequested=!0,this.staleFrameRequested||this.clockOverridden||window.requestAnimationFrame(this.tick.bind(this)),this.staleFrameRequested=!1)},lock:function(){var t=e.uniqueId("lock-");return this.locks.push(t),this.locked=!0,t},unlock:function(t){e.pull(this.locks,t),this.locked=this.locks.length>0,!this.locked&&this.waitingLock&&(this.waitingLock=!1,this.tick())},updateTime:function(){var t=Date.now(),e=t-this.lastCpuTime;return this.lastCpuTime=t,e>132&&(e=33),this.currentTime+=this.clockOverridden?this.frameTimeMs:e,this.currentTime},requestStaleFrame:function(){this.frameRequested||this.staleFrameRequested||this.clockOverridden||(this.staleFrameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},requestEndFrameTick:function(){this.frameRequested||this.clockOverridden||(this.frameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},time:function(){return this.timeStale&&(this.requestStaleFrame(),-1===this.staleTime&&(this.staleTime=this.updateTime()),this.frameTime=this.staleTime),this.frameTime},tick:function(){if(this.locked)this.waitingLock=!0;else{var t=this.frameRequested;this.staleFrameRequested=!1,this.frameRequested=!1,this.frameTime=this.updateTime(),this.staleTime=-1,this.timeStale=!1,this.callbacks.length>0&&this.executeCallbacks(),this.endFrameCallbacks.length>0&&(this.currentTime-this.lastEndFrameTime>=33?(this.lastEndFrameTime=this.currentTime,this.executeCallbacks(!0)):this.requestEndFrameTick()),t?this.requestStaleFrame():this.timeStale=!0}},executeCallbacks:function(t){var e,n;t?(e=this.endFrameCallbacks.slice(0),this.endFrameCallbacks=[]):(e=this.callbacks.slice(0),this.callbacks=[]),n=e.length;for(var i=0;i<n;i++)e[i](this.frameTime)}};return r.on([i.detection.VISIBILITY_SHOWN,i.detection.VISIBILITY_HIDDEN].join(" "),o.updateTime.bind(o)),o}.call(e,n,e,t))||(t.exports=i)},9229:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i=n(6138),r=n(7812),o=n(8880),s=n(4811),a=n(9032);return new(n(4698).extend({accessibleTextVar:null,shorthand:["currentLayout","currentVolume","accessibleTextOn"],subscriptions:(e={},e[o.app.COMPLETE]="onAppComplete",e[o.controlLayout.CHANGED]="onLayoutChanged",e),initialize:function(){i.bindAll(this,"setAccessibleTextFromVar"),this.appCompleteDfd=new s.Deferred,this.setVolume(r.DEFAULT_VOLUME)},connectVariables:function(t){if(null!=t){this.accessibleTextVar=t;var e=this.accessibleTextVar.value();this.accessibleTextOn(e),this.accessibleTextVar.on("change:value",this.setAccessibleTextFromVar),e&&this.onToggleAccessibleText(e)}},setAccessibleTextFromVar:function(t){this.onToggleAccessibleText(t.value())},getAppCompletePromise:function(){return this.appCompleteDfd.promise()},onAppComplete:function(){this.appCompleteDfd.resolve()},unsetAttrs:function(){return this.set(i.toArray(arguments).reduce((function(t,e){return t[e]=null,t}),{})),this},onLayoutChanged:function(t,e){this.currentLayout(t),this.trigger(o.layout.CHANGED,this,t,e)},setVolume:function(t){this.volumeToggle=!1,this.currentVolume(t),a.trigger(o.volume.CHANGED,t)},onToggleVolume:function(){this.volumeToggle||(this.lastVolume=this.currentVolume()),this.volumeToggle=!this.volumeToggle;var t=this.volumeToggle?0:this.lastVolume;this.currentVolume(t),a.trigger(o.volume.CHANGED,t)},onToggleAccessibleText:function(t){var e=null==t?!this.accessibleTextOn():t;this.accessibleTextOn(e),null!=this.accessibleTextVar&&this.accessibleTextVar.value()!==e?this.accessibleTextVar.changeValue(e):this.trigger(DS.events.player.ACCESSIBLE_TEXT_CHANGED,e)}}))}.call(e,n,e,t))||(t.exports=i)},1421:function(t,e,n){"use strict";var i;void 0===(i=function(){return window.AudioContext||window.webkitAudioContext||null}.call(e,n,e,t))||(t.exports=i)},5611:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r,o=n(6138),s=n(5641),a=n(857),l=n(8880),u=n(9032),c=n(82),h=n(8579),d=n(9995),p=n(9005),f=n(520),v=n(7510).addBodyListener,g={},m=window.vInterfaceObject||window,y={mainWindow:null,updateTime:function(){var t=f.getCurrentWindowSlide();return null!=t&&a.tick(),this.getIsPlaying(t)||r},getIsPlaying:function(t){var e=this,n=t.getBaseLayer(),i=t.slideLayers().activeLayers,r=this.isLayerTimelinePlaying(n);return!r&&i.length>0&&(r=i.some((function(t){return e.isLayerTimelinePlaying(t)}))),r},isLayerTimelinePlaying:function(t){return!t.getHasTimelineFinished()&&!t.getIsTimelinePaused()},nextSlide:function(){var t=e.shift();t&&u.trigger(l.request.NEXT_SLIDE,c.prefixWithPlayer(t))},pausePlayer:function(){u.trigger(l.detection.VISIBILITY_HIDDEN)},playPlayer:function(){u.trigger(l.detection.VISIBILITY_SHOWN)}},b={silenceActions:{trigger_next_slide:!1,close_player:!1},initialize:function(t,n){var r=c.parseParams();if("1"===r.automation&&(window.autoSpider=!0,this.silenceActions.trigger_next_slide=!0,this.silenceActions.close_player=!0),window.autoSpider){i=r.frametimems?parseFloat(r.frametimems):33.33,v("mousedown",this.onPlayerClicked.bind(this)),v("touchstart",this.onPlayerClicked.bind(this)),window.g_nWidth=n.display().width(),window.g_nHeight=n.display().height(),"1"===r.overrideclock&&(s.prototype.play=o.noop,a.overrideClock(i),this.clockIsOverridden=!0,u.on(l.video.STATE_CHANGED,this.onVideoEvent.bind(this)));e=o(n.slideMap().slideRefs().where({type:"slide"})).pluck("id").filter((function(t){return!/^MsgScene|^PromptScene/.test(t)})).tap((function(e){e.forEach((function(e){var n=t.getSlide(c.prefixWithPlayer(e)).get("showAnimationId");null!=n&&(g[n]=e)}))})).rest().value();var f={playerTime:0,type:"dark-spider",AdvanceFrame:function(){return y.updateTime()},AutoUpdateTime:function(){a.tick()},UpdateAutomationTime:function(t){var e=a.frameTimeMs;a.frameTimeMs=t-a.currentTime,a.tick(),a.frameTimeMs=e},TriggerNextSlide:function(){y.nextSlide()},TriggerPause:function(){h.env.is360&&y.pausePlayer()},TriggerPlay:function(){h.env.is360&&y.playPlayer()},CaptureSlideImage:function(){return d.generate()},GetCourseStateData:function(){return p.getState()},GetTargetDuration:function(e){var n=g[e];return n?t.getSlide(c.prefixWithPlayer(n)).getTransitionAnimation().duration():t.getSlide(c.prefixWithPlayer(e)).getBaseLayer().timeline().duration()}};this.getPlayer=function(){return f},o.bindAll(this,"onSlideStarted","onSlideTransition","onNextSlideRequesting","onMainWindowCreated","onEnterFullscreen","onExitFullscreen","onLoaderShown","onLoaderHidden","onTincanStatement","onPlayButtonShown");var m={};m[l.slide.STARTED]=this.onSlideStarted,m[l.slide.TRANSITION_STARTED]=this.onSlideTransition,m[l.layer.TIMELINE_ACTIVATED]=this.onLayerTimelineActivated,m[l.loader.SHOW]=this.onLoaderShown,m[l.loader.HIDE]=this.onLoaderHidden,m[l.window.MAIN_CREATED]=this.onMainWindowCreated,m[l.request.NEXT_SLIDE]=this.onNextSlideRequesting,m[l.presentation.ENTER_FULLSCREEN]=this.onEnterFullscreen,m[l.presentation.EXIT_FULLSCREEN]=this.onExitFullscreen,m[l.startOverlay.READY]=this.onPlayButtonShown,h.env.isRise&&(m[l.tincan.STATEMENT]=this.onTincanStatement),u.on(m)}},onPlayerClicked:function(){this.callIfExists("OnPlayerClicked")},onEnterFullscreen:function(){this.callIfExists("OnEnterFullscreen")},onExitFullscreen:function(){this.callIfExists("OnExitFullscreen")},onMainWindowCreated:function(t){y.mainWindow=t,this.callIfExists("AutomationReady")},onSlideTransition:function(t,e,n){this.callIfExists("OnSlideTransition",t,e,n)},onSlideStarted:function(t){r=!1,this.callIfExists("OnSlideStarted",t)},onMediaStarted:function(t){this.callIfExists("OnMediaStarted",t)},onNextSlideRequesting:function(){r=!0,this.callIfExists("OnNextSlideRequesting")},onPlayButtonShown:function(){this.callIfExists("OnPlayButtonShown")},onLoaderShown:function(){this.callIfExists("OnLoaderShown")},onLoaderHidden:function(){this.callIfExists("OnLoaderHidden")},onVideoEvent:function(t,e,n){this.callIfExists("OnVideoEvent",t,e,n)},onTincanStatement:function(t){this.callIfExists("LmsUpdate",t)},onLayerTimelineActivated:function(t){if(t.isBaseLayer()){var e=t.getClosestAncestorByKind("slide").absoluteId;b.onSlideStarted(c.stripPlayer(e))}},callIfExists:function(t){var e=m[t];"function"==typeof e&&e.apply(m,o.rest(arguments))}};return b}.call(e,n,e,t))||(t.exports=i)},6407:function(t,e,n){"use strict";var i,r;i=[n(1458),n(1645)],void 0===(r=function(t,e){t.ajax=e}.apply(e,i))||(t.exports=r)},5273:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(1458),r=n(4811),o="Could not fetch model",s={},a={origSync:i.sync,scriptSync:function(t,n,i){var a,l,u=i.url||e.result(n,"url"),c=r.Deferred(),h=c.promise();return u?(a=n.id||(l=u,e.first(e.last(l.split("/")).split("."))),function(t){return new Promise((function(e,n){var i=document.createElement("script"),r=function(){i.removeEventListener("load",o),i.removeEventListener("error",s),document.head.removeChild(i),i.src="",i=null},o=function(){e(),r()},s=function(){n(),r()};i.addEventListener("load",o),i.addEventListener("error",s),i.src=t,document.head.appendChild(i)}))}(u).then((function(){var t=s[a];s[a]=null,i.success(t),c.resolve(t)})).catch((function(){i.error(o),c.reject(o)})),h):(c.reject("Must provide a url to fetch model"),h)},sync:function(t,e,n){var i="read"===t?"scriptSync":"origSync";return a[i].apply(this,arguments)}};return i.sync=a.sync,window.globalProvideData=function(t,e){var n=JSON.parse(e),i="slide"===t?n.id:t;s[i]=n},a}.call(e,n,e,t))||(t.exports=i)},8766:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(5273),i=n(8880),r=n(9032),o=(n(82),n(3741)),s=n(6138);o=window.captionator;var a,l,u,c={},h=!1,d=[],p='"Open Sans Full", Helvetica, Arial, sans-serif',f={},v=function(t){return null!=t.captions()},g=function(t){if(null!=t.isMediaVisible)return t.isMediaVisible();var e=t.isVideo(),n=e?t.props.playerProps.parent.get("isBaseLayer"):t.props.model.parent.get("isBaseLayer"),i=u.getCurrentWindowSlide().slideLayers().getTopMostLayer(),r=!!e&&t.props.slideObjectModel.getLayer()===i,o=t.props.slideVisible&&(t.props.objectVisible||n||r);return e?t.props.slideObjectModel.prop("HiddenByLayer")&&(o=!1):null!=i&&!0===n&&!0===i.get("pauseParent")&&(o=!1),o},m=function(t){h=t,null!=l&&l.value()!==h?l.changeValue(h):r.trigger(i.captions.ENABLED,h)},y=function(t){var e=t.getCueAsSource();return null!=e&&!s.isEmpty(e.trim())};return{initialize:function(t,n,s,d){var f=n.getCaptionData().font;a=null!=f?['"',f,'", ',p].join(""):p,u=s,null!=d?(h=(l=d).value(),l.on("change:value",(function(t){return m(t.value())})),h&&m(h)):h=!1,c={},t.filter(v).map((function(t){e.scriptSync("read",{id:"caption"},{url:t.captions(),success:function(e){null!=e&&(c[t.id]=o.parseCaptions(decodeURI(e.data)).filter(y))},error:function(t){console.error(t)}})})),r.on(i.slide.STARTED,this.checkHasCaptions),r.on(i.layer.PLAYING,this.checkHasCaptions),r.on(i.layer.STACKING_CHANGED,this.checkHasCaptions),r.on(i.captions.ENABLE,m)},toggleCaptioning:function(){h=l.value(),m(!h)},checkHasCaptions:function(){var t=u.getCurrentWindowSlide();if(null!=t&&!t.isMessageSlide()){var e=(f[t.id]||[]).some(g);r.trigger(e?i.captions.SHOW_BUTTON:i.captions.HIDE_BUTTON)}},isCaptionEnabled:function(){return h},mount:function(t,e){c[t.getAssetId()]&&(null==f[e]&&(f[e]=[]),f[e].push(t))},unmount:function(t,e){var n=s.findIndex(f[e],(function(e){return e.getAssetId()===t.getAssetId()}));-1!==n&&f[e].splice(n,1)},hasCaptions:function(t){return Array.isArray(t)||(t=[t]),t.some((function(t){return null!=c[t]}))},getCaptions:function(t){return c[t]},getCaptionFont:function(){return a},excludeMedia:function(t){-1===d.indexOf(t)&&d.push(t)},includeMedia:function(t){var e=d.indexOf(t);-1!==e&&d.splice(e,1)}}}.call(e,n,e,t))||(t.exports=i)},7812:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=window.globals||{},n=window.location.protocol+"//",i=window.location.host,r=window.location.pathname.split(/\/+/).slice(0,-1).join("/"),o=e.DATA_PATH_BASE+"/html5/data/js",s=n+i+r+e.DATA_PATH_BASE+"/html5/lib/scripts",a=n+i+r+e.DATA_PATH_BASE+"/html5/lib/stylesheets",l={slideLocation:s+"/slides.min.js",frameLocations:{MOBILE:s+"/frame.mobile.min.js",DESKTOP:s+"/frame.desktop.min.js"},cssLocations:{MOBILE:a+"/mobile.min.css",DESKTOP:a+"/desktop.min.css"},player:{},LINE_BREAK_REGEX:/\n|\r/,theme:{},setThemeConstant:function(t,e){l.theme[t]=e},strings:{PROJECT_TITLE:"project-title"},els:{PRESO:"preso",LIB:"lib",MASK_LIB:"mask-library"},SVG_HIT:"svgHit",RECT_HIT:"rectHit",GROUP_HIT:"groupHit",SLIDE_HIT:"slideHit",PATH_DELIMITER:".",NODE_DELIMITER:"-",SVG_NODE_PREFIX:"commandset",PRESENTATION_URL:[e.DATA_PATH_BASE,r].join(""),PRESENTATION_DATA_URL:[r,o].join(""),STORY_CONTENT_URL:"story_content/",QUIZ_MAKER_URL:"quiz_content/",PRESENTER_URL:"presentation_content/",PLAYER_PROPS_KEYPATH:"playerProps",DEFAULT_VOLUME:.8,DESKTOP_LOADER_DELAY:200,XAPI_RETRY_INTERVALS_MS:[100,400,400,600,600],LIGHTBOX_SCALAR:.85,UNIFIED_PORTRAIT_UI_SIZE:65,UNIFIED_LANDSCAPE_UI_SIZE:58,UNIFIED_LIGHTBOX_UI_SIZE:50,MOBILE_UI_SIZE:58,DOUBLE_MOBILE_UI_SIZE:116,MOBILE_ANIMATION_DURATION:260,ANIMATION_DURATION:300,MOBILE_WIDTH_MIN:320,MOBILE_360_PHONE_LARGE:380,MOBILE_360_PHONE_MEDIUM:375,MOBILE_360_IMAGE_SCALE_THRESHOLD:1.4,MOBILE_MIN_LANDSCAPE_FULL:314,MOBILE_MIN_LANDSCAPE:250,MOBILE_FONT:"Open Sans Full",XMLNS_XLINK:"http://www.w3.org/1999/xlink",XMLNS_XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/svg",refs:{PLAYER:"_player",FRAME:"_frame",PARENT:"_parent",CURRENT_SLIDE:"_currentSlide",CHILDREN:"_children",SELF:"_this",CHOICES:"choices",STMTS:"statements",PLAYER_VARS:"_playerVars"},varTypes:{STRING:"string",NUM:"number",BOOL:"boolean"},statuses:{CORRECT:"correct",INCORRECT:"incorrect",INCOMPLETE:"incomplete",COMPLETE:"complete",NEUTRAL:"neutral",PASSING:"pass",FAILING:"fail"},reviewResetTypes:{ALL:"all",INCORRECTONLY:"incorrectonly"},dynamicTabEls:{},tabIndices:{SKIP:0,LIGHTBOX_CLOSE:1,SUBMIT_ALL:2,PREV:3,NEXT:4,SUBMIT:5,SIDEBAR:10,SEARCH_RESULTS_TREE_MODE:0,SEARCH_INPUT:1,SEARCH_SUBMIT:2,SEARCH_FILTER:3,SEARCH_NOTES:4,SEARCH_TEXT:5,SEARCH_RESULTS_LIST_MODE:6,SEARCH_CLEAR:17,TIME:39,TOP_TAB_LEFT:30,TOP_TAB_RIGHT:40,VOLUME:50,CAPTIONS:55,PLAYBACK_PLAY:60,PLAYBACK_PROGRESS:65,PLAYBACK_RESET:70},math:{QUARTER_PI:.25*Math.PI,HALF_PI:.5*Math.PI,THREE_QUARTER_PI:.75*Math.PI,TWO_PI:2*Math.PI,TO_RADIANS:Math.PI/180,TO_DEGREES:180/Math.PI},keys:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126},TINY_VIDEO:"data:video/mp4;base64, AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=",TINY_AUDIO:"data:audio/mp3;base64,//MgxAAAAANIAAAAAExBTUUzLjk3VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zIsQnAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//MgxE8AAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zIMR2AAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/8yDEnQAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVEFHOWVmMTRlNzg4YzVhNDQ5AAAAAAAAAAAAAAAAAAAAYjZiYWQ3ZjY2NjFkZWZhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="};return Object.freeze(l),Object.freeze(l.refs),Object.freeze(l.varTypes),Object.freeze(l.statuses),Object.freeze(l.tabIndices),Object.freeze(l.math),Object.freeze(l.keys),l}.call(e,n,e,t))||(t.exports=i)},7594:function(t,e,n){"use strict";var i;void 0===(i=function(t){n(8622);var e={};return{camelCase:function(t){var n=e[t]||function(t){return PrefixFree.prefixCSS(t+":").replace(":","").replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}(t);return e[t]=n,n},kebabCase:function(t){return PrefixFree.prefix+t}}}.call(e,n,e,t))||(t.exports=i)},4839:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(9032),i=n(8880);return{initialize:function(t,e,n){this.debugMode=void 0!==t&&t.get("debugMode"),this.setGlobals(t,e,n)},setGlobals:function(t,e,n){this.debugMode&&(window.presentation=t,window.player=e,window.app=n)},throwError:function(){!0===this.debugMode&&e.trigger(i.player.ERROR)}}}.call(e,n,e,t))||(t.exports=i)},9140:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e="pending",n="resolved",i="rejected";return function(){var t=this,r=e,o=[],s=[],a=[],l=[];this.resolve=function(){for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return r===e&&(o=s,r=n,a.forEach((function(e){return e.apply(t,s)})),l=a=null),t},this.reject=function(){for(var n=arguments.length,o=Array(n),u=0;u<n;u++)o[u]=arguments[u];return r===e&&(s=o,r=i,l.forEach((function(e){return e.apply(t,o)})),l=a=null),t},this.state=function(){return r},this.then=function(i){return r===n?i.apply(t,o):r===e&&a.push(i),t},this.catch=function(n){return r===i?n.apply(t,s):r===e&&l.push(n),t},this.always=function(e){return t.then(e).catch(e)};var u={then:this.then,catch:this.catch,always:this.always,state:this.state};this.promise=function(){return u},Object.freeze(this)}}.call(e,n,e,t))||(t.exports=i)},8579:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r=n(5470),o=n(8880),s=n(9032),a=n(1421),l=n(7510).addWindowListener,u=window.globals&&window.globals.parsedParams||{},c=function(t){return"1"===u[t]},h=c("forcemobile"),d=c("devicepreview"),p=c("phone"),f=c("noframe"),v=c("enableFs"),g=u.videocontrolsfont,m=window.navigator.userAgent.toLowerCase(),y="ActiveXObject"in window||null!=window.MSBlobBuilder,b=window.isMobile.apple.device,w=b?parseInt((/os[x\s]+([0-9]+)_/.exec(m)||/version\/([0-9]+)/.exec(m))[1]):NaN,A=b&&m.indexOf("version")<0,S="file:"===document.location.protocol,E=null!=window.vInterfaceObject&&window.autoSpider,x=E&&h&&d,T=(e=document.createElement("canvas"),i=e.getContext("webgl")||e.getContext("experimental-webgl"),e=null,null!=i),_=window.globals,C=_.deviceView,k=_.themeName,M=window,O=M.isMobile,P=M.isMobile.apple.tablet,L="classic"===k,I="unified"===k,R={device:{isDesktop:O.desktop,isMobile:O.mobile,isPhone:O.phone,isTablet:O.tablet},deviceView:{isDesktop:C.desktop,isMobile:C.mobile,isPhone:C.phone,isTablet:C.tablet,isClassicMobile:L&&C.mobile,isClassicDesktop:L&&C.desktop,isUnifiedMobile:I&&C.mobile,isUnifiedDesktop:I&&C.desktop},theme:{isClassic:L,isUnified:I},os:{isAndroid:window.isMobile.android.device,isIOS:b,iOSVersion:w,isIosPhoneBefore10:O.phone&&w<10,isMac:r.mac},browser:{isWebKit:m.includes("webkit"),isSafariMac:!(!r.mac||!r.safari),safariVersion:function(){if(r.safari){var t=/\/([\d]+)([.\d]+|[\w\d]+)\ssafari/.exec(m);if(null!==t)return parseInt(t[1])}return NaN}(),isFF:m.includes("firefox"),isChrome:r.chrome,isWebView:A,isUIWebView:A&&!window.indexedDB,isIE:y,isIE10:m.includes("msie s10"),isIE11:y&&null!=window.msCrypto&&!window.ActiveXObject,isEdge:y&&null==window.msCrypto&&T},env:{is360:E,isDevicePreview:x,isMobilePreview:h,isPhonePreview:x&&p,isRise:null!=window.vInterfaceObject&&window.vInterfaceObject.isRise,isInIframe:window.top!==window.self,isWebObject:/(\?|&)wo=1(&|$)/.test(window.location.search),isFileProtocol:S,enableFs:v&&x&&!p,hideFrame:f,videoControlsFont:null!=g&&"'"+window.decodeURIComponent(g)+"'"},capabilities:{hasAudioApi:a&&(!S||O.mobile),isMemoryDeficientDevice:P&&(768===screen.height||768===screen.width)},orientation:{forceHideWarning:!1,prev:null}},D=R.os.isAndroid?function(){var t=window.screen,e=t.width,n=t.height>e?"portrait":"landscape",i=R.orientation;i.forceHideWarning=i.value!==n}:function(){},N=function(){var t=R.orientation;t.value=window.innerWidth>window.innerHeight?"landscape":"portrait",R.innerHeight=window.innerHeight,R.innerWidth=window.innerWidth,D(),(t.value!==t.prev||R.forceHideWarning)&&("portrait"===t.value?(document.body.classList.remove("is-landscape"),document.body.classList.add("is-portrait"),t.isPortrait=!0,t.isLandscape=!1):(document.body.classList.add("is-landscape"),document.body.classList.remove("is-portrait"),t.isPortrait=!1,t.isLandscape=!0),s.trigger(o.detection.ORIENTATION_CHANGE,{orientation:t.value}),t.prev=t.value)};if(R.device.isMobile&&R.env.isInIframe){document.body.style.position="fixed";var H=function(){document.body.style.width=window.innerWidth+"px",document.body.style.height=window.innerHeight+"px"};l("resize",H),H()}return R.isRise&&(document.body.classList.add("is-rise"),document.body.styles.background="transparent"),R.isMobile&&!R.theme.isUnified&&document.getElementById("preso").setAttribute("class",""),N(),l("orientationchange",N),R}.call(e,n,e,t))||(t.exports=i)},1251:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(82),r=(n(4481),n(7812)),o=n(118),s=n(7510).addBodyListener,a=function(t,e,n){t.removeEventListener(e,n)},l=function(t){return 1===t.nodeType},u=function(t,e,n){var r=[];for(e=e||i.alwaysTrue;t&&l(t)&&(r.push(t),null==n||!n(t));)t=t.parentNode;return r.slice(1).filter(e)},c=function(t,e){return b.closest(t,(function(t){return b.hasClass(t,e)}))},h=function(t,e){return!!c(t,e)},d=function(t,e){return e.tagName.toLowerCase()===t.toLowerCase()},p=function(t){return null==t?"":e.isString(t)?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):t},f=function(t,e){if(null!=t.classList)return t.classList.contains(e);var n=t.getAttribute("class");return null!=n&&n.split(/[ ,]+/).includes(e)},v=function(t,n){if(null!=t.classList)t.classList.remove(n);else{var i=t.getAttribute("class").split(/[ ,]+/);t.setAttribute("class",e.without(i,n).join(" "))}},g=function(t,e){if(null!=t.classList)t.classList.add(e);else{var n=t.getAttribute("class").split(/[ ,]+/);n.includes(e)||n.push(e),t.setAttribute("class",n.join(" "))}},m=function(t,n,i){var r=["<",t];return n&&e.isPlainObject(n)&&e.forOwn(n,(function(t,e){r.push(" ",e,'="',p(t),'"')}),r),r.push(!0===i||!0===n?" />":">"),r.join("")},y=e.partialRight((function(t,e,n){return t.classList.add(e),setTimeout((function(){t.classList.remove(e)}),n)}),"button-tapped",r.MOBILE_ANIMATION_DURATION),b={on:function(t,n,i,r){return t.addEventListener(n,i,!!r),e.partial(a,t,n,i)},off:a,parentNodesOf:u,closest:function(t,e,n){return(e=e||i.alwaysTrue)(t)?t:u(t,e,n)[0]},isNodeOfType:d,isInput:function(t){return d("input",t)||d("textarea",t)},isLink:e.partial(d,"a"),isVideoNode:e.partial(d,"video"),isIconNode:function(t){return f(t,"svg-icon-wrapper")},isSlideObject:function(t){return f(t,"slide-object")},selectAllByRef:function(t,n){[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n.querySelectorAll("[data-ref]"))).forEach((function(n){var i=n.classList||n.getAttribute("class").split(),r=e.first(i);null!=r&&(t[e.camelCase(r)+"El"]=n)}))},setAttributes:function(t,n){return e.forOwn(n,(function(e,n){t.setAttribute(n,e)})),t},setStyles:function(t,n){return e.forOwn(n,(function(e,n){t.style[n]=e})),t},getScrollRecommendation:function(t,e){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.height>i.height||i.top>n.top?t.scrollTop-(i.top-n.top):i.bottom<n.bottom?t.scrollTop+(n.bottom-i.bottom):-1},resizeToFit:function(t,n,r,o){var s=!!e.isFinite(r)&&n.length>r,a=t.getBoundingClientRect().width,l=a,u=0,c=l/n.length;o=o||0,e(n).map((function(t,e){t.style.width="";var n=t.getBoundingClientRect().width+o;return u+=n,{el:t,width:n}})).sortBy("width").forEach((function(t,e){var r=e+1,h=Math.min(t.width,c);u>a?(t.el.style.width=i.pxify(h-o),c=(l-=h)/(n.length-r)):s&&(t.el.style.width=i.pxify(t.width+(l-u)/n.length))})).value()},hasClass:f,addClass:g,removeClass:v,toggleClasses:function(t,e,n,i){var r=i?[g,v]:[v,g];r[0](t,e),r[1](t,n)},writeNode:m,writeCloseNode:function(t){return m(t).replace("<","</")},tappedClass:y,trigger:function(t,n,i){if(i=i||{ignoreDisabled:!0},null!=t){var r=function(t,n){var i=document.createEvent("Event");return i.initEvent(t,!0,!0),e.defaults(i,n),i}(n);return i.ignoreDisabled&&t.disabled||t.dispatchEvent(r),r}},getParentFrame:function(){try{for(var t,e=window.parent.document.getElementsByTagName("iframe"),n=e.length,i=0;i<n;i++)if((t=e[i]).contentDocument===document)return t}catch(t){}},getParentWithClass:c,isWithin:h,isWithinSlide:function(t){return h(t,"slide")},isWithinShadowDom:function(t){return h(t,"acc-shadow-dom")},mapShadowToModel:function(t){if(null==t)return null;var e=t;if(b.isWithinShadowDom(e)){for(;null!==e&&null==e.dataset.represents;)e=e.parentElement;return null==e?null:o.resolvePath(e.dataset.represents)}return null},xmlEncodeValue:p,updateMousePosition:function(t){null!=t.pageX&&null!=t.pageY&&(b.mouseX=t.pageX,b.mouseY=t.pageY)},mouseX:0,mouseY:0};return s("mousemove",(function(t){b.updateMousePosition(t)})),s("touchstart",(function(t){t.touches&&t.touches.length>0&&(b.mouseX=t.touches[0].pageX,b.mouseY=t.touches[0].pageY)}),!0),b}.call(e,n,e,t))||(t.exports=i)},8939:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(4839),r=e.curry((function(t,n,i,r){var o=e.slice(arguments,3).join(" ");t([n,"::",i," - ",o].join(""))}),4);return{throwFatal:r((function(t){throw new Error(t)})),throwError:r((function(t){var e=i.debugMode?"error":"warn";console[e](t),i.throwError()})),throwErrorSoft:r((function(t){i.debugMode&&console.warn(t)})),warn:r((function(t){console.warn(t)})),backtick:function(t){return["`",t,"`"].join("")}}}.call(e,n,e,t))||(t.exports=i)},8880:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e={ds:{FRAME_DATA_LOADED:"ds:frameLoaded",PRESO_LOADED:"ds:presoLoaded",PRESO_READY:"ds:presoReady"},actionlink:{EVENT:"actionlink:event",VIEWED:"actionlink:viewed"},animation:{CREATED:"animation:created",DESTROYED:"animation:destroyed"},app:{COMPLETE:"app:complete",BRANDING_COLOR:"app:brandingColor",PRESENTATION_POSITION:"app:presentationPosition",SHOW_LOADER:"app:showLoader",HIDE_LOADER:"app:hideLoader"},audioClip:{ENDED:"audioClip:ended",TIME_UPDATE:"audioClip:timeUpdate"},captions:{SHOW_BUTTON:"captions:showbutton",HIDE_BUTTON:"captions:hidebutton",ENABLED:"captions:enabled",ENABLE:"captions:enable",ADD:"captions:add",REMOVE:"captions:remove"},controlLayout:{CHANGED:"controllayout:changed",UPDATE:"controlLayout:update"},controlOptions:{CHANGED:"controlOptions:changed",RESET:"controlOptions:reset"},course:{COMPLETED:"course:completed",VIEWED:"course:viewed",MANUALLY_COMPLETED:"course:manuallyCompleted"},customlink:{EVENT:"customlink:event"},currTimeline:{TICK:"currTimeline:tick"},data:{INITIALIZED:"data:initialized",UPDATED:"data:updated"},detection:{VISIBILITY_HIDDEN:"detection:visibilityhidden",VISIBILITY_SHOWN:"detection:visibilityshown",ORIENTATION_CHANGE:"detection:orientationChange"},draw:{RESET:"draw:reset",RESET_COMPLETE:"draw:resetcomplete",EXIT:"draw:exit"},error:{INTERFACE:"error:interface"},frame:{LAYOUT_READY:"frame:layoutReady",REFLOW:"frame:reflow",MODEL_READY:"frame:modelReady",SCALE:"frame:scale",FONT_SCALE:"font:scale"},frameModel:{LAYOUT_CHANGED:"frameData:layoutChanged",CHROMELESS_CHANGED:"frameData:chromelessChanged"},glossary:{UPDATE:"glossary:update",REFRESH_VIEW:"glossary:refreshView"},hamburger:{TOGGLE:"hamburger:toggle"},interaction:{EVALUATED:"interaction:evaluated",VIEWED:"interaction:viewed"},keyManager:{FRAME_CONTROL_KEY:"keyManager:frameControlKey"},layer:{HIDDEN:"hidden",HIDE_OTHER_LAYERS:"hideOtherLayers",STACKING_CHANGED:"layer:stackingChanged",ACTIVATED:"activated",TIMELINE_ACTIVATED:"layer:timelineActivated",PAUSE_TIMELINE:"layer:pauseTimeline",PLAYING:"layer:playing"},layout:{CHANGED:"layout:changed"},loader:{MUTE:"loader:mute",UNMUTE:"loader:unmute",HIDE:"loader:hide",SHOW:"loader:show",SILENCE:"loader:silence",REMOVE_TITLE:"loader:removeTitle"},main:{PREPARE_AUDIO:"main:prepareAudio"},media:{CURRENT_TIME:"media:currentTime"},menuLinksListItem:{ITEM_SELECTED:"menuLinksListItem:itemSelected",TOGGLE:"menuLinksListItem:toggle"},messageWindow:{SHOWN:"messageWindow:shown"},mobile:{PRESENTATION_VISIBLE:"mobileChromeKiller:presentationVisible",ENTER_THUMB_VIEW:"mobileStartOverlay:enterThumbView",EXIT_THUMB_VIEW:"mobileStartOverlay:exitThumbView",MENU_OPEN:"uiMobile:menuOpen",OUTLINE_SHOWN:"panelsMobile:outlineShown",NOTES_SHOWN:"panelsMobile:notesShown"},navcontrols:{CHANGED:"navcontrols:changed"},navData:{UPDATE:"navData:update",REFRESH_VIEW:"navData:refreshView",SELECT_FIRST_SLIDE_LINK:"navData:selectFirstSlideLink"},player:{RESET:"player:reset",CLOSING:"player:closing",ERROR:"player:error",MENU_OPTIONS:"player:menuOptions",ENABLE_KEYBOARD_SHORTCUTS:"player:enableKeyboardShortcuts",INITIALIZED:"player:initialized",ACCESSIBLE_TEXT_CHANGED:"player:accessibleTextChanged",TOGGLE_PLAYBACK:"player:togglePlayback",SEEK:"player:seek"},popup:{SHOW:"popup:show",HIDE:"popup:hide",TOGGLE:"popup:toggle",EMAIL:"popup:email"},presentation:{ENTER_FULLSCREEN:"presentation:enterFullscreen",EXIT_FULLSCREEN:"presentation:exitFullscreen",ON_OBJECT_EVENT:"presentation:onobjectevent"},preview:{NOTIFY:"preview:notify"},quiz:{INTERACTION_ANSWERED:"quiz:interactionAnswered",COMPLETED:"quiz:completed",RETRIED:"quiz:retried"},renderTree:{DESTROYED:"renderTree:destroyed"},request:{START:"start:requesting",NEXT_SLIDE:"nextSlide:requesting",PREV_SLIDE:"prevSlide:requesting",NEXT_DRAW_SLIDE:"nextDrawSlide:requesting",PREV_HISTORY_GROUP:"prevHistoryGroup:requesting"},resources:{LINK_CLICKED:"resources:linkClicked",UPDATE_DESCRIPTION:"resources:updateDescription",UPDATE:"resources:update",REFRESH_VIEW:"resources:refreshView"},resume:{SET_DATA:"resume:setdata",RESET:"resume:reset",APPLIED:"resume:applied",COMPLETE:"resume:complete",RESET_DATA:"resume:resetData"},scheme:{CHANGED:"scheme:changed"},search:{START:"search:start",CLEAR:"search:clear",BLUR:"search:blur",SHOW:"search:show",UPDATE_PANEL:"search:updatePanel"},sidebar:{ACTIVE_TAB_SET:"sidebar:activeTabSet",SHOW_SEARCH:"sidebar:showSearch",HIDE_SEARCH:"sidebar:hideSearch",RESIZING:"sidebar:resizing",FORCE_OPEN:"sidebar:forceOpen",OPEN:"sidebar:open",CLOSE:"sidebar:close"},playbackControls:{TIMELINE_CHANGED:"playbackControls:timelineChanged"},skipNav:{FOCUSED:"skipNav:focused"},slide:{WILL_CHANGE:"slide:willChange",CHANGE:"change:slides",READY:"slide:ready",STARTED:"slide:started",VIEWED:"slide:viewed",TRANSITION_STARTED:"slide:transitionStarted",ON_TRANSITION_IN:"slide:ontransitionin",CURRENT_TIMELINE:"slide:currentTimeline",PAUSE_TIMELINE:"slide:pauseTimeline",PLAY_TIMELINE:"slide:playTimeline",HAS_MOUNTED:"slide:hasMounted",HAS_CHANGED:"slide:hasChanged",ALL_TIMELINES_COMPLETE:"slide:allTimelinesComplete",ARIA_TOGGLE:"slide:ariaToggle",SLIDE_NUMBERS_UPDATED:"slide:slideNumbersUpdated",ZOOMED:"slide:zoomed",PREVENT_SWIPE:"slide:preventSwipe",ALLOW_SWIPE:"slide:allowSwipe"},slideWindow:{CLEAR_HISTORY:"slideWindow:clearHistory"},slideContainer:{POSITIONED:"slideContainer:positioned"},slideObject:{FOCUS:"slideobject:focus",TRANSFORM_DIRTY:"slideobject:transformdirty",TOGGLE_VISIBILITY:"slideobject:toggleVisibility",ON_TRANSITION_IN:"ontransitionin"},startOverlay:{READY:"startOverlay:ready"},status:{UPDATED:"status:updated"},strings:{UPDATE_STRINGS:"strings:updateStrings"},swipe:{CHANGED:"swipe:changed"},tab:{SHOW:"tab:show",HIDE:"tab:hide"},tabLink:{SHOW_PANEL:"tabLink:showPanel",PANEL_SHOWN:"tabLink:panelShown",HIDE_PANEL:"tabLink:hidePanel"},threeSixtyImage:{EDIT_MODE_CHANGED:"threeSixtyImage:editModeChanged",EDITOR_SETTINGS_CHANGED:"threeSixtyImage:editorSettingsChanged",SELECTED_MARKER_CHANGED:"threeSixtyImage:selectedMarkerChanged",MARKER_UPDATED:"threeSixtyImage:markerUpdated",UN_PUSH_LABEL:"threeSixtyImage:unPushLabel",PUSH_UP_BY_LABEL:"threeSixtyImage:pushUpByLabel",PUSH_DOWN_BY_LABEL:"threeSixtyImage:pushDownByLabel",APPLY_RESUME_DATA:"threeSixtyImage:applyResumeData",RESET_VIEW:"threeSixtyImage:resetView",UPDATE_RESUME_PROPS:"threeSixtyImage:updateResumeProps",READY:"threeSixtyImage:ready",RESIZED:"threeSixtyImage:resize",MEDIA_CLOSED:"threeSixtyImage:mediaClosed"},timeline:{PLAYING:"timeline:playing",PAUSED:"timeline:paused",BEFORE_RESET:"timeline:beforereset",RESET:"timeline:reset",TICK:"timeline:tick",ENDED:"timeline:ended",COMPLETE:"timeline:complete",BEFORE_SEEK_UPDATE:"timeline:beforeSeekUpdate",AFTER_SEEK_UPDATE:"timeline:afterSeekUpdate",SEEK_START:"timeline:seekStart",SEEK_END:"timeline:seekEnd",CHANGED:"timeline:changed",CURRENT_TIMELINE:"timeline:currentTimeline"},timer:{SHOW:"timer:show",HIDE:"timer:hide",SHOWN:"timer:shown",HIDDEN:"timer:hidden",COMPLETE:"timer:complete"},tincan:{STATEMENT:"tincan:statement"},topbar:{CLOSED_SIDEBAR:"topbar:closedSidebar",OPENED_SIDEBAR:"topbar:openedSidebar"},topEllipsesPanel:{HIDE:"topEllipsesPanel:hide",PANEL_SHOWN:"topEllipsesPanel:panelShown",HIDE_PANEL:"topEllipsesPanel:hidePanel"},topTabs:{OPEN_DROPDOWN:"topTabs:openDropDown",OPEN_PANEL:"topTabs:openPanel"},topTabsItem:{ACTIVATE:"topTabsItem:activate",HIDE:"topTabsItem:hide"},touchHelper:{TOUCH_START:"touchHelper:touchStart"},transcript:{CHANGED:"transcript:changed"},tween:{UPDATE:"tween:update"},variable:{CHANGED:"variable:changed",REFRESH_VIEW:"variable:refreshView"},video:{STATE_CHANGED:"video:stateChanged"},elso:{TOGGLE_EXPANDED:"elso:toggleExpanded",SHOW_CONTENT_START:"elso:showContentStart",HIDE_CONTENT_COMPLETE:"elso:hideContentCompelete"},volume:{CHANGED:"volume:changed",CHANGE_CURRENT:"change:currentVolume"},window:{CLOSING:"window:closing",CLOSED:"window:closed",CREATED:"window:created",OPEN_EXTERNAL:"externalWindow:open",MAIN_CREATED:"mainWindow:created",MAIN_CHANGED:"mainWindow:slideChanged",SCALE:"window:scale",AFTER_SCALE:"window:afterScale",STACKING_CHANGED:"window:stackingChanged",ZOOM_MODE_CHANGED:"window:zoomModeChanged"},windowManager:{CREATED:"windowManager:created",TOP_MOST_CHANGED:"windowManager:topMostChanged"}};return Object.freeze(e),Object.freeze(e.actionlink),Object.freeze(e.animation),Object.freeze(e.app),Object.freeze(e.audioClip),Object.freeze(e.captions),Object.freeze(e.controlLayout),Object.freeze(e.course),Object.freeze(e.customlink),Object.freeze(e.data),Object.freeze(e.detection),Object.freeze(e.draw),Object.freeze(e.error),Object.freeze(e.hamburger),Object.freeze(e.interaction),Object.freeze(e.keyManager),Object.freeze(e.layer),Object.freeze(e.layout),Object.freeze(e.loader),Object.freeze(e.media),Object.freeze(e.menuLinksListItem),Object.freeze(e.mobile),Object.freeze(e.navcontrols),Object.freeze(e.player),Object.freeze(e.popup),Object.freeze(e.presentation),Object.freeze(e.preview),Object.freeze(e.quiz),Object.freeze(e.request),Object.freeze(e.resources),Object.freeze(e.resume),Object.freeze(e.scheme),Object.freeze(e.search),Object.freeze(e.sidebar),Object.freeze(e.slide),Object.freeze(e.slideContainer),Object.freeze(e.status),Object.freeze(e.swipe),Object.freeze(e.timeline),Object.freeze(e.timer),Object.freeze(e.topbar),Object.freeze(e.topTabsItem),Object.freeze(e.tween),Object.freeze(e.variable),Object.freeze(e.volume),Object.freeze(e.window),Object.freeze(e.windowManager),e}.call(e,n,e,t))||(t.exports=i)},5812:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(1458),r=n(3586),o=e.partialRight(e.omit,"mixins"),s=i.Model.extend,a=function(t,n){var i;return t=t||{},e.isArray(t)||(t=[t]),t=t.filter(e.isPlainObject),(i=e.extend.apply(e,t.map(o))).mixins=e(t).pluck("mixins").unshift(this.prototype.mixins).flatten().filter(e.isPlainObject).uniq().value(),r.mix(i),s.call(this,i,n)};return"Model Collection View Router History".split(" ").forEach((function(t){i[t].extend=a})),a}.call(e,n,e,t))||(t.exports=i)},5613:function(t,e,n){"use strict";var i;void 0===(i=function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}return e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},e.prototype.once=function(t,e){var n=this;function i(){n.off(t,i),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length},e}.call(e,n,e,t))||(t.exports=i)},1809:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r=n(6138),o=n(4403),s=n(8579),a=n(82),l=(n(118),n(6295)),u=n(4811),c=n(1251),h=n(7510).addWindowListener,d=0,p="SavePlayerData",f="SaveResume",v="GetResumeInfo",g="RefreshSession",m="GetSessionId",y=["<soap:Envelope ",'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ','xmlns:xsd="http://www.w3.org/2001/XMLSchema" ','xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">',"<soap:Body>"].join(""),b="</soap:Body></soap:Envelope>",w=window.location.origin,A=r.first(window.location.toString().split("#")),S="http://articulate.com",E=function(t){var e=r.rest(arguments);return[t].concat(e).join("/")},x="",T={GetResumeInfo:"sendResumeReady",GetSessionId:"onSessionId",RefreshSession:"dontDoAnything",SaveResume:"dontDoAnything",SavePlayerData:"dontDoAnything"},_={queue:[],priorityQueue:[],resumer:null,scoring:null,htmlUpdate:"",lastData:"",unloaded:!1,awaitingResponse:!1,initialize:function(t,e){if(window.globals.aoSupport)return this.activityId=t,this.scoring=e||{},this.sessionId=Date.now().toString(),h("pagehide",this.onBeforeUnload.bind(this)),this},setTotalSlides:function(t){this.totalSlides=t},setResumer:function(t){this.resumer=t,this.queueRequest(m)},interactionAnswered:function(t,e){this.updateResults(),this.sendResultsData()},quizComplete:function(t){this.updateResults(),this.sendResultsData()},courseComplete:function(t){this.updateResults(),this.sendResultsData()},manualCourseComplete:function(t,e){this.updateCompleteOnly(),this.sendResultsData()},courseStarted:r.noop,reportStatus:r.noop,viewedComplete:r.noop,slideViewed:function(t){var e=[c.writeNode("viewdata",{total:this.totalSlides,viewed:this.resumer.getUniqueViewedSlides().length,viewedcomplete:this.resumer.getUniqueTotalSlides().length})];this.getViewedEls(this.resumer.viewedSlides).forEach((function(t){e.push(t)})),e.push(c.writeCloseNode("viewdata")),this.updateViewData(e.join("")),null!=this.scoring&&this.scoring.isView()&&(this.setViewedResults(),this.sendResultsData())},getViewedEls:function(t){return t.reduce((function(t,e){return t.push(c.writeNode("slide",{id:a.stripPlayer(e.absoluteId),viewgroupid:e.getViewGroupId()},!0)),t}),[])},setViewedResults:function(){var t=[c.writeNode("results"),c.writeNode("summary",{slidesviewed:this.resumer.totalViewedSlides.length,slidestotal:this.totalSlides,duration:this.resumer.getCourseTime(),status:this.scoring.getViewedStatus()},!0),c.writeCloseNode("results")].join("");this.updateResultsData(t)},updateResults:function(){if(null!=this.scoring&&!this.scoring.isView()){var t=[c.writeNode("results"),c.writeNode("summary",this.getSummaryAttributes(),!0),c.writeNode("quizzes")];return null!=this.scoring.quiz&&t.push(this.scoring.quiz.getAoSoapXml()),t.push(c.writeCloseNode("quizzes"),c.writeCloseNode("results")),this.updateResultsData(t.join("")),this}},updateCompleteOnly:function(){return this.updateResultsData([c.writeNode("results"),c.writeNode("summary",{status:this.scoring.prop("Status")},!0),c.writeCloseNode("results")].join("")),this},getSummaryAttributes:function(t){return t={},null==this.scoring||this.scoring.isView()||(this.scoring.isType("quiz")&&(t.score=this.scoring.prop("PercentScore"),t.possibleScore=100),t.duration=this.resumer.getCourseTime(),t.status=this.scoring.prop("Status")),t},onSessionId:function(t){this.sessionId=t.querySelector("GetSessionIdResponse").textContent,this.createRefreshInterval()},killRefreshInterval:function(){this.onIntervalCompleteCall.kill(),this.onIntervalCompleteCall=null},createRefreshInterval:function(){this.onIntervalCompleteCall=l.delayedCall(60,this.onIntervalComplete,void 0,this)},onIntervalComplete:function(){this.queueRequest(g).createRefreshInterval()},dontDoAnything:r.noop,getItem:function(){return this.resumeDfd=u.Deferred(),this.queueRequest(v),this.resumeDfd.promise()},setItem:function(t,e){e!==this.lastData&&(this.lastData=e,this.updateResumeData(e))},sendResumeReady:function(t){var e=t.querySelector("GetResumeInfoResponse");this.resumeDfd.resolve(e.textContent)},getWrapperDiv:function(){return document.createElement("div")},updateResumeData:function(t){var n;e=["<resumeData>",c.xmlEncodeValue(t),"</resumeData>"].join(""),n=['<playerdata sessionid="',this.sessionId,'">',e,"</playerdata>"].join(""),this.killRefreshInterval(),this.queueRequest(f,n),this.createRefreshInterval(),this.prepareHtmlUpdate()},updateViewData:function(t){i=t,this.prepareHtmlUpdate()},updateResultsData:function(t){x=t,this.prepareHtmlUpdate()},getPlayerData:function(){return['<playerdata sessionid="',this.sessionId,'" ','sendcount="',d,'">',e,i,x,"</playerdata>"].join("")},sendResultsData:function(){var t=this.getPlayerData();d++,this.queueRequest(p,t,!0),this.scoring.markAttemptsSent()},prepareHtmlUpdate:function(){this.htmlUpdate=this.getPlayerData()},hasResultsData:function(){return/<(viewdata|results)/.test(this.htmlUpdate)},onBeforeUnload:function(t){this.htmlUpdate.length&&null==this.hasEnded&&(this.hasEnded=!0,this[s.browser.isIE?"sendSyncRequest":"sendRequest"]({command:this.hasResultsData()?p:f,xmlData:this.htmlUpdate}))},queueRequest:function(t,e,n){var i=n?this.priorityQueue:this.queue,r={command:t,xmlData:e};return 0===this.queue.length&&0===this.priorityQueue.length&&!1===this.awaitingResponse?this.sendRequest(r):i.unshift(r),this},requestCallback:function(t,e,n){var i;this.awaitingResponse=!1,e||(i=(new window.DOMParser).parseFromString(n.text,"application/xml")),this[t](i),this.popQueue()},popQueue:function(){var t=this.priorityQueue.pop()||this.queue.pop();null!=t&&this.sendRequest(t)},sendRequest:function(t,e){s.browser.isIE&&this.hasEnded&&this.sendSyncRequest(t);var n=this.createBaseUrl("services/content/api.asmx"),i=this.createActionUrl("KnowledgeFlash/Services/Content/Api",t.command),r=this.createSoapRequest(t),a=T[t.command];this.awaitingResponse=!0,o.post(n).set("Content-Type","text/xml").set("soapaction",i).send(r).end(this.requestCallback.bind(this,a))},createActionUrl:r.partial(E,S),createBaseUrl:r.partial(E,w),createSoapRequest:function(t){return[y,"<command ".replace("command",t.command),'xmlns="serverUrl/KnowledgeFlash/Services/Content/Api">'.replace("serverUrl",S),"<contentUrl>",window.escape(A),"</contentUrl>",null!=t.xmlData?t.xmlData:"","</command>".replace("command",t.command),b].join("")},sendSyncRequest:function(t){var e=this.createBaseUrl("services/content/api.asmx"),n=this.createActionUrl("KnowledgeFlash/Services/Content/Api",t.command),i=this.createSoapRequest(t),r=new window.XMLHttpRequest;r.open("POST",e,!1),r.setRequestHeader("SOAPAction",n),r.send(i)}};return window.handleBeforeUnload=_.onBeforeUnload.bind(_),_}.call(e,n,e,t))||(t.exports=i)},5053:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(9842),r=n(6295),o=n(4811),s=n(82),a=n(7510).addWindowListener,l=n(1419),u=n(6776),c=void 0,h=void 0,d={complete:function(t){if(l.hasFlag(l.constants.MULTIPLE_QUIZ_TRACKING)){if(h)return;h=!0}t.api.SetReachedEnd()},incomplete:function(t){t.api.ResetStatus()},fail:function(t){if(l.hasFlag(l.constants.MULTIPLE_QUIZ_TRACKING)){if(h)return;h=!0}t.isCmi5&&t.api.SetReachedEnd(),t.api.SetFailed()},pass:function(t){if(l.hasFlag(l.constants.MULTIPLE_QUIZ_TRACKING)){if(h)return;h=!0}t.isCmi5&&t.api.SetReachedEnd(),t.api.SetPassed()}},p={queue:[],resumer:null,scorings:[],api:null,lessonCompleted:!1,setTotalSlides:e.noop,quizComplete:e.noop,courseStarted:function(t){if(this.isCmi5){var e=this.api.cmi5.prepareStatement(u.verbs.VERB_ATTEMPTED),n=this.scorings.first();this.setCmi5StatementDefinitionParams(e,u.objects.OBJECT_COURSE,n.get("lmstext"),n.get("description")),t||(e.result=new this.api.TinCan.Result({completion:!1})),this.sendCmi5Statement(e)}},slideViewed:function(t){if(this.isCmi5){var e=this.api.cmi5.prepareStatement(u.verbs.VERB_EXPERIENCED),n=t.get("title");this.setCmi5StatementDefinitionParams(e,u.objects.OBJECT_MODULE,n,n),this.sendCmi5Statement(e)}},setCmi5StatementDefinitionParams:function(t,e,n,i){t.target.definition=new this.api.TinCan.ActivityDefinition({type:e,name:{},description:{}}),t.target.definition.name[u.lang]=n,t.target.definition.description[u.lang]=i},sendCmi5Statement:function(t){this.api.cmi5.sendStatement(t,(function(){}))},initialize:function(t,e,n){var i=this.startWindow();return i&&(window.lmsAPI=window.parent,this.scorings=e,this.courseId=t,this.isCmi5=n,a("pagehide",this.lmsUnload.bind(this)),this.initCommitTimeout()),!0===i?this:i},startWindow:function(){this.api=window;var t=e.isFunction(this.api.Start);return t&&this.api.Start(),t},setResumer:function(t){this.resumer=t},getItem:function(t){var e;if(this.resumeDfd=this.resumeDfd||o.Deferred(),null!=this.api.IsLoaded&&this.api.IsLoaded()?(e=this.api.GetDataChunk(),this.resumeDfd.resolve(e),this.listenToResumer(),this.lessonCompleted=this.api.GetStatus()===this.api.LESSON_STATUS_COMPLETED):r.delayedCall(.5,this.getItem,void 0,this),null!=t)return this.resumeDfd.promise()},listenToResumer:function(){var t=this;this.resumer.resumeDfd.catch((function(){t.lastStatus="incomplete",d.incomplete(t)}))},setItem:function(t,e){this.resumeData=e,this.sendDataCall||(this.sendDataCall=r.delayedCall(.5,this.sendData,void 0,this))},initCommitTimeout:function(){var t=parseInt(s.getPath(window,"FORCED_COMMIT_TIME",6e4),10);t>0&&r.delayedCall(s.toSeconds(t),this.onCommitDelayComplete,void 0,this)},onCommitDelayComplete:function(){this.commit().initCommitTimeout()},sendData:function(){return this.sendDataCall&&this.sendDataCall.kill(),this.sendDataCall=null,null!=this.resumeData&&this.api.SetDataChunk(this.resumeData),this},interactionAnswered:function(t,e){this.scorings.length>0&&(0,i[e.type()])(t,e,this.resumer.getCourseTime())},reportStatus:function(t){return this.updateScore(t),this.updateStatus(),this},updateStatus:function(){var t=this.scorings.getStatus(),n=d[t]||e.noop;return this.lastStatus&&this.lastStatus===t||(this.lastStatus=t,n(this)),this},updateScore:function(t){if((!l.hasFlag(l.constants.MULTIPLE_QUIZ_TRACKING)||!h)&&(null==t&&(t=this.scorings.guessCurrentScoring()),null!=t&&t.isType("quiz"))){var e=t.prop("PercentScore");this.lastScore!==e&&(c=t,this.lastScore=e,this.api.SetScore(e,100,0))}},viewedComplete:function(){return d[this.scorings.getStatus()](this),this.resumer.savePresentationData(),this.commit(),this},forceCommit:function(){return this.resumer.savePresentationData(),this.sendData().commit(),this},lmsUnload:function(t){null==this.unloaded&&(this.unloaded=!0,this.reportStatus(null),null!=this.sendDataCall&&this.forceCommit(),this.api.ConcedeControl(!0===t),this.api.Unload())},commit:function(){return this.api.CommitData(),this},courseComplete:function(t){return this.reportStatus(t).forceCommit(),this},quizRetried:function(t){l.hasFlag(l.constants.MULTIPLE_QUIZ_TRACKING)&&c==t&&(h=!1)},manualCourseComplete:function(t,e){p.courseComplete(e)}};return p}.call(e,n,e,t))||(t.exports=i)},9842:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=(n(7812),function(t){return null==t&&(t=""),window.CreateResponseIdentifier(t.substr(0,1),t)}),r=function(t,e){return t.push(i(e)),t},o=function(t,e,n){var i=e.statement.lmstext||e.statement,r=e.choice.lmstext||e.choice,o=window.CreateResponseIdentifier(n.toString(),i),s=window.CreateResponseIdentifier(i.charAt(0),r);return t.push(new window.MatchingResponse(o,s)),t},s=function(t){return null==t.choice&&""===t?t="_":""===t.choice&&(t.choice="_"),t},a={C:window.INTERACTION_RESULT_CORRECT,I:window.INTERACTION_RESULT_WRONG,W:window.INTERACTION_RESULT_WRONG,U:window.INTERACTION_RESULT_UNANTICIPATED,N:window.INTERACTION_RESULT_NEUTRAL},l=function(t){var n=e.first(t).toUpperCase();return a[n]||t},u=function(t){return null!=t&&"true"===t.lmstext.toLowerCase()},c=function(t,e){var n,i=e,r=[e.prop("AttemptCount")-1,t.getAttempts()];do{(n=i.get("lmsId"))&&r.push(n)}while(i=i.parent);return r.reverse().join("_")},h={truefalse:function(t,n,i){window.RecordTrueFalseInteraction(c(t,n),u(e.first(n.getResponseValues())),l(n.prop("Status")),u(e.first(n.getCorrectValues())),n.get("lmstext"),t.prop("Weight"),i,t.get("lmstext"))},multiEtc:function(t,n,o,a){var u,h,d,p;o.isType("sequence")?(h=function(t,e,n){return t.push(i(e.statement.lmstext),i(e.choice.lmstext)),t},d=o.getResponseValues().reduce(h,[]),p=s(o.getCorrectValues()).reduce(h,[])):(u=function(t){return e.isString(t)?t:null!=t.choice?t.choice.lmstext:t.lmstext},d=o.getResponseValues().map(u).reduce(r,[]),p=s(o.getCorrectValues().map(u)).reduce(r,[])),window[t](c(n,o),d,l(o.prop("Status")),p,o.get("lmstext"),n.prop("Weight"),a,n.get("lmstext"))},numeric:function(t,e,n,i){window.RecordFillInInteraction(c(t,e),e.getResponseValues(),l(e.prop("Status")),i||e.getCorrectValues(),e.get("lmstext"),t.prop("Weight"),n,t.get("lmstext"))},fillin:function(t,e,n){var i=e.getCorrectValues().map((function(t){return t.lmstext})).join("|#|");h.numeric(t,e,n,i)},matching:function(t,e,n){var i=e.getResponseValues().reduce(o,[]),r=e.getCorrectValues();r=s(r).reduce(o,[]),window.RecordMatchingInteraction(c(t,e),i,l(e.prop("Status")),r,e.get("lmstext"),t.prop("Weight"),n,t.get("lmstext"))},likert:function(t,n,i){var r=e.flatten(n.getResponseValues().map((function(t){return[t.statement.lmstext,t.choice.lmstext]}))).join("|#|");window.RecordLikertInteraction(c(t,n),window.CreateResponseIdentifier(r.substr(0,1),r),l(n.prop("Status")),"",n.get("lmstext"),t.prop("Weight"),i,t.get("lmstext"))}};return h.wordbank=h.hotspot=h.multiplechoice=h.multipleresponse=e.partial(h.multiEtc,"RecordMultipleChoiceInteraction"),h.sequence=e.partial(h.multiEtc,"RecordSequencingInteraction"),h.essay=h.numeric,h}.call(e,n,e,t))||(t.exports=i)},4403:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(5613),i="undefined"==typeof window?this||self:window;function r(){}function o(t){switch({}.toString.call(t)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}d.getXHR=function(){if(!(!i.XMLHttpRequest||i.location&&"file:"==i.location.protocol&&i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var s="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function a(t){return t===Object(t)}function l(t){if(!a(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function u(t){for(var e,n={},i=t.split("&"),r=0,o=i.length;r<o;++r)e=i[r].split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function c(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=function(t){var e,n,i,r,o=t.split(/\r?\n/),a={};o.pop();for(var l=0,u=o.length;l<u;++l)e=(n=o[l]).indexOf(":"),i=n.slice(0,e).toLowerCase(),r=s(n.slice(e+1)),a[i]=r;return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function h(t,n){var i=this;e.call(this),this._query=this._query||[],this.method=t,this.url=n,this.header={},this._header={},this.on("end",(function(){var t=null,e=null;try{e=new c(i)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,i.callback(t)}if(i.emit("response",e),t)return i.callback(t,e);if(e.status>=200&&e.status<300||0===e.status)return i.callback(t,e);var n=new Error(e.statusText||"Unsuccessful HTTP response");n.original=t,n.response=e,n.status=e.status,i.callback(t||n,e)}))}function d(t,e){return"function"==typeof e?new h("GET",t).end(e):1==arguments.length?new h("GET",t):new h(t,e)}return d.serializeObject=l,d.parseString=u,d.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":l,"application/json":JSON.stringify},d.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},c.prototype.get=function(t){return this.header[t.toLowerCase()]},c.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=e.split(/ *; */).shift();var n=function(t){return function(t,e,n){for(var i=0,r=t.length,o=3==arguments.length?n:t[i++];i<r;)o=e.call(null,o,t[i],++i,t);return o}(t.split(/ *; */),(function(t,e){var n=e.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(t[i]=r),t}),{})}(e);for(var i in n)this[i]=n[i]},c.prototype.parseBody=function(t){var e=d.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},c.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},c.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,i="cannot "+e+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=e,r.url=n,r},d.Response=c,e(h.prototype),h.prototype.use=function(t){return t(this),this},h.prototype.timeout=function(t){return this._timeout=t,this},h.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},h.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},h.prototype.set=function(t,e){if(a(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},h.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},h.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},h.prototype.type=function(t){return this.set("Content-Type",d.types[t]||t),this},h.prototype.accept=function(t){return this.set("Accept",d.types[t]||t),this},h.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},h.prototype.query=function(t){return"string"!=typeof t&&(t=l(t)),t&&this._query.push(t),this},h.prototype.field=function(t,e){return this._formData||(this._formData=new i.FormData),this._formData.append(t,e),this},h.prototype.attach=function(t,e,n){return this._formData||(this._formData=new i.FormData),this._formData.append(t,e,n),this},h.prototype.send=function(t){var e=a(t),n=this.getHeader("Content-Type");if(e&&a(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||o(t)||n||this.type("json"),this},h.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},h.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},h.prototype.withCredentials=function(){return this._withCredentials=!0,this},h.prototype.end=function(t){var e=this,n=this.xhr=d.getXHR(),i=this._query.join("&"),s=this._timeout,a=this._formData||this._data;this._callback=t||r,n.onreadystatechange=function(){if(4==n.readyState){try{n.status}catch(t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var l=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=l);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=l)}catch(t){}if(s&&!this._timer&&(this._timer=setTimeout((function(){e.timedout=!0,e.abort()}),s)),i&&(i=d.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!o(a)){var u=d.serialize[this.getHeader("Content-Type")];u&&(a=u(a))}for(var c in this.header)null!=this.header[c]&&n.setRequestHeader(c,this.header[c]);return this.emit("request",this),n.send(a),this},d.Request=h,d.get=function(t,e,n){var i=d("GET",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},d.head=function(t,e,n){var i=d("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.del=function(t,e){var n=d("DELETE",t);return e&&n.end(e),n},d.patch=function(t,e,n){var i=d("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.post=function(t,e,n){var i=d("POST",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.put=function(t,e,n){var i=d("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d}.call(e,n,e,t))||(t.exports=i)},4170:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i=n(6138),r=n(4811),o=n(82),s=n(8880),a=n(9032),l=window.TinCan||n(9661),u=n(7812),c=n(1419),h=l.Utils.convertMillisecondsToISO8601Duration,d=l.Utils.getUUID,p="resume",f="choice",v="matching",g="sequencing",m="completed",y="answered",b="http://adlnet.gov/expapi/activities/course",w="http://adlnet.gov/expapi/activities/cmi.interaction",A="und",S="http://",E=/file/.test(window.location.protocol),x=function(t){var e={id:t.id,description:{}};return e.description[A]=t.lmstext,e},T={};T.choice=T.sequencing=function(t,e){t.choices=e.choices().map(x)},T.matching=function(t,e){t.target=e.choices().map(x),t.source=e.statements().map(x)};var _={likert:"likert"};_.sequence=g,_.multiplechoice=_.truefalse=_.hotspot=_.wordbank=_.multipleresponse=f,_.numeric="numeric",_.fillin="fill-in",_.essay="long-fill-in",_.matching=v;var C={};C.multiplechoice=C.hotspot=C.wordbank=C.sequence=C.truefalse=C.multipleresponse=function(t){var e=t&&t.choiceResponse,n=null!=e?e:t;return o.stripChoice(n)},C.essay=C.fillin=C.numeric=i.identity,C.matching=function(t){return[o.stripStatement(t.statementResponse),o.stripChoice(t.choiceResponse)].join("[.]")};var k=void 0,M=void 0;return{queue:[],tinCan:null,resumer:null,scoring:null,scorings:null,version:0,retryCount:0,setTotalSlides:i.noop,reportStatus:i.noop,initialize:function(t,e,n,i,r){if(window.globals.tinCanPresent||r){this.setPreso(i);var s=o.queryStringToObj();return this.urlParams=s,this.version=e,null!=s.activity_id&&(S=s.activity_id.replace(/\/$/,"")),this.scorings=n,this.scoring=this.scorings.first(),this.tinCan=E||r?new l:new l({url:window.location.toString().replace("&tincan=true","")}),this.sendData=r?this.sendStatementLocal:this.sendStatement,A=i.get("tincanLanguage"),this}},setPreso:function(t){e=t},setResumer:function(t){this.resumer=t},createConfig:function(t){return null==this.urlParams.activity_id&&(t.activity={id:"http://"+e.get("courseId")}),t},getItem:function(){this.resumeDfd=r.Deferred();var t=this.createConfig({callback:this.sendResumeReady.bind(this),overwriteJSON:!0});return this.tinCan.getState(p,t),E&&this.resumeDfd.resolve(""),this.resumeDfd.promise()},setItem:function(t,e){var n=this.createConfig({callback:i.noop});this.tinCan.setState(p,e,n)},sendResumeReady:function(t,e){null==t&&this.resumeDfd.resolve(e&&e.contents)},courseStarted:function(t){var e=this.getStmtObj({type:b,name:this.scoring.get("lmstext"),description:this.scoring.get("description"),verb:this.getVerb("attempted")});t||(e.result={completion:!1}),this.queueStatement(e)},quizComplete:function(t){if(!M){k=t.scoring;var e=t.get("lmstext"),n=this.getStmtObj(t.id,{type:"http://adlnet.gov/expapi/activities/objective",name:e,description:e,verb:this.getVerb(this.getCompletedVerb(t))});t.get("issurvey")||(n.result={score:{scaled:t.prop("PercentScore")/100,raw:t.prop("Score"),min:0,max:t.maxPoints},success:t.isPassed()}),this.queueStatement(n)}},courseComplete:function(t,e){if(!e&&!M){M=!0;var n=this.getStmtObj({type:b,name:t.get("lmstext"),description:t.get("description"),verb:this.getVerb(this.getCompletedVerb(t))});n.result={duration:h(this.resumer.getCourseTime()),completion:!0},t.isSurvey()||t.isAction()||(n.result.score={scaled:t.getPercentScore()},n.result.success=t.isPassed()),this.queueStatement(n)}},manualCourseComplete:function(t,e){this.courseComplete(e,!1)},quizRetried:function(t){c.hasFlag(c.constants.MULTIPLE_QUIZ_TRACKING)&&k==t&&(M=!1)},viewedComplete:function(t){if(!M){M=!0;var e=this.getStmtObj({type:b,name:t.get("lmstext"),description:t.get("description"),verb:this.getVerb(m)}),n={};n[this.formatUri("viewcount")]=t.viewedSlides,e.result={completion:!0,duration:h(this.resumer.getCourseTime()),extensions:n},this.queueStatement(e)}},slideViewed:function(t){var e=t.get("title"),n=this.getStmtObj(t.id,{type:"http://adlnet.gov/expapi/activities/module",name:e,description:e,verb:this.getVerb("experienced")});this.queueStatement(n)},interactionAnswered:function(t,e){this[e.isType("likert")?"logLikert":"logQuestion"](t,e)},logLikert:function(t,e){e.hasResponses()&&e.responses.forEach(function(n,i){var r=e.statements()[i].lmstext,s=o.stripStatement(n.statementResponse),a=[e.parent.id,e.id,s],l={scale:e.choices().map(x),interactionType:_.likert},u=this.getStmtObj(a,{type:w,name:r,description:r,verb:this.getVerb(y),parent:this.formatUri(t.id)});this.setDefinitions(u,l),u.result={response:o.stripChoice(n.choiceResponse)},this.queueStatement(u)}.bind(this))},logQuestion:function(t,e){if(e.hasResponses()){var n=e.get("lmstext"),r=e.type(),o=_[r],s=C[r],a=T[o]||i.noop,l={interactionType:o},u={response:e.responses.map(s).join("[,]")},c=[e.parent.id,e.id],h=this.getStmtObj(c,{type:w,name:n,description:n,verb:this.getVerb(y),parent:this.formatUri(t.id)});(function(t){return t===v||t===g||t===f})(o)&&(l.correctResponsesPattern=[this.getCorrectResponses(e)]),a(l,e),this.setDefinitions(h,l),e.get("issurvey")||(u.success=e.isPassing(),u.score={raw:e.prop("Score")}),h.result=u,this.queueStatement(h)}},formatUri:function(){var t=i.compact(arguments),e=[S],n=this.version<1?".":"/";return e.concat(t).join(n)},getCorrectResponses:function(t){var e=t.prop("CorrectResponse"),n=t.isType("sequence");return e.map((function(t){var e=t.id;return n?e=t.choice.id:t.choice&&t.statement&&(e=[t.statement.id,t.choice.id].join("[.]")),e})).join("[,]")},getVerb:function(t){var e=new l.Verb(t);return e.display["en-US"]=e.display.und,delete e.display.und,e},getCompletedVerb:function(t){return null==t||t.isType("survey")?m:t.isPassed()?"passed":"failed"},setDefinitions:function(t,e){i.extend(t.object.definition,e)},getStmtObj:function(t,e){i.isPlainObject(t)&&(e=t,t=void 0);var n={name:{},description:{}};return n.name[A]=e.name||"",n.description[A]=e.description||"",n.type=e.type,i.isArray(t)||(t=[t]),{id:d(),object:{id:this.formatUri.apply(this,t),definition:n},context:{contextActivities:{grouping:[{id:this.formatUri(),objectType:"Activity"}],parent:[{id:e.parent||S,objectType:"Activity"}]}},verb:e.verb,objectType:"Activity"}},queueStatement:function(t){0===this.queue.length?this.sendData(t):this.queue.unshift(t)},sendStatementCallback:function(t,e){var n=this;null!=t[0].err&&this.retryCount<u.XAPI_RETRY_INTERVALS_MS.length?setTimeout((function(){return n.sendStatement(e)}),u.XAPI_RETRY_INTERVALS_MS[this.retryCount++]):(this.retryCount=0,this.popQueue())},popQueue:function(){this.queue.length>0&&this.sendData(this.queue.pop())},sendStatement:function(t){this.tinCan.sendStatement(t,this.sendStatementCallback.bind(this))},sendStatementLocal:function(t){a.trigger(s.tincan.STATEMENT,t),this.popQueue()}}}.call(e,n,e,t))||(t.exports=i)},6776:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e={verbs:{VERB_EXPERIENCED:"http://adlnet.gov/expapi/verbs/experienced",VERB_ATTEMPTED:"http://adlnet.gov/expapi/verbs/attempted"},objects:{OBJECT_MODULE:"http://adlnet.gov/expapi/activities/module",OBJECT_COURSE:"http://adlnet.gov/expapi/activities/course"},lang:"und"};return Object.freeze(e),Object.freeze(e.verbs),Object.freeze(e.objects),e}.call(e,n,e,t))||(t.exports=i)},5626:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(8579);return{formatSrcUrl:i.env.isFileProtocol&&i.browser.isIE?function(t){return i.browser.isIE10?"file://"+t:document.location.origin+t}:e.identity}}.call(e,n,e,t))||(t.exports=i)},1419:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,n,i,r=[],o={frame:!1,slides:!1},s={SLIDE_ACCESSIBILITY:"slideAccessibility",MULTIPLE_QUIZ_TRACKING:"MultipleQuizTracking",SVG_IMAGE:"InsertSvgPicture"},a=(i="svgObjectEnabled",(n=s.SVG_IMAGE)in(e={})?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e);var l={};return{register:function(t,e,n){var i=this;o[t]||null==e||r.push.apply(r,e.filter((function(t){return function(t,e){return!e||e.isUnified}(0,n)}))),o[t]=!0,document.body.classList.add("ff-on"),_.every(o,(function(t){return t}))&&(r.forEach((function(t){i[a[t]]=!0,document.body.classList.add("ff-"+_.kebabCase(t))})),_.forEach(l,(function(t,e){i.hasFlag(e)?i[t]=function(t,e,n){return Object.assign(t,n)}:i[t]=function(t,e,n){return Object.assign(t,e)}})),Object.freeze(this))},hasFlag:function(t){return r.includes(t)},constants:s}}.call(e,n,e,t))||(t.exports=i)},2581:function(t,e,n){"use strict";var i;function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(i=function(t){var e=n(1251),i=(n(8579),n(4481),n(8880)),o=n(9032),s=n(7510).addWindowListener,a=document.createElement("div");document.body.appendChild(a);var l=document.getElementById("focus-sink"),u=void 0,c=!window.globals.HAS_FRAME,h={initialize:function(){_.bindAll(this,"onSlideStarted","takeFocusOff"),o.on(i.slide.STARTED,this.onSlideStarted),s("resize",this.takeFocusOff)},setFocusRectOn:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!c)if(null!=t){var o=[];o=null==n?t.getClientRects():Array.isArray(n)?[].concat(r(n)):[n],o=_.map(o,(function(n){var r={left:n.left,top:n.top,width:n.width,height:n.height,bottom:n.bottom,right:n.right};if(e.hasClass(t,"acc-shadow-el")){var o=DS.views.getTopNameSpace().slide.el.getBoundingClientRect();r.left=Math.max(r.left,o.left),r.top=Math.max(r.top,o.top),r.right=Math.min(r.right,o.right),r.bottom=Math.min(r.bottom,o.bottom),r.width=r.right-r.left,r.height=r.bottom-r.top}else r.bottom=r.right="";for(var s in r.left-=i,r.top-=i,r.width+=2*i,r.height+=2*i,r)r[s]+="px";return r})),a.innerHTML="",_.forEach(o,(function(t){var n=document.createElement("div");n.className="tab-focus-box",a.appendChild(n),e.setStyles(n,t)})),u=t}else console.warn('cannot set focus rect on "null"')},takeFocusOff:function(t){null!=t&&t!==u||(a.innerHTML="")},reCenter:function(){document.body.focus(),this.takeFocusOff()},onSlideStarted:function(t,n){var i=this;if(!c&&null!=n.currView&&document.hasFocus()){var r=e.closest(n.currView.el,(function(t){return"label"===t.firstElementChild.getAttribute("data-ref")}));r.contains(document.activeElement)||(l.focus(),window.setTimeout((function(){return r.focus()}),100)),window.setTimeout((function(){return i.setFocusRectOn(r)}),16)}},lastFocusedElement:function(){return u}};return h.initialize(),h}.call(e,n,e,t))||(t.exports=i)},3034:function(t,e,n){"use strict";var i;function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(i=function(t){var e=n(6194),i=n(8939),o=n(4811),s=i.warn("fontHelper");return{loadFonts:function(t){if(null!=e.loadFonts){var n=DS.frame.getFonts().reduce((function(t,e){return t.push.apply(t,r(e.files.map((function(t){var n=t.bold,i=t.italic;return{name:e.name,bold:n,italic:i}})))),t}),[]);return e.loadFonts([].concat(r(t.get("fontLib")||[]),r(n)),s)}return o.promiseToVow(Promise.all(Array.from(document.fonts).map((function(t){return t.load()}))))}}}.call(e,n,e,t))||(t.exports=i)},7510:function(t,e,n){"use strict";var i;function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(i=function(t){var e=n(9032),i=n(8880),o=new Map([[document,"document"],[document.body,"body"],[window,"window"]]),s=["before","on","after"],a={},l=window,u=l.lastWidth,c=l.lastHeight,h=void 0,d=void 0,p=function(t,e,n){return((a[t]||{})[e]||{})[n]},f=function(t,e,n,i){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"on",u=t===window&&("resize"===e||"orientationchange"===e);i=!!i&&!u;var c=o.get(t),h=a[c]=a[c]||{},d=h[e]=h[e]||{},p=d[i]=d[i]||{callbacks:{before:new Set,on:new Set,after:new Set},listener:null,customEvent:u};return s.reduce((function(t,e){return p.callbacks[e].has(n)||t}),!1)||(p.callbacks[l].add(n),null===p.listener&&(p.listener=function(t){return s.forEach((function(e){return[].concat(r(p.callbacks[e])).forEach((function(e){return e(t)}))}))},u||t.addEventListener(e,p.listener,i))),function(){return v(t,e,n,i)}},v=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=o.get(t),a=p(r,e,i);null!=a&&(s.forEach((function(t){return a.callbacks[t].delete(n)})),a.customEvent||0!==s.reduce((function(t,e){return a.callbacks[e].size+t}),0)||t.removeEventListener(e,n,i))},g=function(t,e,n){var i=p(t,e,!1);null!=i&&i.listener(n)},m=function(t){var e=window.innerWidth>window.innerHeight;h!==e&&(h=e,g("window","orientationchange",t))},y=function(t){u===window.innerWidth&&c===window.innerHeight||(u=window.innerWidth,c=window.innerHeight,g("window","resize",t))},b=function t(e){u!==window.innerWidth||c!==window.innerHeight?(d=null,w()):e-d<1e3?window.requestAnimationFrame(t):d=null},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(t),y(t),null==d&&(d=window.performance.now(),window.requestAnimationFrame(b))};return window.addEventListener("orientationchange",w),window.addEventListener("resize",w),e.on(i.window.ZOOM_MODE_CHANGED,(function(){g("window","resize",null)})),{addBodyListener:function(t,e,n,i){return f(document.body,t,e,n,i)},removeBodyListener:function(t,e,n){return v(document.body,t,e,n)},addDocumentListener:function(t,e,n,i){return f(document,t,e,n,i)},removeDocumentListener:function(t,e,n){return v(document,t,e,n)},addWindowListener:function(t,e,n,i){return f(window,t,e,n,i)},removeWindowListener:function(t,e,n){return v(window,t,e,n)}}}.call(e,n,e,t))||(t.exports=i)},3716:function(t,e,n){"use strict";var i;function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(i=function(t){var e=n(6138),i=n(7812),o=n(7510).addBodyListener,s=n(520),a=["LastKeyCodeString","LastKeyCode","LastKeyValue","LastKeyCtrl","LastKeyShift","LastKeyAlt"],l=e.invert(i.keys),u=function(t){var e=t.keyCode,n=t.altKey,i=t.shiftKey,o=t.ctrlKey,s=String.fromCharCode(e),a=[].concat(r(o?["[CTRL] + "]:[]),r(i?["[SHIFT] + "]:[]),r(n?["[ALT] + "]:[]));return e>=48&&e<=90?a.push(s):(a.push("["),null!=l[e]?a.push(l[e]):a.push("#"+e),a.push("]")),a.join("")},c={isShowFocus:!1,lastKeyPressTargets:[],initialize:function(){var t=this;o("mousedown",(function(e){t.isShowFocus=!1,document.body.classList.remove("show-focus")}),!0),o("keyup",(function(e){t.isTabKey(e.which)&&!t.isShowFocus&&(t.isShowFocus=!0,document.body.classList.add("show-focus")),t.clearLastKey()}),!0)},isKey:function(t,e){return t===e},keyPressHandlerExists:function(t){var e=s.getCurrentWindowSlide();if(null==e)return!1;var n=e.slideLayers().getTopMostLayer()||e.getBaseLayer(),i=e.slideLayers().activeLayers.slice(0);return this.handlerExists(n,t,i)},getLayerStack:function(t){var n=s.getCurrentWindowSlide(),i=null!=n?n.slideLayers().activeLayers.slice(0):[],r=e.findIndex(i,t);return r>0&&(i.length=r),i},getParentFromLayerstack:function(t,n){var i=null;if(n=n||this.getLayerStack(t),t.isSlideObject){if(null==(i=t.getClosestAncestor((function(t){return t.isSlideObject})))){var r=t.getLayer();r.isBaseLayer()?n=[]:n.length=e.findIndex(n,r)+1}}else if(null==t.modal||!t.modal()){do{i=n.pop()}while(null!=i&&!i.isOpen);null==i&&(i=t.getClosestAncestor((function(t){return t.isSlide})))}return{parent:i,layerStack:n}},handlerExists:function(t,e,n){if(null!=t.getFilteredPlayerEvent((function(t){return t.keycode===e.keyCode&&t.shift===e.shiftKey&&t.ctrl===e.ctrlKey&&t.alt===e.altKey}),"onkeypress").events.first())return!0;var i=this.getParentFromLayerstack(t,n),r=i.parent,o=i.layerStack;return null!=r&&this.handlerExists(r,e,o)},executeKeypressEvent:function(t,n,r){this.lastKeyPressTargets.push(t),e.contains([i.keys.CONTROL,i.keys.SHIFT,i.keys.ALT],n.keyCode)||(t.prop(function(t){var e=t.keyCode,n=t.altKey,i=t.shiftKey,r=t.ctrlKey,o=String.fromCharCode(e);return{LastKeyCodeString:u(t),LastKeyCode:e,LastKeyValue:o,LastKeyCtrl:r,LastKeyShift:i,LastKeyAlt:n}}(n)),t.executePlayerEvent("onanykeypress"));var o=this.getParentFromLayerstack(t,r),s=o.parent,a=o.layerStack;t.executeFilteredPlayerEvent((function(t){return t.keycode===n.keyCode&&t.shift===n.shiftKey&&t.ctrl===n.ctrlKey&&t.alt===n.altKey}),"onkeypress"),null!=s&&this.executeKeypressEvent(s,n,a)},clearLastKey:function(){this.lastKeyPressTargets.forEach((function(t){t.resetSpecifiedProps(a)})),this.lastKeyPressTargets=[]},isReturnKey:function(t){return c.isKey(t,i.keys.ENTER)},isSpaceKey:function(t){return c.isKey(t,i.keys.SPACE)},isActionKey:function(t){return c.isReturnKey(t)||c.isSpaceKey(t)},isRightKey:function(t){return c.isKey(t,i.keys.RIGHT)},isDownKey:function(t){return c.isKey(t,i.keys.DOWN)},isPageDownKey:function(t){return c.isKey(t,i.keys.PAGE_DOWN)},isDownishKey:function(t){return c.isLeftKey(t)||c.isDownKey(t)},isRtlDownishKey:function(t){return c.isRightKey(t)||c.isDownKey(t)},isLeftKey:function(t){return c.isKey(t,i.keys.LEFT)},isUpKey:function(t){return c.isKey(t,i.keys.UP)},isPageUpKey:function(t){return c.isKey(t,i.keys.PAGE_UP)},isUpishKey:function(t){return c.isRightKey(t)||c.isUpKey(t)},isRtlUpishKey:function(t){return c.isLeftKey(t)||c.isUpKey(t)},isHomeKey:function(t){return c.isKey(t,i.keys.HOME)},isEndKey:function(t){return c.isKey(t,i.keys.END)},isTabKey:function(t){return c.isKey(t,i.keys.TAB)},isBackspaceKey:function(t){return c.isKey(t,i.keys.BACKSPACE)},isDeleteKey:function(t){return c.isKey(t,i.keys.DELETE)},isSeekKey:function(t){return c.isUpishKey(t)||c.isDownishKey(t)||c.isHomeKey(t)||c.isEndKey(t)||c.isPageUpKey(t)||c.isPageDownKey(t)},isNonInputKey:function(t){return c.isUpishKey(t)||c.isDownishKey(t)||c.isHomeKey(t)||c.isEndKey(t)||c.isPageUpKey(t)||c.isBackspaceKey(t)||c.isDeleteKey(t)||c.isPageDownKey(t)}};return c}.call(e,n,e,t))||(t.exports=i)},3586:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=function(t,e){var n,i,o=r[t],s=e.mixins.slice(0);for(i=s.length;i--;)null!=(n=s[i])[t]&&n[t].call(e),null!=n[o]&&n[o].call(e);return this},r={init:"componentWillMount"},o=["preInit","init","postInit"],s=e.partialRight(e.omit,o),a={mixInto:function(t,n){return e.defaults.apply(e,e(n).map(s).unshift(t).value()),t},mix:function(t){return this.mixInto(t,t.mixins),t}};return o.forEach((function(t){a[t+"MixinsOf"]=e.partial(i,t)})),a}.call(e,n,e,t))||(t.exports=i)},262:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=function(t,n){return e.contains(e.values(n.associations),t)},r={isAncestral:!0,createParentReference:function(t){return t&&t.parent&&(this.parent=t.parent),this},getClosestAncestor:function(t,e){for(var n=e?this:this.parent;n&&!t(n);)n=n.parent;return n},getClosestAncestorWithAssoc:function(t){var n=e.partial(i,t);return this.getClosestAncestor(n)},getClosestAncestorByAttr:function(t,e,n){return this.getClosestAncestor((function(n){return n.get(t)===e}),n)},forEachAncestor:function(t,e){for(var n=e?this:this.parent,i=0;null!=n;){if(!1===t(n,i++))return;n=n.parent}}};return r.getClosestAncestorByKind=e.partial(r.getClosestAncestorByAttr,"kind"),r}.call(e,n,e,t))||(t.exports=i)},6978:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(262),r=n(118),o=i.getClosestAncestor;return{resolvePath:function(t){return r.resolvePath(t,this.getClosestThisRef())},getClosestParentRef:e.partial(o,(function(t){return t.abilities.resolveAsParent})),getClosestThisRef:e.partial(o,(function(t){return t.abilities.resolveAsThis}),!0),getClosestEventTarget:e.partial(o,(function(t){return t.abilities.beEventTarget}),!0),getChildren:function(){return this.objects().slice()}}}.call(e,n,e,t))||(t.exports=i)},5337:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(8939),r=i.warn("shortEventable")("bindShortEvents"),o=i.backtick,s=function(t,n){return e.mapValues(n,(function(e){return t[e]}))},a=function(t,n){var i=t[n];return i?e.isFunction(i)?i.call(t):i:t.get?t.get(n):t.props&&t.props[n]};return{componentWillMount:function(){return this.bindShortEvents(),this},bindShortEvents:function(){var t,e,n,i,l=Object.keys(this.shortEvents||{}),u=l.length;for(i=0;i<u;i++){if(e="self"===(t=l[i])?this:a(this,t),n=s(this,this.shortEvents[t]),!e)return void r("Cannot listen to undefined object",o(t));this.listenTo(e,n)}return this},rebindShortEvents:function(){return this.stopListening(),this.bindShortEvents(),this}}}.call(e,n,e,t))||(t.exports=i)},6334:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(9032),r=n(8939).throwError("subscribable");return{componentWillMount:function(){return this.addSubscriptions(),this},addSubscriptions:function(){for(var t in this.resetSubscriptions(),this.subscriptions)this.subscriptions.hasOwnProperty(t)&&this.addSubscription(t,this.subscriptions[t]);return this},addSubscription:function(t,n){return e.isFunction(this[n])||r("addSubscription","this."+n,"is not a defined callback."),this.addSubscribedEvent(t).listenTo(i,t,this[n]),this},addSubscribedEvent:function(t){return this.subscribedEvents.push(t),this},removeSubscriptions:function(){return e.each(e.uniq(this.subscribedEvents),this.removeSubscription,this),this},removeSubscription:function(t,e){var n=this.subscribedEvents.indexOf(t);return this.stopListening(i,t,this[e]),n>-1&&this.subscribedEvents.splice(n,1),this},resetSubscriptions:function(){return this.removeSubscriptions(),this.subscribedEvents=[],this}}}.call(e,n,e,t))||(t.exports=i)},9835:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(7510),r=i.addWindowListener,o=i.addDocumentListener,s=i.addBodyListener,a=n(8579),l=(n(8880),n(9032),n(82)),u=n(1251),c=n(6295),h=(n(7812),n(7097)),d=n(7594),p=n(2972),f=d.camelCase("transform"),v={doFullScreen:function(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},styleIfExists:function(t,e,n){t&&(t.style[e]=n)},androidOrientation:function(){document.querySelector(".slide-controls"),document.querySelector(".option-pane");a.orientation.isPortrait?(this.styleIfExists(this.optionPane,"minHeight",null),this.styleIfExists(this.slideControls,"display","block")):(this.styleIfExists(this.optionPane,"minHeight",l.pxify(this.smallestSide)),this.styleIfExists(this.slideControls,"display","none"))},initAndroid:function(){this.doFullScreen(document.documentElement),this.smallestSide=Math.min(document.documentElement.clientHeight,document.documentElement.clientWidth),document.body.style.minHeight=a.smallestSide+"px"},initTouchableThemeAndPhone:function(){var t,e,n;document.body.style.height="120%",document.querySelector("#preso").style.position="fixed",a.os.iOSVersion>=10&&setInterval((function(){var t=document.querySelector(".controls"),i=window.innerHeight,r=document.documentElement.clientHeight;i<r?(e=r-i)!==n&&null!=t&&(t.style[f]=h.transformTranslate(l.pxify(0),l.pxify(-e)),n=e):null!=t&&""!==t.style[f]&&(t.style[f]="")}),100),r("resize",(function(){clearTimeout(t),t=setTimeout((function(){window.scrollTo(0,1)}),30)}))},initIOS:function(){var t=document.querySelector(".mobile-chrome-warning");t.innerHTML='<div class="mobile-chrome-warning-btn">\n      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" x="0px" y="0px" width="107px" height="78px" viewBox="0 0 107 78">\n\n        <g id="mobile-chrome-warning-arrow">\n          <path fill="white" stroke="none" d="\n          M 24.1 31.4\n          L 12.05 15.85 0 31.4 8.3 31.4 8.3 54 15.25 54 15.25 31.4 24.1 31.4 Z"></path>\n        </g>\n\n        <path id="mobile-chrome-warning-hand" stroke="white" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" fill="none" d="\n        M 37.55 16.1\n        Q 36.3 14.8 36.3 13.1 36.3 11.45 37.55 10.15 38.85 8.9 40.55 8.9 42.2 8.9 43.5 10.15\n        L 46.75 13.375 46.75 13.35\n        Q 45.5 12.05 45.5 10.35 45.5 8.7 46.75 7.4 48.05 6.15 49.75 6.15 51.4 6.15 52.7 7.4\n        L 57 11.65\n        Q 56.05 10.4828125 56.05 9 56.05 7.3 57.3 6 58.6 4.8 60.3 4.8 62 4.8 63.3 6\n        L 74.3 17\n        Q 76.3 19.05 77.5 21.55 78.75 24.05 79.1 26.9 79.4 29.7 80.65 32.25 81.85 34.75 83.85 36.75\n        L 85.6 38.5 69.5 54.6\n        Q 68.25 53.35 66.5 52.1 64.75 50.8 62.85 49.85 60.95 48.85 59.25 48.5\n        L 32 42.5\n        Q 31.15 42.3 30.45 41.8 29.1 40.8 28.85 39.3 28.6 37.85 29.35 36.55 30.05 35.25 31.65 34.7\n        L 31.9 34.65\n        Q 32.55 34.45 33.25 34.45\n        L 44.3 34.9 17.65 8.2\n        Q 16.4 6.9 16.4 5.2 16.4 3.55 17.65 2.25 18.95 1 20.65 1 22.3 1 23.6 2.25\n        L 37.55 16.1 39.2 17.75\n        M 58.95 13.65\n        L 58.075 12.775 57.3 12\n        Q 57.140234375 11.833984375 57 11.65\n        L 58.075 12.775\n        M 46.75 13.375\n        L 48.4 15"></path>\n\n      </svg>\n    </div>\n\n    <div class="mobile-chrome-warning-bubble">\n      Drag up for fullscreen\n    </div>';var n,i,a,h,d,f=document.querySelector(".mobile-chrome-warning-bubble"),v=document.querySelector(".mobile-chrome-warning-btn"),g=document.querySelector("#preso"),m=0;document.body.style.height="120%",o("touchstart",(function(){i=!0})),o("touchend",(function(){i=!1})),t.addEventListener("touchstart",(function(){c.killTweensOf(f),c.killTweensOf(v),c.to(v,.05,{opacity:1,scaleX:.6,scaleY:.6}),c.to(f,.1,{opacity:1}),c.to(f,.3,{opacity:0,delay:3})})),setInterval((function(){var n=document.activeElement,r=window.innerHeight,o=document.documentElement.clientHeight,s=r<o;e.extend(g.style,{position:"fixed",left:"0px",top:"0px",zIndex:0}),(!n||"INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName)&&(s?("block"!==t.style.display&&"none"!==g.style.display&&(t.style.display="block",c.killTweensOf(f),c.killTweensOf(v),c.set(f,{opacity:0}),c.to(f,1,{opacity:1}),c.to(f,.8,{opacity:0,delay:3}),c.to(v,.35,{opacity:.85,delay:3.5,scaleX:.55,scaleY:.55,ease:"back.out"}),a=!0,m=Math.abs(window.innerHeight-document.body.clientHeight)),0===document.body.scrollTop||i||window.scrollTo(0,0)):"none"!==t.style.display&&"block"!==g.style.display&&(t.style.display="none",g.style.zIndex=null,a=!1))}),100),r("resize",(function(){clearTimeout(n),n=setTimeout((function(){window.scrollTo(0,1)}),30)})),s("touchstart",(function(t){1===t.touches.length&&(h=t.touches[0].clientY),a&&(m=Math.abs(window.innerHeight-document.body.clientHeight))}));!function e(){if(a&&i){var n=Math.abs(Math.abs(window.innerHeight-document.body.clientHeight)-m)/88;t.style.opacity=1-n,t.style.height=l.pxify(75+150*n)}else i||(t.style.opacity=1,t.style.height="75px");window.requestAnimationFrame(e)}(),s("touchmove",(function(t){var n,i=!1,r=t.target,o=u.parentNodesOf(r,(function(t){return p.isScrollable(t)}));p.isScrollable(r)&&o.unshift(r),a||(1===t.touches.length&&null!=h?(n=t.touches[0].clientY,i=!e.isEmpty(o)&&o.every((function(t){var e=0===t.scrollTop&&n>h,i=t.scrollTop+t.offsetHeight===t.scrollHeight&&n<h;return e||i}))):i=!0),i&&t.preventDefault()})),s("touchend",(function(){h=null})),document.documentElement.addEventListener("touchstart",(function(t){1===t.touches.length&&(d?t.preventDefault():(d=!0,setTimeout((function(){d=!1}),500)))}))}};return a.theme.isClassic&&a.device.isMobile&&window.addEventListener("scroll",(function(){document.body.scrollTop<0&&(document.body.scrollTop=0)})),document.addEventListener("touchmove",(function(t){1!==t.touches.length&&t.preventDefault()}),{passive:!1}),a.env.isInIframe||a.deviceView.isTablet?v.init=e.noop:a.os.isAndroid&&!a.env.is360?v.init=v.initAndroid:a.os.isIOS&&a.device.isPhone?v.init=v.initTouchableThemeAndPhone:a.os.isIOS&&a.os.iOSVersion>=8?v.init=v.initIOS:v.init=e.noop,v}.call(e,n,e,t))||(t.exports=i)},3400:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(82),r=n(7812),o=n(1294),s=n(2972),a=n(7510),l=a.addDocumentListener,u=a.removeDocumentListener,c=function(t){return!t||t.length<2},h=function(t){var e=c(t)?{x:0,y:0}:t[0],n=t[1]||e;return{x:(e.pageX+n.pageX)/2,y:(e.pageY+n.pageY)/2}},d=function(t){return c(t)?1:i.dist(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY)};return{shouldPinchZoom:function(){return!0},isLightboxed:function(){return!1},notifyZoomUpdate:function(){},zoomScaleUpdate:function(){},constrainToScreen:function(){var t=!1,e=window,n=e.innerWidth,i=e.innerHeight,r=this.zoomTarget.getBoundingClientRect(),o=Math.max((n-r.width)/2,0),s=Math.max((i-r.height)/2,0),a=n-o,l=i-s;r.left>o?(t=!0,this.pinch.currMatrix.tx=o):r.right<a&&(t=!0,this.pinch.currMatrix.tx=a-r.width),r.top>s?(t=!0,this.pinch.currMatrix.ty=s):r.bottom<l&&(t=!0,this.pinch.currMatrix.ty=l-r.height),t&&this.startTransition(400)},getContainerBounds:function(){return{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}},offsetStart:function(t,e){this.pinchStartX=t,this.pinchStartY=e,this.pinch.matrix.translate(t,e)},initZoomTarget:function(t){this.isInLightbox=this.isLightboxed(),this.resetPinch(),this.zoomTarget=t,this.zoomTarget.addEventListener("gesturestart",this.onPrevent),this.zoomTarget.addEventListener("touchstart",this.onTouchStart,!0),this.zoomTarget.addEventListener("touchmove",this.onTouchMove),this.zoomTarget.addEventListener("touchend",this.onTouchEnd),this.doubleTapCount=0,l("touchstart",this.onDoubleTap)},resetPinch:function(){this.pinch={scale:1,matrix:(new o).translate(this.pinchStartX||0,this.pinchStartY||0),panning:!1,zooming:!1,width:document.body.clientWidth,height:document.body.clientHeight,disable:!1}},resetDoubleTap:function(){this.doubleTapCount=0},onPrevent:function(t){t.preventDefault()},onDoubleTap:function(t){c(t.touches)&&this.pinch.scale>1&&!s.isDoubleClickRelated(t.target)?(clearTimeout(this.doubeTapTimeout),this.doubleTapCount++,this.doubeTapTimeout=setInterval(this.resetDoubleTap,250),2===this.doubleTapCount&&1!==this.pinch.scale&&this.zoomOut()):this.resetDoubleTap()},onTouchStart:function(t){var e=this.transTouch(t.touches);if(2===e.length){this.pinch.panning=!1,this.pinch.zooming=!0;var n=h(e);this.pinch.startCenter=this.pinch.matrix.unTransformPoint(n.x,n.y),this.pinch.startDistance=d(e),this.pinch.disable=!1}else 1!==e.length||1===this.pinch.scale||this.shouldDisablePan(t)?(this.pinch.panning=!1,this.pinch.zooming=!1,this.pinch.disable=!0):(this.pinch.panning=!0,this.pinch.zooming=!1,this.pinch.startCenter=this.pinch.matrix.unTransformPoint(e[0].pageX,e[0].pageY),this.pinch.disable=!1);this.pinch.disable||this.endTransition(),this.pinch.totalTouches=t.touches.length},onTouchEnd:function(t){this.pinch.disable=!1,t.touches.length<2&&(this.pinch.panning=!1,this.pinch.zooming=!1,this.pinch.currMatrix&&!this.pinch.zoomingOut&&(this.pinch.scale=this.pinch.currMatrix.getScale().x,this.constrainToScreen(),this.pinch.matrix=this.pinch.currMatrix,this.zoomScaleUpdate()))},onTouchMove:function(t){if(!this.pinch.disable){var e=this.transTouch(t.touches);2===e.length?this.updatePinchZoom(e):1===e.length&&(1!==this.pinch.scale||this.isInLightbox)&&this.pinch.panning&&this.updatePinchPan(e)}},zoomOut:function(){var t=this;this.pinch.matrix=(new o).translate(this.pinchStartX||0,this.pinchStartY||0),this.pinch.currMatrix=this.pinch.matrix.copy(),this.pinch.zoomingOut=!0,this.pinch.scale=1,this.zoomScaleUpdate(),this.startTransition(200,(function(){t.pinch.zoomingOut=!1}))},transTouch:function(t){var n=this.getContainerBounds(),i=n.left,r=n.top;return e(t).map((function(t){return{pageX:t.pageX-i,pageY:t.pageY-r}})).value()},updatePinchPan:function(t){var e=this.pinch.matrix.unTransformPoint(t[0].pageX,t[0].pageY);this.pinch.currMatrix=this.pinch.matrix.copy().translate(e.x-this.pinch.startCenter.x,e.y-this.pinch.startCenter.y),this.zoomTarget.style[this.cssTransformOrigin]="0 0",this.updateTransform(this.pinch.currMatrix),this.isInLightbox&&this.notifyZoomUpdate()},updatePinchZoom:function(t){var e=this.threeSixtyImageRestrictedZoom||6,n=d(t),i=h(t),r=this.pinch.matrix.unTransformPoint(i.x,i.y),o=Math.max(1/this.pinch.scale,Math.min(n/this.pinch.startDistance,e/this.pinch.scale));this.pinch.zoom=o,this.pinch.currMatrix=this.pinch.matrix.copy().translate(r.x,r.y).scale(o,o).translate(-this.pinch.startCenter.x,-this.pinch.startCenter.y),this.zoomTarget.style[this.cssTransformOrigin]="0 0",this.updateTransform(this.pinch.currMatrix),this.notifyZoomUpdate()},updateTransform:function(t){this.zoomTarget.style[this.cssTransform]=t.toCssTransform(),this.pinch.appliedMatrix=t.copy()},startTransition:function(t,n){var i=this;n=n||e.noop,this.pinchZoomTransition={startTime:performance.now(),startMatrix:this.pinch.appliedMatrix.copy(),deltaMatrix:this.pinch.currMatrix.delta(this.pinch.appliedMatrix),duration:t,onComplete:n,onUpdate:function(){return i.notifyZoomUpdate()}},window.requestAnimationFrame(this.stepTransition)},endTransition:function(){this.pinchZoomTransition=null},stepTransition:function(){if(null!=this.pinchZoomTransition){var t=this.pinchZoomTransition,e=t.startMatrix,n=t.deltaMatrix,r=t.duration,o=t.startTime,s=t.onComplete,a=t.onUpdate,l=i.clamp(0,r,performance.now()-o),u=function(t,e){return gsap.parseEase("power1.out")(t/e)}(l,r);this.updateTransform(e.add(n,u)),a(),l<r?window.requestAnimationFrame(this.stepTransition):(s(),this.endTransition())}},shouldDisablePan:function(t){return 1===t.touches.length&&(s.isDraggableRelated(t.target)||s.isScrollRelated(t.target)||s.isRotatableRelated(t.target)||s.isSlideableRelated(t.target)||s.isThreeSixtyImageRelated(t.target)&&this.pinch.scale<=r.MOBILE_360_IMAGE_SCALE_THRESHOLD)},destroyPinchZoom:function(){this.shouldPinchZoom()&&(this.zoomTarget.style[this.cssTransform]="",this.notifyZoomUpdate(),this.zoomTarget.removeEventListener("gesturestart",this.onPrevent),this.zoomTarget.removeEventListener("touchstart",this.onTouchStart),this.zoomTarget.removeEventListener("touchmove",this.onTouchMove),this.zoomTarget.removeEventListener("touchend",this.onTouchEnd),u("touchstart",this.onDoubleTap),u("touchstart",this.onDoubleTap))}}}.call(e,n,e,t))||(t.exports=i)},1070:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e={presentation:null,player:null};return Object.seal(e),e}.call(e,n,e,t))||(t.exports=i)},3797:function(t,e,n){"use strict";var i,r;i=[n(6138),n(8939),n(9032),n(8880),n(118),n(1681),n(7812),n(82),n(520)],void 0===(r=function(t,e,n,i,r,o,s,a,l){var u,c,h,d,p=e.throwError("previewHelper"),f={kind:"adjustvar",operator:"set"},v={kind:"reset_player"},g=function(t){var e=r.resolvePath(a.prefixWithPlayer(t),{context:d,optional:!0});if(null==e)throw new Error(["No object exists at path ",a.doubleQuote(t)].join(""));return e},m={getValue:function(t){var e=g(t);return e.isVar?e.value():e},getCurrentTime:function(){return l.getCurrentWindowSlide().currentTimeline().elapsedTime()},setCurrentTime:function(t){l.getCurrentWindowSlide().currentTimeline().seek(t)},gotoSlide:function(t){n.trigger(i.request.NEXT_SLIDE,a.prefixWithPlayer(t))},overrideOrientations:function(t){h.set("orientations",t)},resetPlayer:function(e){c.executeAction(t.defaults({startslideid:a.prefixWithPlayer(e)},v),{context:d})},resetSlide:function(t){var e=g(t);if(!e.isSlide)throw new Error(["Object at",a.doubleQuote(t),"is not a slide"].join(" "));e.reset()},setVariable:function(e,n){var i=g(e);if(!i.isVar)throw new Error(["Object at",a.doubleQuote(e),"is not a variable"].join(" "));c.executeAction(t.defaults({variable:i.absoluteId,value:{type:i.type(),value:n}},f),{context:d})},setBackgroundColor:function(t){document.body.style.background=t},setStringTable:function(t){o.reInit(JSON.parse(t)),n.trigger(i.controlOptions.RESET),S(DS.frameModel.frame.controlOptions.controls.closed_captions)},setColorScheme:function(t){var e=DS.frameModel.frame.controlOptions.controls.closed_captions;A("player-preview-css",t),n.trigger(i.scheme.CHANGED,"player-preview-css"),n.trigger(i.controlOptions.RESET),S(e)},setFontScale:function(t){n.trigger(i.frame.FONT_SCALE,t),S(DS.frameModel.frame.controlOptions.controls.closed_captions)},setControlOptions:function(t,e){var r=JSON.parse(t),o=JSON.parse(e),a=DS.frameModel.outlineInSidebar,l=DS.frameModel.sidebarOpts.closed;n.trigger(i.controlLayout.UPDATE,DS.frameModel.frame.default_layout,s.refs.FRAME,o),n.trigger(i.controlOptions.CHANGED,r),!a&&DS.frameModel.outlineInSidebar||!o.outline.search?n.trigger(i.sidebar.HIDE_SEARCH):o.outline.search&&o.outline.enabled&&!DS.frameModel.outlineInSidebar&&n.trigger(i.sidebar.SHOW_SEARCH),l&&!DS.frameModel.sidebarOpts.closed?n.trigger(i.sidebar.OPEN):!l&&DS.frameModel.sidebarOpts.closed&&n.trigger(i.sidebar.CLOSE),S(r.controls.closed_captions)},setGlossaryData:function(t){var e=JSON.parse(t);n.trigger(i.glossary.UPDATE,e)},setNavData:function(t){var e=JSON.parse(t);n.trigger(i.navData.UPDATE,e),S(DS.frameModel.frame.controlOptions.controls.closed_captions)},setSkipNav:function(t){t!=DS.frameModel.frame.skip_nav_enabled&&(DS.frameModel.frame.skip_nav_enabled=t,DS.pubSub.trigger(DS.events.controlOptions.RESET),S(DS.frameModel.frame.controlOptions.controls.closed_captions))},setResources:function(t){var e=JSON.parse(t);n.trigger(i.resources.UPDATE,e)},setResourcesDescription:function(t){n.trigger(i.resources.UPDATE_DESCRIPTION,t)},setActiveTab:function(t){n.trigger(i.sidebar.ACTIVE_TAB_SET,t)},setChromeless:function(t){t!=DS.frameModel.frame.chromeless&&(DS.frameModel.frame.chromeless=t,n.trigger(i.frameModel.CHROMELESS_CHANGED,t),S(DS.frameModel.frame.controlOptions.controls.closed_captions))},setFont:function(t){A("player-preview-font-css",t),n.trigger(i.controlOptions.RESET),S(DS.frameModel.frame.controlOptions.controls.closed_captions)},setTextDirection:function(t){t!=DS.frameModel.frame.textdirection&&(DS.frameModel.frame.textdirection=t,DS.frameModel.rtl="rtl"===t,n.trigger(i.controlOptions.RESET),n.trigger(i.navData.REFRESH_VIEW),S(DS.frameModel.frame.controlOptions.controls.closed_captions))},setFrameSize:function(t,e){DS.presentation.updateTotalSize(t,e),DS.scaler.scale()},showStartOverlayPreview:function(t){var e=DS.views.model.frame.controlOptions.courseOptions,n=e&&e.thumbnailUrl?DS.utils.resolveAssetUrl(e.thumbnailUrl):"";t?DS.renderEngine.showPlayerPropertiesImagePreview({url:n,showStartButton:!0}):DS.renderEngine.killPlayerPropertiesImagePreview()},showLogoPreview:function(t){var e=DS.utils.resolveAssetUrl(DS.frameModel.sidebarOpts.html5_logo_url);t?DS.renderEngine.showPlayerPropertiesImagePreview({url:e,showStartButton:!1}):DS.renderEngine.killPlayerPropertiesImagePreview()}},y=function(t){u.postMessage(JSON.stringify(t),"*")},b=function(t,e){y({jsonrpc:"2.0",method:t,params:e})},w=function(){b("notifyPreview",t.toArray(arguments))},A=function(t,e){var n=document.getElementById(t);null==n&&((n=document.createElement("style")).id=t,document.body.appendChild(n)),n.innerText=e},S=function(t){window.globals.HAS_SLIDE||(n.trigger(i.slide.STARTED,"dummySlide",d.getFirstSlide(),s.refs.FRAME),n.trigger(i.navData.SELECT_FIRST_SLIDE_LINK),t?n.trigger(i.captions.SHOW_BUTTON):n.trigger(i.captions.HIDE_BUTTON))},E=function(t){var e,n,i=JSON.parse(t.data);try{e=i.id,n=m[i.method].apply(this,i.params),y({jsonrpc:"2.0",id:e,result:n})}catch(t){!function(t,e){y({jsonrpc:"2.0",id:t,error:{code:-1,message:e}})}(i.id,t.message)}};return{initialize:function(t,e,r){(c=r,e.isPreview())&&(null!=window.parent&&window.parent!==window?(h=t,d=e,u=window.parent,window.document.getElementById(s.els.PRESO).addEventListener("click",(function(){return w("PREVIEW_CLICKED")})),window.addEventListener("message",E),window.globals.HAS_SLIDE||S(DS.frameModel.frame.controlOptions.controls.closed_captions),n.on(i.preview.NOTIFY,w),w("PREVIEW_FRAME_READY")):p("initialize","Cannot load parent window"))}}}.apply(e,i))||(t.exports=r)},9904:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(7812);return{initialize:function(t){if(this.isInitialized=!0,t){var n=document.createElement("div");n.id="slide";var i=document.createElement("div");i.className="slide-container",n.appendChild(i),document.getElementById(e.els.PRESO).appendChild(n),DS.frame={createWindow:function(){return{el:n,captionEl:document.createElement("div"),id:e.refs.FRAME,x:function(){return 0},y:function(){return 0},getWinScale:function(){return DS.scaler.getScale()},onPinchZoom:function(){},getPinchZoomBounds:function(){}}}}}else{var r=this.getPreviewInfo(),o=r.totalWidth,s=r.totalHeight,a=this.getPreviewInfo(),l=a.slideWidth,u=a.slideHeight,c=a.slideDurationMs,h=a.text;DS.presentation={isPreview:function(){return!0},getFirstSlide:function(){return{props:{width:l,height:u},get:function(t){return this.props[t]},currentTimelineCompletedOnce:function(){return!1},currentTimeline:function(){return{on:function(){},off:function(){},progress:function(){return.5},timelineDuration:function(){return c},playbackState:function(){return"paused"},isPlaying:function(){return!1}}},on:function(){},off:function(){}}},updateTotalSize:function(t,e){o=t,s=e},display:function(){return{width:function(){return o},height:function(){return s},getWindowById:function(){}}},assetLib:function(){},slideMap:function(){}},DS.renderEngine={createMobileStartOverlay:function(){var t=this;if(!this.mobileStartContainer){var e=document.createElement("div");e.className="mobile-start-overlay shown",e.style="background: transparent;";var n=document.createElement("div");n.className="mobile-start-overlay-frame",n.style="\n              position: absolute;\n              width: 100%;\n              height: 100%;\n              background: #000000;\n              opacity: 1;\n            ";var i=document.createElement("div");i.className="mobile-start-overlay-thumbnail";var r=document.createElement("img");r.style="\n              max-height: 510px;\n              max-width: 760px;\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%);\n              display: none;\n            ";var o=document.createElement("button");o.id="mobile-start-button",o.tabIndex=0,o.style="\n              position: absolute;\n              width: 120px;\n              height: 120px;\n              left: calc(50% - 60px);\n            ",o.innerHTML='\n            <svg className="play-icon" width="125px" height="125px" viewBox="0 0 125 125" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <circle opacity="0.8" cx="62.5" cy="62.5" r="61.5" fill="black" stroke="white" stroke-width="2"/>\n              <path d="M51.8745 83.6249C52.6245 83.9999 53.3745 84.1249 54.1245 84.1249C54.9995 84.1249 55.9995 83.8749 56.7495 83.2499L81.9995 65.9999C83.2495 65.1249 83.9995 63.6249 83.9995 62.1249C83.9995 60.6249 83.2495 59.1249 81.8745 58.2499L56.6245 41.4999C55.1245 40.4999 53.3745 40.4999 51.7495 41.2499C50.2495 42.1249 49.2495 43.6249 49.2495 45.3749V79.3749C49.3745 81.2499 50.2495 82.8749 51.8745 83.6249Z" fill="white"/>\n            </svg>\n            ',i.appendChild(r),e.appendChild(n),e.appendChild(i),e.appendChild(o);var s=document.createElement("div");s.style="position: fixed; top: 21px; right: 21px; background: transparent; cursor: pointer;",s.innerHTML='\n              <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <circle cx="17.5" cy="17.5" r="17.5" fill="black"/>\n                <path d="M26 11.0252L24.9748 10L18 16.9748L11.025 10L10 11.0252L16.975 18L10 24.9748L11.025 26L18 19.0252L24.9748 26L26 24.9748L19.0254 18L26 11.0252Z" fill="white"/>\n              </svg>\n              ',s.addEventListener("click",(function(){return t.killPlayerPropertiesImagePreview()}));var a=document.createElement("div");a.setAttribute("id","mobile-start-container"),a.classList.add("fn-"+DS.frame.getDefaultLayout()),a.appendChild(e),a.appendChild(s);var l=document.getElementById("preso");l.parentNode.insertBefore(a,l.nextSibling),this.startButton=o,this.previewImage=r,this.mobileStartContainer=a}},showPlayerPropertiesImagePreview:function(t){this.createMobileStartOverlay(),this.previewImage.src=t.url,this.previewImage.style.display="block",this.startButton.style.display=t.showStartButton?"block":"none",this.mobileStartContainer.style.display="block"},killPlayerPropertiesImagePreview:function(){this.mobileStartContainer&&(this.previewImage.style.display="none",this.startButton.style.display="none",this.mobileStartContainer.style.display="none")},createWindowFor:function(){var t=document.getElementById("slide");t.className="placeholder";var e=document.createElement("div");return e.className="placeholder-text",e.style.fontSize="8vw",e.innerText=h,t.appendChild(e),t}}}},getPreviewInfo:function(){return{slideWidth:this.getPreviewInfoParameter("slideWidth",720,parseInt),slideHeight:this.getPreviewInfoParameter("slideHeight",540,parseInt),totalWidth:this.getPreviewInfoParameter("totalWidth",980,parseInt),totalHeight:this.getPreviewInfoParameter("totalHeight",658,parseInt),slideDurationMs:this.getPreviewInfoParameter("slideDurationMs",5e3,parseInt),text:this.getPreviewInfoParameter("text","SLIDE")}},getPreviewInfoParameter:function(t,e,n){if(null!=window.globals.parsedParams){var i=window.globals.parsedParams[t];return null==i?e:null==n?i:n(i)}return e}}}.call(e,n,e,t))||(t.exports=i)},9032:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(1458);return n(6138).extend({},e.Events)}.call(e,n,e,t))||(t.exports=i)},6882:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(7510),r=i.addDocumentListener,o=i.removeDocumentListener,s="allowTheChangeEventToPropagate",a=function(t,n){var i=document.createEvent("Event");i.initEvent("change",!0,!0),e.defaults(i,n),Object.defineProperty(i,s,{value:!0}),t.dispatchEvent(i),o("mouseup",t.fireChangeEvent)};return{patchEvents:function(){r("change",(function(t){var n,i;t[s]||"range"!==t.target.getAttribute("type")||(t.stopPropagation(),(n=document.createEvent("Event")).initEvent("input",!0,!0),e.defaults(n,t),t.target.dispatchEvent(n),o("mouseup",t.target.fireChangeEvent),i=e.partial(a,t.target),t.target.fireChangeEvent=i,r("mouseup",i))}),!0)}}}.call(e,n,e,t))||(t.exports=i)},3005:function(t,e,n){"use strict";var i;void 0===(i=function(t){for(var e=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[n[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[i]+"CancelAnimationFrame"]||window[n[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),o=window.setTimeout((function(){t(i+r)}),r);return e=i+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}.call(e,n,e,t))||(t.exports=i)},118:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(8939),r=n(7812),o=/^RAND/,s=function(t){return o.test(t)},a={};a.string=a.object=a.boolean=function(t){return t},a.num=a.number=function(t){return s(t)?t:parseFloat(t)},a.var=a.variable=function(t,n){var i=e.identity,r=this.resolvePath(t,n,{optional:!0});return null!=r&&("number"===r.type()&&(i=parseFloat),r=i(r.value())),r},a.property=function(t,e){return this.resolvePath(t,e,{optional:!0})},a.drawid=function(t,e){return this.resolvePath(t,e,{optional:!0})},a.param=function(t,e,n){return this.getRef(n.params[t],e,n)},a.valueref=function(t,n,i){return this.getRef(e.findWhere(i.iterables,{name:t}),n,i)},a.actparam=function(t,e,n){return n[t]},a.default=function(t,e){return this.getRef(t,e)};var l,u=i.throwError("resolver"),c=u("resolvePath"),h=u("getRef"),d=u("findReference"),p=/\$/,f=/\#/,v=/\$/g,g=/\#/g,m=/^\$/,y=/^\#/,b=new RegExp("^"+r.refs.PLAYER),w=function(t){return t.replace(p,"")},A=function(t){return t.replace(f,"")},S=function(t){return p.test(t)},E=function(t){return t.split(r.PATH_DELIMITER)},x=function(t,n){var i;return e.find(t.resolveables,(function(r){var o=t.get(r);return!!o&&(!(i=o.isCollection?o.get(n):o.id===n?o:o[n])&&function(t,n){return e.has(n.resolvers,t)}(r,t)&&(i=t.resolvers[r].call(t,n,o)),i)}),t),i},T=function(t,e){var n,i,r="$"===e?v:g;return i=e+(n=t.replace(r,"").split(".")).pop(),n.push(i),n.join(".")},_=e.partialRight(T,"$"),C=e.partialRight(T,"#"),k={initialize:function(){l=DS.presentation},getPresentationContext:function(){return DS.presentation},getSlideBankSlideInstance:function(t){var e=null;return l.scenes().some((function(n){return n.slidedraws().some((function(n){return n.slides().some((function(n){return n.id===t&&(e=n),null!=e})),null!=e})),null!=e})),e},resolvePath:function(t,n,i){if(t)return null==l&&null!=DS.presentation&&this.initialize(DS.presentation),!function(t){return y.test(t)&&-1!==t.indexOf(".")}(t)?function(t){return m.test(t)&&-1!==t.indexOf(".")}(t)&&(t=_(t)):t=C(t),i=i||{},n&&e.isPlainObject(n)&&(i=n,n=void 0),this.resolvePathArray(E(t),n,i);c("Must provide a path to resolve")},resolvePathArray:function(t,n,i){var o=t.shift();switch(o){case r.refs.PLAYER:n=l;break;case r.refs.PLAYER_VARS:n=l.playerVars();break;case r.refs.PARENT:n=n.getClosestParentRef();break;case r.refs.CHILDREN:n=n.getChildren();break;case r.refs.SELF:n=n.getClosestThisRef();break;case r.refs.CURRENT_SLIDE:n=this.resolvePath(l.prop("CurrentSlideId"),l);break;default:n=k.findReference(o,n)}return null==n?i.optional?void 0:void c("Path did not resolve at:",o):t.length?e.isArray(n)?e(n).map((function(e){var n=t.slice();return k.resolvePathArray(n,e,{optional:!0})})).compact().value():k.resolvePathArray(t,n,i):n},findReference:function(t,e){if(t){var n,i,r;if(e)return e.isCollection&&e.get(t)?e.get(t):S(t)?e.prop(w(t)):(r=t,f.test(r)?(i=A(t),e.getVariableProp&&(n=e.getVariableProp(i))?n.value():e.variables().get(A(t))):e.isModel||null==e[t]?x(e,t)||(e.id===t?e:function(t,e){return t.prop&&t.hasOwnPlayerProp(w(e))}(e,t)?e.prop(t):void 0):e[t]);d("Context must be defined.")}else d("Cannot find a reference with no ID")},getRef:function(t,e,n){if(t){if(t.type)return(a[t.type]||a.default).call(this,t.value,e,n);h("Type is undefined for the provided reference")}else h("No reference passed in")}};return k.normalizePropRef=w,k.isPropRef=S,k.splitPath=E,k.joinPath=function(t){return t.join(r.PATH_DELIMITER)},k.isRelativePath=function(t){return!b.test(t)},k.isRandomToken=s,k.resolveAbsolutePathWithFilter=function(t,n){var i,r;return t=t.split("."),i=e.first(t.splice(0,1)),t.some((function(t){return i+="."+t,r=k.resolvePath(i),n(r)}))?r:null},k}.call(e,n,e,t))||(t.exports=i)},6159:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(4698),r="abcdefghijklmnopqrstuvwxyz",o=e.union(e.range(10).map((function(t){return t.toString()})),r.split(""),r.toUpperCase().split(""),"_$".split("")),s=/([^a-zA-Z0-9_$])/,a=i.extend({shorthand:["encodedLength","strLength","fullString","encodedString","strVal","remainder"],initialize:function(t){var e,n=1,i=0;"~"===this.fullString().charAt(0)&&(i=2,n=parseInt(this.fullString().charAt(1))),e=i+n,this.encodedLength(this.fullString().slice(i,e)),this.strLength(parseInt(a.fromUnsignedString64(this.encodedLength()))),this.encodedString(this.fullString().slice(e,e+this.strLength())),this.remainder(this.fullString().slice(e+this.strLength()))},getDecodedValue:function(t){var e=this.encodedString();return s.test(e)||(e=a[t](e)),e},reChunk:function(){return new a({fullString:this.remainder()})}}),l=a.prototype;return l.getSignedValue=e.partial(l.getDecodedValue,"fromSignedString64"),l.getUnsignedValue=e.partial(l.getDecodedValue,"fromUnsignedString64"),a.EMPTY_CHUNK=0,a.create=function(t){null==t&&(t="");var e="",n=t.toString().length,i=a.toUnsignedString64(n);return n>63&&(e+="~"+i.length),e+=i+t},a.packData=function(t){return[a.create(a.toUnsignedString64(t.length)),t].join("")},a.toUnsignedString64=function(t,n,i){var r="",s=!0,l=t;for(i=i||a.EMPTY_CHUNK;l>0||s;)s=!1,r+=o[63&l],l>>=6;return r+=e.times(n-r.length,e.partial(e.identity,i)).join("")},a.toSignedString64=function(t,e){var n,i=t,r=t<0,o=1,s=0;for(e=e||-1;Math.pow(64,o)/2<=Math.abs(t);)o++;if(n=Math.max(e,o),r){for(;-t>=Math.pow(64,s)/2;)s++;i=Math.pow(64,s)+t}return a.toUnsignedString64(i,n,r?"$":"0")},a.toSignedFloatString64=function(t,n){if(t%1==0||e.isNaN(t))return a.toSignedString64(t,n);var i,r=Math.min(3,(i=t,Math.floor(i)===i?0:i.toString().split(".")[1].length||0)),o=Math.trunc(t*Math.pow(10,r));return a.toSignedString64(o)+"-"+r.toString()},a.fromUnsignedString64=function(t){return t.toString().split("").reduce((function(t,e,n){return t+=function(t){return o.indexOf(t)}(e)<<6*n}),0)},a.fromSignedString64=function(t){var e=a.fromUnsignedString64(t.toString()),n=Math.pow(64,t.length)/2;return e>=n&&(e-=2*n),e},a.fromSignedFloatString64=function(t){if(!t.includes("-"))return a.fromSignedString64(t);var e=t.split("-");return a.fromSignedString64(e[0])/Math.pow(10,Number(e[1]))},a}.call(e,n,e,t))||(t.exports=i)},9005:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r=n(6138),o=n(82),s=n(4811),a=n(6159),l={initialize:function(){var t,e,n={},i=window.vRestoreStateData;if(this.hasData=!r.isEmpty(i),this.hasData){for(t=new a({fullString:i}),this.resumeData=t.encodedString(),t=t.reChunk(),e=(t=new a({fullString:t.encodedString()})).encodedString();e.length>0;)t=t.reChunk(),n[e]=t.encodedString(),e=(t=t.reChunk()).encodedString();this.slideStateData=n}},setResumer:function(t){e=t},setWindowManager:function(t){i=t},getSlideStateData:function(t){if(this.hasData)return this.slideStateData[o.stripPlayer(t)]},clearSlideStateData:function(t){this.slideStateData[o.stripPlayer(t)]=null},getState:function(){return r.map([a.packData(e.collectResumeData()),this.getActiveSlideStates()],a.create).join("")},shouldShimLMS:function(){return window.autoSpider},getLMSShim:function(){return{getItem:function(){var t=s.Deferred();return t.resolve(),t.promise()},setItem:r.noop,setResumer:r.noop}},getActiveSlideStates:function(){return i.windows.map((function(t){var e=t.getCurrentSlide();return null==e?"":(e.prepareResumeData({retainState:!0,force:!0,skipPostBuild:!0}),r.map([o.stripPlayer(e.absoluteId),e.getResumeData()],a.create).join(""))})).join("")}};return l.initialize(),l}.call(e,n,e,t))||(t.exports=i)},9013:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(4811),r="path=/",o=function(t){return t.split("=")},s=function(t){return t[0]},a={setCookie:function(t,e){var n=[t,e].join("=");return document.cookie=[n,["expires",new Date(Date.now()+31536e7).toGMTString()].join("="),r].join("; "),this},getCookies:function(t){return document.cookie.split("; ").map(o).filter((function(e){return 0===e[0].indexOf(t)}))},getItem:function(t){var n=i.Deferred(),r=e(this.getCookies(t)).sortBy(s).reduce((function(t,e){return t+e[1]}),"");return n.resolve(r),n.promise()},setItem:function(t,e){for(var n,i,r=0;e.length>0;)i=[t,r++].join("_"),n=e.slice(0,4048),this.setCookie(i,n),e=e.slice(4048);return this}},l={getItem:function(t){var e=i.Deferred(),n=window.localStorage.getItem(t);return e.resolve(n),e.promise()},setItem:function(t,e){var n;try{n=window.localStorage.setItem(t,e)}catch(t){console.warn(t)}return n}},u={setResumer:e.noop};return{hasStorage:function(){try{return null!=window.vInterfaceObject||!e.isUndefined(window.localStorage)}catch(t){return!1}},getStorage:function(){return e.extend(u,this.hasStorage()?l:a)}}}.call(e,n,e,t))||(t.exports=i)},4427:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r,o,s=n(6138),a=n(9229),l=n(8880),u=n(9032),c=n(4170),h=n(1809),d=n(5053),p=n(9013),f=n(6159),v=n(4811),g=n(8939),m=n(8579),y=n(9005),b=n(7235),w=(g.warn("resumer"),function(t){return t.match(/.{2}/g)}),A=function(t){return t.getViewGroupId()},S={viewedSlides:[],totalViewedSlides:[],viewedActionLinks:{},courseStartTime:!1,hasOverlay:!1,initialize:function(t,n){return s.bindAll(this,"savePresentationData"),e=t,i=t.resume()||{},this.resumeDfd=v.Deferred(),this.hasOverlay=n,this.resumeDfd.catch(function(){this.setViewedSlidesFromString("")}.bind(this)),y.setResumer(this),this.setProperLms(),u.on(l.player.CLOSING,this.closePlayer.bind(this)),this.isResumable()?this.informExternals().setListeners().createSceneResumeArray().setResumeDataCallback().initResumeData():(this.lmsDfd=v.Deferred().resolve().promise(),this.setListeners().checkAndReject()),this.resumeDfd.promise()},isResumable:function(){return!!o},setProperLms:function(){var t=e.get("scoring"),n=e.scorings()||[],r=e.get("courseId");return this.hasLms=!0,0===n.length&&null!=t&&n.push(t),n.length>0?window.globals.tinCanPresent||m.env.isRise?o=c.initialize(r,e.get("tincanVersion"),n,e,m.env.isRise):window.globals.aoSupport?o=h.initialize(r,n.first()):window.globals.lmsPresent?(o=d.initialize(r,n,window.globals.cmi5Present),this.hasLms=this.isResumable()):!0===i.flashresume?(this.hasLms=!1,o=p.getStorage()):y.shouldShimLMS()?(this.hasLms=!1,o=y.getLMSShim()):this.hasLms=!1:this.hasLms=!1,m.env.isWebObject&&null!=o&&(o=b.getResumer(o)),null==o||!this.hasLms||i.lmsresume&&!m.env.isRise||this.neverResumeLms(o),this},neverResumeLms:function(t){t.setItem=s.noop,t.getItem=function(){var t=v.Deferred();return t.resolve(),t.promise()}},informExternals:function(){return o.setResumer(this),this},setListeners:function(){var t={};return t[l.slide.VIEWED]=this.slideViewed.bind(this),t[l.slideWindow.CLEAR_HISTORY]=this.clearResumeData.bind(this),t[l.actionlink.EVENT]=this.onActionLink.bind(this),this.hasLms&&(t[l.interaction.EVALUATED]=this.onInteractionEvaluated,t[l.quiz.COMPLETED]=o.quizComplete.bind(o),t[l.course.COMPLETED]=o.courseComplete.bind(o),t[l.course.MANUALLY_COMPLETED]=o.manualCourseComplete.bind(o),t[l.course.VIEWED]=o.viewedComplete.bind(o),t[l.status.UPDATED]=o.reportStatus.bind(o),s.isFunction(o.quizRetried)&&(t[l.quiz.RETRIED]=o.quizRetried.bind(o))),u.on(t),this},onInteractionEvaluated:function(t,n){var i=e.scorings();(t.hasScoring()||i.length>0&&i.hasQuiz(t))&&o.interactionAnswered(t,n)},closePlayer:function(){e.isPreview()?u.trigger(l.preview.NOTIFY,"PREVIEW_CLOSE_WND"):null!=o&&s.isFunction(o.lmsUnload)?o.lmsUnload(!0):window.top.window.open("","_self","").close()},setWindowManager:function(t){r=t,y.setWindowManager(t),null!=this.lmsDfd&&this.lmsDfd.then(this.checkQuickResume.bind(this))},createSceneResumeArray:function(){return this.sceneResume=e.scenes().map((function(t,e){return f.EMPTY_CHUNK})),this},callForLightboxClose:function(){return u.trigger(l.window.CLOSING,i.window),this},resolveDeferred:function(){return this.resumeDfd.resolve(),u.trigger(l.resume.SET_DATA,this.totalViewedSlides,Object.keys(this.viewedActionLinks)),this},rejectDeferred:function(){return this.resumeDfd.reject(),u.trigger(l.resume.SET_DATA),this},check:function(t){(this.hasOverlay||m.theme.isClassic||!m.deviceView.isDesktop||this.mobileStartAsPrompt)&&(this.hasOverlay||m.deviceView.isPhone&&m.env.isDevicePreview||m.device.isMobile||!m.theme.isClassic&&!e.isPreview())?((m.deviceView.isMobile||m.theme.isUnified)&&DS.renderEngine.createMobileStartOverlay(),a.getAppCompletePromise().then(function(){var e=m.deviceView.isClassicDesktop?t:{rejectDeferred:t,mobileStartAsPrompt:this.mobileStartAsPrompt};u.trigger(l.request.START,e)}.bind(this))):t()},initResumeData:function(){this.lmsDfd=o.getItem(i.id).then(function(t){var e=!1;y.hasData&&(t=y.resumeData),null!=t&&t.length&&(e=this.processResumeData(t)),e?i.prompt&&!m.theme.isClassic?(this.mobileStartAsPrompt=!0,this.checkAndResolve()):this.checkApplyResumeData():this.checkAndReject()}.bind(this))},processResumeData:function(t){var e=!1,n=new f({fullString:t});return!function(t){return t.remainder().length===t.getUnsignedValue()}(n)?g.warn("processResumeData","the data is the incorrect length, resume not attempted"):(this.resumeData=n.reChunk(),e=!0),e},checkApplyResumeData:function(){return i.prompt&&!y.hasData&&a.getAppCompletePromise().then((function(){u.trigger(l.request.NEXT_SLIDE,i.slideId,i.window)})),this},checkQuickResume:function(){null==this.resumeData||i.prompt&&!y.hasData||this.checkAndResolve()},applyResumeData:function(t){var e=t?"resolveDeferred":"rejectDeferred";this.callForLightboxClose(),this[e]()},slideViewed:function(t){t.get("trackViews")&&(this.addSlideToViewedList(t),this.hasLms&&o.slideViewed(t))},onActionLink:function(t){var n=s.findIndex(e.get("actionlinks"),{id:t});-1!==n&&(this.viewedActionLinks[t]=n)},addSlideToViewedList:function(t){this.viewedSlides.push(t),this.viewedSlides=s.uniq(this.viewedSlides),this.totalViewedSlides.push.apply(this.totalViewedSlides,this.viewedSlides),this.totalViewedSlides=s.uniq(this.totalViewedSlides)},getViewedSlidesString:function(){return this.totalViewedSlides.reduce((function(t,e){return t+f.toUnsignedString64(e.prop("Index")+1,2)}),"")},setViewedSlidesFromString:function(t){if(t.length){var n=e.getFlatSlides(),i=e.get("scoring"),r=e.scorings();0===r.length&&null!=i&&r.push(i),this.totalViewedSlides=s(w(t)).map(f.fromUnsignedString64).map(function(t){var e=s.find(n,(function(e){return e.prop("Index")===t-1}));return null!=e&&(r.incrementViewed(e),e.restoreViewed()),e}.bind(this)).compact().value()}this.hasLms&&e.getDrawPromise().then((function(){o.setTotalSlides(e.getUniqueSlides().length)}))},getUniqueSlides:function(t){return s.uniq(this[t],A)},getViewedActionLinksString:function(){return s.reduce(this.viewedActionLinks,(function(t,e){return t+f.toUnsignedString64(e,2)}),"")},setViewedActionLinksFromString:function(t){if(t.length>0){var n=e.get("actionlinks");null!=n&&(this.viewedActionLinks=w(t).map(f.fromUnsignedString64).reduce((function(t,e){var i=n[e];return null!=i&&(t[i.id]=e),t}),{}))}},collectResumeData:function(){return[f.create(this.getViewedSlidesString()),f.create(r.getResumeData()),e.variables().length>0?f.create(e.variables().getResumeDataOrReturn("")):"",this.sceneResume.join(""),e.quizzes().getResumeData(),e.timers().length>0?e.timers().getResumeData():"",f.create(this.getViewedActionLinksString())].join("")},savePresentationData:function(t){if(!this.isResumable()||v.isPending(this.resumeDfd))return this;var e=r.getCurrentWindowSlide();this.saveSceneData(t),null!=e&&(this.resumeData=this.collectResumeData(),o.setItem(i.id,f.packData(this.resumeData)))},saveSceneData:function(t){null!=t&&(this.sceneResume[t.index()]=f.create(t.getResumeData()))},setResumeDataCallback:function(){return this.resumeDfd.then(this.setResumeData.bind(this)).catch(s.noop),this},setResumeData:function(){var t,n,i,o=this.resumeData.encodedString(),s=e.variables().length>0,a=this.resumeData.reChunk(),l=s?a.reChunk():null,u=s?l.reChunk():a.reChunk();s&&e.variables().setResumeData(l.encodedString()),t=this.setSceneResumeData(u),e.createSlideIndices(),this.setViewedSlidesFromString(o),n=e.quizzes().setResumeData(t),e.timers().length>0&&e.timers().setResumeData(n),i=n,this.setViewedActionLinksFromString(i.encodedString()),r.setResumeData(a.encodedString())},setSceneResumeData:function(t){return this.sceneResume=e.scenes().map((function(e){var n=t.encodedString();return e.setResumeData(n),t=t.reChunk(),f.create(n)})),t},courseStarted:function(t){this.courseStartTime=Date.now(),this.hasLms&&o.courseStarted(t)},getCourseTime:function(){return Date.now()-this.courseStartTime},clearResumeData:function(){e.scenes().forEach((function(t){t.clearResumeData()})),e.getUniqueSlides().forEach((function(t){t.clearResumeData()})),r.setResumeData(""),this.viewedSlides=[],this.totalViewedSlides=[],this.isResumable()&&o.setItem(i.id,"")}};return S.getUniqueViewedSlides=s.partial(S.getUniqueSlides,"viewedSlides"),S.getUniqueTotalSlides=s.partial(S.getUniqueSlides,"totalViewedSlides"),S.checkAndReject=s.partial(S.check,S.rejectDeferred.bind(S)),S.checkAndResolve=s.partial(S.check,S.resolveDeferred.bind(S)),S}.call(e,n,e,t))||(t.exports=i)},4481:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(7510).addWindowListener,r=n(1070),o=n(82),s=n(8579),a=n(8880),l=n(9032),u={scaleValue:1,zoomMode:!1,zoomVar:null,enableZoomMode:function(t){this.zoomMode=t,null!=this.zoomVar&&this.zoomVar.value()!==t?this.zoomVar.changeValue(t):l.trigger(a.window.ZOOM_MODE_CHANGED)},setZoomModeVariable:function(t){this.enableZoomMode(t.value())},initialize:function(t){e.bindAll(this,"scale","sendWindowScale","setZoomModeVariable"),this.isShowAll()&&!s.deviceView.isClassicMobile?this.startScaling():i("resize",this.sendWindowScale)},connectVariables:function(t){if(null!=t){this.zoomVar=t;var e=this.zoomVar.value();e&&this.enableZoomMode(e),this.zoomVar.on("change:value",this.setZoomModeVariable)}},isShowAll:function(){return"show all"===window.globals.scale},sendWindowScale:function(){l.trigger(a.window.SCALE),l.trigger(a.window.AFTER_SCALE)},setWindowScale:function(t){this.windowScale=t},getWindowScale:function(t){return this.windowScale},startScaling:function(){this.scale(),i("resize",this.scale)},getScaledFontSize:function(){return r.player.getFontScale()*this.getScale()},queueScale:function(){this.pending||(this.pending=!0,window.requestAnimationFrame(this.scale))},scale:function(){this.scaleValue=this.calcScale(),this.sendWindowScale(),this.pending=!1},calcScale:function(){var t=this.getWindowDimensions(),e=t.height,n=t.width,i=e/r.presentation.display().height(),s=n/r.presentation.display().width();return o.fix(Math.min(i,s),5)},getWindowDimensions:function(){return{height:window.innerHeight,width:window.innerWidth}},getScale:function(){return this.scaleValue}};return o.scaleVal=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t*u.getScale();return e?Math.round(n):n},u}.call(e,n,e,t))||(t.exports=i)},1291:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(7510).addDocumentListener,r=n(1251).isInput,o=n(4481),s=(n(1419),n(3716)),a=n(8579),l=n(8766),u=n(9032),c=n(8880),h=n(9229),d=n(7812),p=[],f=void 0,v=void 0;return{enabled:!0,initialize:function(t){var n=this;v=t||function(t){return t},e.bindAll(this,"onTimelineChanged"),a.deviceView.isUnifiedDesktop&&!DS.presentation.isPreview()&&this.registerShortcut(v("togglezoom"),{key:"z",ctrl:!0,alt:!0},(function(){o.enableZoomMode(!o.zoomMode)})),a.deviceView.isDesktop&&(u.on(c.playbackControls.TIMELINE_CHANGED,this.onTimelineChanged),this.registerShortcut(v("acctext_shortcut"),{key:"t",ctrl:!0,alt:!0},(function(){h.onToggleAccessibleText()})),this.registerShortcut(v("mute_shortcut"),{key:"m",ctrl:!0,alt:!0},(function(){h.onToggleVolume()})),this.registerShortcut(v("closedcaptions_shortcut"),{key:"c",ctrl:!0,alt:!0},(function(){l.toggleCaptioning()})),this.registerShortcut(v("replay_shortcut"),{key:"r",ctrl:!0,alt:!0},(function(){n.currTimeline.reset()})),this.registerShortcut(v("playpause_shortcut"),{key:"p",ctrl:!0,alt:!0},(function(){null!=n.currTimeline&&(1!==n.currTimeline.progress()?n.currTimeline.togglePlayback():a.theme.isUnified&&n.currTimeline.reset())})),this.registerShortcut(v("previous_shortcut"),{key:",",keyCode:188,ctrl:!0,alt:!0},(function(){n.onControlButtonShortcut("prev")})),this.registerShortcut(v("next_shortcut"),{key:".",keyCode:190,ctrl:!0,alt:!0},(function(){n.onControlButtonShortcut("next")})),this.registerShortcut(v("submit_shortcut"),{key:"s",ctrl:!0,alt:!0},(function(){n.onControlButtonShortcut("submit")})))},onControlButtonShortcut:function(t){var e=DS.views.getTopNameSpace()[t];e&&e.shortcutActivated()},onTimelineChanged:function(t){this.currTimeline=t},closeShortcutWindow:function(){null!=f&&(f.close(),f=null)},registerShortcut:function(t,e,n){var r=this;this.listenerAdded||(this.listenerAdded=!0,i("keydown",(function(t){return r.onKeyDown(t)})),this.registerShortcut(v("shortcuthelp"),{key:"?",shift:!0},(function(){null==f?f=DS.frame.createWindow("ShortcutWnd"):r.closeShortcutWindow()}))),p.push({name:t,keyInfo:e,cb:n})},enableShortcuts:function(t){this.enabled=t,u.trigger(DS.events.player.ENABLE_KEYBOARD_SHORTCUTS,t)},onKeyDown:function(t){var e=t.ctrlKey,n=t.shiftKey,i=t.altKey,o=t.key,a=t.keyCode;if(!(r(document.activeElement)||s.keyPressHandlerExists(t)||!this.enabled&&"?"!==o)){var l=p.find((function(t){var r=t.keyInfo,s=r.key,l=r.keyCode,u=void 0===l?0:l,c=r.ctrl,h=void 0!==c&&c,d=r.shift,p=void 0!==d&&d,f=r.alt;return h===e&&p===n&&(void 0!==f&&f)===i&&(s.toLowerCase()===o.toLowerCase()||u===a)}));l&&l.cb(),a==d.keys.F5&&t.preventDefault()}},getShortcutList:function(){return[].concat(p)}}}.call(e,n,e,t))||(t.exports=i)},8935:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(8880),r=n(7812),o=n(9032),s=n(82),a=void 0,l=void 0,u={slides:{},scenes:{}},c=function(t){var e=t.viewed,n=t.total;return 0===n?"":(100*e/n).toFixed(0)+"%"},h=r.varTypes,d=h.NUM,p=h.STRING,f=[{name:"menuSlidesViewed",update:function(t){return t.menu.viewed},type:d},{name:"menuTotalSlides",update:function(t){return t.menu.total},type:d},{name:"menuProgress",update:function(t){var e=t.menu;return c(e)},type:d},{name:"menuSectionSlidesViewed",update:function(t,e,n){var i=t.section;return(0,n.menuInclude)(i.viewed)},type:d},{name:"menuSectionTotalSlides",update:function(t,e,n){var i=t.section;return(0,n.menuInclude)(i.total)},type:d},{name:"menuSectionProgress",update:function(t,e,n){var i=t.section;return(0,n.menuInclude)(c(i))},type:d},{name:"projectSlidesViewed",update:function(t){return t.project.viewed},type:d},{name:"projectTotalSlides",update:function(t){return t.project.total},type:d},{name:"projectProgress",update:function(t){var e=t.project;return c(e)},type:d},{name:"sceneSlidesViewed",update:function(t){return t.scene.viewed},type:d},{name:"sceneTotalSlides",update:function(t){return t.scene.total},type:d},{name:"sceneProgress",update:function(t){var e=t.scene;return c(e)},type:d},{name:"menuSectionsViewed",update:function(t){return t.viewedSectionCount},type:d},{name:"projectScenesViewed",update:function(t){return t.viewedSceneCount},type:d},{name:"menuSlideNumber",update:function(t,e,n){var i=e.menuSlideNumber;return(0,n.menuCountInclude)(i)},type:d},{name:"menuSlideTitle",update:function(t,e){return e.menuSlideTitle},type:p},{name:"menuSlideReference",update:function(t,e){return e.menuSlideReference},type:p},{name:"menuSectionNumber",update:function(t,e,n){var i=e.menuSection;return(0,n.menuInclude)(i)},type:d},{name:"menuSectionSlideNumber",update:function(t,e,n){var i=e.menuSectionSlideNumber;return(0,n.menuCountInclude)(i)},type:d},{name:"menuTotalSections",update:function(){return u.menuTotalSections},type:d},{name:"projectSlideNumber",update:function(t,e,n){var i=e.slideNumberInProject;return(0,n.projectInclude)(i)},type:d},{name:"projectSlideTitle",update:function(t,e){return e.slide.title()},type:p},{name:"projectSlideReference",update:function(t,e,n){var i=e.slideNumberInScene;return n.sceneNumber+"."+i},type:p},{name:"projectTotalScenes",update:function(){return u.sceneCount},type:d},{name:"projectSceneNumber",update:function(t,e,n){var i=n.sceneNumber;return 0===i?"":i},type:d},{name:"sceneSlideNumber",update:function(t,e,n){var i=e.slideNumberInScene;return(0,n.projectInclude)(i)},type:d}],v=function(){var t=l.getCurrentWindowSlide();if(null!=t){var n=t.getScene();if(!n.isMessageScene()){var r=u.slides[t.absoluteId],s=a.variables(),c=function(t){var n=t.getScene(),i=u.slides[t.absoluteId].menuSection,r=new Set,o=new Set,s={total:0,viewed:0},a={total:0,viewed:0},l={total:0,viewed:0},c={total:0,viewed:0};return e.forEach(u.slides,(function(t){var e=t.slide.viewed;t.slide.includeInSlideCounts()&&(s.total++,e&&(s.viewed++,r.add(t.scene)),t.scene===n&&(a.total++,e&&a.viewed++)),null!=t.menuSection&&t.slide.includeInSlideCounts()&&(l.total++,e&&(l.viewed++,o.add(t.menuSection)),t.menuSection===i&&(c.total++,e&&c.viewed++))})),{viewedSceneCount:r.size,viewedSectionCount:o.size,project:s,scene:a,menu:l,section:c}}(t),h={sceneNumber:n.sceneNumber(),menuInclude:null!=r.menuSection?function(t){return t}:function(t){return""},projectInclude:t.includeInSlideCounts()?function(t){return t}:function(t){return""},menuCountInclude:null!==r.menuSection&&t.includeInSlideCounts()?function(t){return t}:function(t){return""}};f.forEach((function(t){var e=t.name,n=t.update;return s.get(e).value(n(c,r,h))})),o.trigger(i.slide.SLIDE_NUMBERS_UPDATED)}}},g=function(t,n){var i=0,r=0;u.slides={};var o=function(t,e){var n=function(t){var e=t.getSlideDraw();return null!=e?e.slideNumberInScene()+t.index():t.slideNumberInScene()};return n(t)-n(e)};t.scenes().forEach((function(t){if(!t.isMessageScene()){var e=0;t.getAllSlides().sort(o).forEach((function(n){u.slides[n.absoluteId]={slideNumberInProject:n.includeInSlideCounts()?++i:0,slideNumberInScene:n.includeInSlideCounts()?++e:0,slide:n,scene:t},u.scenes[t.absoluteId]={slideCount:e}})),0!==t.sceneNumber()&&r++}})),u.sceneCount=r;var a=0,l=function t(n,i,r,o,l){var c=u.slides[n.slideid];return null!=c&&(c.menuSlideNumber=c.slide.includeInSlideCounts()?++a:0,c.menuSlideTitle=s.decodeHtml(n.displaytext),c.menuSlideReference=o,c.menuSectionSlideNumber=c.slide.includeInSlideCounts()?r++:0,c.menuSection=l),e.forEach(n.links,(function(e,n){r=t(e,i+1,r,o+"."+(n+1),l)})),r},c=0;(n||[]).forEach((function(t,e){l(t,1,1,c=e+1,c)})),u.menuTotalSections=c};return{initialize:function(t,e,n){a=e.playerVars(),l=t,g(e,n),o.on(i.slide.HAS_MOUNTED,v),o.on(i.window.CLOSING,v),o.on(i.draw.RESET_COMPLETE,(function(){return g(e,n)}))},getPlayerVariables:function(){return f.map((function(t){var e=t.name,n=t.type;return function(t,e,n){return{kind:"variable",name:t,type:e,value:n,resume:!1}}(e,n,n===d?0:"")}))}}}.call(e,n,e,t))||(t.exports=i)},2972:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(82),r=n(1251),o=n(8579),s=e.partialRight(r.hasClass,"draggable"),a=e.partialRight(r.hasClass,"hidden"),l=e.partialRight(r.hasClass,"rotatable"),u=e.partialRight(r.hasClass,"slideable-parent"),c=function(t){return r.hasClass(t,"is-scrollable")||r.hasClass(t,"scrollarea-scrollbar")},h=function(t){return r.hasClass(t,"three-sixty-image")},d=function(t,e){return!!e(t)||!!r.closest(t,e)},p=function(t){return t.scrollHeight>t.offsetHeight||r.hasClass(t,"scrollarea-scrollbar")},f=function(t){return t.hasAttribute("data-double-click")},v=e.partialRight(d,(function(t){return c(t)&&p(t)})),g=e.partialRight(d,(function(t){return l(t)})),m=e.partialRight(d,(function(t){return a(t)})),y=e.partialRight(d,(function(t){return s(t)})),b=e.partialRight(d,(function(t){return u(t)})),w=function(t){return r.hasClass(t,"eventable")},A=e.partialRight(d,(function(t){return w(t)})),S=function(t,e){var n,i;return t.objects().forEach((function(t,r){var o,s=null!=e?e.refs["obj"+r]:t.currView,a=s&&s.getFocusTarget();null!=a&&(o=a.props.model.prop("tabIndex"),a.isFocusable()&&a.isVisible()&&(null==i||i>o)&&(i=o,n=s))})),n};return{isRelated:d,needsToScroll:p,isScrollable:c,isScrollRelated:function(t){return c(t)?p(t):v(t)},isDraggable:s,isDraggableRelated:y,isEventable:w,isEventableRelated:A,isRotatable:l,isRotatableRelated:g,isSlideableRelated:b,isDoubleClickRelated:function(t){return f(t)||d(t,f)},activeMobileMenuItem:function(t,e){o.deviceView.isClassicMobile&&(0===i.getPath(t,"length",0)?document.body.classList.add(e):document.body.classList.remove(e))},isThreeSixtyImageRelated:function(t){return d(t,h)},isMobileSlide:function(t){return o.deviceView.isMobile&&!t.props.isMessageWindow},getGroupFocusTarget:function(t){var e=t.props.parent;if(!o.deviceView.isMobile)return e.isFocusable()?e:S(t.props.model,t)},removeEngageBorder:function(){var t=r.getParentFrame();null!=t&&t.classList.remove("webobject-engage")},getChildAtLowestTabIndex:S,isHiddenRelated:m}}.call(e,n,e,t))||(t.exports=i)},9995:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(520),i=n(7812),r=n(6138),o=n(4481),s=n(9032),a=n(8579),l=a.device.isMobile,u=a.theme.isUnified,c=document.createElement("div"),h=function(t,e){return'<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8" /> <link rel="stylesheet" href="html5/lib/stylesheets/'+(l?"mobile":"desktop")+'.min.css" /> <link rel="stylesheet" href="html5/data/css/output.min.css" /> <style>* { margin: 0; padding: 0; pointer-events: none !important; } .slide-thumb { position: absolute; left: 0; top: 0; width: '+t+"px; height: "+e+'px; } </style> </head> <body> <div class="slide-thumb">'},d=function(t,e){return'</div> <script> (function() { var slide = document.querySelector(".slide-thumb"), topLeft = "0 0", scaleValue; slide.style.WebkitTransformOrigin = topLeft; slide.style.MozTransformOrigin = topLeft; slide.style.MsTransformOrigin = topLeft; slide.style.transformOrigin = topLeft; var scale = function() { var winH = window.innerHeight, winW = window.innerWidth, slideH = '+e+", slideW = "+t+', xScale = winH / slideH, yScale = winW / slideW, nextScaleValue = Math.min(xScale, yScale); if (scaleValue !== nextScaleValue) { scaleValue = nextScaleValue; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.transform = "scale(" + scaleValue + ")"; } }; window.addEventListener("resize", scale); scale(); })(); <\/script> </body></html>'},p=/data-reactid="(.*?)"/g,f=/(-webkit-|-moz-|-ms-)?transform(-origin)?:\s*([^;]*);/g;return{createVideoThumb:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),i=parseFloat(t.parentNode.style.width),r=parseFloat(t.parentNode.style.height);return(isNaN(i)||isNaN(r))&&(i=parseFloat(t.parentNode.parentNode.style.width),r=parseFloat(t.parentNode.parentNode.style.height)),e.width=i,e.height=r,n.drawImage(t,0,0,e.width,e.height),{uri:e.toDataURL("image/jpeg",.8),src:t.src}},addVideoImageThumbs:function(t,e){var n={};return r(t).map(this.createVideoThumb).forEach((function(t){n[t.src]=t.uri})).value(),e.replace(/<video(.*?)<\/video>/g,(function(t){c.innerHTML=t;var e=c.querySelector("video").src;return c.innerHTML="",'<img src="'+n[e]+'" />'}))},addCanvasThumbs:function(t,e){return e.replace(/<canvas(.*?)<\/canvas>/g,(function(t){c.innerHTML=t;var e=c.querySelector("canvas");if("360-image"!==e.dataset.canvasType)return c.innerHTML="",t;var n=e.id,i=r.pick(e.style,["width","height"]);return c.innerHTML="",s.trigger("forceRender",n),'<img src="'+document.getElementById(n).toDataURL("image/jpeg",.8)+'" style="width: '+i.width+"; height: "+i.height+';" />'}))},generate:function(){var t,n,r,s,a,c,v=e.getCurrentWindow().getCurSlide(),g="",m=l||u?o.getWindowScale():o.getScale();if(null!=v){t=v.el.innerHTML,n=v.props.model.get("width"),r=v.props.model.get("height"),t=t.replace(p,"").replace(f,"-webkit-transform$2: $3; -moz-transform$2: $3; -ms-transform$2: $3; transform$2: $3;"),(c=document.getElementById("slide").querySelectorAll("video")).length>0&&(t=this.addVideoImageThumbs(c,t));var y=document.querySelectorAll("[data-canvas-type='360-image']");return y.length>0&&(t=this.addCanvasThumbs(y,t)),a=function(t){var e;if(null!=t)return(e=document.createElement("div")).id="lib",e.setAttribute("class","offscreen"),e.innerHTML=t.innerHTML,[e.querySelector("#video-pen"),e.querySelector("#presentation-canvas"),e.querySelector("#zoomimage-container"),e.querySelector("canvas")].forEach((function(t){null!=t&&t.parentNode.removeChild(t)})),e}(s=document.getElementById(i.els.LIB)),null!=s&&(g=a.outerHTML.replace(p,"")),{width:n,height:r,html:[h(n*m,r*m),t,g,d(n*m,r*m)].join("")}}return{html:null}}}}.call(e,n,e,t))||(t.exports=i)},9447:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(1458),r=n(6334),o=(n(9032),n(82)),s=n(118);return e.extend({initialize:function(){this.addSubscriptions()},ensureSlideIsSlide:function(t){return t.isScene&&(t=this.getStartingSlide(t)),t.isSlideDraw&&(t=o.getPath(t.slides(),"first")),t},getSlide:function(t,e){var n=s.isRelativePath(t)?e:DS.presentation,i=s.resolvePath(t,n,{optional:!0});return null!=i&&(i=this.ensureSlideIsSlide(i)),i},getRef:function(t){var e=DS.presentation.slideMap().slideRefs();return e.get(t.fullId())||e.get(t.id)},getStartingSlide:function(t){return s.resolvePath(t.startingSlide(),DS.presentation)},getEntrypoint:function(){return DS.presentation.entryPoint()},loadSlide:function(t,n){var i=e.isString(t)?this.getSlide(t,n):t,r=i.load(this.getRef(i));return DS.presentation.slideMap().setCurrentSlide(i.absoluteId),r},getSlideFromIndices:function(t,e){return DS.presentation.scenes().at(t).slides().at(e)},getDrawFromIndices:function(t,e,n){return DS.presentation.scenes().at(e).slidedraws().at(t).slides().at(n)}},i.Events,r)}.call(e,n,e,t))||(t.exports=i)},1681:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(8939),i=n(7812),r=void 0;return{initialize:function(t){r=t},reInit:function(t){r.frame.stringTables[r.currLayout.string_table].string=t},getString:function(t,n){var o=r&&(t===i.strings.PROJECT_TITLE?r.title.text:r.getString(t));return null==o&&(o=t.replace(/_/g," "),e.throwErrorSoft("getString","could not resolve the string",e.backtick(t))),o}}}.call(e,n,e,t))||(t.exports=i)},7097:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(82),r=n(7812),o=n(7594),s=r.XMLNS_XLINK,a=r.XMLNS,l=r.math.TWO_PI,u=function(t){return function(){return e.toArray(arguments).concat(t)}},c=function(t,n,i){var r,o=u(e.slice(arguments,3));return r=n.apply(null,o(i)),r=t.apply(null,o(o,n,r,i))},h=e.partial(c,(function(t,n,i){return i.children&&!i.children.skipTraversal&&(i.children=i.children.map((function(i){if(e.isString(i))return i;var r=t(n,i);return h.apply(null,r)}))),i})),d={isNodeOfType:function(t,e){var n;return e&&(n=e.tagName||e.nodeType),!!n&&t.toLowerCase()===n.toLowerCase()},svgPrefix:function(t){return[r.SVG_NODE_PREFIX,t].join(r.NODE_DELIMITER)},buildTransformFromConfigFn:function(t){var e=t.args.slice();return e.unshift(t.type),d.buildTransformFn.apply(this,e)},buildTransformFn:function(t){for(var n=arguments.length,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r];return[t,"(",e.rest(i).join(", "),")"].join("")},buildTransformConfig:function(t){return{type:t,args:e.rest(arguments)}},applyTransformTo:function(t,e){return t.transform=[e],t},getTransformOf:function(t){return t.transform=t.transform||[],t.transform},transformNodeConfig:function(t,n){e.isFunction(t.beforeStart)&&t.beforeStart();var i=h.apply(null,arguments);return e.isFunction(t.afterFinish)&&(i=t.afterFinish(i)),i},getFromNodeConfig:e.partial(c,(function(t,e,n,i){return null!=n&&!1!==n||!i.children||i.children.every((function(i){var r=t(e,i),o=d.getFromNodeConfig.apply(null,r);return null==o||!1===o||(n=o,!1)})),n})),getFullSvgConfig:function(t,n,r,l){var u={height:(n.fullHeight+Math.ceil(n.strokewidth/2))*l,width:(n.fullWidth+Math.ceil(n.strokewidth/2))*l},c={nodeType:"svg",xmlns:a,"xmlns:xlink":s,"data-xmlns-xlink":s,version:"1.1",baseprofile:"full",height:n.fullHeight*l,width:n.fullWidth*l,focusable:"false",viewBox:[n.fullX,n.fullY,n.fullWidth,n.fullHeight].join(" "),children:[t],"data-commandset-id":r,"data-accepts":"events",ref:e.uniqueId("ref-")};return u[o.camelCase("transform")]=d.transformTranslate(i.pxify(n.fullX*l),i.pxify(n.fullY*l)),{nodeType:"div",className:"slideobject-maskable",style:u,children:[c]}},createSvgNode:function(t,e){var n=document.createElementNS(a,"svg");return n.setAttribute("width",t),n.setAttribute("focusable","false"),n.setAttribute("height",e),n},getFirstTransformOfType:function(t,n){return e.find(n,{type:t})},buildUrl:function(t){return["url(#",t,")"].join("")},createElement:function(t){return document.createElementNS(a,t)},rectPath:function(t,e,n,i){var r=t+n,o=e+i;return["M",t,e,"L",r,e,r,o,t,o].join(" ")},ellipsePath:function(t,e,n,i){var r=2*n;return["M",t,e,"m",-n,0,"a",n,i,0,1,0,r,0,"a",n,i,0,1,0,-r,0].join(" ")},diamondPath:function(t,e,n,i){var r=n/2+t,o=i/2+e;return["M",r,e,"L",n+t,o,r,i+e,t,o].join(" ")},rightRoundedRectPath:function(t,e,n,i,r){return["M",t,e,"h",n-r,"a",r,r,"0 0 1",r,r,"v",i-2*r,"a",r,r,"0 0 1",-r,r,"h",r-n,"z"].join(" ")},wheelPath:function(t,e,n,r,o,s){if(!o)return"";r=i.degToRad(r),(o=i.degToRad(o))===l&&(o=l-1e-5);var a=o-r>Math.PI?1:0;return["M",t,e,"l",i.fix(n*Math.cos(r),4),i.fix(n*Math.sin(r),4),"A",n,n,0,s?0:a,s?0:1,i.fix(t+n*Math.cos(o),4),i.fix(e+n*Math.sin(o),4),"z"].join(" ")}};return d.getFirstTranslate=e.partial(d.getFirstTransformOfType,"translate"),d.getFirstRotate=e.partial(d.getFirstTransformOfType,"rotate"),d.getFirstScale=e.partial(d.getFirstTransformOfType,"scale"),d.buildTranslateConfig=e.partial(d.buildTransformConfig,"translate"),d.buildRotateConfig=e.partial(d.buildTransformConfig,"rotate"),d.buildScaleConfig=e.partial(d.buildTransformConfig,"scale"),d.isImageNode=e.partial(d.isNodeOfType,"image"),d.isPatternNode=e.partial(d.isNodeOfType,"pattern"),d.isDefsNode=e.partial(d.isNodeOfType,"defs"),d.isUseNode=e.partial(d.isNodeOfType,"use"),d.isPathNode=e.partial(d.isNodeOfType,"path"),d.isTextNode=e.partial(d.isNodeOfType,"text"),d.isTspanNode=e.partial(d.isNodeOfType,"tspan"),d.transformScale=e.partial(d.buildTransformFn,"scale"),d.transformRotate=e.partial(d.buildTransformFn,"rotate"),d.transformTranslate=e.partial(d.buildTransformFn,"translate"),d.transformTranslateX=e.partial(d.buildTransformFn,"translateX"),d.scaleFromCenter=function(t,e){return null==e&&(e=t),[d.transformTranslate(.5,.5),d.transformScale(t,e),d.transformTranslate(-.5,-.5)].join(" ")},d.getDefsNode=e.partial(d.getFromNodeConfig,(function(t){if(d.isDefsNode(t))return t})),d}.call(e,n,e,t))||(t.exports=i)},2075:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i=n(6138),r=n(1251),o=n(82),s=n(9032),a=n(9229),l=(n(4481),n(8579)),u=n(8939),c=n(8880),h=n(7812),d=n(7510),p=d.addWindowListener,f=d.addDocumentListener,v=1.2,g={sidebarOpen:!0,tryToSelect:function(t,e){var n=t.querySelector(e);return null==n&&u.throwError("tabFocusBox","invalid focus rule selector: ",e),n},focusRuleConfig:{VectorSlideObject:function(t){return g.tryToSelect(t,"svg g")},ImageSlideObject:function(t){return g.tryToSelect(t,"img")},VideoSlideObject:function(t){return g.tryToSelect(t,".video-slide-object")},ResourcesList:function(t){return t.parentNode}},defaultOffsets:{x:0,y:0,width:0,height:0},focusOffsetConfig:{PlayPauseButton:{x:-1,y:-3,width:0,height:0},PlaybackResetButton:{x:0,y:-2,width:0,height:0},PlaybackProgress:{x:0,y:0,width:0,height:-5},SequenceCtrlDrop:{x:30,y:0,width:0,height:0}},onAncestorHidden:function(){this.hide()},listenForHide:function(t){"SlideObject"===t.displayName&&(t.props.model.forEachAncestor(function(e){"SlideObject"===o.getPath(this,"lastItemFocused.displayName")&&(this.lastItemFocused.stopListening(e,"hidden",m),this.lastItemFocused.stopListening(this.lastItemFocused.props.model,"hidden",m)),(e.isSlideObject||e.isSlideLayer)&&t.listenTo(e,{hidden:m})}.bind(this)),t.listenTo(t.props.model,{hidden:m}))},show:function(t){null!=t&&(l.theme.isClassic||(this.handleSearch(t),this.sidebarOpen||this.isInSidebar(t),this.handleTopTabsDrop(t)),this.update(t),this.listenForHide(t),this.lastItemFocused=t)},handleTopTabsDrop:function(t){t&&t.el&&r.hasClass(t.el,"topmenu-item")&&null!=t.el.parentNode&&r.hasClass(t.el.parentNode,"top-tabs-drop")&&s.trigger(c.topTabs.OPEN_DROPDOWN,t)},handleSearch:function(t){"INPUT"===o.getPath(t,"tagName")&&r.hasClass(t,"search-input-element")&&s.trigger(c.search.SHOW)},isInSidebar:function(t){var e;null!=t.parentNode?e=t:null!=o.getPath(t,"el.parentNode")&&(e=t.el),null!=e&&!!r.closest(e,(function(t){return r.hasClass(t,"area-secondary")}))&&(s.trigger(c.sidebar.FORCE_OPEN),setTimeout(function(){this.update(t)}.bind(this),h.ANIMATION_DURATION))},updateLastFocusItem:function(){this.lastItemFocused&&this.update(this.lastItemFocused)},hide:function(){null!=this.borderEl&&(this.borderEl.style.display="none"),this.lastItemFocused=null,this.isShown=!1},getOrCreateBorder:function(){return null!=this.borderEl||(this.borderEl=document.createElement("div"),this.borderEl.setAttribute("class","tab-focus-box"),r.setStyles(this.borderEl,{position:"absolute",left:0,top:0,border:"3px solid yellow","pointer-events":"none","z-index":99999})),this.borderEl},slideObjectShouldUseCss:function(t){return"TextInputSlideObject"===o.getPath(t,"refs.innard.displayName")||t.decorators&&null!=t.decorators.slideable||!l.theme.isClassic&&r.hasClass(t.el,"glossary-child")},domElShouldUseCss:function(t){return t.parentNode&&r.hasClass(t.parentNode,"search-clear")||r.hasClass(t,"lightbox-close-btn")||!l.theme.isClassic&&r.hasClass(t,"search-input-element")||r.closest(t,(function(t){return r.hasClass(t,"lightbox")}))},update:function(t){var e,n,s,l,u,c,h,d,p,f=this.getOrCreateBorder(),v=0,g=0,m={left:0,top:0},y=this.defaultOffsets,b=0;if(null!=t.displayName){if(v+=(y=this.focusOffsetConfig[t.displayName]||this.defaultOffsets).x,g+=y.y,this.slideObjectShouldUseCss(t))return void this.hide();e=t.el,h=null!=o.getPath(t,"refs.innard")?t.refs.innard.displayName:t.displayName,e=(this.focusRuleConfig[h]||i.identity)(e)}else{if(this.domElShouldUseCss(t))return void this.hide();e=t}s=e.getBoundingClientRect(),(l=r.isWithinSlide(e))?(m=(n=(c=a.windowManager.getCurrentWindow().getCurSlide()).el).getBoundingClientRect(),b=4,n.querySelector(".slide-top-container-main").appendChild(f)):((d=document.querySelector("#app-top-container")).appendChild(f),m=d.getBoundingClientRect()),0!==s.width&&0!==s.height?(u=2*b,(p=i.mapValues(this.constrainToSlide(l,c,{left:s.left-m.left+v-b,top:s.top-m.top+g-b,width:s.width+y.width+u,height:s.height+y.height+u}),o.pxify)).display="block",r.setStyles(f,p),this.isShown=!0):this.hide()},constrainToSlide:function(t,e,n){if(!t)return n;var i=e.props,r=e.props.winScale,o=i.model.get("width")*r,s=i.model.get("height")*r,a=n.left+n.width-o,l=n.top+n.height-s,u=n.left,c=n.top;return a>0&&(n.width-=a-v),l>0&&(n.height-=l-v),u<0&&(n.width+=n.left,n.left=-1.2),c<0&&(n.height+=n.top,n.top=-1.2),n}},m=g.onAncestorHidden.bind(g);return l.theme.isClassic||(s.on(c.topbar.CLOSED_SIDEBAR,(function(){g.sidebarOpen=!1})),s.on(c.topbar.OPENED_SIDEBAR,(function(){g.sidebarOpen=!0})),f("mousedown",(function(){clearTimeout(e),g.hide()})),p("resize",(function(){clearTimeout(e),null!=g.borderEl&&(g.borderEl.style.display="none",e=setTimeout((function(){g.borderEl.style.display="block",g.updateLastFocusItem()}),h.ANIMATION_DURATION))}))),g}.call(e,n,e,t))||(t.exports=i)},6936:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6194),i=n(9032),r=n(8880);(e.detectVisibilityChange||function(){document.addEventListener("visibilitychange",(function(t){i.trigger(r.detection["VISIBILITY_"+(document.hidden?"HIDDEN":"SHOWN")])}),!1)})()}.call(e,n,e,t))||(t.exports=i)},6485:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(4428),i=(n(818),n(9045).modes),o=n(1815).navigation,s=n(3163).FOCUS_ON_TITLE,a=n(7954).overlayColor,l=512,u=n(7812).math.TWO_PI;function c(t,e,n,i){var r,o={x:0,y:0},s=i.x-n.x,a=i.y-n.y,l=e.x-t.x,u=e.y-t.y,c=t.x-n.x,h=t.y-n.y,d=void 0,p=void 0;return d=s*h-a*c,p=l*h-u*c,p/=r=a*l-s*u,(d/=r)>=0&&d<=1&&p>=0&&p<=1?(p=t.y+d*u,d=t.x+d*l,o.x=d,o.y=p):o=null,o}if(null!=e&&null!=e.Vector3){var h=new e.Vector3(0,0,0);return function(){function t(n){var i=n.layer,r=n.pano,o=n.point,s=n.marker,a=n.finishedFn;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layer=i,this.layer.hotspots.push(this),this.pano=r,this.points=[],this.points2d=[],this.marker=s,this.marker.polyHotspot=this,this.startPoint=o,this.pointCalls=0,this.isVisible=!0,this.finishedFn=a,this.sprites=[],this.spriteMaterial=new e.SpriteMaterial({color:"#ffffff",sizeAttenuation:!1}),this.spriteMaterial.depthTest=!1,this.meshMaterial=new e.MeshBasicMaterial({color:this.pano.hotspotColor,opacity:.4,transparent:!0,depthTest:!1,side:e.DoubleSide}),this.borderMaterial=new e.MeshLineMaterial({color:this.pano.hotspotColor,resolution:new e.Vector2(100,100),sizeAttenuation:0,lineWidth:.8,transparent:!0,side:e.DoubleSide}),this.color=this.pano.hotspotColor,this.pano.editMode||(this.opacity=0,this.visible=!1,this.visited=this.marker.visited)}return r(t,[{key:"cntrlPointText",value:function(){var t,n=void 0,i=void 0;return i=(n=document.createElement("canvas")).getContext("2d"),n.width=32,n.height=32,i.fillStyle="white",i.strokeStyle="gray",i.lineWidth=4,i.fillRect(0,0,n.width,n.height),i.strokeRect(0,0,n.width,n.height),{tex:t=new e.CanvasTexture(n),ctx:i,mat:new e.SpriteMaterial({map:t,sizeAttenuation:!1}),width:n.width,height:n.height}}},{key:"createPulseSpriteCanvas",value:function(){var t=this,n=document.createElement("canvas"),i=n.getContext("2d"),r=new e.CanvasTexture(n);n.width=l,n.height=l;var o=n.width/4-50,s=n.width/2,a=n.height/2,c=0,h=.5,d=.5,p=window.performance.now();return window.requestAnimationFrame((function e(n){var f=(n-p)/16;p=n;var v=60+25*Math.sin(c),g=10*Math.sin(c+u);if(c+=.025*f,d=t.isHovered||t.isBlinking?0:.5,h<d?h=Math.min(h+.025*f,d):h>d&&(h=Math.max(h-.025*f,d)),i.clearRect(0,0,l,l),t.isClickable()){i.fillStyle="transparent",i.strokeStyle="rgba(255, 255, 255, "+h+")",i.lineWidth=35+g/2;var m=2*(o+v),y=m;i.strokeRect(s-m/2,a-y/2,m,y)}r.needsUpdate=!0,window.requestAnimationFrame(e)})),new e.SpriteMaterial({map:r,sizeAttenuation:!1,depthTest:!1})}},{key:"createPulseSprite",value:function(){if(!this.pano.editMode&&this.pano.hotspotReveal&&this.pano.pulseHotspots){var t=this.getCenterPoint(this.shapeMesh);this.pulseSprite=new e.Sprite(this.createPulseSpriteCanvas()),this.pulseSprite.position.copy(t),this.pulseSprite.scale.set(.25,.25,.25),this.pulseSprite.renderOrder=10,this.pano.scene.add(this.pulseSprite)}}},{key:"mouseOver",value:function(){this.isHovered=!0,!this.pano.editMode&&this.pano.hotspotReveal&&this.isClickable()&&!this.selected&&(TweenLite.killTweensOf(this),this.tweenOpacityTo(1,.3))}},{key:"mouseOut",value:function(){if(this.isHovered=!1,!this.pano.editMode)if(this.selected){if(null!=this.marker.panel&&this.marker.panel.shown)return;this.deselect()}else TweenLite.killTweensOf(this),this.tweenOpacityTo(0,1.1)}},{key:"disablePulse",value:function(){this.pulseSprite&&(this.pano.scene.remove(this.pulseSprite),this.pulseSprite=null)}},{key:"enablePulse",value:function(){this.pulseSprite||this.createPulseSprite()}},{key:"select",value:function(){this.selected?this.pano.editMode||!this.marker.props.hasPanel||null==this.marker.panel||this.marker.panel.shown||this.deselect():(this.selected=!0,this.pano.editMode&&(this.pano.mode!==i.SET_INITIAL_CAMERA_ANGLE&&(this.pointsGroup.visible=!0),this.layer.lastActiveHotspot=this),!this.pano.editMode&&this.isClickable()&&(this.disablePulse(),this.setBorderThick(),TweenLite.killTweensOf(this),this.tweenOpacityTo(1,.3)))}},{key:"setBorderThick",value:function(){this.borderMaterial.lineWidth=1.6}},{key:"setBorderThin",value:function(){this.borderMaterial.lineWidth=.8}},{key:"deselect",value:function(){!this.selected||!this.pano.editMode&&null!=this.marker.panel&&this.marker.panel.shown||(this.selected=!1,this.pano.editMode&&(this.pointsGroup.visible=!1,this.outOnAll(!0)),this.pano.editMode||(this.marker.visited&&(this.visited=!0),this.setBorderThin(),this.isHovered||(TweenLite.killTweensOf(this),this.tweenOpacityTo(0,1.1))))}},{key:"blink",value:function(){var t=this;this.pano.editMode||!this.isClickable()||this.selected||(TweenLite.killTweensOf(this),this.isBlinking=!0,this.marker.visited&&(this.visited=!0),this.tweenOpacityTo(1,.6,(function(){t.isHovered||t.tweenOpacityTo(0,.6,(function(){t.isBlinking=!1}))})))}},{key:"tweenOpacityTo",value:function(t,e,n){var i=this,r=function(){0!==i.opacity||i.canClick||(i.shapeMesh.visible=!1,i.borderMesh.visible=!1)};if(0===e)return this.opacity=t,void r();var o=t<this.opacity;TweenLite.to(this,e,{opacity:t,ease:o?"power4.out":"power1.out",onComplete:function(){n&&n(),r()}})}},{key:"isClickable",value:function(){return!!this.pano.editMode||this.canClick}},{key:"getFirstPoint",value:function(){return this.firstPointAdded}},{key:"deletePoint",value:function(t){null!=this.points[t]&&(this.meshesToGlobal(),this.points.splice(t,1),this.killSprites(),this.recalcMeshes(!1))}},{key:"delete",value:function(t){if(!this.pointSelected||this.points.length<=3||this.deleteUnfinished||t){this.borderMesh.geometry.dispose(),this.pointsObj.geometry.dispose(),null!=this.shapeMesh&&(this.pano.scene.remove(this.shapeMesh),this.shapeMesh.geometry.dispose());for(var e=0;e<this.sprites.length;e++)this.sprites[e].material.dispose(),this.sprites[e].geometry.dispose(),this.pano.scene.remove(this.sprites[e]);return this.pano.scene.remove(this.borderMesh),this.pano.scene.remove(this.pointsObj),this.pano.scene.remove(this.pointsGroup),!1}return this.deletePoint(this.lastPointIdx),this.pointSelected=!1,this.lastPointIdx=null,!0}},{key:"drawBorderMesh",value:function(){var t=this.points.concat();0!=t.length&&(t.length>1&&t.push(t[0].clone()),null==this.meshLine&&(this.meshLine=new e.MeshLine,this.lineGeom=new e.Geometry),this.finished||this.isRectangle||t.pop(),this.lineGeom.vertices=t,this.meshLine.setGeometry(this.lineGeom),null==this.borderMesh&&(this.borderMesh=new e.Mesh(this.meshLine.geometry,this.borderMaterial),this.pano.scene.add(this.borderMesh)))}},{key:"loadData",value:function(t){this.finished=!0,this.points=t.points.map((function(t){return new e.Vector3(t.x,t.y,t.z)})),this.createPointObj(),this.pano.editMode||(this.pointsObj.visible=!1),this.drawMesh(),this.drawBorderMesh(),this.originPnt=this.firstPoint=new e.Vector3(t.origin.x,t.origin.y,t.origin.z),this.shapeMesh.position.copy(this.firstPoint),this.borderMesh.position.copy(this.firstPoint),this.pointsObj.position.copy(this.firstPoint);var n=new e.Quaternion(t.quat.x,t.quat.y,t.quat.z,t.quat.w);this.shapeMesh.quaternion.copy(n),this.borderMesh.quaternion.copy(n),this.pointsObj.quaternion.copy(n),this.pano.scene.remove(this.plane),this.positionControlsPoints(),this.pointsGroup.visible=!1,this.drag(t.dragPoint),(this.pano.editMode||this.pano.navigation.type===o.FREE)&&(this.canClick=!0),this.createPulseSprite()}},{key:"getData",value:function(){if(this.shapeMesh){var t=this.shapeMesh.quaternion,e=t.x,n=t.y,i=t.z,r=t.w;return this.data={points:this.points,origin:this.originPnt,dragPoint:this.originPnt,quat:{x:e,y:n,z:i,w:r}},window.btoa(JSON.stringify(this.data))}}},{key:"killSprites",value:function(){for(var t=0;t<this.sprites.length;t++)this.sprites[t].material.dispose(),this.sprites[t].geometry.dispose(),this.pano.scene.remove(this.sprites[t]);this.sprites=[],this.spriteMap={}}},{key:"drawMesh",value:function(t){var n=this.points.concat();if(this.drawBorderMesh(n),function(t){for(var e=0,n=0;n<t.length;n++){var i=t[n],r=t[(n+1)%t.length];e+=(r.x-i.x)*(r.y+i.y)}return e>0}(n)||(n.reverse(),this.pointsReversed=!0),n.push(n[0].clone()),n.length>2){null!=this.shapeMesh&&(this.shapeMesh.geometry.dispose(),this.pano.scene.remove(this.shapeMesh));var i=new e.Shape(n),r=new e.ShapeGeometry(i);r.vertices=n,this.shapeMesh=new e.Mesh(r,this.meshMaterial),this.shapeMesh.userData.isPolyHotspot=!0,this.shapeMesh.userData.marker=this.marker,this.shapeMesh.userData.hotspot=this,this.shapeMesh.visible=!1,this.pano.scene.add(this.shapeMesh)}if(!t){this.killSprites();for(var o=0;o<n.length-1;o++){var s=this.cntrlPointText();s.mat.depthTest=!1;var a=new e.Sprite(s.mat);a.renderOrder=10,this.spriteMap[a.uuid]=a,a.userData.isHotspotControlPoint=!0,a.userData.cntrlTex=s,a.userData.marker=this.marker,a.userData.hotspot=this,a.userData.idx=o,a.scale.set(.025,.025,1),this.pano.scene.add(a),a.position.copy(n[o]),this.sprites.push(a)}this.firstSrpite=this.pointsReversed?this.sprites[this.sprites.length-1]:this.sprites[0]}}},{key:"activeSprite",value:function(t,e){var n=this.spriteMap[t]||e;if(null!=n){this.lastActiveSprite=n;var i=n.userData.cntrlTex,r=i.ctx,o=i.tex,s=i.width,a=i.height;r.fillStyle="gray",r.strokeStyle="white",r.lineWidth=4,r.fillRect(0,0,s,a),r.strokeRect(0,0,s,a),o.needsUpdate=!0}}},{key:"overSprite",value:function(t,e){var n=this.spriteMap[t]||e;if(null!=n){if(null!=this.lastDraggedPoint&&this.lastDraggedPoint.userData.idx===n.userData.idx)return;var i=n.userData.cntrlTex,r=i.ctx,o=i.tex,s=i.width,a=i.height;r.fillStyle="gray",r.strokeStyle="white",r.lineWidth=4,r.fillRect(0,0,s,a),r.strokeRect(0,0,s,a),o.needsUpdate=!0}}},{key:"outOnAll",value:function(t){var e=this;this.sprites.forEach((function(n){e.outSprite(null,n,t)}))}},{key:"outSprite",value:function(t,e,n){var i=this.spriteMap[t]||e;if(null!=i){if(null!=this.lastDraggedPoint&&this.lastDraggedPoint.userData.idx===i.userData.idx&&!n)return;var r=i.userData.cntrlTex,o=r.ctx,s=r.tex,a=r.width,l=r.height;o.fillStyle="white",o.strokeStyle="gray",o.lineWidth=4,o.fillRect(0,0,a,l),o.strokeRect(0,0,a,l),s.needsUpdate=!0}}},{key:"createPointObj",value:function(){this.pointsGeom=new e.BufferGeometry,this.pointsGeom.setFromPoints(this.points),this.pointsGroup=new e.Group,this.pointsObj=new e.Points(this.pointsGeom,new e.PointsMaterial({color:"white",size:25,side:e.DoubleSide})),this.pointsGroup.userData.controlGroup=!0,this.pointsObj.userData.hotspot=this,this.pointsObj.frustumCulled=!1,this.pano.editMode&&this.pano.scene.add(this.pointsGroup)}},{key:"getCenterPoint",value:function(t){var n=new e.Vector3,i=t.geometry;return i.computeBoundingBox(),n.x=(i.boundingBox.max.x+i.boundingBox.min.x)/2,n.y=(i.boundingBox.max.y+i.boundingBox.min.y)/2,n.z=(i.boundingBox.max.z+i.boundingBox.min.z)/2,t.localToWorld(n),n}},{key:"activatePlane",value:function(){this.pano.scene.add(this.plane),this.plane.lookAt(h)}},{key:"downControlPoint",value:function(t){this.lastPointIdx=t.userData.idx,this.pointSelected=!0,this.outOnAll(),this.activeSprite(this.sprites[this.lastPointIdx].uuid)}},{key:"startDragPoint",value:function(){this.meshesToGlobal(),this.dragCount=0}},{key:"dragControlPoint",value:function(t,e){0===this.dragCount&&(this.origDragPoint=this.points[t.userData.idx].clone(),this.origControlPoint=t),this.dragCount++,this.points[t.userData.idx].copy(e),this.lastPointIdx=t.userData.idx,this.drawMesh(),this.shapeMesh.visible=!1,this.drawBorderMesh(),this.outOnAll()}},{key:"stopDragControlPoint",value:function(){this.anyOverlappingLines()&&this.dragControlPoint(this.origControlPoint,this.origDragPoint),this.shapeMesh.visible||(this.recalcMeshes(),this.shapeMesh.visible=!0,this.pano.scene.remove(this.plane)),this.activeSprite(this.sprites[this.lastPointIdx].uuid)}},{key:"drag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.meshGlobal){this.lastDraggedPoint=null;for(var n=0;n<this.sprites.length;n++)this.outSprite(null,this.sprites[n],!0);if(this.pointSelected=!1,this.originPnt.copy(t),this.shapeMesh.position.copy(t),this.borderMesh.position.copy(t),this.pointsObj.position.copy(t),this.pointsGroup.position.copy(t),this.plane.position.copy(t),this.shapeMesh.lookAt(h),this.borderMesh.lookAt(h),this.pointsObj.lookAt(h),this.pointsGroup.lookAt(h),this.plane.lookAt(h),"hotspot"===this.marker.props.type&&!e){var i=this.getCenterPoint(this.shapeMesh);this.marker.updatePosition(i.x,i.y,i.z)}}}},{key:"extendRect",value:function(t,e,n,i){this.finished||(this.points=[t,e,n,i],this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.isRectangle=!0)}},{key:"linesFromProjectionResults",value:function(t,e){for(var n=[],i=1;i<t.length;i++){var r=t[i-1],o=t[i];null!=r&&null!=o&&n.push({a:{x:r.x,y:r.y,id:r.object.userData.idx},b:{x:o.x,y:o.y,id:o.object.userData.idx}})}if(e){var s=t[t.length-1],a=t[0],l=void 0;if(null!=s&&null!=a)l={a:{x:s.x,y:s.y,idx:s.object.userData.idx},b:{x:a.x,y:a.y,idx:a.object.userData.idx}};return{lines:n,closeLine:l}}return n}},{key:"tailLineIntersect",value:function(t){for(var e=t[t.length-1],n=0;n<t.length-2;n++){var i=t[n];if(null!=c(e.a,e.b,i.a,i.b))return!0}}},{key:"endsWithOverlappingLine",value:function(t){var e=this.projectSprites();this.pointsReversed&&e.reverse();var n=this.linesFromProjectionResults(e);if(n.length>2){if(this.tailLineIntersect(n))return!0;if(n.reverse(),this.tailLineIntersect(n))return!0}return!1}},{key:"anyOverlappingLines",value:function(){var t=this.projectSprites(),e=this.linesFromProjectionResults(t,!0),n=e.lines,i=e.closeLine;null!=i&&n.push(i);for(var r=0;r<n.length;r++)for(var o=n[r],s=0;s<n.length;s++){var a=Math.abs(r-s);if(!(a<=1||a===n.length-1)){var l=n[s];if(null!=c(l.a,l.b,o.a,o.b))return!0}}return!1}},{key:"closingHasOverlap",value:function(){if(!(this.points.length<4)){var t=this.projectSprites();this.pointsReversed&&t.reverse();var e=this.linesFromProjectionResults(t,!0),n=e.lines,i=e.closeLine;if(null==i)return!1;for(var r=1;r<n.length-1;r++){var o=n[r];if(null!=c(i.a,i.b,o.a,o.b))return!0}return!1}}},{key:"preventOverlapClose",value:function(){var t=this.closingHasOverlap();if(t){var e=void 0;return this.points.length>this.lastClosingLength||!this.lastClosingLength?(e=this.points.pop(),this.pointAdditionPrevented=!0,this.oldClosingPoint=e):e=this.oldClosingPoint,this.lastClosingLength=this.points.length,this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.layer.resetPreviewLine(!0),this.failedClosingPoint=e,this.points[this.points.length-1]}return t}},{key:"projectSprites",value:function(){if(null==this.spriteMap)return[];this.pano.viewMatrix.copy(this.pano.camera.matrixWorldInverse),this.pano.viewProjectionMatrix.multiplyMatrices(this.pano.camera.projectionMatrix,this.pano.viewMatrix),this.pano.renderData=this.pano.projector.projectScene(this.pano.scene,this.pano.camera),this.pano.elements=this.pano.renderData.elements,this.pano.calcSceneRect();for(var t=[],e=0;e<this.pano.elements.length;e++){var n=this.pano.elements[e];null!=n.object&&this.spriteMap[n.object.uuid]&&(n.x*=this.pano.sceneRect.width/2,n.y*=-this.pano.sceneRect.height/2,t[n.object.userData.idx]=n)}return t}},{key:"addPoint",value:function(t){if(!(this.finished||this.isRectangle||(this.pointAdditionPrevented=!1,this.pointCalls++,null!=this.lastPoint&&t.distanceTo(this.lastPoint)<20)))return this.lastPoint=new e.Vector3(t.x,t.y,t.z),this.points.push(this.lastPoint),1==this.points.length&&(this.firstPointAdded=t,this.createPointObj()),this.pointsGeom.setFromPoints(this.points),this.drawMesh(),null!=this.lastPoint&&this.points.length>2&&t.distanceTo(this.firstPointAdded)<20&&!this.anyOverlappingLines()?(this.points.pop(),this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.layer.finishCurrent(),this.pointAdditionPrevented=!0,this.lastPoint=this.points[this.points.length-1],this.lastPoint):this.points.length>2&&this.endsWithOverlappingLine(t)?(this.points.pop(),this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.layer.resetPreviewLine(),this.pointAdditionPrevented=!0,this.lastPoint=this.points[this.points.length-1],this.lastPoint):this.lastPoint}},{key:"calcCenter",value:function(){this.center=new e.Vector3(0,0,0);for(var t=0;t<this.points.length;t++)this.center.add(this.points[t]);this.center.x/=this.points.length,this.center.y/=this.points.length,this.center.z/=this.points.length,this.center.add(this.shapeMesh.position)}},{key:"positionControlsPoints",value:function(){for(var t=0;t<this.sprites.length;t++)null!=this.points[t]&&(this.sprites[t].userData.idx=t,this.sprites[t].position.copy(this.points[t]),this.pointsGroup.add(this.sprites[t]));this.pano.editMode&&this.pano.scene.add(this.pointsGroup)}},{key:"meshesToGlobal",value:function(){if(!this.meshGlobal){this.savedPoints=this.points.concat(),this.oldQuat=this.shapeMesh.quaternion.clone().conjugate();for(var t=0;t<this.points.length;t++)this.points[t]=new e.Vector3,this.sprites[t].getWorldPosition(this.points[t]);this.shapeMesh.position.copy(h),this.borderMesh.position.copy(h),this.pointsObj.position.copy(h);var n=new e.Quaternion;this.shapeMesh.quaternion.copy(n),this.borderMesh.quaternion.copy(n),this.pointsObj.quaternion.copy(n);for(var i=0;i<this.sprites.length;i++)null!=this.sprites[i]&&this.pointsGroup.remove(this.sprites[i]);this.drawMesh(),this.drawBorderMesh(),this.meshGlobal=!0,this.meshRecalced=!1}}},{key:"recalcMeshes",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!(this.meshRecalced||this.points.length<=2)){this.originPnt?this.firstPoint=this.originPnt:this.originPnt=this.firstPoint=this.points[0].clone();for(var e=0;e<this.points.length;e++)this.points[e].x+=-this.firstPoint.x,this.points[e].y+=-this.firstPoint.y,this.points[e].z+=-this.firstPoint.z;var n=this.oldQuat||this.plane.quaternion.conjugate();this.points.forEach((function(t){t.applyQuaternion(n)})),this.pointsGeom.setFromPoints(this.points),this.drawMesh(t),this.shapeMesh.position.copy(this.firstPoint),this.borderMesh.position.copy(this.firstPoint),this.pointsObj.position.copy(this.firstPoint),this.drawBorderMesh();var i=n.conjugate();this.shapeMesh.quaternion.copy(i),this.borderMesh.quaternion.copy(i),this.pointsObj.quaternion.copy(i),this.oldQuat=null,this.calcCenter(),"hotspot"===this.marker.props.type&&this.marker.updatePosition(this.center.x,this.center.y,this.center.z),this.pointsGroup.position.copy(this.firstPoint),this.pointsGroup.quaternion.copy(i),this.positionControlsPoints(),this.shapeMesh.visible=!0,this.meshGlobal=!1,this.meshRecalced=!0}}},{key:"updateData",value:function(){if(!(this.points.length<=2)){var t=this.getData();this.marker.adjust({props:{hotspotData:t}})}}},{key:"finish",value:function(t){var e=this;this.finished=!0,this.recalcMeshes(),this.pano.scene.remove(this.plane),null!=this.finishedFn&&(this.finishedFn(),this.pano.setMode(i.DEFAULT)),t||(this.updateData(),this.sprites[0].material.color.set("#ffffff"),window.requestAnimationFrame((function(){e.pano.setCurrMarker(e.marker.sprite),e.pano.setFocus({focus:s})})))}},{key:"visited",set:function(t){if(!this.pano.editMode){var e=a(this.pano.hotspotColor,"#000000",.5);this.isVisited&&this.color==e||(this.isVisited=t,this.isVisited&&(null!=this.pulseSprite&&(this.pano.scene.remove(this.pulseSprite),this.pulseSprite=null),this.selected||this.isHovered?TweenLite.to(this,1.1,{color:e,ease:"power4.out"}):this.color=e))}},get:function(){return this.isVisited}},{key:"color",set:function(t){this.hotspotColor=t,this.meshMaterial.color.set(t),this.borderMaterial.color.set(t)},get:function(){return this.hotspotColor}},{key:"opacity",set:function(t){this.meshMaterial.opacity=.4*t,this.borderMaterial.opacity=t},get:function(){return this.borderMaterial.opacity}},{key:"visible",set:function(t){var e=this.pano.editMode||(this.selected||this.isHovered)&&this.pano.hotspotReveal&&this.isClickable(),n=!this.pano.editMode?1.2:0;t?(this.canClick=!0,this.tweenOpacityTo(e?1:0,n),this.marker.ariaHidden(!1)):(this.tweenOpacityTo(0,n),this.marker.ariaHidden(!0)),this.isVisible=t,this.pano.editMode&&(this.pointsObj.visible=t);for(var i=0;i<this.sprites.length;i++)this.sprites[i].visible=t},get:function(){return this.isVisible}},{key:"canClick",set:function(t){t?(this.shapeMesh.visible=!0,this.borderMesh.visible=!0):this.visible=!1,this.canBeClicked=t},get:function(){return this.pano.navigation.type===o.FREE||this.canBeClicked}}]),t}()}}.call(e,n,e,t))||(t.exports=i)},4938:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6138),i=n(1251),o=n(7954),s=o.parseFontFamily,a=o.parseFontThemeType,l=n(3716),u=n(9032),c=n(8579),h=n(8880),d=n(5505).clickOrTouchEnd,p=/\<(span|ol|ul|li|blockquote)\/?\>/i,f={marker:{borderColor:"transparent",borderWidth:0,background:"#000000",boxShadow:"0 0px 10px rgba(0, 0, 0, 0.25)",iconColor:"#ffffff"},panel:{borderColor:"transparent",borderWidth:0,background:"#000000",boxShadow:"0 0px 10px rgba(0, 0, 0, 0.25)",textColor:"#ffffff"},body:{maxChars:250,innerHTML:"",style:{fontFamily:"Open Sans",fontThemeType:"body",fontSize:13,fontWeight:"normal"}}};return function(){function t(n){var i=n.parentEl,r=n.enabled,o=n.props,s=n.editMode,a=n.localizedText,l=n.marker;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parentEl=i,this.opened=!0,this.props=e.merge({},f,o),this.localizedText=a,this.marker=l,this.viewed=!1,this.editMode=s,e.bindAll(this,"onMarkerClicked","onEditorKeyDown","onContentPasted","onContentChanged","onSelectedMarkerChanged","onResize"),this.createEls(),this.updateStyles(),this.enable(r),this.setEditMode(s)}return r(t,[{key:"update",value:function(t){var n=t.enabled,i=t.props,r=t.editMode;this.props=e.merge(this.props,i),this.enable(n),this.updateStyles(),this.setEditMode(r)}},{key:"createEls",value:function(){this.el=document.createElement("div"),i.addClass(this.el,"hint"),this.opened&&i.addClass(this.el,"opened"),this.parentEl.appendChild(this.el);var t=this.props.marker.iconColor;this.el.innerHTML='\n        <div class="hint-marker">\n          <div class="closed_icon">'+("\n    <svg viewBox=\"0 0 26 67\" height='15px' fill='"+t+'\'>\n      <path d="M 18.3,1 C 16.6,1,15.1,1.6,13.9,2.8 C 12.7,4,12.1,5.5,12.1,7.2 C 12.1,8.9,12.7,10.4,13.9,11.6 C 15.1,12.8,16.6,13.4,18.3,13.4 C 20,13.4,21.5,12.8,22.7,11.6 C 23.9,10.4,24.5,8.9,24.5,7.2 C 24.5,5.5,23.9,4,22.7,2.8 C 21.5,1.6,20,1,18.3,1 Z M 20.9,20.5 L 20.8,21 C 20.8,21,20.9,21,20.9,21 Z M 20.8,21 C 15.2,21.8,9.6,22.2,4.1,23 L 3.5,25.5 C 4.1,25.5,4.6,25.5,5,25.5 C 5.9,25.5,6.7,25.7,7.2,26.2 C 7.7,26.7,8,27.2,8,27.9 C 8,28.9,7.7,29.4,7.2,31.3 L 1.3,51.6 C 0.8,53.2,0.6,54.5,0.6,55.6 C 0.6,57.2,1.1,58.5,2.2,59.5 C 3.3,60.5,6.8,61,8.6,61 C 13.4,61,21.3,58.4,25.6,51 L 22.2,49 C 20.4,51.7,17.2,53.7,15.7,54.6 C 14.1,55.4,13.3,55.3,12.8,55.3 C 12.5,55.3,12.2,55.2,12,54.9 C 11.7,54.6,11.6,54.3,11.6,54 C 11.6,53.5,11.8,52.3,12.3,50.6 Z">\n      </path>\n    </svg>\n  </div>\n          <div class="opened_icon">')+function(t){return"\n    <svg viewBox=\"0 0 18 18\" height='18px' width='18px' fill=\"none\" stroke='"+t+'\' stroke-width="1.575" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round">\n      <path d="M3.88879 3.88867L13.611 13.6109" />\n      <path d="M13.611 3.88867L3.88879 13.6109" />\n    </svg>\n  '}(t)+'</div>\n        </div>\n        <div class="hint-bubble">\n          <div class="hint-wrapper">\n            <div class="hint-content" placeholder="'+this.localizedText.hint+'">'+this.props.body.innerHTML+'</div>\n            <div class="hint-selection"></div>\n          </div>\n        </div>\n      ',this.iconEl=this.el.querySelector(".hint-marker"),this.contentEl=this.el.querySelector(".hint-content"),this.bubbleEl=this.el.querySelector(".hint-bubble"),this.svgIconEls=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this.iconEl.querySelectorAll("svg")))}},{key:"onResize",value:function(t){var e=t.width-70;this.bubbleEl.style.width=e+"px",this.contentEl.style.maxWidth=e+"px"}},{key:"updateStyles",value:function(){var t=this.props,e=t.marker,n=t.panel,i=t.body;Object.assign(this.iconEl.style,{borderWidth:e.borderWidth+"px",borderColor:e.borderColor,background:e.background,boxShadow:e.boxShadow}),Object.assign(this.contentEl.style,{borderWidth:n.borderWidth+"px",borderColor:n.borderColor,background:n.background,boxShadow:n.boxShadow,color:n.textColor,fontFamily:'"'+i.style.fontFamily+'"',fontSize:i.style.fontSize+"px"}),this.svgIconEls.forEach((function(t){t.setAttribute("stroke",e.iconColor),t.setAttribute("fill",e.iconColor)})),this.editMode&&(this.contentEl.style.fontWeight=i.style.fontWeight,this.contentEl.dataset.fontThemeType=i.style.fontThemeType)}},{key:"addListeners",value:function(){this.iconEl.addEventListener(d,this.onMarkerClicked),u.on(h.threeSixtyImage.SELECTED_MARKER_CHANGED,this.onSelectedMarkerChanged),c.deviceView.isPhone&&u.on(h.threeSixtyImage.RESIZED,this.onResize)}},{key:"removeListeners",value:function(){this.iconEl.removeEventListener(d,this.onMarkerClicked),u.off(h.threeSixtyImage.SELECTED_MARKER_CHANGED,this.onSelectedMarkerChanged),u.off(h.threeSixtyImage.RESIZED,this.onResize)}},{key:"onSelectedMarkerChanged",value:function(t){t!==this.marker.id&&this.editMode&&this.hide()}},{key:"onMarkerClicked",value:function(t){this.toggleOpen(),t.stopPropagation()}},{key:"toggleOpen",value:function(){this.opened=!this.opened,this.opened?(i.addClass(this.el,"opened"),i.removeClass(this.el,"closed")):(i.addClass(this.el,"closed"),i.removeClass(this.el,"opened"))}},{key:"hide",value:function(){i.removeClass(this.el,"show")}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.viewed&&this.opened&&this.toggleOpen(),i.addClass(this.el,"show"),this.editMode&&t&&e.isEmpty(this.props.body.innerHTML)&&this.contentEl.focus()}},{key:"enable",value:function(t){this.enabled=t,this.enabled?(this.addListeners(),i.removeClass(this.el,"disabled")):(this.removeListeners(),i.addClass(this.el,"disabled"))}},{key:"setEditMode",value:function(t){this.editMode=t,this.editMode?(this.contentEl.setAttribute("contentEditable","true"),this.contentEl.addEventListener("input",this.onContentChanged),this.contentEl.addEventListener("keydown",this.onEditorKeyDown),this.contentEl.addEventListener("paste",this.onContentPasted),this.contentEl.addEventListener("formatMessage",this.onContentChanged)):(this.contentEl.removeAttribute("contentEditable"),this.contentEl.removeEventListener("input",this.onContentChanged),this.contentEl.removeEventListener("keydown",this.onEditorKeyDown),this.contentEl.removeEventListener("paste",this.onContentPasted),this.contentEl.removeEventListener("formatMessage",this.onContentChanged))}},{key:"setViewed",value:function(){this.viewed=!0,this.opened&&this.toggleOpen()}},{key:"destroy",value:function(){this.removeListeners(),this.setEditMode(!1),this.el.parentElement&&this.el.parentElement.removeChild(this.el)}},{key:"isEmptyOrWhitespace",value:function(t){return""===t.innerText.trim()&&!p.test(t.innerHTML)}},{key:"clearWhitespace",value:function(t){this.isEmptyOrWhitespace(t)&&(t.innerHTML="")}},{key:"onEditorKeyDown",value:function(t){(function(t){return t.ctrlKey&&(66===t.which||85===t.which||73===t.which||67===t.which||88===t.which||86===t.which||90===t.which)})(t)&&t.preventDefault(),this.contentEl.textContent.length>=this.props.body.maxChars&&!l.isNonInputKey(t.which)&&t.preventDefault()}},{key:"onContentPasted",value:function(t){t.preventDefault();var e=this.contentEl.textContent.length;if(!(e>=this.props.body.maxChars)){var n=(t.clipboardData||window.clipboardData).getData("Text"),i=document.getSelection(),r=i.getRangeAt(0),o=this.props.body.maxChars,s=document.createTextNode(n.substr(0,o-e));r.deleteContents(),r.insertNode(s),r.selectNodeContents(s),r.collapse(!1),i.removeAllRanges(),i.addRange(r),this.onContentChanged(t)}}},{key:"onContentChanged",value:function(t){this.updateTextData(this.props.body,this.contentEl),this.clearWhitespace(t.currentTarget),u.trigger(h.threeSixtyImage.MARKER_UPDATED,this.marker)}},{key:"updateTextData",value:function(t,e){t.innerHTML=e.innerHTML,t.style.fontFamily=s(e.style.fontFamily),t.style.fontSize=parseFloat(e.style.fontSize),t.style.fontThemeType=a(e.dataset.fontThemeType)}}]),t}()}.call(e,n,e,t))||(t.exports=i)},7552:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(4428),i=(n(818),n(6485)),o=n(3508),s=n(82),a=n(1251),l=n(8579).deviceView,u=l.isMobile,c=l.isPhone,h=(n(1815).navigation,n(9045).modes),d=n(9337),p=(d.isRightClick,d.isLeftClickOrTouch),f=(d.touchify,n(7536).MOVE_THRESHOLD);return function(){function t(n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onDoubleClick=function(t){if(i.pano.editMode){if(null!=i.currHotspot){if(i.currHotspot.pointAdditionPrevented)return;if(i.currHotspot.points.length<=2)return void i.deleteUnfinishedHotspot();if(i.mouseDidNotMove(t)||i.currHotspot.preventOverlapClose())return i.preventCloseLine.setVerts([i.currHotspot.points[0],i.currHotspot.oldClosingPoint]),i.preventCloseLine.show(),setTimeout((function(){i.preventCloseLine.hide()}),200),i.lastX=t.clientX,void(i.lastY=t.clientY)}i.finishCurrent()}},this.pano=n,this.hotspots=[],this.targetObject=this.pano.sphereMesh,this.raycaster=new e.Raycaster,this.previewPoints=[new e.Vector3,new e.Vector3],this.setupMaterials(),this.setupPreventClose(),this.drag={},document.addEventListener("dblclick",this.onDoubleClick)}return r(t,[{key:"destroy",value:function(){document.removeEventListener("dblclick",this.onDoubleClick)}},{key:"setupPreventClose",value:function(){var t=this;this.preventCloseLine={meshLine:new e.MeshLine,lineGeom:new e.Geometry,show:function(){t.pano.scene.add(t.preventCloseLine.line)},hide:function(){t.pano.scene.remove(t.preventCloseLine.line)},setVerts:function(e){t.preventCloseLine.lineGeom.vertices=e,t.preventCloseLine.meshLine.setGeometry(t.preventCloseLine.lineGeom)}},this.preventCloseLine.setVerts([new e.Vector3,new e.Vector3]),this.preventCloseLine.meshLine.setGeometry(this.preventCloseLine.lineGeom),this.preventCloseLine.line=new e.Mesh(this.preventCloseLine.meshLine.geometry,this.redLineMaterial)}},{key:"deleteUnfinishedHotspot",value:function(){if(null!=this.currHotspot&&!this.currHotspot.finished){var t=this.currHotspot;t.deleteUnfinished=!0,this.finishCurrent(!0),this.pano.removeMarker(t.marker.id)}}},{key:"isEditing",value:function(){return this.creatingHotspot||null!=this.draggableHotspot||null!=this.draggablePoint}},{key:"setupMaterials",value:function(){this.previewLineMaterial=new e.MeshLineMaterial({color:"white",resolution:new e.Vector2(100,100),sizeAttenuation:0,lineWidth:.8,side:e.DoubleSide}),this.redLineMaterial=new e.MeshLineMaterial({color:"red",resolution:new e.Vector2(100,100),sizeAttenuation:0,lineWidth:.8,side:e.DoubleSide})}},{key:"updateColors",value:function(){var t=this;this.pano.scene.children.filter((function(t){return t.userData.isPolyHotspot})).forEach((function(e){return e.userData.hotspot.color=t.pano.hotspotColor}))}},{key:"createHotspotAtPoint",value:function(t,n){var i=this.beginHotspot(t,n),r=[new e.Vector3(-100,-100,0),new e.Vector3(100,-100,0),new e.Vector3(100,100,0),new e.Vector3(-100,100,0)],o=i.plane.quaternion.conjugate();r.forEach((function(e){e.add(t),e.applyQuaternion(o)})),i.createPointObj(),this.creatingHotspot=!0,i.extendRect(r[0],r[1],r[2],r[3]),i.finish(!0),this.creatingHotspot=!1,this.pano.scene.add(i.plane),i.drag(t)}},{key:"createHotspot",value:function(t,e){var n=JSON.parse(window.atob(t)),i=this.beginHotspot(n.origin,e);return i.loadData(n),this.creatingHotspot=!1,i}},{key:"beginHotspot",value:function(t,n,r){var o=new e.PlaneGeometry(5e3,5e3,32),s=new e.MeshBasicMaterial({color:"red",depthTest:!1,transparent:!0,opacity:0}),a=new e.Mesh(o,s);return a.position.copy(t),a.layers.set(1),a.layers.enable(1),a.lookAt(this.pano.camera.position),this.pano.scene.add(a),this.targetObject=a,this.currHotspot=new i({layer:this,pano:this.pano,loc:t,marker:n,finishedFn:r}),this.creatingHotspot=!0,this.currHotspot.plane=a,this.currHotspot}},{key:"finishCurrent",value:function(t){null==this.currHotspot||this.currHotspot.finished||(this.currHotspot.finish(t),this.creatingHotspot=!1,this.downIntersect=null,this.line&&(this.line.visible=!1))}},{key:"resetPreviewLine",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.downIntersect=this.lastDownIntersect,this.previewLineMaterial.color,e||(this.previewLineMaterial.color.set("#ff0000"),setTimeout((function(){t.previewLineMaterial.color.set("#ffffff")}),200))}},{key:"calcMouseRay",value:function(t,e){this.pano.mouseRay.x=t/window.innerWidth*2-1,this.pano.mouseRay.y=-e/window.innerHeight*2+1}},{key:"getHotspotIntersection",value:function(t,e){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var n=this.pano.scene.children.filter((function(t){return!0===t.userData.isPolyHotspot})),i=this.raycaster.intersectObjects(n),r=void 0;if(i.length>0){i[0].point;r=i[0]}return r}},{key:"dragHotspot",value:function(t,e,n){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var i=this.raycaster.intersectObject(this.pano.sphereMesh),r=void 0;if(i.length>0){var o=this.draggableHotspot.userData.hotspot;this.currHotspot=o;var s=i[0].point;r=i[0],this.drag.started||(this.drag.startX=s.x-o.originPnt.x,this.drag.startY=s.y-o.originPnt.y,this.drag.startZ=s.z-o.originPnt.z,this.drag.started=!0,this.drag.count=0),this.drag.started&&(s.set(s.x-this.drag.startX,s.y-this.drag.startY,s.z-this.drag.startZ),this.drag.count++),o.drag(s)}return r}},{key:"dragControlPoint",value:function(t,e,n){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var i=this.draggablePoint,r=i.userData.hotspot,o=this.raycaster.intersectObject(r.plane);null==o&&(o=this.raycaster.intersectObject(this.pano.sphereMesh));var s=void 0;if(o.length>0){var a=o[0].point;s=o[0],this.beginDragPoint||(r.startDragPoint(),this.beginDragPoint=!0),r.dragControlPoint(i,a)}return s}},{key:"getControlPointIntersection",value:function(t,e){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);for(var n=[],i=0;i<this.pano.scene.children.length;i++){var r=this.pano.scene.children[i];if(null!=r.userData.controlGroup)for(var o=0;o<r.children.length;o++)n.push(r.children[o])}var s=this.raycaster.intersectObjects(n),a=void 0;return s.length>0&&(a=s[0]),a}},{key:"mouseDidNotMove",value:function(t){return this.lastX==t.clientX&&this.lastY==t.clientY}},{key:"startDragHotspot",value:function(t,e){if(!this.creatingHotspot){var n=this.getHotspotIntersection(t,e);n&&(this.draggableHotspot=n.object,this.pano.setCurrMarker(this.draggableHotspot.userData.marker.sprite))}}},{key:"drawRect",value:function(t,e){if(!(this.currHotspot.pointCalls&&this.currHotspot.pointCalls>1)&&this.down&&this.downCount>2&&null!=this.startIntersect){var n=this.startIntersect,i=this.getIntersection(t,this.startLoc.pageY),r=this.getIntersection(t,e),o=this.getIntersection(this.startLoc.pageX,e);return null!=n&&null!=i&&null!=r&&null!=o&&(this.line.visible=!1,this.currHotspot.extendRect(n.point,i.point,r.point,o.point),this.finishOnUp=!0),!0}}},{key:"drawPreviewLine",value:function(t,e){if(null!=this.downIntersect&&null!=this.currHotspot&&!this.currHotspot.isRectangle){var n=this.getIntersection(t,e);if(null!=n){this.previewPoints=[this.downIntersect,n.point],this.updateOrCreatePreviewLine(),this.lineGeom.vertices=this.previewPoints,this.line.visible=!0,this.meshLine.setGeometry(this.lineGeom);var i=this.currHotspot.getFirstPoint();if(null!=this.currHotspot&&null!=i){this.currHotspot.pointsReversed&&this.currHotspot.sprites.length;if(n.point.distanceTo(i)<20){for(var r=0;r<this.currHotspot.sprites.length;r++)if(i.distanceTo(this.currHotspot.sprites[r].position)<20){this.lastEndOverSprite=this.currHotspot.sprites[r],this.currHotspot.sprites[r].material.color.set(this.pano.hotspotColor);break}}else this.lastEndOverSprite&&this.lastEndOverSprite.material.color.set("#ffffff")}}}}},{key:"normalRelease",value:function(t,e,n){if(!this.isWithinPanel(t)){if(this.normalDown){var i=this.getHotspotIntersection(e,n);if(i){var r=i.object.userData.marker;r.props.hasPanel&&i.object.userData.hotspot.panelWasShown||r.triggerEvent("onlinkrelease",r.sprite.userData.id)}}this.normalDown=!1}}},{key:"normalMouseDown",value:function(t,e,n){var i=this;if(a.closest(t.target,(function(t){return a.hasClass(t,"three-sixty-image")}))&&!this.isWithinPanel(t)){var r=a.closest(t.target,(function(t){return a.hasClass(t,c?"three-sixty-image-mobile-overlay":"three-sixty-overlay")})),o=this.getHotspotIntersection(e,n);if(o){var l=o.object.userData.hotspot;if(l){var u=o.object.userData.marker,h=u.props,d=h.hasPanel;h.hasHotspotHint;this.normalDown=!0,window.requestAnimationFrame((function(){if(l.panelWasShown)l.panelWasShown=!1,l.setBorderThin();else{u.addToVisitedMarkers();var t=u.panel;if(d&&"hidden"===t.el.style.visibility)if(t.shown)c||(t.hide(!0),l.setBorderThin());else{var r=i.pano.toDomCoords(e,n);t.show(!0,r),l.setBorderThick()}else d||l.blink()}})),this.pano.stopVelocity(),r||l==this.currHotspot||(this.currHotspot=d?l:null)}else r||(this.currHotspot=null)}else if(r||(this.currHotspot=null),0===this.downCount&&!r){var p=s.getPath(this.pano,"currMarker.userData.cssMarker");this.hotspots.forEach((function(t){p||!i.pano.hotspotReveal&&!t.visited||t.blink()}))}return o}}},{key:"editorMouseDown",value:function(t,e){var n=this,i=this.getHotspotIntersection(t,e);if(i){o.hideLast();var r=i.object.userData.hotspot;null!=r?window.requestAnimationFrame((function(){var o=i.object.userData.marker,s=o.panel;if(o.props.hasPanel&&"hidden"===s.el.style.visibility){if(s.shown)s.hide(!0),n.showingPanel=null;else{var a=n.pano.toDomCoords(t,e);s.show(!0,a),n.showingPanel=s}s.bodyEl.blur()}n.currHotspot=r,n.pano.setCurrMarker(o.sprite)})):this.currHotspot=null}else this.currHotspot=null}},{key:"mouseDownAnyHotspot",value:function(t,e){var n=this.getHotspotIntersection(t,e);this.currHotspot=null==n?null:n.object.userData.hotspot}},{key:"addPoint",value:function(t){var e=this.currHotspot.addPoint(t.point);null!=e&&(null!=this.downIntersect&&(this.lastDownIntersect=this.downIntersect.clone()),this.downIntersect=e)}},{key:"startDragControlPoint",value:function(t,e){if(!this.creatingHotspot){var n=this.getControlPointIntersection(t,e);if(n){this.draggablePoint=n.object,this.draggablePoint.userData.hotspot.activatePlane(),this.pano.setCurrMarker(this.draggablePoint.userData.marker.sprite);var i=this.draggablePoint.userData.hotspot;return i.lastDraggedPoint=this.draggablePoint,i.downControlPoint(this.draggablePoint),!0}}}},{key:"startDragHotspot",value:function(t,e){if(!this.creatingHotspot){var n=this.getHotspotIntersection(t,e);n&&(this.draggableHotspot=n.object,this.pano.setCurrMarker(this.draggableHotspot.userData.marker.sprite))}}},{key:"onMouseDown",value:function(t,e,n){var i=this;if(this.pano.mode!==h.SET_INITIAL_CAMERA_ANGLE&&p(t)){if(this.downCount=0,this.down=!0,this.currHotspot){var r=this.currHotspot.marker;if(r.props.hasPanel){var o=r.panel.shown;this.currHotspot.panelWasShown=o}}this.pano.editMode&&(this.startDragControlPoint(e,n)||(this.startDragHotspot(e,n),window.requestAnimationFrame((function(){var t=i.getIntersection(e,n);i.startIntersect=t,i.startLoc={pageX:e,pageY:n};var r=null!=t&&null!=i.currHotspot&&!i.currHotspot.finished,o=null!=i.currHotspot&&i.currHotspot.finished;r?i.addPoint(t):o||null==i.currHotspot?i.editorMouseDown(e,n):i.mouseDownAnyHotspot(e,n)}))))}}},{key:"isWithinPanel",value:function(t){return a.closest(t.target,(function(t){return a.hasClass(t,"panel-el")}))}},{key:"hotspotOverOut",value:function(t,e,n){if(!this.creatingHotspot){var i=this.getHotspotIntersection(e,n),r=i?i.object.userData.hotspot:null,o=null!=this.lastHotspotOver,s=this.lastHotspotOver!==r;if(o&&s&&(this.lastHotspotOver.mouseOut(),this.lastHotspotOver=null),null!=r){if(this.isWithinPanel(t))return r.mouseOut(),void(this.lastHotspotOver=null);r.isClickable()&&s&&(this.lastHotspotOver=r,this.lastHotspotOver.mouseOver())}}}},{key:"controlPointOver",value:function(t,e){var n=this.getControlPointIntersection(t,e);if(!this.down)if(n){var i=n.object,r=i.userData.hotspot;r.overSprite(i.uuid),this.lastCntrlHot={hot:r,cntrl:i}}else if(null!=this.lastCntrlHot){var o=this.lastCntrlHot,s=o.cntrl;o.hot.outSprite(s.uuid),this.lastCntrlHot=null}}},{key:"handleCursor",value:function(t){var e=this.pano.el,n=null!=this.lastCntrlHot||null!=this.lastHotspotOver;this.pano.mode==h.DEFAULT&&(null==e.style.cursor||n||(e.style.cursor=null),this.creatingHotspot||(n||null!=this.draggablePoint||null!=this.draggableHotspot)&&(e.style.cursor=t))}},{key:"onMouseMove",value:function(t,e,n){if(this.pano.mode!==h.SET_INITIAL_CAMERA_ANGLE)if(this.down&&this.downCount++,this.hotspotOverOut(t,e,n),u&&2===this.downCount&&null!=this.currHotspot&&this.currHotspot.deselect(),this.pano.editMode)if(this.controlPointOver(e,n),this.handleCursor(this.down?'url("Moving.cur"), auto':'url("Move.cur"), auto'),this.creatingHotspot){if(this.drawRect(e,n))return;this.drawPreviewLine(e,n)}else{if(this.draggablePoint)return this.showingPanel&&this.downCount>4&&this.showingPanel.hide(),void this.dragControlPoint(e,n);if(this.draggableHotspot)return this.showingPanel&&this.downCount>8&&this.showingPanel.hide(),void this.dragHotspot(e,n)}else this.handleCursor("pointer")}},{key:"onMouseUp",value:function(t,e,n){var i=this;if(this.down=!1,this.pano.mode!==h.SET_INITIAL_CAMERA_ANGLE&&(!this.pano.editMode&&this.downCount<f&&(u&&this.hotspotOverOut(t,e,n),this.normalMouseDown(t,e,n)),this.downCount=0,this.normalRelease(t,e,n),this.pano.editMode)){if(this.draggableHotspot)this.draggableHotspot.userData.hotspot.updateData(),this.draggableHotspot=null;if(this.draggablePoint){var r=this.draggablePoint.userData.hotspot;r.stopDragControlPoint(),r.updateData(),this.draggablePoint=null,this.beginDragPoint=!1,this.currHotspot=r,this.pano.setCurrMarker(r.marker.sprite)}this.drag.started=!1,this.finishOnUp&&(window.requestAnimationFrame((function(){i.finishCurrent()})),this.finishOnUp=!1)}}},{key:"updateOrCreatePreviewLine",value:function(){null==this.line&&(this.meshLine=new e.MeshLine,this.lineGeom=new e.Geometry,this.lineGeom.vertices=this.previewPoints,this.meshLine.setGeometry(this.lineGeom),this.line=new e.Mesh(this.meshLine.geometry,this.previewLineMaterial),this.pano.scene.add(this.line))}},{key:"getIntersection",value:function(t,e,n){if(this.targetObject){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var i=this.raycaster.intersectObject(this.targetObject);if(i.length>0)return i[0];if(this.targetObject!=this.pano.sphereMesh){var r=this.raycaster.intersectObject(this.pano.sphereMesh);if(r.length>0)return r[0]}}}},{key:"currHotspot",set:function(t){this.currControlPoint||(null!=t&&t==this.lastActiveHotspot||this.lastActiveHotspot&&(this.lastActiveHotspot.panelWasShown=!1,this.lastActiveHotspot.deselect(),this.lastActiveHotspot=null),null!=t&&(this.currentActiveHotspot=t,this.lastActiveHotspot=t,t.finished&&t.select()))},get:function(){return this.currentActiveHotspot}}]),t}()}.call(e,n,e,t))||(t.exports=i)},49:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}void 0===(i=function(t){var e=n(1251),i=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},a=function(t,e){var n=e.ownerSVGElement,i=t.touches,r=o(i=void 0===i?[t]:i,1)[0],s=r.clientX,a=r.clientY,l=n.createSVGPoint();l.x=s,l.y=a;var u=l.matrixTransform(e.getScreenCTM().inverse());return{pageX:u.x,pageY:u.y}},l=20,u=15,c="#ffffff",h="#000000",d=.5,p=100,f={lc:'url("CropLeftMiddle.cur"), auto',tc:'url("CropTopCenter.cur"), auto',rc:'url("CropRightMiddle.cur"), auto',bc:'url("CropBottomCenter.cur"), auto',tl:'url("CropTopLeft.cur"), auto',tr:'url("CropTopRight.cur"), auto',br:'url("CropBottomRight.cur"), auto',bl:'url("CropBottomLeft.cur"), auto'};return function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onDown=function(t){t.currentTarget.dataset.dragRect?i.startDragRect(t):i.startDragControl(t),document.addEventListener("mouseup",i.onUp),document.addEventListener("touchend",i.onUp)},this.onMove=function(t){i.downDragRect?i.moveRectangle(t):i.downControl&&i.moveControl(t)},this.onUp=function(t){i.downControl=!1,i.downDragRect=!1,i.targetControl=null,document.removeEventListener("mouseup",i.onUp),document.removeEventListener("touchend",i.onUp)},this.container=document.querySelector(e),null==this.container&&console.warn("ImageCrop: no container found"),this.image=this.container.querySelector("img"),0!==this.image.width&&0!==this.image.height||console.warn("ImageCrop: image is not loaded"),this.createSvg(),this.x=0,this.y=0,this.right=this.image.naturalWidth,this.bottom=this.image.naturalHeight,this.edges={x:this.x,y:this.y,right:this.right,bottom:this.bottom},this.controls=[],this.controlXY={lc:{propX:"x",propY:null},tc:{propY:"y",propX:null},rc:{propX:"right",propY:null},bc:{propX:null,propY:"bottom"},tl:{propX:"x",propY:"y"},tr:{propX:"right",propY:"y"},br:{propX:"right",propY:"bottom"},bl:{propX:"x",propY:"bottom"}},document.addEventListener("mousemove",this.onMove),document.addEventListener("touchmove",this.onMove)}return r(t,[{key:"createSvg",value:function(){var t="0 0 "+parseFloat(this.image.naturalWidth)+" "+parseFloat(this.image.naturalHeight);this.svgLayer=document.createElement("div"),e.setStyles(this.svgLayer,{position:"absolute",left:0,top:0,width:"100%",height:"100%"}),this.svgLayer.innerHTML='\n        <svg class="crop-tool" style="width: 100%; height: 100%;overflow:hidden;" viewBox="'+t+'">\n          <g class="overlay-layer"><g>\n        </svg>\n      ',this.overlayLayer=this.svgLayer.querySelector(".overlay-layer"),this.container.appendChild(this.svgLayer)}},{key:"render",value:function(){this.adjustRect(),this.adjustPath(),this.adjustControls()}},{key:"setCropRect",value:function(t){var e=t.left,n=t.top,i=t.right,r=t.bottom,o=t.width,s=t.height;this.x=e,this.y=n,this.right=i,this.bottom=r,null!=o&&(this.right=this.x+o),null!=s&&(this.bottom=this.y+s),this.render()}},{key:"getCropRect",value:function(){var t=this.x-d,e=this.y-d,n=this.right+d,i=this.bottom+d,r={left:t,top:e,right:n,bottom:i,width:n-t,height:i-e};for(var o in r)r[o]=Math.abs(Math.round(r[o]));return r}},{key:"adjustRect",value:function(){e.setAttributes(this.dragRect,{x:this.x,y:this.y,width:this.right-this.x,height:this.bottom-this.y})}},{key:"adjustPath",value:function(){var t=50;e.setAttributes(this.path,{d:"\n          M "+(this.edges.x-t)+" "+(this.edges.y-t)+"\n          L "+(this.edges.right+t)+" "+(this.edges.y-t)+"\n          "+(this.edges.right+t)+" "+(this.edges.bottom+t)+"\n          "+(this.edges.x-t)+" "+(this.edges.bottom+t)+"\n          M "+this.x+" "+this.y+"\n          L "+this.right+" "+this.y+"\n            "+this.right+" "+this.bottom+"\n            "+this.x+" "+this.bottom+"\n            "+this.x+" "+this.y+"z\n        "})}},{key:"updateTransformControls",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=.7,i=1/e*n;["tl","tr","br","bl"].forEach((function(e){var n=t.controls[e],r=n.lastElementChild.dataset.rot;n.lastElementChild.setAttribute("transform",r+" scale("+i+")"),n.firstElementChild.setAttribute("transform","scale("+i+")")})),["tc","rc","bc","lc"].forEach((function(e){var n=t.controls[e].firstElementChild,r=n.firstElementChild,o=n.lastElementChild,s=n.dataset.trans.replace("15",(u*i).toFixed(4));n.setAttribute("transform",s),r.setAttribute("transform","scale("+i+")"),o.setAttribute("transform","scale("+i+")")}))}},{key:"adjustControls",value:function(){e.setAttributes(this.controls.tl,{"data-x":this.x,"data-y":this.y,transform:"translate("+this.x+" "+this.y+")"}),e.setAttributes(this.controls.tr,{"data-x":this.right,"data-y":this.y,transform:"translate("+this.right+" "+this.y+")"}),e.setAttributes(this.controls.br,{"data-x":this.right,"data-y":this.bottom,transform:"translate("+this.right+" "+this.bottom+")"}),e.setAttributes(this.controls.bl,{"data-x":this.x,"data-y":this.bottom,transform:"translate("+this.x+" "+this.bottom+")"});var t=this.x,n=this.y+(this.bottom-this.y)/2;e.setAttributes(this.controls.lc,{"data-x":t,"data-y":n,transform:"translate("+t+" "+n+")"}),t=this.right,e.setAttributes(this.controls.rc,{"data-x":t,"data-y":n,transform:"translate("+t+" "+n+")"}),t=this.x+(this.right-this.x)/2,n=this.y,e.setAttributes(this.controls.tc,{"data-x":t,"data-y":n,transform:"translate("+t+" "+n+")"}),n=this.bottom,e.setAttributes(this.controls.bc,{"data-x":t,"data-y":n,transform:"translate("+t+" "+n+")"})}},{key:"createCenterHandle",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=i("g"),a=i("rect"),l=i("rect"),d=i("g");s.dataset.type=r,e.setAttributes(a,{x:0,y:0,width:u,height:30,fill:"transparent"}),e.setAttributes(l,{x:0,y:0,width:10,height:30,fill:h,"stroke-width":1,"vector-effect":"non-scaling-stroke",stroke:c}),e.setAttributes(d,{"data-trans":o,transform:o}),e.setAttributes(s,{"data-x":t,"data-y":n,transform:"translate("+t+" "+n+")"}),s.classList.add("drag-control"),s.style.cursor=f[r],d.appendChild(a),d.appendChild(l),s.appendChild(d),this.controls.push(s),this.controls[r]=s,this.el.appendChild(s),s.addEventListener("mousedown",this.onDown),s.addEventListener("touchstart",this.onDown)}},{key:"createCornerHandle",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=i("g"),d=i("rect"),p=i("path");u.dataset.type=r,e.setAttributes(d,{x:l*-s,y:l*-a,width:l,height:l,fill:"transparent"});var v=9,g=4*v;e.setAttributes(p,{d:"M 0 0 L "+g+" 0 "+g+" "+v+" "+v+" "+v+" "+v+" "+g+" 0 "+g+"z",transform:"rotate("+o+")","data-rot":"rotate("+o+")",fill:h,"stroke-width":1,"vector-effect":"non-scaling-stroke",stroke:c}),e.setAttributes(u,{"data-x":t,"data-y":n,transform:"translate("+t+" "+n+")"}),u.classList.add("drag-control"),u.appendChild(d),u.appendChild(p),u.style.cursor=f[r],this.controls.push(u),this.controls[r]=u,this.el.appendChild(u),u.addEventListener("mousedown",this.onDown),u.addEventListener("touchstart",this.onDown)}},{key:"startDragRect",value:function(t){var e=a(t,this.overlayLayer),n=e.pageX,i=e.pageY;this.targetControl=t.currentTarget,this.downDragRect=!0,this.startX=n-this.x,this.startY=i-this.y,this.startRight=n-this.right,this.startBottom=i-this.bottom,this.startWidth=this.right-this.x,this.startHeight=this.bottom-this.y}},{key:"startDragControl",value:function(t){var e=a(t,this.overlayLayer),n=e.pageX,i=e.pageY;this.targetControl=t.currentTarget,this.downControl=!0,this.startX=n-parseFloat(this.targetControl.dataset.x),this.startY=i-parseFloat(this.targetControl.dataset.y)}},{key:"moveRectangle",value:function(t){var e=a(t,this.overlayLayer),n=e.pageX,i=e.pageY;this.x=n-this.startX,this.y=i-this.startY,this.right=n-this.startRight,this.bottom=i-this.startBottom;this.x<=this.edges.x&&(this.x=this.edges.x,this.right=this.x+this.startWidth),this.y<=this.edges.y&&(this.y=this.edges.y,this.bottom=this.y+this.startHeight),this.right>=this.edges.right&&(this.x=this.edges.right-this.startWidth,this.right=this.edges.right),this.bottom>=this.edges.bottom&&(this.y=this.edges.bottom-this.startHeight,this.bottom=this.edges.bottom),this.adjustRect(),this.adjustPath(),this.adjustControls()}},{key:"moveControl",value:function(t){var e=a(t,this.overlayLayer),n=e.pageX,i=e.pageY,r=n-this.startX,o=i-this.startY,s=this.targetControl.dataset.type,l=this.controlXY[s],u=l.propX,c=l.propY;null!=this[u]&&(this[u]=r),null!=this[c]&&(this[c]=o),"x"===u?(this.x<=this.edges.x&&(r=this.x=this.edges.x),this.x>=this.right-p&&(r=this.x=this.right-p)):"right"===u&&(this.right>=this.edges.right&&(r=this.right=this.edges.right),this.right<=this.x+p&&(r=this.right=this.x+p)),"y"===c?(this.y<=this.edges.y&&(o=this.y=this.edges.y),this.y>=this.bottom-p&&(o=this.y=this.bottom-p)):"bottom"===c&&(this.bottom>=this.edges.bottom&&(o=this.bottom=this.edges.bottom),this.bottom<=this.y+p&&(o=this.bottom=this.y+p)),this.adjustControls(),this.adjustPath(),this.adjustRect()}},{key:"setupDragRect",value:function(){this.dragRect=i("rect"),this.dragRect.style.pointerEvents="all",this.dragRect.addEventListener("mousedown",this.onDown),this.dragRect.addEventListener("touchstart",this.onDown),e.setAttributes(this.dragRect,{"data-drag-rect":!0,x:0,y:0,width:0,height:0,fill:"transparent"}),this.dragRect.classList.add("drag-control"),this.adjustRect(),this.el.appendChild(this.dragRect)}},{key:"setupPath",value:function(){var t;this.path=i("path"),this.d="M 0 0 L 0 0",e.setAttributes(this.path,(s(t={stroke:c,"vector-effect":"non-scaling-stroke","stroke-width":1},"vector-effect","non-scaling-stroke"),s(t,"fill","rgba(0, 0, 0, 0.3)"),s(t,"fill-rule","evenodd"),t)),this.adjustPath(),this.el.appendChild(this.path)}},{key:"setupControls",value:function(){this.createCornerHandle(this.x,this.y,"tl"),this.createCornerHandle(this.right,this.y,"tr",90,1),this.createCornerHandle(this.right,this.bottom,"br",180,1,1),this.createCornerHandle(this.x,this.bottom,"bl",270,0,1),this.createCenterHandle(this.x+(this.right-this.x)/2,this.y,"tc","translate(15 0) rotate(90)","ns-resize"),this.createCenterHandle(this.x,this.y+(this.bottom-this.y)/2,"lc","translate(0 -15)","ew-resize"),this.createCenterHandle(this.right,this.y+(this.bottom-this.y)/2,"rc","translate(0 15) rotate(180)","ew-resize"),this.createCenterHandle(this.x+(this.right-this.x)/2,this.bottom,"bc","translate(-15 0) rotate(-90)","ns-resize")}},{key:"setupElement",value:function(){this.container.appendChild(this.svgLayer),this.el=i("g"),this.overlayLayer.appendChild(this.el),this.setupDragRect(),this.setupPath(),this.setupControls()}},{key:"show",value:function(){document.body.classList.add("crop-tool-shown"),this.setupElement()}},{key:"hide",value:function(){var t=this;document.body.classList.remove("crop-tool-shown"),this.svgLayer.parentNode.removeChild(this.svgLayer),this.el.parentNode.removeChild(this.el),document.removeEventListener("mousemove",this.onMove),document.removeEventListener("touchmove",this.onMove),this.controls.forEach((function(e){e.removeEventListener("mousedown",t.onDown),e.removeEventListener("touchstart",t.onDown)}))}}]),t}()}.call(e,n,e,t))||(t.exports=i)},8400:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6138),i=n(4428),o=n(3508),s=n(4938),a=n(6295),l=n(1251),u=n(82),c=n(9032),h=n(8880),d=n(1681),p=n(7536).MOVE_THRESHOLD,f=n(1815).navigation,v=n(7954),g=v.imgBufferCtx,m=v.imgBuffer,y=v.svgHtmlIcon,b=v.svgImageIcon,w=(v.convertDeprecatedIconToBase64,v.unpackHex),A=v.packRgb,S=v.easeColor,E=(v.setColor,v.overlayColor),x=n(9337),T=x.touchify,_=(x.isRightclick,x.isLeftClickOrTouch),C=n(5505),k=C.enterOrTouchStart,M=C.leaveOrTouchEnd,O=(C.clickOrTouchEnd,C.downOrTouchStart),P=C.moveOrTouchMove,L=C.upOrTouchEnd,I=n(8579).device.isMobile,R=n(7812).math.TWO_PI,D=.3,N=50,H=100,V='url("Move.cur"), auto',F=document.createElement("div");F.classList.add("offscreen");var B=function t(e,n){if(e.childElementCount>0)for(var i=e.firstElementChild;null!=i;)t(i,n),i=i.nextElementSibling;n(e)},j="data:image/svg+xml;base64, PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCIgd2lkdGg9IjI1NiIgaGVpZ2h0PSIyNTYiIGNsYXNzPSJpY29uIj48ZyBzdHJva2U9Im5vbmUiIGZpbGw9ImJsYWNrIiAvPjwvc3ZnPg==";return function(){function t(e){var n=this,i=e.pano,r=e.loc,s=e.sprite,a=e.backSprite,l=e.id,d=e.idx,f=e.canvas,v=e.ctx,g=e.tex,m=e.props;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onEditorSettingsChanged=function(){n.updateHint()},this.onEditMode=function(t){n.editMode=n.pano.editMode,n.editableMarker(),n.setupPanel(),n.editableLabel(),n.editableTooltip(),n.editableHotspot(),n.editorListeners()},this.onEditLabel=function(){var t=N+(n.labelText.clientWidth>0?35+n.labelText.clientWidth:0);n.bg.style.width=t+"px",n.props.label.width=t},this.onMouseEnter=function(){n.pano.editMode||(n.mouseOver=!0,n.setState("over"),n.enterAnimation(),n.enterToolTip(),n.enterLabel())},this.onMouseLeave=function(){n.pano.editMode||(n.mouseOver=!1,n.setState("normal"),n.leaveAnimation(),n.leaveToolTip(),n.leaveLabel())},this.onReleaseOutsideLabel=function(t){n.el.contains(t.target)||n.props.hasPanel&&n.panel.el.contains(t.target)||(n.hideLabel(),n.disableActive(),document.removeEventListener(O,n.onReleaseOutside))},this.onMouseDown=function(t){if(n.moveCount=0,n.pano.onMouseDown(t),n.sprite.visible&&_(t)){var e=T(t,n.pano),i=e.pageX,r=e.pageY;e.gesture;n.lastX=i,n.lastY=r,n.pano.editMode&&(n.dragging=!0),o.hideLast(n.panel),null!=n.panel&&n.panel.shown&&(n.panel.hide(),n.keepPanelHidden=!0,n.disableActive("over")),n.pano.lastMarkerClicked=n}},this.onMouseMove=function(t){if(n.moveCount++,n.sprite.visible){var e=T(t,n.pano),i=e.pageX,r=e.pageY;e.gesture;n.lastX=i,n.lastY=r}},this.onMouseUp=function(){n.moveCount<p&&(o.hideLast(n.panel),n.downPano(),n.downActiveState(),n.downShowHidePanel(),n.downEditMode(),n.downLabel(),n.hideToolTip(),n.addToVisitedMarkers()),n.sprite.visible&&(null==n.panel||u.getPath(n,"panel.shown"))&&n.triggerEvent("onlinkrelease",n.sprite.userData.id)},this.editMode=i.editMode,this.pano=i,this.sprite=s,this.backSprite=a,this.id=l,this.idx=d,this.canvas=f,this.ctx=v,this.tex=g,this.createDefaults(m),this.setProperties(m),this.setupPanel(),this.createGraphics(),this.createSprite(r),c.on(h.threeSixtyImage.EDIT_MODE_CHANGED,this.onEditMode),this.editorListeners()}return r(t,[{key:"drawSprite",value:function(t,e,n,i,r){var o=this;"none"===i&&(i="transparent"),"none"===n&&(n="transparent"),"none"===e&&(e="transparent"),e=w(e),n=w(n),i=w(i),r=w(r);var s=this.canvas.width/2,a=this.canvas.height/2,l=this.canvas.width/2-22;window.cancelAnimationFrame(this.renderId),t((function(t){var u=o.ctx,c=o.canvas;o.initialColorsSet&&o.texStyle||(o.texStyle={bgFill:e,bgStroke:n,iconStroke:i,iconFill:r},o.initialColorsSet=!0);!function r(){u.globalCompositeOperation="source-over",u.clearRect(0,0,c.width,c.height);var h=S(o.texStyle.bgFill,e),d=S(o.texStyle.bgStroke,n),p=S(o.texStyle.iconStroke,i),f=h&&d&&p;u.fillStyle=A(o.texStyle.bgFill),u.strokeStyle=A(o.texStyle.bgStroke),u.lineWidth=30,u.beginPath(),u.arc(s,a,l,0,R,!1),u.fill(),u.shadowColor="transparent",u.stroke();var v=g;null!=t&&(v.globalCompositeOperation="source-over",v.fillStyle="black",v.fillRect(0,0,c.width,c.height),v.globalCompositeOperation="source-in",v.drawImage(t,0,0),v.fillStyle=A(o.texStyle.iconStroke),v.fillRect(0,0,c.width,c.height));var y=o.props.iconScale||1,b=c.width*y,w=b/2,E=c.width/2-w,x=c.height/2-w;u.drawImage(m,E,x,b,b),o.renderId=window.requestAnimationFrame(r),f&&window.cancelAnimationFrame(o.renderId),o.tex.needsUpdate=!0}()}))}},{key:"editableLabel",value:function(){null!=this.labelText&&(this.labelText.contentEditable="true",this.labelText.addEventListener("input",this.onEditLabel))}},{key:"editableTooltip",value:function(){null!=this.tooltip&&(this.tooltip.contentEditable=!0,this.tooltip.spellcheck=!1)}},{key:"editorListeners",value:function(t){null==t&&(t=this.editMode),t?c.on(h.threeSixtyImage.EDITOR_SETTINGS_CHANGED,this.onEditorSettingsChanged):c.off(h.threeSixtyImage.EDITOR_SETTINGS_CHANGED,this.onEditorSettingsChanged)}},{key:"remove",value:function(){this.teardown(),c.off(h.threeSixtyImage.EDIT_MODE_CHANGED,this.onEditMode),null!=this.panel&&this.panel.remove(),null!=this.labelText&&this.labelText.removeEventListener("input",this.onEditLabel),null!=this.hotspotHint&&this.hotspotHint.destroy()}},{key:"resize",value:function(){null!=this.panel&&this.panel.resize()}},{key:"updateLoc",value:function(t){this.updatePosition(t.x,t.y,t.z),this.panel&&this.panel.update()}},{key:"setupPanel",value:function(){(this.props.hasPanel||this.pano.editMode)&&(this.panel=new o({pano:this.pano,marker:this,data:this.props.panel,disabled:!this.props.hasPanel}))}},{key:"generateStates",value:function(t,e){var n="#ffffff"===t.toLowerCase()?E(e,t,.12):E("#000000",t,.2);return{normal:{bgStroke:t,bgStrokeWidth:2,bgFill:t,iconStroke:e,iconFill:"none"},over:{bgStroke:n,bgStrokeWidth:2,bgFill:n,iconStroke:e,iconFill:"none"},active:{bgStroke:e,bgStrokeWidth:2,bgFill:t,iconStroke:e,iconFill:"none"},activeHover:{bgStroke:e,bgStrokeWidth:2,bgFill:n,iconStroke:e,iconFill:"none"}}}},{key:"createDefaults",value:function(t){this.bgScale="tiny"===t.type?7.5:2.5;var e="hotspot"===t.type?400:H;this.defaults={states:this.generateStates("#ffffff","#007cb2"),type:"normal",hasPanel:!0,hasTooltip:!1,hasLabel:!1,scaleX:e,scaleY:e,iconScale:.6,boxShadow:"0 0 20px rgba(0, 0, 0, 0.2)",panel:{hasArrow:!0,borderRadius:5,maxWidth:260,boxShadow:"0 0px 10px rgba(0, 0, 0, 0.25)",fill:"#ffffff",stroke:"transparent",strokeWidth:0,title:this.createPanelElementDefaults("Open Sans","20"),body:this.createPanelElementDefaults("Open Sans","13")}}}},{key:"createPanelElementDefaults",value:function(t,e){return{innerHTML:"",style:{fontFamily:t,fontSize:e,fontThemeType:"none"}}}},{key:"setEditorVar",value:function(t,e){null==this.props.editorVars&&(this.props.editorVars={}),this.props.editorVars[t]=e}},{key:"getEditorVar",value:function(t){if(null!=this.props.editorVars)return this.props.editorVars[t];this.props.editorVars={}}},{key:"getData",value:function(){this.panel&&(this.props.panel=this.panel.getData());var t=this.object,n=e.cloneDeep(this.props);delete n.states,delete n.animation,this.isHotspot()&&(null!=this.polyHotspot&&(n.hotspotData=this.polyHotspot.getData()),null!=this.hotspotHint&&(this.props.hotspotHint=n.hotspotHint=e.cloneDeep(this.hotspotHint.props)));try{n.editorVars=JSON.stringify(n.editorVars)}catch(t){console.warn("Malformed 'editorVars' "+n.editorVars)}return{id:this.id,xPos:t.position.x,yPos:t.position.y,zPos:t.position.z,props:n}}},{key:"simpleColors",value:function(){null!=this.props.bgColor&&null!=this.props.fgColor&&(this.props.states=this.generateStates(this.props.bgColor,this.props.fgColor))}},{key:"adjust",value:function(t){var e=t.xPos,n=t.yPos,i=t.zPos,r=t.props;this.updatePosition(e,n,i),this.adjustProps(r),c.trigger(h.threeSixtyImage.MARKER_UPDATED,this)}},{key:"adjustProps",value:function(t){this.props=e.merge(this.props,t),this.simpleColors(),this.updateProps()}},{key:"updateProps",value:function(){this.updateIcon(),this.editMode&&(this.initialColorsSet=!1),this.setState(this.currentState,!0),this.updateType(),this.updatePanel(),this.updateHint(),this.updateLabel(),this.updateScale(),this.updateAnimation()}},{key:"updateType",value:function(){var t=this.props.type;this.lastType!==t&&("hotspot"===t?(this.ctx.globalCompositeOperation="source-over",this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.tex.needsUpdate=!0,this.hideShowControlPoints(!1),null!=this.polyHotspot&&(this.polyHotspot.visible=!0,this.polyHotspot.select(),this.el.style.display="none",this.hide(),this.pano.boundingBox.style.display="none",this.pano.hideMarkerBounds(),null!=this.panel&&this.panel.shown&&this.panel.hide())):(this.hideShowControlPoints(!0,!0),"hotspot"===this.lastType&&(this.scale(H,H),this.polyHotspot&&(this.el.style.display="block",this.show(),this.polyHotspot.visible=!1,this.polyHotspot.deselect()))),this.lastType=t,this.panoReady())}},{key:"updateAnimation",value:function(){null!=this.props.animation&&(this.backSprite.material=this.pano.getBackSpriteMaterial(e.cloneDeep(this.props)))}},{key:"updateLabel",value:function(){this.props.hasLabel}},{key:"updateIcon",value:function(){var t=this;this.canvas&&this.setState(this.currentState);var e=y(this.getIconSource()),n=this.icon&&this.icon.parentNode;if(null!=n){var i=document.createElement("div");i.innerHTML=e,n.removeChild(this.icon),this.icon=i.firstElementChild,n.appendChild(this.icon),DS.detection.browser.isIE11&&B(this.icon,(function(e){var n=e.getAttribute("fill"),i=e.getAttribute("stroke");if(null!=i&&"none"!=i&&e.setAttribute("stroke",t.props.fgColor),null==n)for(var r=e.parentNode;null==n&&null!=r;)n=r.getAttribute("fill"),r=r.parentNode;"none"!=n&&e.setAttribute("fill",t.props.fgColor)})),this.icon.style.transform="scale("+(this.props.iconScale||1)+")"}}},{key:"getIconSource",value:function(){if(this.props.iconSource){var t=this.props.iconSource.content||null!=this.pano.assetManager&&this.pano.assetManager.getAssetUrl(this.props.iconSource.assetId);if(t)return t}return j}},{key:"updatePanel",value:function(){var t=this;if(null!=this.panel)if(this.props.hasPanel){if(this.panel.forcePlaceCenter=!0,this.panel.enable(),this.wasDisabled){if(null!=this.polyHotspot){var e=this.polyHotspot,n=this.pano.vecToScreenPosition(e.getCenterPoint(e.shapeMesh));this.panel.show(!0,n),window.requestAnimationFrame((function(){t.panel.bodyEl.blur()}))}else this.panel.show();this.wasDisabled=!1}this.panel.forcePlaceCenter=!0,this.panel.adjust(this.props.panel)}else this.wasDisabled=!0,this.panel.disable();else this.props.hasPanel&&this.setupPanel()}},{key:"isGuided",value:function(){return this.pano.navigation.type===f.GUIDED}},{key:"hintEnabled",value:function(){return this.props.hasHotspotHint&&this.isHotspot()&&!1===this.pano.hotspotReveal&&(this.isGuided()||this.editMode&&this.pano.editorSettings.navigationType===f.GUIDED)}},{key:"updateHint",value:function(){if(this.hintEnabled()){var t=this.hotspotHint&&this.hotspotHint.enabled;null==this.hotspotHint?this.hotspotHint=new s({parentEl:this.pano.overlaysEl,localizedText:this.pano.localizedText,enabled:!0,props:this.props.hotspotHint,editMode:this.editMode,marker:this}):this.hotspotHint.update({enabled:!0,props:this.props.hotspotHint,editMode:this.editMode}),this.pano.currMarker===this.sprite&&this.hotspotHint.show(!t)}else null!=this.hotspotHint&&this.hotspotHint.enable(!1)}},{key:"isHotspot",value:function(){return"hotspot"===this.props.type}},{key:"initEditorVars",value:function(){if(null!=this.props.editorVars)try{this.props.editorVars=JSON.parse(this.props.editorVars)}catch(t){console.warn("Malformed 'editorVars' "+this.props.editorVars)}}},{key:"setProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props=e.merge(this.defaults,t),this.initEditorVars(),this.isHotspot()||(null==this.props.states.over&&(this.props.states.over=this.props.states.normal),this.simpleColors())}},{key:"setState",value:function(t,e){var n=this;if(!this.isHotspot()&&(this.active&&(t=this.mouseOver?"activeHover":"active"),this.pano.editMode&&(t="normal"),this.props.states[t]||e)){var i=this.props.states[t],r=i.bgStroke,o=i.bgStrokeWidth,s=i.bgFill,a=i.iconStroke,l=i.iconFill;if(this.bg.style.border=o*this.bgScale*.5+"px solid "+r,null!=this.props.boxShadow&&(this.bg.style.boxShadow=this.props.boxShadow),this.bg.style.background=s,this.icon.setAttribute("stroke",a),this.icon.setAttribute("fill",l),this.currentState=t,null!=this.canvas){this.drawSprite((function(t){return b(n.getIconSource(),t)}),s,r,a,l)}}}},{key:"addLabel",value:function(){if(this.props.hasLabel){var t=document.createElement("div");t.classList.add("marker-label-container"),t.innerHTML="\n          <div class='marker-label'>\n            enter text...\n          </div>\n        ",this.el.appendChild(t),this.bg.classList.add("has-label"),this.labelEl=t,this.labelEl.style.left="50px",this.labelEl.style.width=0,this.labelEl.style.height="50px",this.labelText=this.labelEl.firstElementChild,this.labelText.style.color=this.props.label.textColor,this.labelText.innerHTML=this.props.label.html,this.editMode&&this.editableLabel()}}},{key:"showLabel",value:function(t){var e=this;if(null!=this.labelEl){var n=this.props.label.width||(this.labelText.clientWidth>0?35+function(t){var e=document.createElement("div");e.setAttribute("class",t.getAttribute("class")),e.innerHTML=t.innerHTML,F.innerHTML="",F.appendChild(e),document.body.appendChild(F);var n=e.clientWidth;return document.body.removeChild(F),n}(this.labelText):0);this.labelShown=!0;var i=t?0:D;a.to(this.bg,i,{ease:"power4.out",width:n,height:N}),a.to(this.bg,D,{scaleX:1.05,scaleY:1.05,overwrite:!1}),a.to(this.labelEl,i,{ease:"power4.out",width:n-N,onComplete:function(){e.labelEl.style.width="auto"}})}}},{key:"ariaHidden",value:function(t){this.pano.isGuidedNav()&&null!=this.accChildEl&&(t?this.accChildEl.setAttribute("aria-hidden",!0):this.accChildEl.removeAttribute("aria-hidden"))}},{key:"hide",value:function(){this.el.style.visibility="hidden",this.el.style.cursor="default",this.sprite.visible=!1,this.backSprite.visible=!1,null!=this.hotspotHint&&this.hotspotHint.hide(),this.ariaHidden(!0)}},{key:"show",value:function(){this.el.style.visibility="visible",this.el.style.cursor=null,this.sprite.visible=!0,this.backSprite.visible=!0,this.ariaHidden(!1)}},{key:"hideLabel",value:function(){this.props.label&&null!=this.labelEl&&(this.labelShown=!1,a.to(this.bg,D,{ease:"power4.out",width:N,height:N,scaleX:1,scaleY:1}),a.to(this.labelEl,D,{ease:"power4.out",width:0}))}},{key:"hideShowControlPoints",value:function(t,e){(this.isHotspot()||e)&&[this.ctrlTl,this.ctrlTr,this.ctrlBr,this.ctrlBl].forEach((function(e){e.style.display=t?"block":"none"}))}},{key:"displayBounds",value:function(){var t=this.pano.spriteWidth,e=this.pano.spriteHeight;if(this.isHotspot()){var n=this.el.getBoundingClientRect();t=n.width,e=n.height}if(t&&e){var i=t/N,r=1/i,o=e/N,s=1/o,a=Math.min(r,s);Math.min(i,o);this.hideShowControlPoints(!1),this.isHotspot()?(this.hbT.setAttribute("stroke-width",4*s),this.hbR.setAttribute("stroke-width",4*r),this.hbB.setAttribute("stroke-width",4*s),this.hbL.setAttribute("stroke-width",4*r)):this.boundsRect.setAttribute("stroke-width",this.isHotspot()?4*a:a),this.ctrlTl.setAttribute("stroke-width",a),this.ctrlTl.setAttribute("transform","scale("+r+", "+s+")");var l=N*i,u=N*o,c="scale("+r+", "+s+")";return this.ctrlTr.setAttribute("stroke-width",a),this.ctrlTr.setAttribute("transform",c+" translate("+l+", 0)"),this.ctrlBr.setAttribute("stroke-width",a),this.ctrlBr.setAttribute("transform",c+" translate("+l+", "+u+")"),this.ctrlBl.setAttribute("stroke-width",a),this.ctrlBl.setAttribute("transform",c+" translate(0, "+u+")"),this.boundsEl.style.display="block",this}}},{key:"controlPoints",value:function(){var t=this;return["tl","tr","br","bl"].reduce((function(e,n){return'<rect class="marker-ctrl-'+n+'"\n          style="display:'+(t.isHotspot()?"none":"block")+'"\n          stroke="blue" fill="white" stroke-width="1"\n          x="'+'-3.5" y="'+'-3.5"\n          width="7" height="7"\n          vector-effect="non-scaling-stroke"/>'+e}),"")}},{key:"editableHotspot",value:function(){this.isHotspot()&&(this.boundsEl.style.display=this.editMode?"block":"none")}},{key:"hotspotBorder",value:function(){var t=this.pano.hotspotColor;return'\n        <g class="hot-borders">\n          <path class="hot-border-t" d="M 0 0 L 50 0" stroke-width="1" stroke="'+t+'" />\n          <path class="hot-border-r" d="M 50 0 L 50 50" stroke-width="1" stroke="'+t+'" />\n          <path class="hot-border-b" d="M 50 50 L 0 50" stroke-width="1" stroke="'+t+'" />\n          <path class="hot-border-l" d="M 0 50 L 0 0" stroke-width="1" stroke="'+t+'" />\n        </g>\n      '}},{key:"updateHotspotColor",value:function(){var t=this;[this.hbT,this.hbR,this.hbB,this.hbL].forEach((function(e){e.setAttribute("stroke",t.pano.hotspotColor)})),this.boundsEl.firstElementChild.setAttribute("fill",this.pano.hotspotTransColor)}},{key:"editableMarker",value:function(){this.el.style.cursor=this.pano.editMode?V:null}},{key:"panoReady",value:function(){if(this.editMode||this.isGuided()){var t=this.boundsEl.firstElementChild;this.isHotspot()?(t.setAttribute("fill",this.pano.hotspotTransColor),t.setAttribute("stroke","none"),l.addClass(this.boundsEl,"hotspot-bounds"),this.boundsEl.style.display="block",this.boundsEl.style.overflow="hidden",this.displayBounds(),this.hotBordersEl.style.display="block"):(l.removeClass(this.boundsEl,"hotspot-bounds"),t.setAttribute("fill","none"),t.setAttribute("stroke","white"),this.boundsEl.style.overflow="visible",this.hotBordersEl.style.display="none")}}},{key:"setAccChild",value:function(t){this.accChildEl=t.querySelector('[data-marker-id="'+this.id+'"]'),null!=this.panel&&(this.panel.accChildEl=t.querySelector('[data-panel-id="'+this.id+'"]'))}},{key:"getAccHtml",value:function(){var t="marker",e="hotspot"||d.getString("three_image_hotspot"),n=t||d.getString("three_image_marker"),i=this.props.hasPanel,r=u.getPath(this,"panel.titleEl.textContent"),o=this.props.name!=r?this.props.name:"",s=!!this.pano.isGuidedNav()&&(this.isHotspot()?!this.polyHotspot.isVisible:!this.sprite.visible),a='<button\n        aria-label="'+(this.isHotspot()?e:"")+" "+n+" "+o+'"\n        class="acc-shadow-el acc-button acc-three-sixty-marker"\n        id="acc-m-'+this.id+'"\n        data-marker-id="'+this.id+'"\n        aria-hidden="'+s+'"\n        aria-controls="acc-'+this.id+'"\n      tabindex="0" type="button" '+(i?'aria-expanded="false"':"")+">\n        <p><span>"+o+"</span></p>\n      </button>\n      ";return i&&(a+=this.panel.getAccHtml(this.id)),a}},{key:"createGraphics",value:function(){this.el=document.createElement("div"),this.el.classList.add("marker-el");var t=y(j);this.el.innerHTML='\n        <div class="marker-content">\n          <div class="bg"></div>\n          '+t+'\n        </div>\n        <svg class="marker-bounds" style="display:none;">\n          <rect\n            class="marker-bounds-rect" stroke="white" fill="none" stroke-width="1"\n            x=0 y="0" width="'+'50" height="'+'50" />\n\n          '+this.hotspotBorder()+"\n          "+this.controlPoints()+"\n        </div>\n      ",this.boundsEl=this.el.querySelector(".marker-bounds"),this.boundsRect=this.el.querySelector(".marker-bounds-rect"),this.ctrlTl=this.el.querySelector(".marker-ctrl-tl"),this.ctrlTr=this.el.querySelector(".marker-ctrl-tr"),this.ctrlBr=this.el.querySelector(".marker-ctrl-br"),this.ctrlBl=this.el.querySelector(".marker-ctrl-bl"),this.hotBordersEl=this.el.querySelector(".hot-borders"),this.hbT=this.el.querySelector(".hot-border-t"),this.hbR=this.el.querySelector(".hot-border-r"),this.hbB=this.el.querySelector(".hot-border-b"),this.hbL=this.el.querySelector(".hot-border-l"),this.bg=this.el.querySelector(".bg"),this.bg.classList.add(this.props.type+"-type"),this.addLabel(),this.createToolTip(),this.content=this.el.querySelector(".marker-content"),null==this.canvas||DS.detection.browser.isIE11||(this.content.style.opacity=0),this.bgRect=this.bg.querySelector(".bg-rect"),this.icon=this.el.querySelector(".icon"),this.currentState="normal",this.updateProps(),this.panoReady(),this.editableMarker()}},{key:"createToolTip",value:function(){this.props.hasTooltip&&(this.tooltip=document.createElement("div"),this.tooltip.classList.add("tooltip-el"),this.tooltip.classList.add(this.props.type+"-marker"),this.bg.classList.add("has-tooltip"),null!=this.props.scale&&(this.tooltip.style.transform="scale("+3*this.props.scale+")"),this.el.prepend(this.tooltip),this.tooltip.innerHTML=this.props.toolTipHtml||"enter text...",this.editMode?this.editableTooltip():this.hideToolTip())}},{key:"hideToolTip",value:function(){var t=this;this.props.hasTooltip&&(this.tooltip.style.opacity=0,clearTimeout(this.hideTooltipId),this.hideTooltipId=setTimeout((function(){t.tooltip.style.display="none"}),250))}},{key:"showToolTip",value:function(){clearTimeout(this.hideTooltipId),this.tooltip.style.display="block",this.tooltip.style.opacity=1}},{key:"enterAnimation",value:function(){"moveUp"===this.props.animation&&(this.bg.style.boxShadow="0 5px 20px rgba(0, 0, 0, 0.3)",a.to(this.content,.5,{y:-5,ease:"power4.out"})),"scaleUp"===this.props.animation&&(this.bg.style.boxShadow="0 0 20px rgba(0, 0, 0, 0.3)",a.to(this.content,.5,{scaleX:1.05,scaleY:1.05,ease:"power4.out"}))}},{key:"enterToolTip",value:function(){this.props.hasTooltip&&this.showToolTip()}},{key:"enterLabel",value:function(){this.props.hasLabel&&"hover"===this.props.label.showOn&&this.showLabel()}},{key:"leaveAnimation",value:function(){"moveUp"===this.props.animation&&(a.to(this.content,.2,{y:0,ease:"power4.out"}),this.bg.style.boxShadow=this.props.boxShadow),"scaleUp"===this.props.animation&&(a.to(this.content,.5,{scaleX:1,scaleY:1,ease:"power4.out"}),this.bg.style.boxShadow=this.props.boxShadow)}},{key:"leaveToolTip",value:function(){!this.pano.editMode&&this.props.hasTooltip&&this.hideToolTip()}},{key:"leaveLabel",value:function(){this.props.hasLabel&&"hover"===this.props.label.showOn&&this.hideLabel()}},{key:"disableActive",value:function(t){this.active&&(this.active=!1,this.setState(t||"normal"))}},{key:"downPano",value:function(){this.pano.setCurrMarker(this.sprite),this.pano.downOnMarker=!0,this.pano.stopVelocity()}},{key:"downActiveState",value:function(){var t=this;null!=this.props.states.active&&(this.active=!0,this.setState("active"),this.props.hasLabel||window.requestAnimationFrame((function(){document.addEventListener(O,t.onReleaseOutsideLabel)})))}},{key:"downShowHidePanel",value:function(){null==this.panel||this.labelShown||(this.panel.shown?(this.panel.hide(),this.disableActive("over")):this.keepPanelHidden?(this.keepPanelHidden=!1,this.disableActive("over")):(this.panel.show(),this.panel.hideSelectionBoxes()))}},{key:"downEditMode",value:function(){if(this.pano.editMode)return this.pano.displayBoundingBox(),void(this.pano.boundingBox.style.display="block")}},{key:"downLabel",value:function(){this.props.hasLabel&&"down"===this.props.label.showOn&&(this.showLabel(),document.addEventListener(O,this.onReleaseOutsideLabel))}},{key:"disablePulse",value:function(){this.backSprite.material=this.pano.getBackSpriteMaterial(e.cloneDeep(this.props),!0),this.isHotspot()&&null!=this.polyHotspot&&this.polyHotspot.disablePulse()}},{key:"enablePulse",value:function(){this.backSprite.material=this.pano.getBackSpriteMaterial(e.cloneDeep(this.props),!1),this.isHotspot()&&null!=this.polyHotspot&&this.polyHotspot.enablePulse()}},{key:"reset",value:function(){this.isVisited&&(this.isVisited=!1,this.enablePulse())}},{key:"updateResume",value:function(){null!=this.panel&&this.pano.model.updateLabelState(this.idx,this.panel.shown),this.pano.model.setVisitedMarkers()}},{key:"addToVisitedMarkers",value:function(){null!=this.pano.model&&(null!=this.panel&&this.pano.model.updateLabelState(this.idx,this.panel.shown),this.isVisited?this.pano.model.setVisitedMarkers():this.pano.model.addVisitedMarker(this.idx)),this.visited=!0}},{key:"setHotspotHintViewed",value:function(){this.props.hasHotspotHint&&null!=this.hotspotHint&&this.hotspotHint.setViewed()}},{key:"resumeVisited",value:function(t){var e=this;this.isVisited=!0,this.setHotspotHintViewed(),this.disablePulse(),this.isHotspot()&&null!=this.polyHotspot&&(this.polyHotspot.visited=!0),null!=this.panel&&t&&(this.panel.forcePlaceCenter=!0,window.requestAnimationFrame((function(){e.panel.show()})))}},{key:"teardown",value:function(){null!=this.hotspotHint&&(this.hotspotHint.enable(!1),this.hotspotHint.destroy(),this.hotspotHint=null),this.editorListeners(!1);var t=this.object.element;t.removeEventListener(k,this.onMouseEnter),t.removeEventListener(M,this.onMouseLeave),document.removeEventListener(P,this.onMouseMove),t.removeEventListener(L,this.onMouseUp)}},{key:"updateScale",value:function(){null!=this.object&&this.scale(this.props.scale)}},{key:"markerUpdated",value:function(){var t=this;this.isHotspot()||(clearTimeout(this.updateId),this.updateId=setTimeout((function(){c.trigger(h.threeSixtyImage.MARKER_UPDATED,t)}),100))}},{key:"scale",value:function(t,e){null!=t&&null!=e&&(this.scaleX(t),this.scaleY(e))}},{key:"scaleX",value:function(t){null!=t&&(this.sprite.scale.x=t,this.object.scale.x=t/N,this.props.scaleX=t,this.backSprite.scale.x=this.backSprite.scale.y=Math.min(3*this.props.scaleX,3*this.props.scaleY),this.markerUpdated())}},{key:"scaleY",value:function(t){null!=t&&(this.sprite.scale.y=t,this.object.scale.y=t/N,this.props.scaleY=t,this.backSprite.scale.x=this.backSprite.scale.y=Math.min(3*this.props.scaleX,3*this.props.scaleY),this.markerUpdated())}},{key:"updatePosition",value:function(t,e,n){null!=t&&(this.object.position.x=t,this.sprite.position.x=t,this.backSprite.position.x=t),null!=e&&(this.object.position.y=e,this.sprite.position.y=e,this.backSprite.position.y=e),null!=n&&(this.object.position.z=n,this.sprite.position.z=n,this.backSprite.position.z=n),this.markerUpdated()}},{key:"createSprite",value:function(t){var e=new i.CSS3DSprite(this.el);this.object=e,e.position.x=t.x,e.position.y=t.y,e.position.z=t.z,this.pano.cssScene.add(e),this.pano.polyHotspot||(e.element.style.pointerEvents="all"),I||e.element.addEventListener(k,this.onMouseEnter),e.element.addEventListener(M,this.onMouseLeave),e.element.addEventListener(O,this.onMouseDown),document.addEventListener(P,this.onMouseMove),e.element.addEventListener(L,this.onMouseUp),"number"==typeof this.props.scale&&(this.props.scale=[this.props.scale,this.props.scale]),this.isHotspot()?this.scale(H,H):null!=this.props.scaleX&&null!=this.props.scaleY?this.scale(this.props.scaleX,this.props.scaleY):this.scale(H,H)}},{key:"triggerEvent",value:function(t,e){this.editMode||this.pano.model.executeFilteredPlayerEvent((function(t){return t.triggerid===e}),t)}},{key:"dragging",set:function(t){this.pano.editMode&&(this.el.style.cursor=t?'url("Moving.cur"), auto':V),this.isDragging=t},get:function(){return this.isDragging}},{key:"visited",set:function(t){this.isVisited||(null!=this.pano.vars&&this.pano.visitedMarkers<this.pano.vars.total.value()&&this.pano.visitedMarkers++,this.isVisited=t,this.isVisited&&(this.disablePulse(),this.setHotspotHintViewed()))},get:function(){return this.isVisited}}]),t}()}.call(e,n,e,t))||(t.exports=i)},818:function(t,e,n){"use strict";var i;void 0===(i=function(i){var r=n(4428);function o(){r.BufferGeometry.call(this),this.type="MeshLine",this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this._points=[],this._geom=null,this.widthCallback=null,this.matrixWorld=new r.Matrix4,Object.defineProperties(this,{geometry:{enumerable:!0,get:function(){return this}},geom:{enumerable:!0,get:function(){return this._geom},set:function(t){this.setGeometry(t,this.widthCallback)}},points:{enumerable:!0,get:function(){return this._points},set:function(t){this.setPoints(t,this.widthCallback)}}})}function s(t,e){var n=new r.Matrix4,i=new r.Ray,o=new r.Sphere,s=new r.Vector3,a=this.geometry;if(o.copy(a.boundingSphere),o.applyMatrix4(this.matrixWorld),!1!==t.ray.intersectSphere(o,s)){n.getInverse(this.matrixWorld),i.copy(t.ray).applyMatrix4(n);var l=new r.Vector3,u=new r.Vector3,c=new r.Vector3,h=this instanceof r.LineSegments?2:1,d=a.index,p=a.attributes;if(null!==d)for(var f=d.array,v=p.position.array,g=p.width.array,m=0,y=f.length-1;m<y;m+=h){var b=f[m],w=f[m+1];l.fromArray(v,3*b),u.fromArray(v,3*w);var A=null!=g[Math.floor(m/3)]?g[Math.floor(m/3)]:1,S=t.params.Line.threshold+this.material.lineWidth*A/2,E=S*S;if(!(i.distanceSqToSegment(l,u,s,c)>E)){s.applyMatrix4(this.matrixWorld);var x=t.ray.origin.distanceTo(s);x<t.near||x>t.far||(e.push({distance:x,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}),m=y)}}}}function a(t,e,n,i,r){var o=void 0;if(t=t.subarray||t.slice?t:t.buffer,n=n.subarray||n.slice?n:n.buffer,t=e?t.subarray?t.subarray(e,r&&e+r):t.slice(e,r&&e+r):t,n.set)n.set(t,i);else for(o=0;o<t.length;o++)n[o+i]=t[o];return n}function l(t){r.ShaderMaterial.call(this,{uniforms:Object.assign({},r.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new r.Color(16777215)},opacity:{value:1},resolution:{value:new r.Vector2(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new r.Vector2(1,1)}}),vertexShader:r.ShaderChunk.meshline_vert,fragmentShader:r.ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(t){this.uniforms.lineWidth.value=t}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(t){this.uniforms.map.value=t}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(t){this.uniforms.useMap.value=t}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(t){this.uniforms.alphaMap.value=t}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(t){this.uniforms.useAlphaMap.value=t}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(t){this.uniforms.color.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(t){this.uniforms.sizeAttenuation.value=t}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(t){this.uniforms.dashArray.value=t,this.useDash=0!==t?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(t){this.uniforms.dashRatio.value=t}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(t){this.uniforms.useDash.value=t}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(t){this.uniforms.visibility.value=t}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(t){this.uniforms.alphaTest.value=t}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(t){this.uniforms.repeat.value.copy(t)}}}),this.setValues(t)}null!=r&&null!=r.BufferGeometry&&(r.MeshLine=o,o.prototype=Object.create(r.BufferGeometry.prototype),o.prototype.constructor=o,o.prototype.isMeshLine=!0,o.prototype.setMatrixWorld=function(t){this.matrixWorld=t},o.prototype.setGeometry=function(t,e){this._geometry=t,t instanceof r.Geometry?this.setPoints(t.vertices,e):t instanceof r.BufferGeometry?this.setPoints(t.getAttribute("position").array,e):this.setPoints(t,e)},o.prototype.setPoints=function(t,e){if(t instanceof Float32Array||t instanceof Array){if(this._points=t,this.widthCallback=e,this.positions=[],this.counters=[],t.length&&t[0]instanceof r.Vector3)for(var n=0;n<t.length;n++){var i=t[n],o=n/t.length;this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(o),this.counters.push(o)}else for(var s=0;s<t.length;s+=3){var a=s/t.length;this.positions.push(t[s],t[s+1],t[s+2]),this.positions.push(t[s],t[s+1],t[s+2]),this.counters.push(a),this.counters.push(a)}this.process()}else console.error("ERROR: The BufferArray of points is not instanced correctly.")},o.prototype.raycast=s,o.prototype.compareV3=function(t,e){var n=6*t,i=6*e;return this.positions[n]===this.positions[i]&&this.positions[n+1]===this.positions[i+1]&&this.positions[n+2]===this.positions[i+2]},o.prototype.copyV3=function(t){var e=6*t;return[this.positions[e],this.positions[e+1],this.positions[e+2]]},o.prototype.process=function(){var t=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];var e=void 0,n=void 0;n=this.compareV3(0,t-1)?this.copyV3(t-2):this.copyV3(0),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);for(var i=0;i<t;i++){if(this.side.push(1),this.side.push(-1),e=this.widthCallback?this.widthCallback(i/(t-1)):1,this.width.push(e),this.width.push(e),this.uvs.push(i/(t-1),0),this.uvs.push(i/(t-1),1),i<t-1){n=this.copyV3(i),this.previous.push(n[0],n[1],n[2]),this.previous.push(n[0],n[1],n[2]);var o=2*i;this.indices_array.push(o,o+1,o+2),this.indices_array.push(o+2,o+1,o+3)}i>0&&(n=this.copyV3(i),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]))}n=this.compareV3(t-1,0)?this.copyV3(1):this.copyV3(t-1),this.next.push(n[0],n[1],n[2]),this.next.push(n[0],n[1],n[2]),this._attributes&&this._attributes.position.count===this.positions.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new r.BufferAttribute(new Float32Array(this.positions),3),previous:new r.BufferAttribute(new Float32Array(this.previous),3),next:new r.BufferAttribute(new Float32Array(this.next),3),side:new r.BufferAttribute(new Float32Array(this.side),1),width:new r.BufferAttribute(new Float32Array(this.width),1),uv:new r.BufferAttribute(new Float32Array(this.uvs),2),index:new r.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new r.BufferAttribute(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()},o.prototype.advance=function(t){var e=this._attributes.position.array,n=this._attributes.previous.array,i=this._attributes.next.array,r=e.length;a(e,0,n,0,r),a(e,6,e,0,r-6),e[r-6]=t.x,e[r-5]=t.y,e[r-4]=t.z,e[r-3]=t.x,e[r-2]=t.y,e[r-1]=t.z,a(e,6,i,0,r-6),i[r-6]=t.x,i[r-5]=t.y,i[r-4]=t.z,i[r-3]=t.x,i[r-2]=t.y,i[r-1]=t.z,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0},r.ShaderChunk.meshline_vert=["",r.ShaderChunk.logdepthbuf_pars_vertex,r.ShaderChunk.fog_pars_vertex,"","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","   vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","",r.ShaderChunk.logdepthbuf_vertex,r.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",r.ShaderChunk.fog_vertex,"}"].join("\n"),r.ShaderChunk.meshline_frag=["",r.ShaderChunk.fog_pars_fragment,r.ShaderChunk.logdepthbuf_pars_fragment,"","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","",r.ShaderChunk.logdepthbuf_fragment,"","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","",r.ShaderChunk.fog_fragment,"}"].join("\n"),l.prototype=Object.create(r.ShaderMaterial.prototype),l.prototype.constructor=l,l.prototype.isMeshLineMaterial=!0,l.prototype.copy=function(t){return r.ShaderMaterial.prototype.copy.call(this,t),this.lineWidth=t.lineWidth,this.map=t.map,this.useMap=t.useMap,this.alphaMap=t.alphaMap,this.useAlphaMap=t.useAlphaMap,this.color.copy(t.color),this.opacity=t.opacity,this.resolution.copy(t.resolution),this.sizeAttenuation=t.sizeAttenuation,this.dashArray.copy(t.dashArray),this.dashOffset.copy(t.dashOffset),this.dashRatio.copy(t.dashRatio),this.useDash=t.useDash,this.visibility=t.visibility,this.alphaTest=t.alphaTest,this.repeat.copy(t.repeat),this},r.MeshLineMaterial=l,t.exports&&(e=t.exports={MeshLine:o,MeshLineMaterial:l,MeshLineRaycast:s}),e.MeshLine=o,e.MeshLineMaterial=l,e.MeshLineRaycast=s)}.call(e,n,e,t))||(t.exports=i)},3508:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(i=function(t){var e=this,i=n(6138),s=n(9045).modes,a=n(5505),l=a.downOrTouchStart,u=a.moveOrTouchMove,c=a.upOrTouchEnd,h=n(3163),d=h.IMAGE_MEDIA_TYPE,p=h.VIDEO_MEDIA_TYPE,f=h.AUDIO_MEDIA_TYPE,v=h.ALL_MEDIA_TYPE,g=n(7536).Z_INDEX_MID,m=n(8579),y=m.orientation,b=(m.device,m.deviceView),w=n(1815).navigation,A=n(1251),S=n(9032),E=n(8880),x=(n(1681),n(8901)),T=n(3684),_=n(133),C=n(7929),k=n(1354),M=n(7954),O=M.parseFontFamily,P=M.parseFontThemeType,L=M.unpackHex,I=M.rectPath,R=n(82),D=n(9337),N=D.isLeftClickOrTouch,H=D.touchify,V=150,F="-45%",B=Math.abs(parseInt(F,10)/100),j=function(){function t(e){var n=this,i=e.pano,r=e.marker,o=e.data,a=e.disabled;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onTouchStart=function(t){if(n.touchDown=!0,n.touchMoveCount=0,n.touchedPullHit=!1,t.target.classList.contains("panel-mobile-pull-hit")&&(n.touchedPullHit=!0),!t.target.classList.contains("panel-mobile-icon-close")&&y.isPortrait&&n.elementIsPullable(t.target)){n.touchPull=!0;var e=H(t),i=e.pageX,r=e.pageY;n.touchStartY=r,n.panelBubbleEl.style.transition="none",null==n.pullDirection||"none"==n.pullDirection?(n.touchOffY=function(){return window.innerHeight*B},n.lastPullDirection="none"):"up"===n.pullDirection&&(n.touchOffY=function(){return.02*window.innerHeight},n.lastPullDirection="up"),n.touchStartX=i}},this.onTouchMove=function(t){n.touchDown&&n.touchPull&&(t.stopImmediatePropagation(),n.touchMoveCount++,n.beginSwipeDirection(t),"horizontal"===n.initialDir?n.performHorizSwipe(t):"vertical"===n.initialDir&&n.performVerticalPull(t))},this.onTouchEnd=function(t){n.touchedPullHit&&t.target.classList.contains("panel-mobile-pull-hit")&&"down"!=n.pullDirection?n.el.classList.contains("panel-mobile-collapsed")?(n.pullDirection="up",n.touchPull=!0):(n.pullDirection="none",n.touchPull=!0):(t.target.classList.contains("panel-mobile-icon-close")||t.target.classList.contains("three-guided")||t.target.classList.contains("panel-overlay-path")||t.target.classList.contains("three-sixty-image-mobile-overlay"))&&(n.pullDirection="down",n.touchDown=n.touchPull=!0),(n.swipePanelNext||n.swipePanelPrev)&&(n.panelBubbleEl.style.transition="left 150ms ease-out",n.swipeNoNav?(n.panelBubbleEl.style.left=0,n.swipePanelNext=n.swipePanelPrev=!1):n.touchSwipe=!0,n.swipePanelNext?(n.panelBubbleEl.style.left="-100%",n.isGuidedNextShow=!0,n.pano.goNextGuided()):n.swipePanelPrev&&(n.isGuidedPrevShow=!0,n.panelBubbleEl.style.left="100%",n.pano.goPrevGuided()),n.touchPull=!1),n.initialDir=null,n.touchDown&&n.touchPull&&(n.panelBubbleEl.style.transition="bottom 150ms ease-out","up"===n.pullDirection?(n.panelBubbleEl.style.bottom="0%",n.el.classList.remove("panel-mobile-collapsed"),n.scroller.enableMobile()):"down"===n.pullDirection?(n.panelBubbleEl.style.bottom="-100%",null!=n.pano.currMarker&&n.pano.currMarker.userData.cssMarker.disableActive(),n.pano.deselectMarker(),n.scroller.disableMobile(),S.trigger(E.threeSixtyImage.PUSH_DOWN_BY_LABEL)):"none"===n.pullDirection&&(n.el.classList.add("panel-mobile-collapsed"),n.panelBubbleEl.style.bottom=F,n.scroller.disableMobile(),S.trigger(E.threeSixtyImage.PUSH_UP_BY_LABEL))),n.touchDown=!1,n.touchPull=!1,n.touchSwipe?setTimeout((function(){n.touchSwipe=!1,n.swipePanelNext=!1,n.swipePanelPrev=!1,n.hide(),n.panelBubbleEl.style.left=0,n.panelBubbleEl.style.bottom=F,n.pullDirection=null}),75):"down"===n.pullDirection&&setTimeout((function(){n.hide(),n.panelBubbleEl.style.bottom=F,n.pullDirection=null}),V)},this.onEditMode=function(t){n.setupInputElement(n.titleEl),n.setupInputElement(n.bodyEl)},this.onFocusIn=function(t){var e=t.currentTarget===n.bodyEl?t.currentTarget.parentNode:t.currentTarget;n.showSelectionBox(e,!0)},this.onContentPasted=function(t){t.preventDefault();var e=(t.clipboardData||window.clipboardData).getData("Text");t.currentTarget===n.titleEl&&(e=e.replace(/(\r\n|\n|\r)/gm," "));var i=document.getSelection(),r=i.getRangeAt(0);r.deleteContents();var o=document.createTextNode(e);r.insertNode(o),r.selectNodeContents(o),r.collapse(!1),i.removeAllRanges(),i.addRange(r),n.onContentChanged(t)},this.onContentChanged=function(t){n.updateTextData(n.data.title,n.titleEl),n.updateTextData(n.data.body,n.bodyEl),n.data.hasArrow&&n.bubbleArrowEl.classList.contains("panel-dir-left")&&(n.useAnchor=!0),n.clearWhitespace(t.currentTarget),n.positionGradient(!0),n.updateInteractableElements();var e=t.currentTarget===n.bodyEl?t.currentTarget.parentNode:t.currentTarget;n.showSelectionBox(e,!0),S.trigger(E.threeSixtyImage.MARKER_UPDATED,n.marker)},this.onEditorKeyDown=function(t){var e=66===t.which||85===t.which||73===t.which||67===t.which||88===t.which||86===t.which||90===t.which,i=13===t.which,r=t.currentTarget===n.titleEl;(t.ctrlKey&&e||i&&r)&&t.preventDefault(),t.currentTarget===n.mediaImageEl&&t.preventDefault()},this.onMediaModalKeydown=function(t){n.mediaShowing&&(9==t.which&&t.preventDefault())},this.onReleaseOutside=function(t){if(N(t)&&((!(!n.pano.editMode&&!A.isWithin(t.target,"slide-container"))||A.isWithin(t.target,"panel-media-overlay"))&&n.pano.mode!==s.SET_CROP_IMAGE_MEDIA)){var e=A.isWithin(t.target,"panel-el"),i=A.isWithin(t.target,"marker-el"),r=A.isWithin(t.target,"panel-image-container"),o=A.isWithin(t.target,"panel-video-container");if(!(e||i||r||o)){var a=n.isMediaShowing(d),l=n.isMediaShowing(p);a||l?setTimeout((function(){n.hideMediaType(d),n.hideMediaType(p)}),300):n.hide()}}},this.positionPanel=function(t,e,i){n.pano.calcSceneRect();var r=n.pano.sceneRect;b.isTablet&&(t=i,r.width=n.pano.newWidth,r.height=n.pano.newHeight,t.x*=n.pano.newWidth/2,t.y*=-n.pano.newHeight/2);var o=e.scale.x*r.width/2,s=e.scale.y*r.height/2,a=!1;if(n.marker.isHotspot()&&!n.marker.polyHotspot){var l=document.elementsFromPoint(A.mouseX,A.mouseY).find((function(t){return t.classList.contains("marker-bounds-rect")}));null==l||null==R.getPath(n,"marker.el")||n.marker.el.contains(l)||(o=s=0,a=!0)}var u=n.marker.isHotspot()&&!a?n.getHotspotSizeInfo():{width:o,height:s,x:t.x+r.width/2,y:t.y+r.height/2},c=u.x,h=u.y,d=u.width,p=u.height;n.useAnchor?(c=n.lastAnchor.x,h=n.lastAnchor.y):n.lastAnchor={x:c,y:h},(0===c||0===h||n.forcePlaceCenter)&&(c=t.x+r.width/2,h=t.y+r.height/2,n.forcePlaceCenter=!1),n.calcSmartScale(),n.calcPanelTransform(c,h,d,p)},this.createOrUpdateImage=function(t){n.createOrUpdateMedia("destroyImage",(function(){return n.mediaImageEl}),(function(){return C(n,t)}))},this.createOrUpdateVideo=function(t){n.createOrUpdateMedia("destroyVideo",(function(){return n.mediaVideoPosterEl}),(function(){return _(n,t)}))},this.createOrUpdateAudio=function(t){n.createOrUpdateMedia("destroyAudio",(function(){return n.mediaAudioEl}),(function(){return T(n,t)}))},this.createOrUpdateMedia=function(t,e,i){n.pano.withoutOnSelectionChange((function(){var r=n[t],o=null!=r,s=o&&n.getSelectionBox(e()).shown;o&&r(),r=i(),n[t]=function(){r(),n[t]=null},s&&n.showSelectionBox(e(),!0),n.updateAfterMediaChange()}))},this.onLeftLink=function(){n.hide();var t=n.data.navigation,e=n.pano.getMarker(t.leftLink);n.pano.selectNextSprite=!0,n.pano.setCurrMarker(e.sprite),n.pano.panToMarker(t.leftLink)},this.onRightLink=function(){n.hide();var t=n.data.navigation,e=n.pano.getMarker(t.rightLink);n.pano.selectNextSprite=!0,n.pano.setCurrMarker(e.sprite),n.pano.panToMarker(t.rightLink)},this.updateScroll=function(){null!=n.selections&&n.selections.forEach((function(t){return t.update()}))},this.pano=i,this.marker=r,this.overlaysEl=this.pano.overlaysEl,this.editMode=i.editMode,this.shown=!1,this.scale=1,this.selectionBoxes=new WeakMap,this.isMediaTypeActive=new Map,this.showMedia=new Map,this.hideMedia=new Map,this.createdMediaCache=new Map,this.selections=[],this.disabled=a,this.createDefaults(),this.setData(o),this.createGraphics(),this.setupMobile(),S.on(E.threeSixtyImage.EDIT_MODE_CHANGED,this.onEditMode)}return r(t,[{key:"setupMobile",value:function(){b.isPhone&&(this.lastPullDirection=this.pullDirection="none",this.el.classList.add("panel-mobile-collapsed"),this.el.addEventListener(l,this.onTouchStart),document.addEventListener(u,this.onTouchMove,{passive:!1}),document.addEventListener(c,this.onTouchEnd),this.touchDown=!1)}},{key:"elementIsPullable",value:function(t){var e=["panel-bubble","panel-content","panel-content-grad-bottom","panel-head","panel-body-outer","panel-mobile-pull-hit"].some((function(e){return t.classList.contains(e)})),n=!1;A.parentNodesOf(t,(function(t){t.classList.contains("panel-video-poster")&&(n=!0)}));var i=!1;return t.classList.contains("panel-framed-image-thumb")&&this.el.classList.contains("panel-mobile-collapsed")&&(i=!0),e||n||i}},{key:"quickLabelSwipe",value:function(t){var e=!1,n=!1;return this.touchMoveCount<=10&&Math.abs(t)>3&&(t<0?n=!0:e=!0),{fastUp:e,fastDown:n}}},{key:"beginSwipeDirection",value:function(t){if(!t.target.classList.contains("panel-content")||this.el.classList.contains("panel-mobile-collapsed")){var e=H(t),n=e.pageX,i=e.pageY;if(null==this.initialDir&&n>30){var r=Math.abs(n-this.prevTouchX),o=Math.abs(i-this.prevTouchY);this.prevTouchX=n,this.prevTouchY=i,this.touchMoveCount>4&&(this.initialDir=o>=r?"vertical":"horizontal")}this.swipePanelNext=this.swipePanelPrev=this.swipeNoNav=!1,this.pano.isGuidedNav()||"horizonal"!==this.initialDir||(this.initialDir="vertical")}}},{key:"performHorizSwipe",value:function(t){if(this.pano.isGuidedNav()){var e=H(t).pageX-this.touchStartX;this.panelBubbleEl.style.left=e+"px",this.lastOffX=Math.abs(e),e<-5?this.swipePanelNext=!0:e>5&&(this.swipePanelPrev=!0),this.lastOffX<50&&(this.swipeNoNav=!0);var n=0===this.pano.guidedMarkerInView&&this.swipePanelPrev,i=!this.pano.canNavNextMarker()&&this.swipePanelNext;(n||i)&&(this.swipeNoNav=!0)}}},{key:"performVerticalPull",value:function(t){var e=this.touchOffY(),n=H(t).pageY,i=this.touchStartY-n,r=Math.min(0,i-e),o=r+e;this.panelBubbleEl.style.bottom=r+"px",this.panelBubbleEl.style.left=0,this.pullDirection="none";var s=this.quickLabelSwipe(o),a=s.fastUp,l=s.fastDown;this.scroller.disableMobile(),"none"===this.lastPullDirection&&(o>50||a?(this.pullDirection="up",this.touchedPullHit=!1):(o<-70||l)&&(this.pullDirection="down",this.touchedPullHit=!1))}},{key:"addSelectionBox",value:function(t){if(null==this.getSelectionBox(t.targetEl)){var e=new k(t);this.selections.push(e),this.selectionBoxes.set(t.targetEl,e)}}},{key:"removeSelectionBox",value:function(t){var e=this,n=this.getSelectionBox(t);null!=n&&this.pano.withOnSelectionChange((function(){e.selections=i.without(e.selections,n),e.selectionBoxes.delete(t),n.destroy()}))}},{key:"getSelectionBox",value:function(t){return null!=this.selectionBoxes?this.selectionBoxes.get(t):null}},{key:"showSelectionBox",value:function(t,e){var n=this,i=this.getSelectionBox(t);return this.pano.withOnSelectionChange((function(){null!=i&&i.show(),e&&null!=n.selections&&n.selections.forEach((function(t){t!=i&&t.hide()}))})),i}},{key:"isEmptyOrWhitespace",value:function(t){if(""===t.innerText.trim()){return!/\<(span|ol|ul|li|blockquote)\/?\>/i.test(t.innerHTML)}return!1}},{key:"clearWhitespace",value:function(t){this.isEmptyOrWhitespace(t)&&(t.innerHTML="")}},{key:"hideSelectionBox",value:function(t){var e=this.getSelectionBox(t);null!=e&&this.pano.withOnSelectionChange((function(){e.hide()}))}},{key:"hideSelectionBoxes",value:function(){var t=this;null!=this.selections&&this.pano.withOnSelectionChange((function(){t.selections.forEach((function(t){t.hide()}))}))}},{key:"destroySelectionBoxes",value:function(){var t=this;this.pano.withOnSelectionChange((function(){t.selections.forEach((function(t){return t.destroy()})),t.selections=null,t.selectionBoxes=null}))}},{key:"showPlaceholderSelectionBoxes",value:function(){var t=this;this.pano.withoutOnSelectionChange((function(){t.isEmptyOrWhitespace(t.titleEl)&&t.showSelectionBox(t.titleEl,!1),t.isEmptyOrWhitespace(t.bodyEl)&&t.showSelectionBox(t.bodyEl.parentNode,!1)}))}},{key:"inputElementEventListeners",value:function(){var t=function(t,e){return{eventName:t,eventHandler:e}};return[t("input",this.onContentChanged),t("keydown",this.onEditorKeyDown),t("paste",this.onContentPasted),t("formatMessage",this.onContentChanged),t("focusin",this.onFocusIn)]}},{key:"setupInputElement",value:function(t){t.contentEditable=!0,t.spellcheck=!0;var e=this.inputElementEventListeners(),n=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;t.addEventListener(a.eventName,a.eventHandler)}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}}},{key:"teardownInputElement",value:function(t){var e=this.inputElementEventListeners(),n=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;t.removeEventListener(a.eventName,a.eventHandler)}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}}},{key:"remove",value:function(){var t=this,e=document.querySelector(".three-sixty-image-mobile-overlay");null!=e&&e.parentNode.removeChild(e),this.pano.withoutOnSelectionChange((function(){null!=t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.checkRemoveMedia(v,{cleanup:!0}),S.off(E.threeSixtyImage.EDIT_MODE_CHANGED,t.onEditMode),t.teardownInputElement(t.titleEl),t.teardownInputElement(t.bodyEl),t.destroySelectionBoxes()})),this.teardownMobile()}},{key:"teardownMobile",value:function(){this.el.removeEventListener(l,this.onTouchStart),document.removeEventListener(u,this.onTouchMove),document.removeEventListener(c,this.onTouchEnd)}},{key:"updateInteractableElements",value:function(){var t=this;this.pano.calcSceneRect(),this.scroller.update();!function(){var e,n;if(t.pano.editMode&&null!=t.selections)for(var i=0;i<t.selections.length;i++){var r=t.selections[i];r.targetEl===t.bodyEl&&(e=r,(n=r.targetEl.parentNode).scrollHeight!=n.clientHeight?(e.padding.bottom=0,e.update()):0===e.padding.bottom&&(e.padding.bottom=-15,e.update())),r.update()}}()}},{key:"refreshMobileScrollbar",value:function(){this.updatePanelHeight(),this.scroller.update(),y.isLandscape?(this.panelBubbleEl.style.left=null,S.trigger(E.threeSixtyImage.UN_PUSH_LABEL),this.scroller.enableMobile()):this.shown&&(this.panelBubbleEl.style.bottom===F&&this.scroller.disableMobile(),S.trigger(E.threeSixtyImage.PUSH_UP_BY_LABEL))}},{key:"resize",value:function(){var t=this;if(b.isPhone)return this.refreshMobileScrollbar(),void setTimeout((function(){t.updateTempMobileSvg()}),200);this.shown&&!b.isMobile&&this.hide()}},{key:"createDefaults",value:function(){this.defaults={}}},{key:"setData",value:function(t){this.data=i.merge(this.defaults,t)}},{key:"hideAllMedia",value:function(){var t=this;[f,p,d].forEach((function(e){return t.hideMediaType(e)}))}},{key:"hideMediaType",value:function(t){var e=this.hideMedia.get(t);null!=e&&e()}},{key:"showMediaType",value:function(t){var e=this.showMedia.get(t);null!=e&&e()}},{key:"isMediaShowing",value:function(t){return this.isMediaTypeActive.get(t)||!1}},{key:"setupMediaModal",value:function(t){var e=this.mediaShowing;if(e){var n=f;if(t!=d)return!1;if(![].concat(o(this.isMediaTypeActive.entries())).every((function(t){var e=!1===t[1],i=t[0]===n;return e||i})))return!1}return this.mediaShowing=!0,this.isMediaTypeActive.set(t,!0),e||document.addEventListener("keydown",this.onMediaModalKeydown),this.pano.onSelectionChange(),!0}},{key:"teardownMediaModal",value:function(t){this.isMediaTypeActive.set(t,!1),this.mediaShowing=[].concat(o(this.isMediaTypeActive.values())).some((function(t){return t})),this.mediaShowing||document.removeEventListener("keydown",this.onMediaModalKeydown),this.pano.onSelectionChange()}},{key:"verticalOffset",value:function(t){this.panelBubbleEl.style.top=t+"px",this.bubbleArrowEl.style.top="calc(50% - "+t+"px)"}},{key:"calcVerticalPos",value:function(){var t=this.el.parentNode.getBoundingClientRect(),e=this.el.getBoundingClientRect(),n=e.height/2-10;this.verticalOffset(.2*e.height);var i=t.bottom-20,r=t.top+20;if(e.bottom>i){var o=Math.min(n,e.bottom-i);this.verticalOffset(-o)}else if(e.top<r){var s=Math.min(n,r-e.top);this.verticalOffset(s)}}},{key:"getHotspotSizeInfo",value:function(){var t=this.pano.sceneRect,e=this.pano.mouseIntersect(this.marker.lastX,this.marker.lastY);this.shownByEditor&&(e=this.pano.mouseIntersect(100,100),this.shownByEditor=!1);var n=0,i=0;if(e.length>0){var r=t.width/2,o=t.height/2,s=e[0].point;s.project(this.pano.camera),s.x=s.x*r+r,s.y=-s.y*o+o,n=s.x,i=s.y}return{width:0,height:0,x:n,y:i}}},{key:"calcPanelTransform",value:function(t,e,n,i){t<this.pano.width/2?(t+=n/2+15*this.scale,this.el.style.transformOrigin="0 0",this.data.hasArrow&&this.bubbleArrowEl.classList.remove("panel-dir-left"),this.cornerScale=1.4*this.scale):(this.el.style.transformOrigin="100% 0",t-=n/2+15*this.scale+this.el.offsetWidth,this.data.hasArrow&&this.bubbleArrowEl.classList.add("panel-dir-left"),this.cornerScale=1.4*-this.scale),this.el.style.transform="translate("+t+"px, "+e+"px) scale("+this.scale+") translateY(-50%)",this.bubbleArrowEl.style.transform="translateY(-50%) scale("+Math.min(2,this.cornerScale)+")"}},{key:"calcSmartScale",value:function(){var t=.5*this.pano.sceneScale,e=.8*this.pano.sceneScale,n=.6*this.pano.sceneScale;if(this.marker.isHotspot())this.scale=.4+t;else{var i=Math.max(this.marker.props.scaleX,this.marker.props.scaleY),r=Math.min(i,150)/200;this.scale=t+r*e}this.scale<n&&(this.scale=n)}},{key:"update",value:function(t,e){b.isPhone||(null!=this.marker.polyHotspot&&"hotspot"===this.marker.props.type&&null!=e?this.calcPanelTransform(e.x,e.y,0,0):t||this.pano.projection(this.marker.sprite,this.positionPanel),this.updateInteractableElements())}},{key:"showMobile",value:function(){var t=this,e=void 0;y.isLandscape?(this.scroller.enableMobile(),S.trigger(E.threeSixtyImage.UN_PUSH_LABEL),this.panelBubbleEl.style.right="-100%",this.panelBubbleEl.style.transition="right 350ms ease-out",e=function(){t.panelBubbleEl.style.right=0},this.panelBubbleEl.style.bottom=null):(this.scroller.disableMobile(),this.pano.isGuidedNextShow?(this.panelBubbleEl.style.bottom=F,this.panelBubbleEl.style.left="100%",this.panelBubbleEl.style.transition="left 250ms ease-in-out",e=function(){t.panelBubbleEl.style.left=0,t.pano.isGuidedNextShow=!1}):this.pano.isGuidedPrevShow?(this.panelBubbleEl.style.bottom=F,this.panelBubbleEl.style.left="-100%",this.panelBubbleEl.style.transition="left 250ms ease-in-out",e=function(){t.panelBubbleEl.style.left=0,t.pano.isGuidedPrevShow=!1}):(this.panelBubbleEl.style.left=null,this.panelBubbleEl.style.bottom="-100%",this.panelBubbleEl.style.transition="bottom 250ms ease-in-out",e=function(){t.panelBubbleEl.style.bottom=F}),S.trigger(E.threeSixtyImage.PUSH_UP_BY_LABEL)),window.requestAnimationFrame((function(){e(),t.updatePanelHeight()}));var n=document.createElement("div");if(n.classList.add("three-sixty-image","three-sixty-image-mobile-overlay"),this.tempMobileOverlay=n,this.tempMobileSvg(),n.appendChild(this.el),DS.detection.theme.isUnified){var i=document.querySelector("#preso .caption-container"),r=document.getElementById(DS.constants.els.PRESO);n.style.zIndex=i.style.zIndex,r.insertBefore(n,i)}else n.style.zIndex=g-1,document.body.appendChild(n);this.closePanel=function(e){null!=t.tempMobileOverlay.parentNode&&t.tempMobileOverlay.parentNode.removeChild(t.tempMobileOverlay)}}},{key:"tempMobileSvg",value:function(){var t=this;this.tempMobileOverlay.style.pointerEvents="all",this.pano.navigation.type===w.GUIDED&&(this.guidedEls={guidedUi:document.querySelector(".three-guided"),textUi:document.querySelector(".three-guided-nav-text")},this.tempMobileOverlay.innerHTML='\n        <svg width="100%" height="100%" style="pointer-events:none">\n          <path\n            class="panel-overlay-path"\n            style="pointer-events:all"\n            fill-rule="evenodd"\n            d="M 0 0 L 0 0"\n            stroke="none"\n            fill="transparent"/>\n        </svg>\n      ',this.mobileOverlayPath=this.tempMobileOverlay.querySelector("path"),setTimeout((function(){t.updateTempMobileSvg(),null!=t.tempMobileOverlay&&(t.tempMobileOverlay.style.pointerEvents="none")}),200))}},{key:"updateTempMobileSvg",value:function(){if(this.pano.navigation.type===w.GUIDED&&null!=this.guidedEls){var t=this.guidedEls,e=t.guidedUi,n=t.textUi,i=e.getBoundingClientRect(),r=n.getBoundingClientRect(),o=I(i)+"\n        "+I(r)+"\n        "+I({left:0,top:0,right:window.innerWidth,bottom:window.innerHeight})+" 0 0z";this.mobileOverlayPath.setAttribute("d",o)}}},{key:"hideMobile",value:function(){this.overlaysEl.appendChild(this.el),null!=this.tempMobileOverlay&&(null!=this.tempMobileOverlay.parentNode&&this.tempMobileOverlay.parentNode.removeChild(this.tempMobileOverlay),this.tempMobileOverlay=null)}},{key:"show",value:function(e,n){(e||!this.disabled&&this.marker.sprite.visible&&this.marker.props.hasPanel)&&(b.isPhone&&this.showMobile(),t.hideLast(this),this.scale=this.pano.sceneScale,this.el.style.visibility="visible",this.el.classList.add("panel-shown"),this.shown=!0,clearTimeout(this.hideTimeout),this.useAnchor=!1,this.update(!1,n),this.scroller.update(!0),this.marker.setState("active"),this.pano.editMode?this.showPlaceholderSelectionBoxes():this.marker.updateResume(),this.positionGradient(),this.marker.polyHotspot&&this.marker.isHotspot()&&(this.pano.hotspotLayer.currHotspot=this.marker.polyHotspot),t.last=this,document.addEventListener(l,this.onReleaseOutside),null!=this.marker.accChildEl&&(this.marker.accChildEl.setAttribute("aria-expanded",!0),this.accChildEl.removeAttribute("aria-hidden"),this.pano.focusPanelOnShow&&this.pano.threeSixtyAcc.showPanel(this,0)))}},{key:"getAccImage",value:function(t){var e="";null!=R.getPath(this,"data.media.image")&&(e='<button\n          role="img"\n          data-marker-id="'+t+'"\n          data-is-media-img="true"\n          aria-label="View Image, '+(R.getPath(this,"data.media.image.posterAltText")||"this is a short description")+'"\n          class="acc-shadow-el acc-button acc-three-sixty-media-img">\n        </button>');return e}},{key:"getAccHtml",value:function(t){return'\n        <section\n          role="document"\n          aria-label="panel"\n          id="acc-'+t+'"\n          tabIndex="-1"\n          aria-hidden="true"\n          class="acc-shadow-el acc-three-sixty-panel"\n          aria-labelledby="acc-m-'+this.id+'"\n          data-panel-id="'+t+'">\n            <div tabindex="-1" class="acc-panel-child panel-title panel-content">\n              '+this.data.title.innerHTML+"\n            </div>\n            "+this.getAccImage(t)+'\n            <div\n              tabindex="-1"\n              class="acc-panel-child three-sixty-panel-body"\n            >\n            '+this.data.body.innerHTML+"\n          </div>\n        </section>\n      "}},{key:"adjust",value:function(t){this.data=i.merge(this.data,t),this.updateStyles(),this.updateInteractableElements()}},{key:"updateStyles",value:function(){var t=this,e=this.data,n=e.borderRadius,r=e.boxShadow,o=e.fill,s=e.textColor,a=e.stroke,l=e.strokeWidth,u=e.width,c=e.hasArrow;null!=n&&(this.bubbleEl.style.borderRadius=n+"px"),null!=r&&(this.bubbleEl.style.boxShadow=r);var h=!1,g=this.bubbleEl.style.background;if(null!=o){if(b.isPhone)if(L(o).r<140){var m=this.el.querySelector(".panel-mobile-icon-close polygon");null!=m&&m.setAttribute("fill","white")}h=o!==g,this.bubbleEl.style.background=o,this.bubbleCornerRectEl.setAttribute("fill",o);var y=R.rgbify(o,0),w=b.isMobile?"-webkit-gradient(linear, 0% 0%, 0% 100%, from("+y+"), to("+o+"))":"linear-gradient(180deg, "+y+", "+o+")";this.panelContentGradBottomEl.style.background=w}null!=s&&(this.bubbleEl.style.color=s);var A=R.getPath(this.scroller,"scrollBar");null!=A&&(A.style.right="-23px"),null!=this.panelBodyHoverEl&&(this.panelBodyHoverEl.style.margin="0px -20px",this.panelBodyHoverEl.style.padding="0px 20px",null!=n&&(this.panelContentGradBottomEl.style.borderRadius="0px 0px "+n+"px "+n+"px")),null!=u&&(this.bubbleEl.style.width=u+"px"),null!=a&&null!=l&&(this.bubbleEl.style.border=l+"px solid "+a),null!=c&&(this.panelCornerEl.style.display=c?"block":"none"),this.updatePanelElementStyles(this.titleEl,this.data.title),this.updatePanelElementStyles(this.bodyEl,this.data.body);var S,E=void 0;this.runtimeMediaAttached||(this.containsMedia=!1,null==(S=this.data.media)||null==S.audio&&null==S.video&&null==S.image?(this.checkRemoveMedia(v),this.createdMediaCache.clear()):(this.containsMedia=!0,[f,p,d].forEach((function(e){var n=t.data.media[e];if(null!=n){var r=JSON.stringify(n);if(t.createdMediaCache.get(e)!==r||h&&e!==d)E=!0,(0,t["createOrUpdate"+i.capitalize(e)])(n),t.createdMediaCache.set(e,r)}else t.checkRemoveMedia(e),t.createdMediaCache.set(e,null)}))),this.pano.editMode||(this.runtimeMediaAttached=!0)),this.disabled=!1,this.updatePanelHeight(),this.update(E)}},{key:"showHotspotPanel",value:function(){if(this.marker.polyHotspot&&this.marker.isHotspot()){this.forcePlaceCenter=!0;var t=this.marker.polyHotspot,e=t.getCenterPoint(t.shapeMesh);this.show(!0,this.pano.vecToScreenPosition(e))}}},{key:"updatePanelElementStyles",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";null!=e&&null!=t&&(t.innerHTML=(0!==e.innerHTML.length||this.pano.editMode?e.innerHTML:"")+n,t.style.fontFamily="'"+e.style.fontFamily+"'",t.style.fontSize=e.style.fontSize*(b.isPhone?1.25:1)+"px",this.pano.editMode&&(t.style.fontWeight=e.style.fontWeight),t.dataset.fontThemeType=e.style.fontThemeType)}},{key:"updateAfterMediaChange",value:function(){var t=this;window.requestAnimationFrame((function(){t.positionGradient()}))}},{key:"checkRemoveMedia",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t!==d&&t!==v||null==this.mediaImageEl||this.destroyImage(e),t!==f&&t!==v||null==this.mediaAudioEl||this.destroyAudio(e),t!==p&&t!==v||null==this.mediaVideoPosterEl||this.destroyVideo(e),this.updateAfterMediaChange()}},{key:"hide",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.disabled||(this.shown=!1,this.el.classList.remove("panel-shown"),clearTimeout(this.hideTimeout),e?this.el.style.visibility="hidden":this.hideTimeout=setTimeout((function(){t.el.style.visibility="hidden"}),100),this.marker.setState("normal"),b.isPhone&&this.hideMobile(),this.pano.editMode?this.hideSelectionBoxes():this.marker.updateResume(),this.hideAllMedia(),document.removeEventListener(l,this.onReleaseOutside),null!=this.marker.accChildEl&&(this.marker.accChildEl.setAttribute("aria-expanded",!1),this.accChildEl.setAttribute("aria-hidden",!0)))}},{key:"disable",value:function(){this.hide(),this.disabled=!0,this.el.style.display="none"}},{key:"enable",value:function(){this.disabled&&(this.disabled=!1,this.show(),this.el.style.display="block")}},{key:"getData",value:function(){return this.data}},{key:"updateTextData",value:function(t,e){t.innerHTML=e.innerHTML,t.style.fontFamily=O(e.style.fontFamily),t.style.fontSize=parseFloat(e.style.fontSize),t.style.fontThemeType=P(e.dataset.fontThemeType)}},{key:"updatePanelHeight",value:function(){this.panelBodyContainerEl.style.maxHeight=this.getMaxPanelHeight()+"px"}},{key:"getMaxPanelHeight",value:function(){if(b.isPhone){var t=R.getPath(this,"panelBodyOuterEl.getBoundingClientRect",{top:15}).top-R.getPath(this,"panelBodyOuterEl.parentElement.getBoundingClientRect",{top:0}).top,e=this.hasAudioMedia()?60:0;return window.innerHeight*(y.isPortrait?.98:1)-t-e}return Math.min(.62*this.pano.origHeight,this.containsMedia?410:302)}},{key:"hasAudioMedia",value:function(){return null!=this.data.media&&null!=this.data.media.audio}},{key:"hasImageMedia",value:function(){return null!=this.data.media&&null!=this.data.media.image}},{key:"hasVideoMedia",value:function(){return null!=this.data.media&&null!=this.data.media.video}},{key:"hasTitleContent",value:function(){return 0!==this.data.title.innerHTML.length}},{key:"hasBodyContent",value:function(){return 0!==this.data.body.innerHTML.length}},{key:"positionGradient",value:function(t){if(this.scroller.canScroll()){if(this.panelContentGradBottomEl.style.top=this.panelBodyOuterEl.offsetTop+this.panelBodyOuterEl.offsetHeight-17+"px",!this.bottomPaddingAdded||t)null==this.bodyEl.querySelector(".bottom-text-pad")&&(this.bodyEl.innerHTML+='<div class="bottom-text-pad" style="height:1em"></div>'),this.bottomPaddingAdded=!0;this.panelContentGradBottomEl.style.opacity=1}else{[].concat(o(this.bodyEl.querySelectorAll(".bottom-text-pad"))).forEach((function(t){return t.parentNode.removeChild(t)})),this.panelContentGradBottomEl.style.opacity=0}}},{key:"createGraphics",value:function(){var t=this,e=this.pano.localizedText||{title:"",body:""},n=this.pano.editMode||this.hasTitleContent()?"":"panel-no-title",i=this.pano.editMode||this.hasImageMedia()||this.hasVideoMedia()||this.hasBodyContent()?"":"panel-no-body",r=this.pano.editMode||this.hasBodyContent()?"":"panel-no-body";this.panelContent='\n      <div class="panel-bubble-arrow">\n      \n    <svg class="panel-corner" width="8" height="16">\n      <rect class="panel-corner-rect" x="4" y="1" width="11" height="11" fill="blue" transform="rotate(45, 7, 6) "></rect>\n    </svg>\n  \n      </div>\n      <div class="panel-head '+n+'">\n        '+(b.isPhone?'<div class="panel-mobile-pull-btn"></div>':"")+'\n        <h2 class="panel-title panel-content" placeholder="'+e.title+'"></h2>\n      </div>\n      '+(b.isPhone?'\n    <div class="panel-mobile-icon-close">\n      <svg width="20" height="20" viewBox="0 0 36 36" focusable="false" data-ref>\n        <polygon fill="black" points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n      </svg>\n    </div>\n  ':"")+"\n      "+(b.isPhone?"":'<div class="panel-body-hover-wrapper">')+'\n        <div class="panel-body-outer '+i+'">\n          <div class="is-scrollable panel-body-container '+i+'" style="max-height:'+this.getMaxPanelHeight()+'px;">\n            <div class="panel-body-top"></div>\n            <div class="panel-body panel-content '+r+'" placeholder="'+e.body+'"></div>\n        </div>\n      '+(b.isPhone?"":"</div>")+"\n      "+(this.hasTitleContent()||this.hasBodyContent()||this.hasImageMedia()||this.hasVideoMedia()||this.hasAudioMedia()?"":'<div class="panel-empty"></div>')+'\n      <div class="panel-content-grad-bottom"></div>\n      </div>\n\n      '+(b.isPhone?'<div class="panel-mobile-pull-hit"></div>':"")+"\n      ",this.el=document.createElement("div"),this.el.classList.add("panel-el"),this.el.innerHTML='\n        <div class="panel-bubble">\n          '+this.panelContent+"\n        </div>\n      ",this.panelBubbleEl=this.el.querySelector(".panel-bubble"),this.titleEl=this.el.querySelector(".panel-title"),this.addSelectionBox({targetEl:this.titleEl,showCallback:function(){return t.titleEl.focus()},hideCallback:function(){return t.titleEl.blur()},panel:this,showPlaceholder:!0,shouldAutoHide:!0}),this.bodyEl=this.el.querySelector(".panel-body"),this.panelBodyContainerEl=this.el.querySelector(".panel-body-container"),this.bubbleEl=this.el.querySelector(".panel-bubble"),this.bubbleArrowEl=this.el.querySelector(".panel-bubble-arrow"),this.panelCornerEl=this.el.querySelector(".panel-corner"),this.bubbleCornerRectEl=this.el.querySelector(".panel-corner-rect"),this.panelBodyTopEl=this.el.querySelector(".panel-body-top"),this.panelBodyOuterEl=this.el.querySelector(".panel-body-outer"),this.panelContentEl=this.el.querySelector(".panel-content"),this.panelBodyHoverEl=this.el.querySelector(".panel-body-hover-wrapper"),this.panelContentGradBottomEl=this.el.querySelector(".panel-content-grad-bottom"),this.addSelectionBox({targetEl:this.panelBodyContainerEl,boundsEl:this.bodyEl,maskBounds:{bottomCalc:function(){return t.panelContentGradBottomEl.getBoundingClientRect().bottom+15},topCalc:function(){return t.panelBodyContainerEl.getBoundingClientRect().top}},showCallback:function(){return t.bodyEl.focus()},hideCallback:function(){return t.bodyEl.blur()},panel:this,showPlaceholder:!0,shouldAutoHide:!0}),this.el.style.visibility="hidden",this.overlaysEl.appendChild(this.el),this.scroller=new x(this.panelBodyContainerEl,this.marker.id),this.scroller.updateScroll=this.updateScroll,this.pano.editMode||0!==this.data.body.innerHTML.length||this.scroller.setEnabled(!1),this.panelBodyHoverEl?this.scroller.setShowOnlyOnHover(this.panelBodyHoverEl):this.scroller.setShowOnlyWhenScrolling(),this.updateStyles(),this.editMode&&this.onEditMode()}}]),t}();return j.hideLast=function(t){null!=j.last&&j.last!=t&&j.last.shown&&(null!=t&&null!=t.pano.model&&(t.pano.model.updateLabelState(t.marker.idx,e.shown),t.pano.model.setVisitedMarkers()),j.last.hide())},j}.call(e,n,e,t))||(t.exports=i)},1354:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){return function(){function t(e){var n=this,i=e.targetEl,r=e.boundsEl,o=e.showCallback,s=e.hideCallback,a=e.shouldAutoHide,l=e.panel,u=e.showPlaceholder,c=e.paddingOffsets,h=e.maskBounds;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onCheckHide=function(t){if(n.targetEl!=t.target&&!n.targetEl.contains(t.target)){if(n.panel.mediaShowing)return;n.panel.hideSelectionBox(n.targetEl)}},this.targetEl=i,this.boundsEl=r,this.showCallback=o,this.hideCallback=s,this.shouldAutoHide=a,this.boxEl=document.createElement("div"),this.boxEl.classList.add("panel-selection-box"),this.boxEl.style.display="none",this.panel=l,this.pano=l.pano,this.pano.overlaysEl.appendChild(this.boxEl),this.showPlaceholder=u,this.padding={left:0,top:0,bottom:0,right:0},Object.assign(this.padding,c||{}),this.maskBounds=h}return r(t,[{key:"update",value:function(){var t=this.targetEl,e=this.boundsEl,n=this.boxEl,i=this.pano,r=this.padding;if(this.shown){if(e&&(t=e),this.showPlaceholder){var o=this.panel.isEmptyOrWhitespace(t);o!=this.isPlaceholder&&(this.isPlaceholder=o)}var s=t.getBoundingClientRect();if(null!=this.maskBounds){var a={left:s.left,top:s.top,right:s.right,bottom:s.bottom};if(null!=this.maskBounds.bottomCalc){var l=this.maskBounds.bottomCalc();s.bottom>l&&(a.bottom=l-6)}if(null!=this.maskBounds.topCalc){var u=this.maskBounds.topCalc();s.top<u&&(a.top=u)}(s=a).width=s.right-s.left,s.height=s.bottom-s.top}var c=s.left-i.sceneRect.left-3-r.left,h=s.top-i.sceneRect.top-3-r.top,d=i.sceneRect.width-(c+s.width+6+r.right),p=i.sceneRect.height-(h+s.height+6+r.bottom);Object.assign(n.style,{left:c+"px",top:h+"px",right:d+"px",bottom:p+"px"}),n.clientHeight<3?n.style.visibility="hidden":n.style.visibility="visible"}}},{key:"show",value:function(){this.panel.shown&&!this.shown&&(this.shown=!0,this.update(),this.boxEl.style.display="block",this.boxEl.style.visibility="visible",null!=this.showCallback&&this.showCallback(),this.shouldAutoHide&&document.addEventListener("click",this.onCheckHide))}},{key:"hide",value:function(){if(this.panel.shown&&this.isPlaceholder)return null!=this.hideCallback&&this.hideCallback(),void(this.shouldAutoHide&&document.removeEventListener("click",this.onCheckHide));this.shown&&(this.shown=!1,this.boxEl.style.display="none",this.boxEl.style.visibility="hidden",null!=this.hideCallback&&this.hideCallback(),this.shouldAutoHide&&document.removeEventListener("click",this.onCheckHide))}},{key:"destroy",value:function(){document.removeEventListener("click",this.onCheckHide),this.pano.overlaysEl.removeChild(this.boxEl)}},{key:"isPlaceholder",set:function(t){this.placeHolder=t,this.boxEl.classList[t?"add":"remove"]("panel-selection-placeholder")},get:function(){return this.placeHolder}}]),t}()}.call(e,n,e,t))||(t.exports=i)},7545:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createBackSpriteCanvas=void 0;var i=n(9337),r=512,o=n(7812).math,s=o.TWO_PI;o.HALF_PI,e.createBackSpriteCanvas=function(t,e){var n=document.createElement("canvas"),o=n.getContext("2d"),a=new THREE.CanvasTexture(n);n.width=r,n.height=r;var l=n.width/4-50,u=n.width/2,c=n.height/2,h=function(){o.clearRect(0,0,r,r),o.shadowColor="rgba(0, 0, 0, 0.85)",o.shadowBlur=40,o.shadowOffsetY=10,o.shadowOffsetX=5,o.fillStyle="rgba(0, 0, 0, 1)",o.beginPath(),o.arc(u,c,l,0,s,!1),o.fill()};if("pulse"===t){var d=0,p=void 0,f=void 0,v=window.performance.now(),g=1;window.requestAnimationFrame((function t(e){h(),o.shadowColor="rgba(0, 0, 0, 0)",o.shadowBlur=0,o.shadowOffsetY=0,g=(e-v)/16,v=e,p=60+25*Math.sin(d),f=10*Math.sin(d+s),d+=.025*g,o.fillStyle="transparent",o.strokeStyle="rgba(255, 255, 255, 0.5)",o.lineWidth=35+f/2,o.beginPath(),o.arc(u,c,l+p,0,s,!1),o.stroke(),a.needsUpdate=!0,window.requestAnimationFrame(t)}))}else"empty"===t?o.clearRect(0,0,r,r):h();var m=new THREE.SpriteMaterial({map:a});return(0,i.backTextureSettings)(a,m,e),{canvas:n,tex:a,mat:m}}},9045:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatMessage=function(t,e){var n=e.cmd;"fontSize"===n?t.style.fontSize=e.val+"px":"fontFamily"===n?(t.style.fontFamily="'"+e.val+"'",t.dataset.fontThemeType=e.fontThemeType):(document.execCommand("styleWithCSS",!1,!0),document.execCommand(n,!1,e.val));t.dispatchEvent(new Event("formatMessage"))},e.getSpanStyle=function(t,e){var n={};function i(t){n[t]=function(e){return e["text-decoration-line"].includes(t)}}i(s.UNDERLINE_TEXT_DECORATION),i(s.STRIKEOUT_TEXT_DECORATION);var c=function(t,e,n){var i=document.createNodeIterator(t.commonAncestorContainer,NodeFilter.SHOW_TEXT),r={},o=!0,s=!1,c=void 0;try{for(var h,d=e[Symbol.iterator]();!(o=(h=d.next()).done);o=!0){r[h.value]=void 0}}catch(t){s=!0,c=t}finally{try{!o&&d.return&&d.return()}finally{if(s)throw c}}var p=void 0,f=!1;for(;i.nextNode();){if(!f){if(i.referenceNode!==t.startContainer)continue;f=!0}var v=window.getComputedStyle(i.referenceNode.parentElement);for(var g in r){var m=n.hasOwnProperty(g)?n[g](v):v[g];void 0===r[g]?r[g]=m:r[g]!=m&&(r[g]=null)}for(var y=!1,b=i.referenceNode.parentNode;null!=b&&!y;){if(b.nodeType===Node.ELEMENT_NODE){var w="OL",A="UL";b.nodeName===w?(void 0===p?p=l:p!==l&&(p=a),y=!0):b.nodeName===A&&(void 0===p?p=u:p!==u&&(p=a),y=!0)}b=b.parentNode}if(y||(p=a),i.referenceNode===t.endContainer)break}return r["list-type"]=p,r}(e,Object.values(s),n);function h(t,e){var n=c[t];return null==n?null:e(n)}var d=o(t.dataset.fontThemeType);if(e.collapsed){var p=window.getComputedStyle(t);return{fontFamily:r(p["font-family"]),fontThemeType:d,fontSize:parseFloat(p["font-size"]),fontIsBold:document.queryCommandState("bold"),fontIsItalic:document.queryCommandState("italic"),fontIsUnderline:document.queryCommandState("underline"),fontIsStrikeout:document.queryCommandState("strikeThrough"),underlineStyle:void 0,foregroundColor:c[s.FOREGROUND_COLOR],backgroundColor:c[s.BACKGROUND_COLOR],underlineColor:c[s.TEXT_DECORATION_COLOR],listType:c["list-type"]}}return{fontFamily:r(c[s.FONT_FAMILY]),fontThemeType:d,fontSize:h(s.FONT_SIZE,(function(t){return parseFloat(t)})),fontIsBold:h(s.FONT_WEIGHT,(function(t){return"700"===t})),fontIsItalic:h(s.FONT_STYLE,(function(t){return"italic"===t})),fontIsUnderline:h(s.UNDERLINE_TEXT_DECORATION,(function(t){return t})),fontIsStrikeout:h(s.STRIKEOUT_TEXT_DECORATION,(function(t){return t})),underlineStyle:void 0,foregroundColor:c[s.FOREGROUND_COLOR],backgroundColor:c[s.BACKGROUND_COLOR],underlineColor:c[s.TEXT_DECORATION_COLOR],listType:c["list-type"]}},e.bottomUi=function(t){var e=t.reset,n=t.cancel,i=t.done;return'\n    <div class="three-bottom-ui">\n      <style>\n        .three-bottom-ui {\n          position: fixed;\n          width: 100%;\n          min-height: 20px;\n          padding-top: 20px;\n          background: none;\n          pointer-events: all;\n        }\n\n        .three-bottom-btn {\n          display: inline;\n          color: white;\n          border-radius: 20px;\n          padding: 1em;\n          border: none;\n          background: #949da5;\n          margin-left: 1em;\n          cursor: pointer;\n          min-width: 75px;\n          text-transform: uppercase;\n        }\n\n        .three-bottom-btn:hover {\n          background: #aab4bc;\n        }\n\n        .three-bottom-blue {\n          background: #4e82c7;\n        }\n\n        .three-bottom-blue:hover {\n          background: #329ae0;\n        }\n\n        .three-bottom-middle {\n          text-align: right;\n          width: calc(100% - 150px);\n          float: right;\n        }\n\n        .three-bottom-ui-reset {\n          float:left;\n          margin-left: 0;\n        }\n\n      </style>\n\n      <button class="three-bottom-ui-reset three-bottom-btn" data-ref>\n        <span>'+e+'</span>\n      </button>\n      <div class="three-bottom-middle">\n        <button class="three-bottom-ui-cancel three-bottom-btn" data-ref>\n          '+n+'\n        </button>\n\n        <button class="three-bottom-ui-done three-bottom-btn three-bottom-blue" data-ref>\n          '+i+"\n        </button>\n      </div>\n    </div>\n    "},e.crosshairsSvg=function(){return'\n  <style>\n    .three-crosshairs {\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      width: 40%;\n    }\n    .three-crosshairs path {\n      vector-effect: non-scaling-stroke;\n    }\n\n    .three-lat-lon-pill {\n      position: absolute;\n      bottom: 30px;\n      left: 50%;\n      height: 32px;\n      padding: 0em;\n      border-radius: 500px;\n      transform: translateX(-50%);\n      background: rgba(0, 0, 0, 0.8);\n      color: white;\n      display: flex;\n      pointer-events: all;\n    }\n\n    .three-lat-lon-pill > div {\n      flex-grow: 1;\n      pointer-events: all;\n    }\n\n    .three-lat-lon-pill > div > div {\n      position: relative;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n\n    .three-lat-lon-text {\n      flex-grow: 100;\n      text-align: center;\n      font-family: sans-serif;\n      text-shadow: 2px 2px rgba(0, 0, 0, 0.3);\n      margin-left: 1.5em;\n      margin-right: 1.5em;\n    }\n  </style>\n  <div class="three-crosshairs" data-ref>\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" viewBox="0 0 218 150">\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-linecap="square" transform="translate(-555 -428)">\n          <path d="M664 537c-18.777681 0-34-15.222319-34-34s15.222319-34 34-34 34 15.222319 34 34-15.222319 34-34 34zm0-11c12.702549 0 23-10.297451 23-23s-10.297451-23-23-23-23 10.297451-23 23 10.297451 23 23 23z"/>\n          <path stroke="#FFF" d="M664 537.5c-19.053824 0-34.5-15.446176-34.5-34.5s15.446176-34.5 34.5-34.5 34.5 15.446176 34.5 34.5-15.446176 34.5-34.5 34.5zm0-12c12.426407 0 22.5-10.073593 22.5-22.5s-10.073593-22.5-22.5-22.5-22.5 10.073593-22.5 22.5 10.073593 22.5 22.5 22.5z"/>\n          <path stroke="#000" stroke-linejoin="square" d="M664 536.5c18.501539 0 33.5-14.998461 33.5-33.5s-14.998461-33.5-33.5-33.5-33.5 14.998461-33.5 33.5 14.998461 33.5 33.5 33.5zm0-10c-12.978692 0-23.5-10.521308-23.5-23.5s10.521308-23.5 23.5-23.5 23.5 10.521308 23.5 23.5-10.521308 23.5-23.5 23.5z"/>\n        </g>\n        <g fill="#000" stroke="#FFF">\n          <path d="M3.5 3.5v28h-3V.5h31v3h-28zM214.5 3.5v28h3V.5h-31v3h28z"/>\n        </g>\n        <g fill="#000" stroke="#FFF">\n          <path d="M3.5 146.5v-28h-3v31h31v-3h-28zM214.5 146.5v-28h3v31h-31v-3h28z"/>\n        </g>\n        <path fill="#FFF" stroke="#000" d="M110.5 74.5h6v2h-6v6h-2v-6h-6v-2h6v-6h2v6z"/>\n      </g>\n    </svg>\n    </div>\n    <div class="three-lat-lon-pill" data-ref>\n      <div class="three-lat-lon-text" data-ref>\n        <div>Initial View: 0°, 0°</div>\n      </div>\n      <div class="three-lat-lon-line"></div>\n    </div>\n  '};var i=n(7954),r=i.parseFontFamily,o=i.parseFontThemeType,s=(e.modes={DEFAULT:"default",ADD_MARKER:"addMarker",DRAWING_HOTSPOT:"drawingHotspot",SET_INITIAL_CAMERA_ANGLE:"setInitialCameraAngle",SET_CROP_IMAGE_MEDIA:"setCropImageMedia"},{FONT_FAMILY:"font-family",FONT_SIZE:"font-size",FONT_WEIGHT:"font-weight",FONT_STYLE:"font-style",FOREGROUND_COLOR:"color",BACKGROUND_COLOR:"background-color",UNDERLINE_TEXT_DECORATION:"underline",STRIKEOUT_TEXT_DECORATION:"line-through",TEXT_DECORATION_COLOR:"text-decoration-color"}),a="none",l="ordered",u="unordered";e.BOTTOM_UI_HEIGHT=120},7954:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={},i={},r=e.imgBuffer=document.createElement("canvas");e.imgBufferCtx=r.getContext("2d");r.width=r.height=256;e.parseFontFamily=function(t){return null==t?null:t.split(",")[0].replace(/['"]+/g,"")},e.parseFontThemeType=function(t){return null==t?"none":t},e.svgHtmlIcon=function(t){var e=t;return i[e]||(i[e]=window.atob(t.replace("data:image/svg+xml;base64, ",""))),i[e]},e.svgImageIcon=function(t,e){var i=t;if(DS.detection.browser.isIE11)e(null);else if(n[i])e(n[i]);else{var r=new Image;r.crossOrigin="Anonymous",r.src=t,r.addEventListener("load",(function(){n[i]=r,e(r)}))}};var o=e.unpackHex=function(t){if("transparent"===t)return{r:0,g:0,b:0,a:0};if("white"===t)return{r:255,g:255,b:255,a:1};var e=parseInt(t.replace("#","0x"),16);return{r:e>>16&255,g:e>>8&255,b:255&e,a:1}},s=e.packRgb=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[t.r,t.g,t.b].map((function(t){return Math.round(t)}));return e?"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+t.a+")":"#"+(n=n.map((function(t){var e=t.toString(16);return 1===e.length&&(e="0"+e),e})))[0]+n[1]+n[2]},a=(e.overlayColor=function(t,e,n){var i=o(t),r=o(e);return s({r:n*i.r+(1-n)*r.r,g:n*i.g+(1-n)*r.g,b:n*i.b+(1-n)*r.b,a:n*i.a+(1-n)*r.a},!1)},e.easeColor=function(t,e){t.r+=(e.r-t.r)/6,t.g+=(e.g-t.g)/6,t.b+=(e.b-t.b)/6,t.a+=(e.a-t.a)/6;var n=Math.abs(t.r-e.r)<1&&Math.abs(t.g-e.g)<1&&Math.abs(t.b-e.b)<1&&Math.abs(t.a-e.a)<1;return n&&a(t,e),n},e.setColor=function(t,e){t.r=e.r,t.g=e.g,t.b=e.b,t.a=e.a});e.rectPath=function(t){return"M "+t.left+" "+t.top+"\n   L "+t.right+" "+t.top+"\n    "+t.right+" "+t.bottom+"\n    "+t.left+" "+t.bottom+"\n    "+t.left+" "+t.top+" "}},1815:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.freeNavigation=function(t,e){return"\n    <style>\n      .three-free {\n        position: absolute;\n        bottom: 30px;\n        left: 50%;\n        min-height: 40px;\n        padding: 0em;\n        border-radius: 500px;\n        transform: translateX(-50%);\n        background: "+e+";\n        color: "+t+';\n        display: flex;\n        pointer-events: all;\n        box-shadow: 0px 0px 4px 1px rgba(0, 0, 0, 0.15);\n        padding: 1em;\n      }\n    </style>\n    <div class="three-navigation three-free">\n      <div class="three-nav-content" data-ref>\n        1 of 5 viewed\n      </div>\n    </div>\n  '},e.guidedNavigtion=function(t,e,i){return"\n    <style>\n      .three-guided {\n        position: absolute;\n        bottom: 30px;\n        height: 44px;\n        left: 50%;\n        transform: translateX(-50%);\n        color: "+t+";\n        background: "+e+";\n        min-width: 135px;\n        border-radius: 500px;\n        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15);\n        display: flex;\n        pointer-events: all;\n      }\n\n      .three-guided div {\n        flex-grow: 1;\n      }\n\n      .three-guided svg {\n        display: inline-block !important;\n        margin-top: 2px;\n      }\n\n      .three-guided div > div {\n        position: relative;\n        text-align:center;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n\n      .three-guided-left-btn svg {\n        transform: scale(-1);\n      }\n\n      .three-guided-left-btn,\n      .three-guided-right-btn {\n        min-width: 30px;\n        cursor: pointer;\n        pointer-events: all;\n      }\n\n      .three-guided-left-btn:hover svg,\n      .three-guided-right-btn:hover svg {\n        transition: transform 100ms ease-out;\n      }\n\n      .three-guided-left-btn:hover svg {\n        transform: scale(-1.2);\n      }\n\n      .three-guided-right-btn:hover svg {\n        transform: scale(1.2);\n      }\n\n      .three-guided-left-btn path,\n      .three-guided-right-btn path {\n        stroke: "+i+' !important;\n      }\n\n      .three-guided-disabled {\n        cursor: normal;\n        pointer-events: none;\n      }\n\n      .three-guided-disabled path {\n        cursor: normal;\n        pointer-events: none;\n        stroke: #777 !important;\n      }\n    </style>\n    <div class="three-navigation three-guided" data-ref>\n      <div class="three-guided-left-btn" data-ref>\n        <div>'+n+'</div>\n      </div>\n      <div class="three-guided-nav-text">\n        <div class="three-nav-content" data-ref>1 of 5 viewed</div>\n      </div>\n      <div class="three-guided-right-btn" data-ref>\n        <div>'+n+"</div>\n      </div>\n    </div>\n  "};e.navigation={FREE:"free",GUIDED:"guided",NONE:"none"};var n='\n  <svg width="10" height="14" viewBox="0 0 10 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path opacity="0.9" d="M1.71347 12.2864 L7.28638 7.0 L1.71347 1.7136" stroke="#777" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>\n'},3684:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}void 0===(i=function(t){var e=n(1251),i=n(82),s=n(8579),a=n(9032),l=n(8880),u=n(118),c=(n(7812),n(3163)),h=c.AUDIO_MEDIA_TYPE,d=c.IMAGE_MEDIA_TYPE,p=n(5505),f=p.clickOrTouchEnd,v=p.enterOrTouchStart,g=p.leaveOrTouchEnd,m=p.downOrTouchStart,y=p.moveOrTouchMove,b=p.upOrTouchEnd;function w(t){var e=void 0,n=!1,r=!1,o=!1;function a(i){o||(t.pano.setupSuppressOnSelectionChange(),o=!0),e=t.panelAudioSeekEl.getBoundingClientRect(),n=!0,r=t.audioPlayer.playing,u(i)}function l(){r&&t.shown&&!t.audioPlayer.playing&&t.audioPlayer.play(),o&&(t.pano.teardownSuppressOnSelectionChange(),o=!1),n=!1,r=!1,t.panelAudioSeekHoverEl.classList.remove("audio-hover-is-shown")}function u(r){if(n){var o=function(t){return s.device.isMobile?t.touches[0]&&t.touches[0].clientX:t.clientX}(r);if(null!=o){var a=t.audioPlayer,l=(u=o,i.clamp(0,1,(u-e.left)/e.width)*a.model.getDuration());a.playing&&a.pause(!0),a.seek(l),a.onAudioTick(i.toSeconds(l)),t.panelAudioSeekHoverEl.classList.add("audio-hover-is-shown")}}var u}function c(){n||t.panelAudioSeekHoverEl.classList.add("audio-hover-is-shown")}function h(){n||t.panelAudioSeekHoverEl.classList.remove("audio-hover-is-shown")}return t.panelAudioSeekFillEl.addEventListener(v,c),t.panelAudioSeekFillEl.addEventListener(g,h),t.panelAudioSeekEl.addEventListener(m,a),document.addEventListener(y,u),document.addEventListener(b,l),function(){o&&(t.pano.teardownSuppressOnSelectionChange(),o=!1),t.panelAudioSeekFillEl.removeEventListener(v,c),t.panelAudioSeekFillEl.removeEventListener(g,h),t.panelAudioSeekEl.removeEventListener(m,a),document.removeEventListener(y,u),document.removeEventListener(b,l)}}var A=function(){function t(e){var n=this;o(this,t),this.destroy=function(){clearInterval(n.audioInterval)},this.panel=e,window.requestAnimationFrame((function(){n.onAudioTick()}))}return r(t,[{key:"play",value:function(){var t=this;if(this.panel.setupMediaModal(h)){this.playing=!0,this.resetPlayButton();var e=this.getAudioPlayer();e.onActionPlay({},{}),clearInterval(this.audioInterval),this.audioInterval=setInterval((function(){e.state.isPlaying||t.pause(e.timelinePausedFromUI),t.onAudioTick()}),30)}}},{key:"pause",value:function(t){this.panel.teardownMediaModal(h),this.playing=!1;var e=this.getAudioPlayer();e.timelinePausedFromUI=t,e.onActionPause({},{}),this.resetPlayButton(),clearInterval(this.audioInterval)}},{key:"setVolume",value:function(t){t*=100,this.getAudioPlayer().onActionSetVolume({volume:t},{})}},{key:"isEnded",value:function(){return this.getAudioPlayer().ended()}},{key:"seek",value:function(t){var e=this.getAudioPlayer();e.seek(t),e.currentTime=i.toSeconds(t),this.onAudioTick()}}]),t}(),S=function(){function t(e){var n=this;o(this,t),this.onPlaying=function(){n.currentTime=n.audio.currentTime},this.onEnded=function(){n.state.soundComplete=!0},this.audio=new Audio(e),this.state={isPlaying:!1,soundComplete:!1},this.currentTime=0,this.audio.addEventListener("timeupdate",this.onPlaying),this.audio.addEventListener("ended",this.onEnded)}return r(t,[{key:"onActionPlay",value:function(){this.audio.play(),this.state.isPlaying=!0,this.state.soundComplete=!1}},{key:"onActionPause",value:function(){this.audio.pause(),this.state.isPlaying=!1}},{key:"onActionSetVolume",value:function(t){t.volume/=100,this.audio.volume=t.volume}},{key:"ended",value:function(){return!0===this.state.soundComplete}},{key:"seek",value:function(t){this.audio.currentTime=i.toSeconds(t),this.state.soundComplete=t>=this.getDuration()}},{key:"getDuration",value:function(){return i.toMilliseconds(this.audio.duration)}},{key:"destroy",value:function(){this.audio.removeEventListener("timeupdate",this.onPlaying),this.audio.removeEventListener("ended",this.onEnded)}}]),t}(),E=function(){function t(e,n){var i=this;o(this,t),this.onUpdate=function(){i.player.onAudioTick()},this.currView=new S(e),this.currView.audio.addEventListener("canplaythrough",this.onUpdate),this.isEditModeAudio=!0,this.player=n}return r(t,[{key:"getDuration",value:function(){return this.currView.getDuration()}},{key:"destroy",value:function(){this.currView.audio.removeEventListener("canplaythrough",this.onUpdate)}}]),t}();function x(t){return t.data.mediaAccent||t.pano.playerAccentColor}return function(t,n){var r=t.audioPlayer;null==r&&(r=t.audioPlayer=new A(t));var o,s=null==n.url?u.resolvePath(n.path,t.pano.model):new E(n.url,r);function c(){t.hideMedia.set(h,g),r.isEnded()&&r.seek(0);var e=.75;"low"==n.volume?e=.5:"high"==n.volume?e=1:"mute"==n.volume&&(e=0),r.setVolume(e),r.play()}function p(t){r.pause(t)}function v(){!r.playing?c():p(!0)}function g(){t.hideMedia.delete(h),p(!1)}function m(e){if(t.shown){var n=t.getSelectionBox(t.mediaAudioEl),i=null!=n&&n.shown;if(!t.pano.editMode||i){if(32==e.which){if(document.activeElement==t.panelAudioPlayEl)return;v()}if(27==e.which&&!t.pano.editMode){if(t.isMediaShowing(d))return;t.hideMediaType(h)}}}}if(r.model=s,r.onAudioTick=function(o){var a=i.toSeconds(s.getDuration()),l=null!=o?o:r.getAudioPlayer().currentTime;r.isEnded()&&null==o&&(l=a);var u=l/a*100;t.panelAudioSeekFillEl.style.width=u+"%",e.setAttributes(t.panelAudioSeekFillEl,{"aria-valuenow":l,"aria-valuemax":a});var c="NaN",h=a-l;h>0&&(c=i.formatSecondsAsTime(h));var d=i.formatSecondsAsTime(l);if(-1===c.indexOf("NaN")&&-1===d.indexOf("NaN")){var f=/^0+(\d)/,v="-"+c.replace(f,"$1"),g=""+d.replace(f,"$1");t.panelAudioTimeEl.innerHTML=v,t.panelAudioSeekHoverEl.innerHTML=g,n.timeRemaining=v}r.isEnded()&&p(!1)},r.getAudioPlayer=function(){return null!=s&&s.currView},r.resetPlayButton=function(){var n=t.panelAudioPlayEl.firstElementChild;!r.playing?e.removeClass(n,"audio-is-playing"):e.addClass(n,"audio-is-playing")},null==t.mediaAudioEl){t.mediaAudioEl=document.createElement("div"),t.mediaAudioEl.classList.add("panel-audio");var y=n.timeRemaining||"-0:00",b='\n        <div class="panel-audio-pill">\n          <button class="panel-audio-play" data-ref>'+('\n    <svg class="panel-audio-play-icon" width="10" height="12" >\n      <path d="M9 5.705882L1 11V1z" fill="'+((o=x(t))||"#7d7d7d")+'" stroke="'+(o||"#7d7d7d")+'" stroke-width="2" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>\n      <rect x="0" y="0" width="4" height="11" fill="'+(o||"#7d7d7d")+'">\n      </rect>\n      <rect x="6" y="0" width="4" height="11" fill="'+(o||"#7d7d7d")+'">\n      </rect>\n    </svg>\n  </button>\n          <div class="panel-audio-seek" data-ref>\n            <div class="panel-audio-seek-fill"\n              role="slider"\n              aria-valuemin="0"\n              aria-valuenow="0"\n              aria-valuemax="0"\n              style="background:')+x(t)+'" data-ref>\n              <div class="panel-audio-seek-hover" data-ref>0:00</div>\n            </div>\n          </div>\n          <div class="panel-audio-time" data-ref>'+y+'</div>\n        </div>\n        <style class="panel-audio-dot-style">\n          .panel-audio-seek-fill:after {\n            background: '+("#FFFFFF"===t.data.fill?x(t):"#ffffff")+" !important;\n            border: 1px solid "+t.data.fill+' !important;\n          }\n        </style>\n        <style class="panel-audio-seek-hover-style">\n          .panel-audio-seek-hover {\n            background: '+x(t)+' !important;\n          }\n        </style>\n        <style class="panel-audio-time-style">\n          .panel-audio-time {\n            color: '+("#FFFFFF"===t.data.fill?"#494949":"#b4b4b4")+';\n          }\n        </style>\n        <style class="panel-audio-pill-style">\n          .panel-audio-pill {\n            display: flex;\n            height: 36px;\n            border: 1px solid '+("#FFFFFF"===t.data.fill?"#d5d5d5":"#6c6c6c")+';\n            border-radius: 36px;\n          }\n          .panel-audio-pill > * {\n            flex-grow: 1;\n          }\n        </style>\n        <style class="panel-audio-seek-style">\n          .panel-audio-seek {\n            height: 3px;\n            background: '+("#FFFFFF"===t.data.fill?"#8e8f8e":"#6c6c6c")+";\n            flex-grow: 100;\n            position: relative;\n            top: calc(50% - 2px);\n            border-radius: 4px;\n            cursor: pointer;\n          }\n        </style>\n      ";t.mediaAudioEl.innerHTML=b,t.onClickAudioMedia=function(e){var n=t.getSelectionBox(e.currentTarget),i=null!=n&&n.shown;t.pano.editMode&&!i&&t.showSelectionBox(e.currentTarget,!0)},t.mediaAudioEl.style.cursor=t.pano.editMode?"pointer":"default",t.addSelectionBox({targetEl:t.mediaAudioEl,showCallback:function(){t.mediaAudioEl.style.cursor="default",t.panelAudioPlayEl.style.pointerEvents="all",t.panelAudioSeekEl.style.pointerEvents="all"},hideCallback:function(){t.mediaAudioEl.style.cursor="pointer",t.panelAudioPlayEl.style.pointerEvents="none",t.panelAudioSeekEl.style.pointerEvents="none",p(!1)},shouldAutoHide:!0,panel:t,showPlaceholder:!1,paddingOffsets:{bottom:2}}),t.mediaAudioEl.addEventListener(f,t.onClickAudioMedia),e.selectAllByRef(t,t.mediaAudioEl),t.showMedia.set(h,(function(){r.seek(0),c()})),t.destroySeek=w(t),t.panelAudioPlayEl.addEventListener(f,v),window.addEventListener("keydown",m),t.pano.editMode&&(t.panelAudioPlayEl.style.pointerEvents="none",t.panelAudioSeekEl.style.pointerEvents="none"),t.bubbleEl.appendChild(t.mediaAudioEl)}var S=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t.pano.editMode||n.cleanup)&&(t.hideMediaType(h),t.showMedia.delete(h),t.audioPlayer.destroy(),t.audioPlayer=null,s.isEditModeAudio&&s.destroy(),t.destroySeek(),t.panelAudioPlayEl.removeEventListener(f,v),window.removeEventListener("keydown",m),null!=t.mediaAudioEl&&(t.mediaAudioEl.removeEventListener(f,t.onClickAudioMedia),t.bubbleEl.removeChild(t.mediaAudioEl),t.removeSelectionBox(t.mediaAudioEl),t.mediaAudioEl=null),a.off(l.slide.WILL_CHANGE,e))};return a.on(l.slide.WILL_CHANGE,S),S}}.call(e,n,e,t))||(t.exports=i)},7929:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(1251),i=(n(118),n(8579)),r=n(82),o=n(9032),s=n(8880),a=n(1681),l=n(6295),u=n(9045).modes,c=n(3163).IMAGE_MEDIA_TYPE,h=n(5505),d=h.clickOrTouchEnd,p=h.downOrTouchStart,f=h.moveOrTouchMove,v=h.upOrTouchEnd,g=n(7536),m=g.Z_INDEX_MID,y=g.PAD_SCALE;function b(t,e,n,i){var r=e.naturalWidth,o=e.naturalHeight,s=t.marker.getEditorVar("imageMediaCropRectangle");n.setAttribute("width",r),n.setAttribute("height",o),null!=s?(i.setAttribute("width",s.width),i.setAttribute("height",s.height),i.setAttribute("viewBox",s.left+" "+s.top+" "+s.width+" "+s.height)):(i.setAttribute("width",r),i.setAttribute("height",o),i.setAttribute("viewBox","0 0 "+r+" "+o)),t.updateInteractableElements()}return function(t,n){var h=n.url||null!=t.pano.assetManager&&t.pano.assetManager.getAssetUrl(n.assetId),g=n.imgAltText||"this is a long description of the image";if(null==t.mediaImageEl){t.mediaImageEl=document.createElement("div"),t.mediaImageEl.innerHTML='\n        <svg class="panel-image-thumb" data-ref\n          style="position:relative;width:100%;height:100%;overflow:hidden;" width="100%" height="100%">\n          <image style="pointer-events: auto;" class="panel-framed-image-thumb" data-ref xlink:href="'+h+'" />\n        </svg>\n      ',e.selectAllByRef(t,t.mediaImageEl),t.panelImageThumbEl.style.cursor=t.pano.editMode?"pointer":"zoom-in";var w=new Image;w.src=h,w.addEventListener("load",(function(){b(t,w,t.panelFramedImageThumbEl,t.panelImageThumbEl)})),t.mediaImageEl=t.mediaImageEl.firstElementChild,t.mediaImageEl.setAttribute("draggable",!1),t.panelBodyTopEl.appendChild(t.mediaImageEl),t.addSelectionBox({targetEl:t.mediaImageEl,maskBounds:{bottomCalc:function(){return t.panelContentGradBottomEl.getBoundingClientRect().bottom},topCalc:function(){return t.panelBodyContainerEl.getBoundingClientRect().top}},showCallback:function(){return t.mediaImageEl.style.cursor="zoom-in"},hideCallback:function(){return t.mediaImageEl.style.cursor="pointer"},shouldAutoHide:!0,panel:t,showPlaceholder:!1})}else t.mediaImageEl.src=h;function A(e){27==e.which&&!t.pano.editMode&&t.hideMediaType(c)}function S(){o.trigger(s.threeSixtyImage.MEDIA_CLOSED),window.requestAnimationFrame((function(){t.hideMedia.delete(c),t.mediaShowing&&(t.pano.mode===u.SET_CROP_IMAGE_MEDIA&&t.pano.cancelCropImageMedia(!0),t.overlayEl.parentNode.removeChild(t.overlayEl),t.teardownMediaModal(c),t.overlayEl.innerHTML="",t.panelMediaCloseEl.removeEventListener(d,S),window.removeEventListener("keydown",A),document.addEventListener(p,t.marker.onReleaseOutsideLabel),t.pano.editMode&&window.requestAnimationFrame((function(){t.showSelectionBox(t.mediaImageEl,!0)})))}))}function E(){b(t,t.panelImageEl,t.panelFramedImageEl,t.panelImageFrameEl),P()}var x={count:0,down:!1,tolerance:3};function T(){var n=x.count>x.tolerance;if(x.count=0,x.down=!1,!n){var o=t.getSelectionBox(t.mediaImageEl),s=null!=o&&o.shown;if(!t.pano.editMode||s){if(t.setupMediaModal(c)){var l=document.createElement("div");l.classList.add("three-sixty-image-media-panel-overlay"),e.setStyles(l,{position:"fixed",width:"100%",height:"100%",zIndex:m,top:0,left:0}),document.body.appendChild(l),t.overlayEl=l,t.overlayEl.innerHTML='\n        <div class="panel-media-overlay" data-ref role="dialog" aria-modal="true">\n          <div class="panel-image-container" data-ref tabIndex="0">\n            <svg class="panel-image-frame"\n              role="button"\n              data-ref aria-label="'+g+'" tabIndex="0" data-next-el=".panel-media-close"\n              style="position:absolute;width:100%;height:100%;overflow:hidden;" width="100%" height="100%">\n              <image class="panel-framed-image" data-ref xlink:href="'+h+'" />\n            </svg>\n            <img class="panel-image" src='+h+' data-ref style="display:none"/>\n          </div>\n          <button tabIndex="0"\n            data-next-el=".panel-image-frame"\n            type="button"\n            aria-label="'+a.getString("close")+'"\n            class="panel-media-close acc-button" data-ref>\n    <svg class="panel-media-icon-close" width="40" height="40" viewBox="0 0 81 81" focusable="false" data-ref="">\n      <circle cx="40.5" cy="40.5" r="40" fill="black" fill-opacity="0.5"></circle>\n      <polygon fill="white" points="58.5 25.33 55.67 22.5 40.5 37.67 25.33 22.5 22.5 25.33 37.67 40.5 22.5 55.67 25.33 58.5 40.5 43.33 55.67 58.5 58.5 55.67 43.33 40.5"></polygon>\n    </svg>\n  </button>\n        </div>\n      ',e.selectAllByRef(t,t.overlayEl);t.panelImageFrameEl.addEventListener("click",(function(){var e=r.getPath(t,"pinchzoomable.pinch",{scale:1,zoomingOut:!1});1!==e.scale||e.zoomingOut||S()})),!t.pano.editMode&&i.device.isMobile&&(t.pinchzoomable=Object.assign({},DS.pinchZoomController),_.forOwn(t.pinchzoomable,(function(e,n){_.isFunction(t.pinchzoomable[n])&&(t.pinchzoomable[n]=t.pinchzoomable[n].bind(t.pinchzoomable))})),t.pinchzoomable.initZoomTarget(t.panelImageContainerEl),t.pinchzoomable.cssTransformOrigin="transformOrigin",t.pinchzoomable.cssTransform="transform"),document.removeEventListener(p,t.marker.onReleaseOutsideLabel),t.panelImageEl.addEventListener("load",E),t.hideMedia.set(c,S),t.panelMediaCloseEl.addEventListener(d,S),window.addEventListener("keydown",A)}}else t.showSelectionBox(t.mediaImageEl,!0)}}function C(){x.count=0,x.down=!0}function k(){x.down=!1}function M(){x.down&&x.count++}t.showMedia.set(c,T),t.mediaImageEl.addEventListener(d,T),t.mediaImageEl.addEventListener(p,C),t.mediaImageEl.addEventListener(f,M),t.mediaImageEl.addEventListener(v,k);var O=void 0;function P(e){if(t.overlayEl){var n=window.innerWidth,i=window.innerHeight,r=t.panelMediaOverlayEl;r.style.width=n+"px",r.style.height=i+"px";var o=t.panelImageFrameEl.viewBox.baseVal;if(null!=o){var s=o.width,a=o.height;if(0!==s&&0!==a){var l=Math.min(parseFloat(n-40)/s,parseFloat(i-40-(t.pano.editMode?100:0))/a),u=t.pano.editMode?1:y,c=t.panelImageContainerEl,h=s*l*u,d=a*l*u,p=(n-h)/2,f=(i-d)/2;c.style.width=h+"px",c.style.height=d+"px",c.style.transform="translate("+p+"px, "+f+"px)",null!=t.pinchzoomable&&(t.pinchzoomable.offsetStart(p,f),t.pinchzoomable.resetPinch()),t.panelImageFrameEl.setAttribute("width",h),t.panelImageFrameEl.setAttribute("height",d),null!=t.pano.cropTool&&t.pano.cropTool.updateTransformControls(h/t.pano.cropTool.image.naturalWidth),null!=e&&(clearTimeout(O),O=setTimeout((function(){P()}),300))}}}}t.prepCrop=function(){var e=t.panelImageEl.naturalWidth,n=t.panelImageEl.naturalHeight;return t.panelFramedImageEl.setAttribute("width",e),t.panelFramedImageEl.setAttribute("height",n),t.panelImageFrameEl.setAttribute("viewBox","0 0 "+e+" "+n),t.panelImageFrameEl.setAttribute("width",e),t.panelImageFrameEl.setAttribute("height",n),P(),P},t.cancelCrop=function(){b(t,t.panelImageEl,t.panelFramedImageEl,t.panelImageFrameEl),P()},t.saveCrop=function(e){t.marker.setEditorVar("imageMediaCropRectangle",e),b(t,t.panelImageEl,t.panelFramedImageThumbEl,t.panelImageThumbEl);var n=t.panelImageFrameEl.viewBox.baseVal;l.to(n,.5,{x:e.left,y:e.top,width:e.width,height:e.height,ease:"power4.out",onUpdate:function(){var e=n.x,i=n.y,r=n.width,o=n.height;t.panelImageFrameEl.setAttribute("viewBox",e+" "+i+" "+r+" "+o),P()}})},window.addEventListener("resize",P);var L=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t.pano.editMode||n.cleanup)&&(window.removeEventListener("resize",P),null!=t.panelImageEl&&t.panelImageEl.removeEventListener("load",E),null!=t.panelImageFrameEl&&t.panelImageFrameEl.removeEventListener("click",onImageClickClose),t.hideMediaType(c),t.showMedia.delete(c),null!=t.mediaImageEl&&(t.mediaImageEl.removeEventListener(d,T),t.mediaImageEl.removeEventListener(p,C),t.mediaImageEl.removeEventListener(f,M),t.mediaImageEl.removeEventListener(v,k),t.mediaImageEl.parentNode.removeChild(t.mediaImageEl),t.removeSelectionBox(t.mediaImageEl),t.mediaImageEl=null,t.marker.setEditorVar("imageMediaCropRectangle",null)),o.off(s.slide.WILL_CHANGE,e))};return o.on(s.slide.WILL_CHANGE,L),L}}.call(e,n,e,t))||(t.exports=i)},3163:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.IMAGE_MEDIA_TYPE="image",e.VIDEO_MEDIA_TYPE="video",e.AUDIO_MEDIA_TYPE="audio",e.ALL_MEDIA_TYPE="all",e.NO_MEDIA_TYPE="none",e.FOCUS_ON_TITLE="title",e.FOCUS_ON_BODY="body",e.FOCUS_ON_IMAGE="image",e.FOCUS_ON_VIDEO="video",e.FOCUS_ON_AUDIO="audio",e.FOCUS_ON_NONE="none"},133:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}void 0===(i=function(t){var e=n(1251),i=(n(118),n(8579)),s=n(82),a=n(9032),l=n(8880),u=n(8766),c=n(520),h=n(3511),d=(n(7812),n(3163).VIDEO_MEDIA_TYPE),p=n(5505),f=p.clickOrTouchEnd,v=p.downOrTouchStart,g=p.moveOrTouchMove,m=p.upOrTouchEnd,y=n(7536),b=y.Z_INDEX_MID,w=y.Z_INDEX_TOP,A=y.PAD_SCALE,S=function(t){return"#FFFFFF"===t?"#494949":"#BABBBA"},E=function(t,e){var n=function(t,e){var n=S(t);return"#FFFFFF"===t?{trackFill:"#8e8f8e",thumbFill:e,thumbStroke:"#ffffff",progressFill:e,iconFill:n,panelFill:t,panelStroke:n}:{trackFill:"#8e8f8e",thumbFill:"#ffffff",thumbStroke:t,progressFill:e,iconFill:n,panelFill:t,panelStroke:"#6a6a6a"}}(t,e),r=n.thumbFill,o=n.thumbStroke,s=n.trackFill,a=n.progressFill,l=n.iconFill,u=n.panelFill,c=n.panelStroke;return i.deviceView.isMobile?"":'\n      <div class=\'panel-video-volume\' data-ref>\n        <button class=\'panel-video-volume-button\' data-ref>\n          <svg class="panel-video-volume-icon" width="16px" height="14px" viewBox="0 0 16 14" focusable="false" fill="'+l+'">\n            <rect x="0" y="4" width="3" height="6"></rect>\n            <polygon points="4 4 9 0 9 14 4 10"></polygon>\n            <g transform="translate(10, 0)" stroke="'+l+'">\n              <mask id="panel-vol-mask" fill="white">\n                <rect x="0" y="0" width="8" height="14" fill="white"></rect>\n              </mask>\n              <circle strokewidth="1.5" style="opacity: 1;" mask="url(#panel-vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n              <circle strokewidth="1.5" style="opacity: 1;" mask="url(#panel-vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n            </g>\n          </svg>\n        </button>\n        <div class="panel-video-volume-slider" data-ref>\n          <svg class="panel-video-volume-slider-bg" xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' version=\'1.1\' width=\'46px\' height=\'108px\' viewBox=\'0 0 46 108\' >\n              <defs>\n                  <filter x=\'-41.7%\' y=\'-13.4%\' width=\'183.3%\' height=\'125.5%\' filterUnits=\'objectBoundingBox\' id=\'filter-2\'>\n                      <feMorphology radius=\'0.5\' operator=\'dilate\' in=\'SourceAlpha\' result=\'shadowSpreadOuter1\'></feMorphology>\n                      <feGaussianBlur stdDeviation=\'4\' in=\'shadowSpreadOuter1\' result=\'shadowBlurOuter1\'></feGaussianBlur>\n                      <feColorMatrix values=\'0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0\' type=\'matrix\' in=\'shadowBlurOuter1\' result=\'colorOuter\'></feColorMatrix>\n                      <feMerge>\n                          <feMergeNode in="colorOuter"/>\n                          <feMergeNode in="SourceGraphic"/>\n                      </feMerge>\n                  </filter>\n              </defs>\n              <g stroke=\''+c+"' stroke-width='1' fill='"+u+'\' fill-rule=\'evenodd\' filter=\'url(#filter-2)\'>\n                  <path d=\'M11,8 L35,8 C36.66,8 38,9.34 38,11 L38,84.76 C38,85.55 37.68,86.32 37.12,86.88 L25.12,98.88 C23.95,100.05 22.05,100.05 20.88,98.88 L8.88,86.88 C8.32,86.32 8,85.55 8,84.76 L8,11 C8,9.34 9.34,8 11,8 Z\'>\n                  </path>\n              </g>\n          </svg>\n          <input class="panel-video-volume-slider-range" type="range" min="0" max="10" step="1" value="8" data-ref/>\n          <div class="panel-video-volume-slider-track" style="background: '+s+'"></div>\n          <div class="panel-video-volume-slider-progress" style="background: '+a+'" data-ref></div>\n          <div class="panel-video-volume-slider-thumb" style="background: '+r+"; border-color: "+o+'" data-ref></div>\n        </div>\n      </div>\n    '},x=function(t,e,n){return'\n    <div class="panel-video-player panel-media-overlay" style="opacity: 0" data-ref>\n      <div class="panel-video-container" data-ref>\n        <video src="'+n+'" class="panel-video" data-ref playsinline preload="yes"></video>\n        <div class="panel-video-controls" style="background: '+t+'" data-ref>\n          '+function(t){return'\n    <button class="panel-video-play" data-ref>\n      '+function(t){return'\n    <svg class="panel-video-play-icon" width="10" height="12">\n      <path d="M9 5.705882L1 11V1z" fill="'+t+'" stroke="'+t+'" stroke-width="2" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>\n      <rect x="0" y="0" width="4" height="11" fill="'+t+'">\n      </rect>\n      <rect x="6" y="0" width="4" height="11" fill="'+t+'">\n      </rect>\n    </svg>\n  '}(S(t))+"\n    </button>\n  "}(t)+"\n          "+function(t,e){return'\n    <div class="panel-video-seek" data-ref>\n      <div class="panel-video-seek-fill"\n        role="slider"\n        style="background:'+(e||"#007CB2")+'" data-ref></div>\n    </div>\n  '}(0,e)+"\n          "+E(t,e)+"\n          "+function(t,e){return'\n    <button id="panel-video-captions-btn" class="panel-video-captions" data-ref>\n      <style>\n        #panel-video-captions-btn.captions-on:after {\n          background: '+e+";\n        }\n      </style>\n      "+function(t){return'\n  <svg class="panel-video-captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" >\n    <g>\n      <path fill="'+t+'" stroke="none" d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n      <path fill="none" stroke="'+t+'" class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n    </g>\n  </svg>\n  '}(S(t))+"\n    </button>\n  "}(t,e)+'\n        </div>\n      </div>\n      <button class="panel-media-close">\n    <svg class="panel-media-icon-close" width="40" height="40" viewBox="0 0 81 81" focusable="false" data-ref="">\n      <circle cx="40.5" cy="40.5" r="40" fill="black" fill-opacity="0.5"></circle>\n      <polygon fill="white" points="58.5 25.33 55.67 22.5 40.5 37.67 25.33 22.5 22.5 25.33 37.67 40.5 22.5 55.67 25.33 58.5 40.5 43.33 55.67 58.5 58.5 55.67 43.33 40.5"></polygon>\n    </svg>\n  </button>\n      <style class="panel-video-dot-style">\n        .panel-video-seek-fill:after {\n          background: '+("#FFFFFF"===t?e:"#ffffff")+" !important;\n          border: 1px solid "+t+' !important;\n        }\n      </style>\n      <style class="panel-video-seek-style">\n        .panel-video-seek {\n          height: 4px;\n          background: '+("#FFFFFF"===t?"#8e8f8e":"#6c6c6c")+";\n          flex-grow: 100;\n          position: relative;\n          top: calc(50% - 2px);\n          border-radius: 4px;\n          cursor: pointer;\n        }\n      </style>\n    </div>\n  "},T=function(){function t(e){o(this,t),this.el=e.panelVideoVolumeEl,this.button=e.panelVideoVolumeButtonEl,this.sliderPanel=e.panelVideoVolumeSliderEl,this.progress=e.panelVideoVolumeSliderProgressEl,this.thumb=e.panelVideoVolumeSliderThumbEl,this.range=e.panelVideoVolumeSliderRangeEl,_.bindAll(this,"onMouseOver","onMouseLeave","onInputChanged","onVolumeChanged"),this.button.addEventListener("click",this.onClick),this.el.addEventListener("mouseover",this.onMouseOver),this.range.addEventListener("input",this.onInputChanged),DS.pubSub.on(DS.events.volume.CHANGED,this.onVolumeChanged),this.onVolumeChanged(DS.appState.currentVolume())}return r(t,[{key:"onClick",value:function(){DS.appState.onToggleVolume()}},{key:"onVolumeChanged",value:function(t){var e=DS.utils.clamp(0,10,10*t);this.progress.style.width=60*t+"px",this.thumb.style.top="-"+60*t+"px",this.range.valueAsNumber!==e&&(this.range.value=e)}},{key:"onInputChanged",value:function(t){DS.appState.setVolume(t.target.valueAsNumber/10)}},{key:"onMouseOver",value:function(t){e.addClass(this.sliderPanel,"open"),this.el.addEventListener("mouseleave",this.onMouseLeave)}},{key:"onMouseLeave",value:function(t){e.removeClass(this.sliderPanel,"open"),this.el.removeEventListener("mouseleave",this.onMouseLeave)}},{key:"destroy",value:function(){this.button.removeEventListener("click",this.onClick),this.el.removeEventListener("mouseover",this.onMouseOver),this.range.removeEventListener("input",this.onInputChanged),this.sliderPanel.removeEventListener("mouseleave",this.onMouseLeave),DS.pubSub.off(DS.events.volume.CHANGED,this.onVolumeChanged)}}]),t}(),C=function(){function t(e){var n=e.panel;o(this,t),this.panel=n,this.opacity=1,i.device.isMobile||(this.volumeControl=new T(n))}return r(t,[{key:"destroy",value:function(){null!=this.volumeControl&&this.volumeControl.destroy()}},{key:"show",value:function(t){this.setVisible(!0,t)}},{key:"hide",value:function(){this.panel.videoPlayer.isPlaying()&&this.setVisible(!1)}},{key:"tweenOpacityTo",value:function(t,e){var n=this,i=t<this.opacity;TweenLite.to(this,e,{opacity:t,ease:i?"power4.out":"power1.out",onComplete:function(){0===n.opacity&&n.setVisibility(!1)}})}},{key:"setVisibility",value:function(t){this.panel.panelVideoControlsEl.style.visibility=t?"visible":"hidden",this.updateCaptionPosition()}},{key:"updateCaptionPosition",value:function(){var t=s.getPath(this,"panel.captionsEl");null!=t&&e.setStyles(t,{height:this.isVisible()?"calc(100% - 43px)":"100%"})}},{key:"setVisible",value:function(t,e){var n=this;null!=this.hideControlsTimer&&(clearTimeout(this.hideControlsTimer),this.hideControlsTimer=null);t?(this.setVisibility(!0),this.updateCaptionPosition(),this.tweenOpacityTo(1,.3),this.panel.videoPlayer.isPlaying()&&!e&&(this.hideControlsTimer=setTimeout((function(){return n.hide()}),3e3))):this.tweenOpacityTo(0,.3)}},{key:"isVisible",value:function(){return"visible"===this.panel.panelVideoControlsEl.style.visibility}},{key:"opacity",set:function(t){this.panel.panelVideoControlsEl.style.opacity=t},get:function(){return parseFloat(this.panel.panelVideoControlsEl.style.opacity)}}]),t}();function k(t,e,n){var r=void 0,o=!1,a=!1;function l(n){r=t.panelVideoSeekEl.getBoundingClientRect(),o=!0,a=e.isPlaying(),c(n)}function u(e){var i=o;o=!1,a&&t.shown&&t.panelVideoEl.play(),i&&n.show()}function c(e){if(o){var a=function(t){return i.device.isMobile?t.touches[0]&&t.touches[0].clientX:t.clientX}(e)+5;if(null!=a){var l=t.videoPlayer,u=(c=a,s.clamp(0,1,(c-r.left)/r.width)*t.panelVideoEl.duration);t.panelVideoEl.pause(),t.panelVideoEl.currentTime=u,l.updateSeek(u),null!=t.captionsConnector&&t.captionsConnector.clearCaptions(),n.show(!0)}}var c}return t.panelVideoSeekEl.addEventListener(v,l),document.addEventListener(g,c),document.addEventListener(m,u),function(){t.panelVideoSeekEl.removeEventListener(v,l),document.removeEventListener(g,c),document.removeEventListener(m,u)}}function M(t,n,r){n.play();var o=new C({panel:t});function s(){!o.isVisible()&&i.device.isMobile||n.toggleIsPlaying(),o.show()}function u(){null!=t.captionsConnector&&t.captionsConnector.toggleCaptioning()}function c(e){if(32==e.which){if(document.activeElement==t.panelVideoPlayEl)return;n.toggleIsPlaying(),o.show()}27==e.which&&!t.pano.editMode&&t.hideMediaType(d)}function h(){o.show()}function p(){n.updateSeek(t.panelVideoEl.currentTime)}function g(){n.pause(),o.show(),null!=t.captionsConnector&&t.captionsConnector.clearCaptions()}function m(e){o.show(),t.panelVideoEl.volume=r*e}function y(e){o.show(),e?t.panelVideoCaptionsEl.classList.add("captions-on"):t.panelVideoCaptionsEl.classList.remove("captions-on")}o.show(),null==t.captionsConnector||t.pano.editMode?t.panelVideoCaptionsEl.style.display="none":t.captionsConnector.isCaptionEnabled()&&t.panelVideoCaptionsEl.classList.add("captions-on"),t.panelVideoCaptionsEl.addEventListener(f,u),t.panelVideoPlayEl.addEventListener(f,s),t.panelVideoEl.addEventListener(f,s),t.panelVideoEl.addEventListener("mousemove",h),t.panelVideoControlsEl.addEventListener("mousemove",h),window.addEventListener("keydown",c),a.on(l.volume.CHANGED,m),a.on(l.captions.ENABLED,y),t.panelVideoEl.addEventListener("timeupdate",p),t.panelVideoEl.addEventListener("ended",g);var b=k(t,n,o),w=function(t){return t.captionsEl=document.querySelector("#preso .caption-container"),null!=t.captionsEl&&(t.panelVideoContainerEl.appendChild(t.captionsEl),t.oldCaptionStyles=t.captionsEl.getAttribute("style"),e.setStyles(t.captionsEl,{width:"100%",height:"calc(100% - 43px)",transform:""})),function(){null!=t.captionsEl&&(document.getElementById("preso").insertBefore(t.captionsEl,document.getElementById("app-top")),t.captionsEl.setAttribute("style",t.oldCaptionStyles),t.captionsEl=null)}}(t);function A(e){t.hideMedia.delete(d),t.mediaShowing&&(t.overlayEl.parentNode.removeChild(t.overlayEl),t.teardownMediaModal(d),n.pause(),t.panelVideoCaptionsEl.removeEventListener(f,u),t.panelVideoPlayEl.removeEventListener(f,s),t.panelVideoEl.removeEventListener(f,s),t.panelVideoEl.removeEventListener("mousemove",h),t.panelVideoControlsEl.removeEventListener("mousemove",h),window.removeEventListener("keydown",c),a.off(l.volume.CHANGED,m),a.off(l.captions.ENABLED,y),b(),w(),o.destroy(),null!=t.captionsConnector&&t.captionsConnector.destroy(),null!=t.panelVideoEl.parentNode&&t.panelVideoEl.parentNode.removeChild(t.panelVideoEl),t.overlayEl.innerHTML="",t.panelMediaIconCloseEl.removeEventListener(f,A),t.panelVideoEl.removeEventListener("timeupdate",p),t.panelVideoEl.removeEventListener("ended",g),document.addEventListener(v,t.marker.onReleaseOutsideLabel),t.pano.editMode&&window.requestAnimationFrame((function(){t.showSelectionBox(t.mediaVideoPosterEl,!0)})))}t.hideMedia.set(d,A),t.panelMediaIconCloseEl.addEventListener(f,A)}function O(t){return t.data.mediaAccent||t.pano.playerAccentColor}return function(t,n){null==t.videoPlayer&&(t.videoPlayer={playing:!1});var r=t.videoPlayer,o=void 0,s=void 0;if(null!=n.url)s=n.url;else{o=t.pano.assetManager.getAsset(n.assetId),s=o.url();var p=u.getCaptions(n.assetId);if(null!=p){var m=t.pano.slideObject.props.parent.props.model.getSlide(),y=c.getCurrentWindowSlide().id;t.captionsConnector=new h({type:"video",slideId:y,assetId:n.assetId,slideOwner:m,captions:p,parentEl:t,mediaElName:"panelVideoEl",isMediaVisible:function(){return!0}})}}r.updateSeek=function(i){null!=t.captionsConnector&&(t.captionsConnector.setCurrentTime(i),t.captionsConnector.adjustCaptions());var r=t.panelVideoEl.duration,o=null!=i?i:t.panelVideoEl.currentTime;n.currentTime=o;var s=o/r*100;t.panelVideoSeekFillEl.style.width=s+"%",e.setAttributes(t.panelVideoSeekFillEl,{"aria-valuenow":o,"aria-valuemax":r})},r.isPlaying=function(){return r.playing},r.play=function(){r.playing=!0,r.onIsPlayingChanged()},r.pause=function(){r.playing=!1,r.onIsPlayingChanged()},r.toggleIsPlaying=function(){r.playing=!r.playing,r.onIsPlayingChanged()},r.onIsPlayingChanged=function(){var n=t.panelVideoPlayEl.firstElementChild;r.isPlaying()?(t.panelVideoEl.play(),e.addClass(n,"video-is-playing")):(t.panelVideoEl.pause(),e.removeClass(n,"video-is-playing"))};var S=n.posterUrl||null!=t.pano.assetManager&&t.pano.assetManager.getAssetUrl(n.posterAssetId);if(null==t.mediaVideoPosterEl){var E=document.querySelector(".panel-video-play-icon-shadow");null==E&&((E=document.createElement("div")).classList.add="panel-video-play-icon-shadow",E.innerHTML='\n    <svg width="0" height="0" style="position:absolute;" focusable="false">\n      <defs>\n        <filter x="-25%" y="-25%" width="150%" height="150%" filterUnits="objectBoundingBox" id="panel-image-shadow">\n          <feOffset dy="2" in="SourceAlpha" result="shadowOffsetOuter1"/>\n          <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>\n          <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"/>\n          <feMerge>\n            <feMergeNode in="shadowMatrixOuter1"/>\n            <feMergeNode in="SourceGraphic"/>\n          </feMerge>\n        </filter>\n      </defs>\n    </svg>\n  ',document.body.appendChild(E));var T='\n        <div class="panel-video-poster">\n          <img alt="" draggable="false" style="width:100%;height:100%;" />\n          '+('\n    <svg width="30%" height="30%" viewBox="0 0 56 56" class="panel-video-play" data-ref>\n      <g filter="url(#panel-image-shadow)" transform="translate(4 2)" fill="none" fill-rule="evenodd">\n        <circle fill="'+(O(t)||"#007CB2")+'" cx="24" cy="24" r="24"/>\n        <path stroke="#FFF" stroke-width="2.8" fill="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M32 24l-13 9V16z"/>\n      </g>\n    </svg>\n  \n        </div>\n      ');t.mediaVideoPosterEl=document.createElement("div"),t.mediaVideoPosterEl.innerHTML=T,t.mediaVideoPosterEl.style.cursor="pointer",t.mediaVideoPosterEl.querySelector("img").addEventListener("load",k),t.addSelectionBox({targetEl:t.mediaVideoPosterEl,showCallback:function(){return t.mediaVideoPosterEl.style.cursor="pointer"},hideCallback:function(){return t.mediaVideoPosterEl.style.cursor="pointer"},shouldAutoHide:!0,panel:t,showPlaceholder:!1,paddingOffsets:{bottom:-3}}),t.panelBodyTopEl.appendChild(t.mediaVideoPosterEl),t.mediaVideoPosterEl.querySelector("img").src=S}else t.mediaVideoPosterEl.querySelector("img").src=S;var _={count:0,down:!1,tolerance:3};function C(o){var a=t.getSelectionBox(t.mediaVideoPosterEl),l=null!=a&&a.shown;if(!t.pano.editMode||l){if(_.count>_.tolerance)return _.count=0,void(_.down=!1);if(t.setupMediaModal(d)){var u=document.createElement("div");u.classList.add("three-sixty-image-media-panel-overlay"),e.setStyles(u,{position:"fixed",width:"100%",height:"100%",zIndex:b,top:0,left:0,background:i.deviceView.isMobile?"rgba(0, 0, 0, 0.85)":"transparent"}),document.body.appendChild(u),t.overlayEl=u,t.overlayEl.innerHTML=x(t.data.fill,O(t),s);var c=document.querySelector("body > .slide-loader");null!=c&&(Object.assign(c.style,{display:"block",opacity:1,zIndex:w}),c.classList.add("media-slide-loader"),[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(c.children)).forEach((function(t){t.style.backgroundColor="white"}))),e.selectAllByRef(t,t.overlayEl),document.removeEventListener(v,t.marker.onReleaseOutsideLabel),t.panelVideoEl.addEventListener("loadedmetadata",(function e(){P(),t.panelVideoPlayerEl.style.opacity=1,null!=c&&Object.assign(c.style,{opacity:0,display:"none"});var i=.75;"low"==n.volume?i=.5:"high"==n.volume?i=1:"mute"==n.volume&&(i=0),t.panelVideoEl.play();var o=DS.appState.currentVolume();t.panelVideoEl.volume=i*o,t.panelVideoEl.currentTime=n.currentTime||0,M(t,r,i),r.updateSeek(t.panelVideoEl.currentTime),t.panelVideoEl.removeEventListener("canplay",e)}))}}else t.showSelectionBox(t.mediaVideoPosterEl,!0)}function k(e){t.updateInteractableElements()}function P(){if(t.overlayEl){var e={w:window.innerWidth,h:window.innerHeight},n=t.panelVideoPlayerEl;n.style.width=e.w+"px",n.style.height=e.h+"px";var i=t.panelVideoEl,r=Math.min(parseFloat(e.w)*A/i.videoWidth,parseFloat(e.h)*A/i.videoHeight),o=t.panelVideoContainerEl;o.style.width=i.videoWidth*r+"px",o.style.height=i.videoHeight*r+"px"}}t.showMedia.set(d,(function(){C(),r.updateSeek(0)})),t.mediaVideoPosterEl.addEventListener(f,C),t.mediaVideoPosterEl.addEventListener(v,(function(){_.count=0,_.down=!0})),t.mediaVideoPosterEl.addEventListener(g,(function(){_.down&&_.count++})),window.addEventListener("resize",P);var L=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t.pano.editMode||n.cleanup)&&(window.removeEventListener("resize",P),t.hideMediaType(d),t.showMedia.delete(d),t.captionsConnector=null,null!=t.mediaVideoPosterEl&&(t.mediaVideoPosterEl.removeEventListener(f,C),t.mediaVideoPosterEl.removeEventListener("load",k),t.mediaVideoPosterEl.parentNode.removeChild(t.mediaVideoPosterEl),t.removeSelectionBox(t.mediaVideoPosterEl),t.mediaVideoPosterEl=null),null!=t.overlayEl&&(t.overlayEl.innerHTML=""),a.off(l.slide.WILL_CHANGE,e))};return a.on(l.slide.WILL_CHANGE,L),L}}.call(e,n,e,t))||(t.exports=i)},9337:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(118),r=n(7812).math.TWO_PI,o=n(82),s=e.LEFT_MOUSE_BUTTON_INDEX=0,a=e.RIGHT_MOUSE_BUTTON_INDEX=2;e.angle=function(t,e,n,i){return Math.atan2(e-i,t-n)},e.angleDiff=function(t,e){for(var n=e-t;n<-Math.PI;)n+=r;for(;n>Math.PI;)n-=r;return n},e.getPinchDistance=function(t){var e=t.touches;return 1===e.length?1:o.dist(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY)},e.backTextureSettings=function(t,e,n){t.anisotropy=n,t.minfilter=THREE.LinearMipMapLinearFilter,t.magfilter=THREE.LinearFilter,e.transparent=!0,e.blending=THREE.CustomBlending,e.blendEquation=THREE.AddEquation,e.blendSrc=THREE.SrcAlphaFactor,e.blendDst=THREE.OneMinusSrcAlphaFactor,e.depthTest=!1,e.depthWrite=!1},e.textureSettings=function(t,e,n){t.anisotropy=n,t.minfilter=THREE.LinearMipMapLinearFilter,t.magfilter=THREE.LinearFilter,e.transparent=!0,e.blending=THREE.CustomBlending,e.blendSrc=THREE.OneFactor,e.blendDst=THREE.OneMinusSrcAlphaFactor,e.depthTest=!1,e.depthWrite=!1},e.isPanelBody=function(t){return t.classList.contains("panel-body")},e.isPanelTitle=function(t){return t.classList.contains("panel-title")},e.isHintContent=function(t){return t.classList.contains("hint-content")},e.adjustVariable=function(t,e,n){var r={operator:"set",value:{type:"number",value:e}},o=i.resolvePath(t);null!=o&&o.adjust(r,{context:n.model})},e.createBoundingBoxEl=function(){var t=document.createElement("div");return t.classList.add("three-sixty-image-bb"),Object.assign(t.style,{position:"absolute",left:0,top:0,width:"30px",height:"30px",border:"none",display:"none"}),t.innerHTML='\n    <div class="box-handle box-handle-tl"></div>\n    <div class="box-handle box-handle-tr"></div>\n    <div class="box-handle box-handle-br"></div>\n    <div class="box-handle box-handle-bl"></div>\n\n\n    <div class="box-handle non-uniform box-handle-l" data-axis="x"></div>\n    <div class="box-handle non-uniform box-handle-t" data-axis="y"></div>\n    <div class="box-handle non-uniform box-handle-r" data-axis="x"></div>\n    <div class="box-handle non-uniform box-handle-b" data-axis="y"></div>\n  ',t},e.touchify=function(t,e){var n=void 0,i=void 0,r=!1;return null!=t.touches&&t.touches.length>0?(n=t.touches[0].clientX,i=t.touches[0].clientY,t.touches.length>1&&(r=!0)):(n=t.clientX,i=t.clientY),null!=e&&null!=e.sceneRect&&(n-=e.sceneRect.left,i-=e.sceneRect.top,n*=window.innerWidth/e.sceneRect.width,i*=window.innerHeight/e.sceneRect.height),{pageX:n,pageY:i,gesture:r}},e.isLeftClickOrTouch=function(t){return null!=t.button&&t.button===s||null!=t.touches&&1===t.touches.length},e.isRightClick=function(t){return null!=t.button&&t.button===a}},7536:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PAD_SCALE=.8,e.Z_INDEX_MID=9998,e.Z_INDEX_TOP=99999,e.MOVE_THRESHOLD=10},5505:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=void 0,i=void 0,r=void 0,o=void 0,s=void 0,a=void 0;return n(8579).device.isMobile?(e="touchend",i="touchstart",r="touchstart",o="touchmove",s="touchend",a="touchend"):(e="click",i="mousedown",r="mouseenter",o="mousemove",s="mouseup",a="mouseleave"),Object.freeze({clickOrTouchEnd:e,downOrTouchStart:i,enterOrTouchStart:r,moveOrTouchMove:o,upOrTouchEnd:s,leaveOrTouchEnd:a})}.call(e,n,e,t))||(t.exports=i)},82:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(5626),r=n(7812),o=n(8579),s=/[\u0600-\u06FF]/,a=function(t,e){var n=m.slice(e);return n.unshift(t),i.formatSrcUrl(n.join("/"))},l=function(t){var n=e.rest(arguments);return function(){var i=e.toArray(arguments);return n[t]((function(t){return t.apply(null,i)}))}},u=function(t){return t+"."},c=function(t,e){return e.replace(t,"")},h=function(t,e){return t===e},d=function(t,e){return e.charAt(0)[t]()+e.slice(1)},p=function(t,e){return[t,e,t].join("")},f=function t(n,i,r){if(null==n||null==i)return r;if(0===i.length)return null!=n?n:r;var o,s,a=e.first(i),l=e.rest(i),u=e.isString(a),c=u&&"$"===a.charAt(0)?"prop":"get";return u&&a.indexOf("[")>-1&&(o=a.split("["),l.unshift(parseInt(o[1])),a=e.first(o)),t(a=null!=n[a]&&e.isFunction(n[a])?n[a]():null!=n[a]?n[a]:n[c]&&n[c]((s=a,"get"===c?s:s.slice(1))),l,r)},v=function(t){return"{"===t.charAt(0)&&(t=JSON.parse(t)),t},g=function(t){return t.split("=").map(decodeURIComponent).map(v)},m={keys:{DASH:189,PERIOD:190,DELETE:8,ENTER:13},getPath:function(t,n,i){return f(t,e.isString(n)?n.split("."):n,i)},fix:function(t,e){return+t.toFixed(null!=e?e:5)},toSeconds:function(t){return t/1e3},toMilliseconds:function(t){return m.fix(1e3*t,0)},formatSecondsAsTime:function(t,e){var n,i=Math.floor(t/3600),r=Math.floor((t-3600*i)/60),o=Math.floor(t-3600*i-60*r),s=function(t){return t<10?"0"+t:t};if(n=[r=s(r),o=s(o)],i>=1)n.unshift(i);else if(e){return'<span class="transparent no-wid">00:</span>'+n.join(":")}return n.join(":")},hexify:function(t){return"#"+t.replace(/0x|#/,"")},opacify:function(t){return t/100},rgbify:function(t,e){var n=this.hexify(t).replace("#",""),i=parseInt(n,16),r=[i>>16&255,i>>8&255,255&i],o=null!=e,s="rgb"+(o?"a":"");return o&&r.push(e),[s,"(",r.join(","),")"].join("")},toRgba:function(t,e){return m.rgbify(t,m.opacify(e))},octToDec:function(t){return t/255},decToPct:function(t,e){var n=m.fix(100*t);return e?n+"%":n},stopPct:function(t){return m.decToPct(m.octToDec(t))},pctToDec:function(t,e){return m.fix(parseFloat(t)/100,e)},add:function(t,e){return(t||0)+(e||0)},sum:function(){return e.reduce(arguments,m.add,0)},upperCaseFirst:e.partial(d,"toUpperCase"),lowerCaseFirst:e.partial(d,"toLowerCase"),slice:e.bind(Array.prototype.slice.call,Array.prototype.slice),resolveAssetUrl:function(){return a(r.PRESENTATION_URL,arguments)},resolveDataUrl:function(){return a(r.PRESENTATION_DATA_URL,arguments)+".js"},clamp:function(t,e,n){return Math.max(Math.min(n,e),t)},areOverlapping:function(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top},getRectIntersection:function(t,e){var n=Math.max(t.top,e.top),i=Math.min(t.bottom,e.bottom),r=Math.max(t.left,e.left),o=Math.min(t.right,e.right);return m.areOverlapping(t,e)&&{top:n,left:r,bottom:i,right:o,width:o-r,height:i-n}},isWithinRange:function(t,e,n){return n>=t&&n<=e},hasProp:function(t,e){if(null==t)return!1;for(var n,i=t,r=e.split(".");n=r.shift();){if(null==i[n])return!1;i=i[n]}return!0},not:function(t){return function(){return!t.apply(this,arguments)}},take:function(t,n,i){return function(){return n.apply(i,e.take(arguments,t))}},invertPercent:function(t){return 1-t},andify:e.partial(l,"every"),orify:e.partial(l,"some"),is:h,isTrue:e.partial(h,!0),isFalse:e.partial(h,!1),alwaysTrue:function(){return!0},alwaysFalse:function(){return!1},buildDataStructure:function(t,e,n){return new t(n,e)},createSuper:function(t){return function(e){return t.prototype[e]}},cloneDeeply:function(t){return JSON.parse(JSON.stringify(t))},buildEventNamespace:function(t){return".ds"+(t||"")},namespaceEvent:function(t,e){return t+m.buildEventNamespace(e)},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},hypot:function(t,e){return Math.sqrt(t*t+e*e)},dist:function(t,e,n,i){var r=t-n,o=e-i;return this.hypot(r,o)},degToRad:function(t){return t*r.math.TO_RADIANS},radToDeg:function(t){return t*r.math.TO_DEGREES},normalizeDeg:function(t){for(var e=t;e<0;)e+=360;return e%360},stripTags:function(t,n,i){var r=document.createElement("div"),o=i?["<",i,">"].join(""):"",s=o.replace("<","</");return r.innerHTML=t,n?e(r.querySelectorAll(n)).map((function(t){return[o,t.innerHTML,s].join("")})).join(""):r.textContent},stripTagsMobile:function(t,e,n){return o.deviceView.isClassicMobile?m.stripTags(t,e,n):t},decodeHtml:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value},camelCaseAttr:function(t,e){return(t=e?t:t.toLowerCase()).replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))},stripPlayer:e.partial(c,u(r.refs.PLAYER)),stripChoice:e.partial(c,u(r.refs.CHOICES)),stripStatement:e.partial(c,u(r.refs.STMTS)),prefixWithPlayer:function(t){return r.refs.PLAYER+"."+m.stripPlayer(t)},parseParams:function(t){return t=t||window.location.search.substr(1),e.object(t.split("&").map((function(t){return t.split("=")})))},applyMethod:function(t,n){var i=e.slice(arguments,2);return n=e.isArray(n)?n:[n],i.unshift(n,t),e.invoke.apply(e,i)},pxify:function(t){return[t,"px"].join("")},ptify:function(t){return[t,"pt"].join("")},shallowEqual:function(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0},doubleQuote:e.partial(p,'"'),quote:e.partial(p,"'"),toCssUrl:function(t){return["url(",this.quote(t),")"].join("")},getWindowSearch:function(){return window.location.search.replace(/^\?/,"")},queryStringToObj:function(){var t;return t=this.getWindowSearch().split("&"),e.zipObject(t.map(g))},rotatePoint:function(t,e,n,i,r){r=m.degToRad(r);var o=t-n,s=e-i,a=Math.cos(r),l=Math.sin(r);return{x:a*o-l*s+n,y:l*o+a*s+i}},pointInRect:function(t,e,n){var i=n[0][0],r=n[0][1],o=n[1][0],s=n[1][1];return t>=i&&t<=o&&e>=r&&e<=s},showTimer:function(t,n){e(t.refs).pick((function(t,e){return 0===e.indexOf("timer")&&t!==n})).forOwn((function(t){t.onHide()})).value()},dateToString:function(t){if(null==t)return"";return[["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ",t.getDate(),", ",t.getFullYear()].join("")},timeToString:function(t){if(null==t)return"";var e=t.getHours(),n=t.getMinutes(),i="am";return n<10&&(n="0"+n),e>12&&(e-=12,i="pm"),[e,":",n," ",i].join("")},parseUrl:function(t){var n=document.createElement("a");return n.href=t,e.pick(n,["protocol","hostname","port","pathname","search","hash","host"])},hasArabicCharacters:function(t){return s.test(t)},ellipsize:function(t,e){return null==t||t.length<=e?t:[t.substr(0,e),"…"].join("")},generateHash:function(t){var e,n=0,i=t.length;for(e=0;e<i;e++)n=31*n+t.charCodeAt(e),n|=0;return n},multiply:e.curry((function(t,e){return t*e})),juxt:function(t){return function(){var e=arguments;return t.map((function(t){return t.apply(null,e)}))}}};return m}.call(e,n,e,t))||(t.exports=i)},6194:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(1558),r=n(8579),o=n(8880),s=n(7097),a=n(6882),l=n(8766),u=n(1681),c=n(4811),h=n(82),d=n(9032),p=/[\r\n\t]|  +/g,f=r.browser.isIE&&!r.browser.isEdge,v={transformZ:"",feDropShadow:!0,tspanFilters:!0},g=function(t){t.style.display="inline-block",r.browser.isSafariMac&&(t.style.willChange=""),t.style.display="",r.browser.isSafariMac&&(t.style.willChange="contents")};r.browser.isWebKit&&(v.forceSingleRepaint=function(t){g(t)},v.forceRepaint=function(t,e){return i.to(t,e,{onUpdate:function(){g(t)},onComplete:function(){g(t)}})},v.fixTspan=function(t){var n=h.getPath(t,"x","").split(" ").length;return e.isString(t.y)||(t.y=e.times(n,e.constant(t.y)).join(" ")),t},v.handleWillChange=function(t){t.willChange="opacity"}),r.browser.isChrome&&(v.handleWillChange=function(t){t.willChange=""}),f&&(v.getDxAdjustment=function(t){return t.runs.reduce((function(t,n){return t+n.spans.reduce((function(t,n){return t+e.sum(n.dx)}),0)}),0)/2},v.fixFontFallbacks=function(t){t.splice(1,0,'"not a font name"')}),v.fixStyleString=f?function(t){return t.replace(p,"")}:function(t){return t},r.browser.isIE&&(v.tspanFilters=!1,v.feDropShadow=!1,v.forceSingleRepaint=function(t){g(t)},a.patchEvents(),v.mouseOver=function(){return"mouseover"},v.elementsFromPoint=function(t,n,i){return e(document.msElementsFromPoint(t,n)).filter(i).value()},v.forceLayoutLtr=function(t){t.direction="ltr",t.unicodeBidi="bidi-override"},v.removeCharPositions=function(t){return s.isTspanNode(t)&&(t.x=[e.first(t.x.split(" "))]),t},v.stopColorProps=function(t){return{stopColor:h.toRgba(t.rgb,t.alpha)}});return r.os.isIosPhoneBefore10&&(v.buildCaptionTracks=function(t,e){l.hasCaptions(e)&&function(t,e){var n,i;null!=e&&e.length>0&&((n=t.addTextTrack("captions",u.getString("closed_captions"),"")).mode=l.isCaptionEnabled()?"showing":"hidden",e.forEach((function(t){(i=new window.VTTCue(t.startTime,t.endTime,t.text.cueSource)).line=12,n.addCue(i)})))}(t,l.getCaptions(e))},v.onCaptionsEnabled=function(t){d.on(o.captions.ENABLE,t)},v.offCaptionsEnabled=function(t){d.off(o.captions.ENABLE,t)}),r.os.isAndroid&&(v.getAudioInitEvent=function(){return"click"}),r.os.isIOS&&(v.transformZ=" translateZ(0)",v.destroyAudioContext=e.noop,v.detectVisibilityChange=function(){var t,e=(new Date).getTime(),n=!1,i=!1;setInterval((function(){var r=(new Date).getTime(),s=r-e,a=n;e=r,n=s>=900,!a&&n?t=r:a&&n&&!i&&r-t>=2e3?(i=!0,d.trigger(o.detection.VISIBILITY_HIDDEN)):a&&!n&&(i=!1,d.trigger(o.detection.VISIBILITY_SHOWN))}),500)},v.onOpenWindow=function(t,e,n){var i=h.getPath(e,"eventType"),r=h.getPath(e,"context.currView.el");"onpress"===i&&null!=r?r.addEventListener("touchend",(function t(){n(),r.removeEventListener("touchend",t)})):n()},v.handleWillChange=function(t){t.willChange="unset"},r.browser.isUIWebView&&(v.registerAudioInitEvent=function(t,e,n,i){if(i.props.model.isKind("button"))return[{teardown:t(e,"click",(function(){return!0}),n)}]},v.getAudioInitEvent=function(){return"click"})),r.browser.isFF,(r.browser.isChrome||r.device.isMobile||r.browser.isSafariMac)&&(v.transformZ=" translateZ(0)"),v.moveHtmlTextOutOfSvg=function(t){var n=[],i=function(t){return"variableText"===t.nodeType||"accessibleText"===t.nodeType},r=function(t){return n=n.concat(function(t){return e.remove(t.children,i)}(t)),t};return r.afterFinish=function(t){if(0===n.length)return t;var e={nodeType:"div",className:"textlib-wrapper"};return e.children=n.slice(),e.children.push(t),e},s.transformNodeConfig(r,t)},v.unwrapForeignObjectVarText=function(t){return t.children[0]},null==document.fonts&&(v.loadFonts=function(t,n){return c.when.apply(c,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t.map((function(t){var i=c.Deferred(),r=Date.now(),o=e.times(3,(function(){var t=document.createElement("div");return e.extend(t.style,{display:"inline-block",fontSize:"40px",left:0,pointerEvents:"none",posistion:"absolute",top:0,visibility:"hidden",whiteSpace:"nowrap"}),t.setAttribute("aria-hidden","true"),t.innerText="BESbswy",document.body.appendChild(t),t}));o[0].style.fontFamily=t.name+", serif",o[1].style.fontFamily=t.name+", sans-serif",o[2].style.fontFamily=t.name+", monospace";return function n(){e.uniq(o.map(e.property("offsetWidth"))).length<=2?i.resolve():Date.now()-r>=1e3?i.reject('Timed out loading "'+t.name+'"'):setTimeout(n,50)}(),i.promise().always((function(){o.forEach((function(t){null!=t.parentNode&&t.parentNode.removeChild(t)}))})).catch(n("loadFonts"))}))))}),v}.call(e,n,e,t))||(t.exports=i)},4811:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6138),i=n(9140),r=n(82),o="pending",s="resolved",a="rejected",l=function(t,e){return e.state()===t},u={Deferred:function(){return new i},when:function(){var t=r.slice(arguments),e=new i,n=t.length;return t.forEach((function(t){t.then((function(){0==--n&&e.resolve()})).catch((function(){--n>=0&&(e.reject(),n=0)}))})),e.promise()},after:function(){var t=new i,e=r.slice(arguments),n=[],o=function(){return e.length===n.length},s=function(i){n.push(i),o()&&t.resolve.apply(t,e)};return e.length?e.forEach((function(t){t.always((function(){s(t)}))})):t.resolve(),t.promise()},isPending:e.partial(l,o),isResolved:e.partial(l,s),isRejected:e.partial(l,a),promiseToVow:function(t){var e=u.Deferred();return t.then(e.resolve).catch(e.reject),e.promise()}};return u}.call(e,n,e,t))||(t.exports=i)},7235:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r=n(6138),o=n(9229),s=n(8579),a=n(82),l=n(8939),u=n(8880),c=n(9032),h=n(4811),d=n(5173),p=h.Deferred(),f=l.throwError("webObjectHelper"),v=!1;c.once(u.data.INITIALIZED,(function(){v=!0})),p.catch((function(t){return t}));var g={setVolume:function(t){o.setVolume(t)},executeFilteredPlayerEvent:function(t){if(!v)throw new Error("data is not yet initialized");e.executeFilteredPlayerEvent(m(t),"onhostevent")}},m=function(t){return function(e){return e.eventname===t||e.eventName===t}},y=function(){return p.then((function(){return i.request("getResumeData").then((function(t){return t})).catch(f.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))}))},b=function(t){return i.request("setResumeData",t).catch(f.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))};return{initialize:function(t){e=t,s.env.isWebObject?((i=new d(g,a.queryStringToObj().id)).ready().then(p.resolve),i.connect(window.parent)):p.reject()},tearDown:function(){null!=i&&i.tearDown()},triggerHostEvent:function(t){if(void 0===i)throw Error("triggerHostEvent - postMessaging has not been initialized");return i.request("triggerHostEvent",t)},getResumer:function(t){return r.extend({},t,{getItem:y,setItem:function(e,n){return b(n),t.setItem.apply(t,arguments)}})}}}.call(e,n,e,t))||(t.exports=i)},520:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r=n(6138),o=n(82),s=n(7812),a=n(1458),l=n(4427),u=n(6159),c=n(6334),h=n(8880),d=n(9032),p=n(9229),f=n(9447),v=n(8939),g=v.warn("windowManager"),m=function(t){return null!=t&&t.includes("MessageWnd")},y=function(t){return null!=t&&t.includes("Lightbox")},b="_current",w=r.extend({subscriptions:(i={},i[h.window.CLOSING]="onCloseWindowById",i[h.request.NEXT_SLIDE]="onRequestingNextSlide",i[h.request.PREV_SLIDE]="onRequestingPrevSlide",i[h.request.NEXT_DRAW_SLIDE]="onRequestingNextDrawSlide",i[h.request.PREV_HISTORY_GROUP]="onRequestingPrevHistoryGroup",i[h.window.STACKING_CHANGED]="onTopMostWindowChanged",i),initialize:function(){e=DS.presentation.display(),this.addSubscriptions(),this.windows=[],this.windows.push(this.getOrCreateWindow(s.refs.FRAME)),l.setWindowManager(this),d.trigger(h.window.MAIN_CREATED,this.getMainWindow())},getCurrentWindow:function(){return r.last(this.windows)},getCurrentWindowId:function(){return w.getCurrentWindow().getId()},getMainWindow:function(){return r.first(this.windows)},getCurrentWindowSlide:function(){var t=this.getCurrentWindow();return t&&t.state.currentSlide},removeWindow:function(t){return this.windows=r.without(this.windows,t),this},removeAllButMainWindow:function(){this.windows.forEach((function(t){var e=t.getId();e!==s.refs.FRAME&&d.trigger(h.window.CLOSING,e)}))},addWindow:function(t){return this.removeWindow(t),this.windows.push(t),this},getOrCreateWindow:function(t,n){var i=this.getCurrentWindow();t=t===b?i.getId():t;var r=this.findWindowById(t);if(r)return r!==i&&r.frame.moveToTop(),r;if(i){var o=i.getCurrentSlide();o&&o.onPauseTimeline()}var a,l=DS.frame.createWindow(t),u={id:t,model:e.getWindowById(t),isMainWindow:t===s.refs.FRAME,lightboxed:y(t),hasControls:(a=t,null!=a&&a.includes("Controls")),onPinchZoom:l.onPinchZoom,getPinchZoomBounds:l.getPinchZoomBounds,getWinScale:l.getWinScale},c=DS.renderEngine.createWindowFor(l.el,m(t),u,l.captionEl);return c.frame=l,c},findWindowById:function(t){return t===b||null==t?this.getCurrentWindow():this.windows.find((function(e){return e.getId()===t}))},isLightBoxActive:function(){return this.getCurrentWindow()!==this.getMainWindow()},moveSlideToOtherWindow:function(t,e){var n=e.props.model.windowId;t.replaceSlideWith(e);var i=function(e){var r=this.findWindowById(n);e===t&&(null!=r&&r.rebuildCurSlide(),d.off(h.window.CLOSED,i))}.bind(this);return d.on(h.window.CLOSED,i),this},isMultiWindowSlide:function(t){return r.initial(this.windows).some((function(e){return(e.getCurrentSlide()||{}).absoluteId===t.absoluteId}))},onMainWindowCreated:function(t){this.addWindow(t),l.setWindowManager(this)},onCloseWindowById:function(t){var e,n,i=this.findWindowById(t);i&&(i.el&&(e=i.el.parentNode)&&(e.classList.remove("opaque"),DS.renderEngine.closeWindow(e,i.frame.captionEl),i.frame.close()),this.removeWindow(i),d.trigger(h.window.CLOSED,i),null!=(n=this.getCurrentWindowSlide())&&(n.onPlayTimeline(),d.trigger(h.slide.STARTED,n.absoluteId,n,this.getCurrentWindowId())),this.updatePrevHistoryVar(),l.savePresentationData())},onTopMostWindowChanged:function(t){this.topMostWindow=t,this.trigger(h.windowManager.TOP_MOST_CHANGED)},getTopMostWindowId:function(){return this.topMostWindow},loadSlide:function(t,e,n){var i=r.isString(t)?t:t.absoluteId,s=f.loadSlide(t,this.getCurrentWindowSlide());return s.then(e.bind(this)),d.trigger(h.slide.HAS_CHANGED,o.stripPlayer(i),n),s},onRequestingPrevSlide:function(){var t=this.getCurrentWindow().getPrevSlide();null!=t&&this.onRequestingSlide(t.absoluteId,null,"pop")},onRequestingPrevHistoryGroup:function(){var t=this.getCurrentWindow().getPrevHistoryGroup();null!=t&&this.onRequestingSlide(t.absoluteId,null,"popGroup")},onRequestingNextDrawSlide:function(){var t,e=this.getCurrentWindowSlide(),n=e.getSlideDraw();n&&((t=n.getNextSlideId(e))?this.onRequestingNextSlide(t):n.performExitAction())},onRequestingNextSlide:function(t,e){var n=this.getCurrentWindowSlide();n||(t=t||f.getEntrypoint()),t?this.onRequestingSlide(t,e,"push"):n.executePlayerEvent("onnextslide")},isNewLightBox:function(t,e){return null!=t&&!(m(t)||!y(t)||t===e.displayName)},onRequestingSlide:function(t,n,i){var r,s,a,u,c=this,p=this.getCurrentWindowSlide(),y=this.getCurrentWindow(),w=this.isNewLightBox(n,y);if(null!=y&&y.forceTransition(),null==(u=f.getSlide(t,this.getCurrentWindowSlide()))){if(e.parent.isPreview())return void d.trigger(h.preview.NOTIFY,"PREVIEW_SLIDE_MISSING");g("onRequestingSlide","could not resolve slide",v.backtick(t),"so defaulting to entry point"),u=f.getSlide(f.getEntrypoint())}if((a=null!=p&&p.absoluteId===u.absoluteId||o.getPath(this.findWindowById(n),"getCurrentSlide")===u)&&!w)u.restart();else{if(null!=p&&!function(t,e,n){var i,r={_ActTargetSlideId:e.absoluteId,_ActTargetSlideNavIndex:DS.utils.getPath(e,"navIndex")};return t.executePlayerEvent("onbeforeslidejump",r),(i=!r.cancel)&&d.trigger(h.slide.WILL_CHANGE,t,e,n),i}(p,u,w||m(n)))return;if(null!=p&&!p.slideReady)return this.findWindowById(n)===this.getCurrentWindow()&&(p.destroyed=!0),void d.once(h.slide.READY,(function(){c.onRequestingSlide(t,n,i)}));r=this.getOrCreateWindow(n||b,u),this.addWindow(r),s=this.loadSlide(u,(function(t){c.updateWindowHistory(r,"push"===i?t:null,"popGroup"===i)})),a&&w&&d.trigger(h.loader.HIDE),r.setSlideLoading(s),null!=p&&r!==y&&s.then((function(){l.savePresentationData()}))}},updateWindowHistory:function(t,e,n){var i,r=!!e;i=null!=(e=e||t[n?"getPrevHistoryGroup":"getPrevSlide"]())&&this.isMultiWindowSlide(e)&&null!==e.currView,t.prepareToUpdateSlide(i),r?t.pushHistory(e):t[n?"popHistoryGroup":"popHistory"](),this.updatePrevHistoryVar(),i&&(e.onPlayTimeline(),this.moveSlideToOtherWindow(t,e.currView))},updatePrevHistoryVar:function(){DS.presentation.playerVars().variables().get("hasPrevHistory").value(null!=this.getCurrentWindow().getPrevSlide())},getResumeData:function(){return this.windows.reduce((function(t,e){return t+u.create(e.getResumeData())}),"")},setResumeData:function(t){var e=new u({fullString:t}),n=e.encodedString();for(this.resumeWindowQueue=[];n.length;)this.setWindowAndHistory(n),n=(e=e.reChunk()).encodedString()},setWindowAndHistory:function(t){var e=new u({fullString:t}),n=e.getUnsignedValue(),i=this.resolveSlideFromResumeData(e.remainder()),r=new u({fullString:i.data}),o=this.createSlideHistoryArray(r.encodedString());0===o.length&&o.push(i.slide),this.restoreOrQueueWindow(n,o)},restoreOrQueueWindow:function(t,e){this.restoringWindow?this.resumeWindowQueue.push({idx:t,history:e}):(this.restoringWindow=!0,this.setLoadedWindow(t,e))},setLoadedWindow:function(t,e){var n=this.getWindowFromIndex(t,e),i=e.pop(),r=this.loadSlide(i.absoluteId,(function(t){var i;n.setPreviousHistory(e),this.updateWindowHistory(n,t),this.restoringWindow=this.resumeWindowQueue.length>0,this.restoringWindow&&(t.pauseForResume=!0,i=this.resumeWindowQueue.shift(),this.setLoadedWindow(i.idx,i.history))}));n.setSlideLoading(r)},getWindowFromIndex:function(t,n){var i,r;return 0===t?i=this.getMainWindow():(r=e.windows().at(t-1).id,i=this.getOrCreateWindow(r),this.addWindow(i)),i},createSlideHistoryArray:function(t){for(var e,n=[];t.length;)e=this.resolveSlideFromResumeData(t),n.push(e.slide),t=e.data;return n},resolveSlideFromResumeData:function(t){return this["1"===t.charAt(0)?"getDrawFromResumeData":"getSlideFromResumeData"](t.slice(1))},getSlideFromResumeData:function(t){var e=new u({fullString:t}),n=e.reChunk(),i=e.getUnsignedValue(),r=n.getUnsignedValue();return{slide:f.getSlideFromIndices(r,i),data:n.remainder()}},getDrawFromResumeData:function(t){var e=new u({fullString:t}),n=e.reChunk(),i=n.reChunk(),r=e.getUnsignedValue(),o=n.getUnsignedValue(),s=i.getUnsignedValue();return{slide:f.getDrawFromIndices(s,o,r),data:i.remainder()}}},a.Events,c);return p.windowManager=w,w}.call(e,n,e,t))||(t.exports=i)},7300:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i=n(6138),r=(n(1458),n(8880)),o=n(9032),s=n(6194),a=n(7812);return i.extend({initialize:function(t){e=t,o.on(r.window.OPEN_EXTERNAL,this.onOpenWindow.bind(this))},onOpenWindow:function(t,e){var n=this.openWindowByAction.bind(this,t),i=n;null!=s.onOpenWindow&&(i=s.onOpenWindow.bind(s,t,e,n)),i()},openWindowByAction:function(t){var e={},n=t.windowsize,i="open_video"===t.kind;switch(n){case"fullscreen":e.width=window.screen.availWidth,e.height=window.screen.availHeight;break;case"custom":e.width=t.width,e.height=t.height}t.usedefaultcontrols||"default"===n||(e.status=+t.status,e.toolbar=+t.toolbar,e.location=+t.location,e.menubar=+t.menubar,e.scrollbars=+t.scrollbars,e.resizable=+t.resizable),this.open({url:i?a.STORY_CONTENT_URL+t.url:t.url,window:t.window,specs:e,previewNotification:i?"PREVIEW_OPEN_VIDEO":"PREVIEW_OPEN_URL"})},open:function(t){var n,s={previewNotification:"PREVIEW_OPEN_URL",specs:{},window:"_blank"};i.extend(s,t),e.isPreview()?o.trigger(r.preview.NOTIFY,s.previewNotification):window.open(s.url,s.window,(n=s.specs,i.pairs(n).map((function(t){return t.join("=")})).join(", ")))}})}.call(e,n,e,t))||(t.exports=i)},8087:function(t,e,n){!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){return r(e[s][1][t]||t)}),u,u.exports,t,e,n,i)}return n[s].exports}for(var o=void 0,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,i){(function(e){"use strict";function n(t,e,n){t[e]||Object[i](t,e,{writable:!0,configurable:!0,value:n})}if(t(327),t(328),t(2),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var i="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(t){[][t]&&n(Array,t,Function.call.bind([][t]))}))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,327:327,328:328}],2:[function(t,e,n){t(130),e.exports=t(23).RegExp.escape},{130:130,23:23}],3:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],4:[function(t,e,n){var i=t(18);e.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},{18:18}],5:[function(t,e,n){var i=t(128)("unscopables"),r=Array.prototype;null==r[i]&&t(42)(r,i,{}),e.exports=function(t){r[i][t]=!0}},{128:128,42:42}],6:[function(t,e,n){e.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},{}],7:[function(t,e,n){var i=t(51);e.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},{51:51}],8:[function(t,e,n){"use strict";var i=t(119),r=t(114),o=t(118);e.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),a=r(t,s),l=r(e,s),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?s:r(u,s))-l,s-a),h=1;for(l<a&&a<l+c&&(h=-1,l+=c-1,a+=c-1);c-- >0;)l in n?n[a]=n[l]:delete n[a],a+=h,l+=h;return n}},{114:114,118:118,119:119}],9:[function(t,e,n){"use strict";var i=t(119),r=t(114),o=t(118);e.exports=function(t){for(var e=i(this),n=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);u>a;)e[a++]=t;return e}},{114:114,118:118,119:119}],10:[function(t,e,n){var i=t(39);e.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},{39:39}],11:[function(t,e,n){var i=t(117),r=t(118),o=t(114);e.exports=function(t){return function(e,n,s){var a,l=i(e),u=r(l.length),c=o(s,u);if(t&&n!=n){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},{114:114,117:117,118:118}],12:[function(t,e,n){var i=t(25),r=t(47),o=t(119),s=t(118),a=t(15);e.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,h=6==t,d=5==t||h,p=e||a;return function(e,a,f){for(var v,g,m=o(e),y=r(m),b=i(a,f,3),w=s(y.length),A=0,S=n?p(e,w):l?p(e,0):void 0;w>A;A++)if((d||A in y)&&(g=b(v=y[A],A,m),t))if(n)S[A]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return A;case 2:S.push(v)}else if(c)return!1;return h?-1:u||c?c:S}}},{118:118,119:119,15:15,25:25,47:47}],13:[function(t,e,n){var i=t(3),r=t(119),o=t(47),s=t(118);e.exports=function(t,e,n,a,l){i(e);var u=r(t),c=o(u),h=s(u.length),d=l?h-1:0,p=l?-1:1;if(n<2)for(;;){if(d in c){a=c[d],d+=p;break}if(d+=p,l?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:h>d;d+=p)d in c&&(a=e(a,c[d],d,u));return a}},{118:118,119:119,3:3,47:47}],14:[function(t,e,n){var i=t(51),r=t(49),o=t(128)("species");e.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},{128:128,49:49,51:51}],15:[function(t,e,n){var i=t(14);e.exports=function(t,e){return new(i(t))(e)}},{14:14}],16:[function(t,e,n){"use strict";var i=t(3),r=t(51),o=t(46),s=[].slice,a={},l=function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,n)};e.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),a=function(){var i=n.concat(s.call(arguments));return this instanceof a?l(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(a.prototype=e.prototype),a}},{3:3,46:46,51:51}],17:[function(t,e,n){var i=t(18),r=t(128)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},{128:128,18:18}],18:[function(t,e,n){var i={}.toString;e.exports=function(t){return i.call(t).slice(8,-1)}},{}],19:[function(t,e,n){"use strict";var i=t(72).f,r=t(71),o=t(93),s=t(25),a=t(6),l=t(39),u=t(55),c=t(57),h=t(100),d=t(29),p=t(66).fastKey,f=t(125),v=d?"_s":"size",g=function(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};e.exports={getConstructor:function(t,e,n,u){var c=t((function(t,i){a(t,c,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[v]=0,null!=i&&l(i,n,t[u],t)}));return o(c.prototype,{clear:function(){for(var t=f(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=f(this,e),i=g(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[v]--}return!!i},forEach:function(t){f(this,e);for(var n,i=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(f(this,e),t)}}),d&&i(c.prototype,"size",{get:function(){return f(this,e)[v]}}),c},def:function(t,e,n){var i,r,o=g(t,e);return o?o.v=n:(t._l=o={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[v]++,"F"!==r&&(t._i[r]=o)),t},getEntry:g,setStrong:function(t,e,n){u(t,e,(function(t,n){this._t=f(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?c(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,c(1))}),n?"entries":"values",!n,!0),h(e)}}},{100:100,125:125,25:25,29:29,39:39,55:55,57:57,6:6,66:66,71:71,72:72,93:93}],20:[function(t,e,n){var i=t(17),r=t(10);e.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},{10:10,17:17}],21:[function(t,e,n){"use strict";var i=t(93),r=t(66).getWeak,o=t(7),s=t(51),a=t(6),l=t(39),u=t(12),c=t(41),h=t(125),d=u(5),p=u(6),f=0,v=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},m=function(t,e){return d(t.a,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(t,e,n,o){var u=t((function(t,i){a(t,u,e,"_i"),t._t=e,t._i=f++,t._l=void 0,null!=i&&l(i,n,t[o],t)}));return i(u.prototype,{delete:function(t){if(!s(t))return!1;var n=r(t);return!0===n?v(h(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=r(t);return!0===n?v(h(this,e)).has(t):n&&c(n,this._i)}}),u},def:function(t,e,n){var i=r(o(e),!0);return!0===i?v(t).set(e,n):i[t._i]=n,t},ufstore:v}},{12:12,125:125,39:39,41:41,51:51,6:6,66:66,7:7,93:93}],22:[function(t,e,n){"use strict";var i=t(40),r=t(33),o=t(94),s=t(93),a=t(66),l=t(39),u=t(6),c=t(51),h=t(35),d=t(56),p=t(101),f=t(45);e.exports=function(t,e,n,v,g,m){var y=i[t],b=y,w=g?"set":"add",A=b&&b.prototype,S={},E=function(t){var e=A[t];o(A,t,"delete"==t||"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(m||A.forEach&&!h((function(){(new b).entries().next()})))){var x=new b,T=x[w](m?{}:-0,1)!=x,_=h((function(){x.has(1)})),C=d((function(t){new b(t)})),k=!m&&h((function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)}));C||((b=e((function(e,n){u(e,b,t);var i=f(new y,e,b);return null!=n&&l(n,g,i[w],i),i}))).prototype=A,A.constructor=b),(_||k)&&(E("delete"),E("has"),g&&E("get")),(k||T)&&E(w),m&&A.clear&&delete A.clear}else b=v.getConstructor(e,t,g,w),s(b.prototype,n),a.NEED=!0;return p(b,t),S[t]=b,r(r.G+r.W+r.F*(b!=y),S),m||v.setStrong(b,t,g),b}},{101:101,33:33,35:35,39:39,40:40,45:45,51:51,56:56,6:6,66:66,93:93,94:94}],23:[function(t,e,n){var i=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=i)},{}],24:[function(t,e,n){"use strict";var i=t(72),r=t(92);e.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},{72:72,92:92}],25:[function(t,e,n){var i=t(3);e.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},{3:3}],26:[function(t,e,n){"use strict";var i=t(35),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!i((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},{35:35}],27:[function(t,e,n){"use strict";var i=t(7),r=t(120);e.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},{120:120,7:7}],28:[function(t,e,n){e.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},{}],29:[function(t,e,n){e.exports=!t(35)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{35:35}],30:[function(t,e,n){var i=t(51),r=t(40).document,o=i(r)&&i(r.createElement);e.exports=function(t){return o?r.createElement(t):{}}},{40:40,51:51}],31:[function(t,e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],32:[function(t,e,n){var i=t(81),r=t(78),o=t(82);e.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,a=n(t),l=o.f,u=0;a.length>u;)l.call(t,s=a[u++])&&e.push(s);return e}},{78:78,81:81,82:82}],33:[function(t,e,n){var i=t(40),r=t(23),o=t(42),s=t(94),a=t(25),l=function(t,e,n){var u,c,h,d,p=t&l.F,f=t&l.G,v=t&l.S,g=t&l.P,m=t&l.B,y=f?i:v?i[e]||(i[e]={}):(i[e]||{}).prototype,b=f?r:r[e]||(r[e]={}),w=b.prototype||(b.prototype={});for(u in f&&(n=e),n)h=((c=!p&&y&&void 0!==y[u])?y:n)[u],d=m&&c?a(h,i):g&&"function"==typeof h?a(Function.call,h):h,y&&s(y,u,h,t&l.U),b[u]!=h&&o(b,u,d),g&&w[u]!=h&&(w[u]=h)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},{23:23,25:25,40:40,42:42,94:94}],34:[function(t,e,n){var i=t(128)("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},{128:128}],35:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],36:[function(t,e,n){"use strict";var i=t(42),r=t(94),o=t(35),s=t(28),a=t(128);e.exports=function(t,e,n){var l=a(t),u=n(s,l,""[t]),c=u[0],h=u[1];o((function(){var e={};return e[l]=function(){return 7},7!=""[t](e)}))&&(r(String.prototype,t,c),i(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},{128:128,28:28,35:35,42:42,94:94}],37:[function(t,e,n){"use strict";var i=t(7);e.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{7:7}],38:[function(t,e,n){"use strict";var i=t(49),r=t(51),o=t(118),s=t(25),a=t(128)("isConcatSpreadable");e.exports=function t(e,n,l,u,c,h,d,p){for(var f,v,g=c,m=0,y=!!d&&s(d,p,3);m<u;){if(m in l){if(f=y?y(l[m],m,n):l[m],v=!1,r(f)&&(v=void 0!==(v=f[a])?!!v:i(f)),v&&h>0)g=t(e,n,f,o(f.length),g,h-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=f}g++}m++}return g}},{118:118,128:128,25:25,49:49,51:51}],39:[function(t,e,n){var i=t(25),r=t(53),o=t(48),s=t(7),a=t(118),l=t(129),u={},c={};(n=e.exports=function(t,e,n,h,d){var p,f,v,g,m=d?function(){return t}:l(t),y=i(n,h,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(p=a(t.length);p>b;b++)if((g=e?y(s(f=t[b])[0],f[1]):y(t[b]))===u||g===c)return g}else for(v=m.call(t);!(f=v.next()).done;)if((g=r(v,y,f.value,e))===u||g===c)return g}).BREAK=u,n.RETURN=c},{118:118,129:129,25:25,48:48,53:53,7:7}],40:[function(t,e,n){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],41:[function(t,e,n){var i={}.hasOwnProperty;e.exports=function(t,e){return i.call(t,e)}},{}],42:[function(t,e,n){var i=t(72),r=t(92);e.exports=t(29)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},{29:29,72:72,92:92}],43:[function(t,e,n){var i=t(40).document;e.exports=i&&i.documentElement},{40:40}],44:[function(t,e,n){e.exports=!t(29)&&!t(35)((function(){return 7!=Object.defineProperty(t(30)("div"),"a",{get:function(){return 7}}).a}))},{29:29,30:30,35:35}],45:[function(t,e,n){var i=t(51),r=t(99).set;e.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},{51:51,99:99}],46:[function(t,e,n){e.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],47:[function(t,e,n){var i=t(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},{18:18}],48:[function(t,e,n){var i=t(58),r=t(128)("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},{128:128,58:58}],49:[function(t,e,n){var i=t(18);e.exports=Array.isArray||function(t){return"Array"==i(t)}},{18:18}],50:[function(t,e,n){var i=t(51),r=Math.floor;e.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},{51:51}],51:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],52:[function(t,e,n){var i=t(51),r=t(18),o=t(128)("match");e.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},{128:128,18:18,51:51}],53:[function(t,e,n){var i=t(7);e.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},{7:7}],54:[function(t,e,n){"use strict";var i=t(71),r=t(92),o=t(101),s={};t(42)(s,t(128)("iterator"),(function(){return this})),e.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},{101:101,128:128,42:42,71:71,92:92}],55:[function(t,e,n){"use strict";var i=t(60),r=t(33),o=t(94),s=t(42),a=t(41),l=t(58),u=t(54),c=t(101),h=t(79),d=t(128)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(t,e,n,v,g,m,y){u(n,e,v);var b,w,A,S=function(t){if(!p&&t in _)return _[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",x="values"==g,T=!1,_=t.prototype,C=_[d]||_["@@iterator"]||g&&_[g],k=C||S(g),M=g?x?S("entries"):k:void 0,O="Array"==e&&_.entries||C;if(O&&(A=h(O.call(new t)))!==Object.prototype&&A.next&&(c(A,E,!0),i||a(A,d)||s(A,d,f)),x&&C&&"values"!==C.name&&(T=!0,k=function(){return C.call(this)}),i&&!y||!p&&!T&&_[d]||s(_,d,k),l[e]=k,l[E]=f,g)if(b={values:x?k:S("values"),keys:m?k:S("keys"),entries:M},y)for(w in b)w in _||o(_,w,b[w]);else r(r.P+r.F*(p||T),e,b);return b}},{101:101,128:128,33:33,41:41,42:42,54:54,58:58,60:60,79:79,94:94}],56:[function(t,e,n){var i=t(128)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}e.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},{128:128}],57:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],58:[function(t,e,n){e.exports={}},{}],59:[function(t,e,n){var i=t(81),r=t(117);e.exports=function(t,e){for(var n,o=r(t),s=i(o),a=s.length,l=0;a>l;)if(o[n=s[l++]]===e)return n}},{117:117,81:81}],60:[function(t,e,n){e.exports=!1},{}],61:[function(t,e,n){var i=Math.expm1;e.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},{}],62:[function(t,e,n){var i=t(65),r=Math.pow,o=r(2,-52),s=r(2,-23),a=r(2,127)*(2-s),l=r(2,-126);e.exports=Math.fround||function(t){var e,n,r=Math.abs(t),u=i(t);return r<l?u*function(t){return t+1/o-1/o}(r/l/s)*l*s:(n=(e=(1+s/o)*r)-(e-r))>a||n!=n?u*(1/0):u*n}},{65:65}],63:[function(t,e,n){e.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],64:[function(t,e,n){e.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},{}],65:[function(t,e,n){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],66:[function(t,e,n){var i=t(124)("meta"),r=t(51),o=t(41),s=t(72).f,a=0,l=Object.isExtensible||function(){return!0},u=!t(35)((function(){return l(Object.preventExtensions({}))})),c=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},h=e.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[i].w},onFreeze:function(t){return u&&h.NEED&&l(t)&&!o(t,i)&&c(t),t}}},{124:124,35:35,41:41,51:51,72:72}],67:[function(t,e,n){var i=t(160),r=t(33),o=t(103)("metadata"),s=o.store||(o.store=new(t(266))),a=function(t,e,n){var r=s.get(t);if(!r){if(!n)return;s.set(t,r=new i)}var o=r.get(e);if(!o){if(!n)return;r.set(e,o=new i)}return o};e.exports={store:s,map:a,has:function(t,e,n){var i=a(e,n,!1);return void 0!==i&&i.has(t)},get:function(t,e,n){var i=a(e,n,!1);return void 0===i?void 0:i.get(t)},set:function(t,e,n,i){a(n,i,!0).set(t,e)},keys:function(t,e){var n=a(t,e,!1),i=[];return n&&n.forEach((function(t,e){i.push(e)})),i},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},{103:103,160:160,266:266,33:33}],68:[function(t,e,n){var i=t(40),r=t(113).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,l="process"==t(18)(s);e.exports=function(){var t,e,n,u=function(){var i,r;for(l&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){s.nextTick(u)};else if(o){var c=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=c=!c}}else if(a&&a.resolve){var d=a.resolve();n=function(){d.then(u)}}else n=function(){r.call(i,u)};return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},{113:113,18:18,40:40}],69:[function(t,e,n){"use strict";function i(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=r(e),this.reject=r(n)}var r=t(3);e.exports.f=function(t){return new i(t)}},{3:3}],70:[function(t,e,n){"use strict";var i=t(81),r=t(78),o=t(82),s=t(119),a=t(47),l=Object.assign;e.exports=!l||t(35)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i}))?function(t,e){for(var n=s(t),l=arguments.length,u=1,c=r.f,h=o.f;l>u;)for(var d,p=a(arguments[u++]),f=c?i(p).concat(c(p)):i(p),v=f.length,g=0;v>g;)h.call(p,d=f[g++])&&(n[d]=p[d]);return n}:l},{119:119,35:35,47:47,78:78,81:81,82:82}],71:[function(t,e,n){var i=t(7),r=t(73),o=t(31),s=t(102)("IE_PROTO"),a=function(){},l=function(){var e,n=t(30)("iframe"),i=o.length;for(n.style.display="none",t(43).appendChild(n),n.src="javascript:",(e=n.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=l(),void 0===e?n:r(n,e)}},{102:102,30:30,31:31,43:43,7:7,73:73}],72:[function(t,e,n){var i=t(7),r=t(44),o=t(120),s=Object.defineProperty;n.f=t(29)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{120:120,29:29,44:44,7:7}],73:[function(t,e,n){var i=t(72),r=t(7),o=t(81);e.exports=t(29)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,l=0;a>l;)i.f(t,n=s[l++],e[n]);return t}},{29:29,7:7,72:72,81:81}],74:[function(t,e,n){"use strict";e.exports=t(60)||!t(35)((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete t(40)[e]}))},{35:35,40:40,60:60}],75:[function(t,e,n){var i=t(82),r=t(92),o=t(117),s=t(120),a=t(41),l=t(44),u=Object.getOwnPropertyDescriptor;n.f=t(29)?u:function(t,e){if(t=o(t),e=s(e,!0),l)try{return u(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},{117:117,120:120,29:29,41:41,44:44,82:82,92:92}],76:[function(t,e,n){var i=t(117),r=t(77).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},{117:117,77:77}],77:[function(t,e,n){var i=t(80),r=t(31).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},{31:31,80:80}],78:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],79:[function(t,e,n){var i=t(41),r=t(119),o=t(102)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{102:102,119:119,41:41}],80:[function(t,e,n){var i=t(41),r=t(117),o=t(11)(!1),s=t(102)("IE_PROTO");e.exports=function(t,e){var n,a=r(t),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;e.length>l;)i(a,n=e[l++])&&(~o(u,n)||u.push(n));return u}},{102:102,11:11,117:117,41:41}],81:[function(t,e,n){var i=t(80),r=t(31);e.exports=Object.keys||function(t){return i(t,r)}},{31:31,80:80}],82:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],83:[function(t,e,n){var i=t(33),r=t(23),o=t(35);e.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},{23:23,33:33,35:35}],84:[function(t,e,n){var i=t(81),r=t(117),o=t(82).f;e.exports=function(t){return function(e){for(var n,s=r(e),a=i(s),l=a.length,u=0,c=[];l>u;)o.call(s,n=a[u++])&&c.push(t?[n,s[n]]:s[n]);return c}}},{117:117,81:81,82:82}],85:[function(t,e,n){var i=t(77),r=t(78),o=t(7),s=t(40).Reflect;e.exports=s&&s.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},{40:40,7:7,77:77,78:78}],86:[function(t,e,n){var i=t(40).parseFloat,r=t(111).trim;e.exports=1/i(t(112)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},{111:111,112:112,40:40}],87:[function(t,e,n){var i=t(40).parseInt,r=t(111).trim,o=t(112),s=/^[-+]?0[xX]/;e.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},{111:111,112:112,40:40}],88:[function(t,e,n){"use strict";var i=t(89),r=t(46),o=t(3);e.exports=function(){for(var t=o(this),e=arguments.length,n=Array(e),s=0,a=i._,l=!1;e>s;)(n[s]=arguments[s++])===a&&(l=!0);return function(){var i,o=this,s=arguments.length,u=0,c=0;if(!l&&!s)return r(t,n,o);if(i=n.slice(),l)for(;e>u;u++)i[u]===a&&(i[u]=arguments[c++]);for(;s>c;)i.push(arguments[c++]);return r(t,i,o)}}},{3:3,46:46,89:89}],89:[function(t,e,n){e.exports=t(40)},{40:40}],90:[function(t,e,n){e.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],91:[function(t,e,n){var i=t(69);e.exports=function(t,e){var n=i.f(t);return(0,n.resolve)(e),n.promise}},{69:69}],92:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],93:[function(t,e,n){var i=t(94);e.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},{94:94}],94:[function(t,e,n){var i=t(40),r=t(42),o=t(41),s=t(124)("src"),a=Function.toString,l=(""+a).split("toString");t(23).inspectSource=function(t){return a.call(t)},(e.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||r(n,s,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||a.call(this)}))},{124:124,23:23,40:40,41:41,42:42}],95:[function(t,e,n){e.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},{}],96:[function(t,e,n){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},{}],97:[function(t,e,n){"use strict";var i=t(33),r=t(3),o=t(25),s=t(39);e.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,a,l=arguments[1];return r(this),(e=void 0!==l)&&r(l),null==t?new this:(n=[],e?(i=0,a=o(l,arguments[2],2),s(t,!1,(function(t){n.push(a(t,i++))}))):s(t,!1,n.push,n),new this(n))}})}},{25:25,3:3,33:33,39:39}],98:[function(t,e,n){"use strict";var i=t(33);e.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},{33:33}],99:[function(t,e,n){var i=t(51),r=t(7),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,i){try{(i=t(25)(Function.call,t(75).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:o}},{25:25,51:51,7:7,75:75}],100:[function(t,e,n){"use strict";var i=t(40),r=t(72),o=t(29),s=t(128)("species");e.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},{128:128,29:29,40:40,72:72}],101:[function(t,e,n){var i=t(72).f,r=t(41),o=t(128)("toStringTag");e.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},{128:128,41:41,72:72}],102:[function(t,e,n){var i=t(103)("keys"),r=t(124);e.exports=function(t){return i[t]||(i[t]=r(t))}},{103:103,124:124}],103:[function(t,e,n){var i=t(40),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(t){return r[t]||(r[t]={})}},{40:40}],104:[function(t,e,n){var i=t(7),r=t(3),o=t(128)("species");e.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||null==(n=i(s)[o])?e:r(n)}},{128:128,3:3,7:7}],105:[function(t,e,n){"use strict";var i=t(35);e.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},{35:35}],106:[function(t,e,n){var i=t(116),r=t(28);e.exports=function(t){return function(e,n){var o,s,a=String(r(e)),l=i(n),u=a.length;return l<0||l>=u?t?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):o:t?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},{116:116,28:28}],107:[function(t,e,n){var i=t(52),r=t(28);e.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},{28:28,52:52}],108:[function(t,e,n){var i=t(33),r=t(35),o=t(28),s=/"/g,a=function(t,e,n,i){var r=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),a+">"+r+"</"+e+">"};e.exports=function(t,e){var n={};n[t]=e(a),i(i.P+i.F*r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},{28:28,33:33,35:35}],109:[function(t,e,n){var i=t(118),r=t(110),o=t(28);e.exports=function(t,e,n,s){var a=String(o(t)),l=a.length,u=void 0===n?" ":String(n),c=i(e);if(c<=l||""==u)return a;var h=c-l,d=r.call(u,Math.ceil(h/u.length));return d.length>h&&(d=d.slice(0,h)),s?d+a:a+d}},{110:110,118:118,28:28}],110:[function(t,e,n){"use strict";var i=t(116),r=t(28);e.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},{116:116,28:28}],111:[function(t,e,n){var i=t(33),r=t(28),o=t(35),s=t(112),a="["+s+"]",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),c=function(t,e,n){var r={},a=o((function(){return!!s[t]()||"​"!="​"[t]()})),l=r[t]=a?e(h):s[t];n&&(r[n]=l),i(i.P+i.F*a,"String",r)},h=c.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};e.exports=c},{112:112,28:28,33:33,35:35}],112:[function(t,e,n){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],113:[function(t,e,n){var i,r,o,s=t(25),a=t(46),l=t(43),u=t(30),c=t(40),h=c.process,d=c.setImmediate,p=c.clearImmediate,f=c.MessageChannel,v=c.Dispatch,g=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){y.call(t.data)};d&&p||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){a("function"==typeof t?t:Function(t),e)},i(g),g},p=function(t){delete m[t]},"process"==t(18)(h)?i=function(t){h.nextTick(s(y,t,1))}:v&&v.now?i=function(t){v.now(s(y,t,1))}:f?(o=(r=new f).port2,r.port1.onmessage=b,i=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):i="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),e.exports={set:d,clear:p}},{18:18,25:25,30:30,40:40,43:43,46:46}],114:[function(t,e,n){var i=t(116),r=Math.max,o=Math.min;e.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},{116:116}],115:[function(t,e,n){var i=t(116),r=t(118);e.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},{116:116,118:118}],116:[function(t,e,n){var i=Math.ceil,r=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},{}],117:[function(t,e,n){var i=t(47),r=t(28);e.exports=function(t){return i(r(t))}},{28:28,47:47}],118:[function(t,e,n){var i=t(116),r=Math.min;e.exports=function(t){return t>0?r(i(t),9007199254740991):0}},{116:116}],119:[function(t,e,n){var i=t(28);e.exports=function(t){return Object(i(t))}},{28:28}],120:[function(t,e,n){var i=t(51);e.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{51:51}],121:[function(t,e,n){"use strict";if(t(29)){var i=t(60),r=t(40),o=t(35),s=t(33),a=t(123),l=t(122),u=t(25),c=t(6),h=t(92),d=t(42),p=t(93),f=t(116),v=t(118),g=t(115),m=t(114),y=t(120),b=t(41),w=t(17),A=t(51),S=t(119),E=t(48),x=t(71),T=t(79),_=t(77).f,C=t(129),k=t(124),M=t(128),O=t(12),P=t(11),L=t(104),I=t(141),R=t(58),D=t(56),N=t(100),H=t(9),V=t(8),F=t(72),B=t(75),j=F.f,U=B.f,W=r.RangeError,z=r.TypeError,G=r.Uint8Array,q=Array.prototype,Y=l.ArrayBuffer,X=l.DataView,K=O(0),J=O(2),Z=O(3),$=O(4),Q=O(5),tt=O(6),et=P(!0),nt=P(!1),it=I.values,rt=I.keys,ot=I.entries,st=q.lastIndexOf,at=q.reduce,lt=q.reduceRight,ut=q.join,ct=q.sort,ht=q.slice,dt=q.toString,pt=q.toLocaleString,ft=M("iterator"),vt=M("toStringTag"),gt=k("typed_constructor"),mt=k("def_constructor"),yt=a.CONSTR,bt=a.TYPED,wt=a.VIEW,At=O(1,(function(t,e){return _t(L(t,t[mt]),e)})),St=o((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),Et=!!G&&!!G.prototype.set&&o((function(){new G(1).set({})})),xt=function(t,e){var n=f(t);if(n<0||n%e)throw W("Wrong offset!");return n},Tt=function(t){if(A(t)&&bt in t)return t;throw z(t+" is not a typed array!")},_t=function(t,e){if(!A(t)||!(gt in t))throw z("It is not a typed array constructor!");return new t(e)},Ct=function(t,e){return kt(L(t,t[mt]),e)},kt=function(t,e){for(var n=0,i=e.length,r=_t(t,i);i>n;)r[n]=e[n++];return r},Mt=function(t,e,n){j(t,e,{get:function(){return this._d[n]}})},Ot=function(t){var e,n,i,r,o,s,a=S(t),l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,d=C(a);if(null!=d&&!E(d)){for(s=d.call(a),i=[],e=0;!(o=s.next()).done;e++)i.push(o.value);a=i}for(h&&l>2&&(c=u(c,arguments[2],2)),e=0,n=v(a.length),r=_t(this,n);n>e;e++)r[e]=h?c(a[e],e):a[e];return r},Pt=function(){for(var t=0,e=arguments.length,n=_t(this,e);e>t;)n[t]=arguments[t++];return n},Lt=!!G&&o((function(){pt.call(new G(1))})),It=function(){return pt.apply(Lt?ht.call(Tt(this)):Tt(this),arguments)},Rt={copyWithin:function(t,e){return V.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return $(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return H.apply(Tt(this),arguments)},filter:function(t){return Ct(this,J(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ut.apply(Tt(this),arguments)},lastIndexOf:function(t){return st.apply(Tt(this),arguments)},map:function(t){return At(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(Tt(this),arguments)},reduceRight:function(t){return lt.apply(Tt(this),arguments)},reverse:function(){for(var t,e=this,n=Tt(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return Z(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),i=n.length,r=m(t,i);return new(L(n,n[mt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,v((void 0===e?i:m(e,i))-r))}},Dt=function(t,e){return Ct(this,ht.call(Tt(this),t,e))},Nt=function(t){Tt(this);var e=xt(arguments[1],1),n=this.length,i=S(t),r=v(i.length),o=0;if(r+e>n)throw W("Wrong length!");for(;o<r;)this[e+o]=i[o++]},Ht={entries:function(){return ot.call(Tt(this))},keys:function(){return rt.call(Tt(this))},values:function(){return it.call(Tt(this))}},Vt=function(t,e){return A(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ft=function(t,e){return Vt(t,e=y(e,!0))?h(2,t[e]):U(t,e)},Bt=function(t,e,n){return!(Vt(t,e=y(e,!0))&&A(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?j(t,e,n):(t[e]=n.value,t)};yt||(B.f=Ft,F.f=Bt),s(s.S+s.F*!yt,"Object",{getOwnPropertyDescriptor:Ft,defineProperty:Bt}),o((function(){dt.call({})}))&&(dt=pt=function(){return ut.call(this)});var jt=p({},Rt);p(jt,Ht),d(jt,ft,Ht.values),p(jt,{slice:Dt,set:Nt,constructor:function(){},toString:dt,toLocaleString:It}),Mt(jt,"buffer","b"),Mt(jt,"byteOffset","o"),Mt(jt,"byteLength","l"),Mt(jt,"length","e"),j(jt,vt,{get:function(){return this[bt]}}),e.exports=function(t,e,n,l){var u=t+((l=!!l)?"Clamped":"")+"Array",h="get"+t,p="set"+t,f=r[u],m=f||{},y=f&&T(f),b=!f||!a.ABV,S={},E=f&&f.prototype,C=function(t,n){var i=t._d;return i.v[h](n*e+i.o,St)},k=function(t,n,i){var r=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[p](n*e+r.o,i,St)},M=function(t,e){j(t,e,{get:function(){return C(this,e)},set:function(t){return k(this,e,t)},enumerable:!0})};b?(f=n((function(t,n,i,r){c(t,f,u,"_d");var o,s,a,l,h=0,p=0;if(A(n)){if(!(n instanceof Y||"ArrayBuffer"==(l=w(n))||"SharedArrayBuffer"==l))return bt in n?kt(f,n):Ot.call(f,n);o=n,p=xt(i,e);var m=n.byteLength;if(void 0===r){if(m%e)throw W("Wrong length!");if((s=m-p)<0)throw W("Wrong length!")}else if((s=v(r)*e)+p>m)throw W("Wrong length!");a=s/e}else a=g(n),o=new Y(s=a*e);for(d(t,"_d",{b:o,o:p,l:s,e:a,v:new X(o)});h<a;)M(t,h++)})),E=f.prototype=x(jt),d(E,"constructor",f)):o((function(){f(1)}))&&o((function(){new f(-1)}))&&D((function(t){new f,new f(null),new f(1.5),new f(t)}),!0)||(f=n((function(t,n,i,r){var o;return c(t,f,u),A(n)?n instanceof Y||"ArrayBuffer"==(o=w(n))||"SharedArrayBuffer"==o?void 0!==r?new m(n,xt(i,e),r):void 0!==i?new m(n,xt(i,e)):new m(n):bt in n?kt(f,n):Ot.call(f,n):new m(g(n))})),K(y!==Function.prototype?_(m).concat(_(y)):_(m),(function(t){t in f||d(f,t,m[t])})),f.prototype=E,i||(E.constructor=f));var O=E[ft],P=!!O&&("values"==O.name||null==O.name),L=Ht.values;d(f,gt,!0),d(E,bt,u),d(E,wt,!0),d(E,mt,f),(l?new f(1)[vt]==u:vt in E)||j(E,vt,{get:function(){return u}}),S[u]=f,s(s.G+s.W+s.F*(f!=m),S),s(s.S,u,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o((function(){m.of.call(f,1)})),u,{from:Ot,of:Pt}),"BYTES_PER_ELEMENT"in E||d(E,"BYTES_PER_ELEMENT",e),s(s.P,u,Rt),N(u),s(s.P+s.F*Et,u,{set:Nt}),s(s.P+s.F*!P,u,Ht),i||E.toString==dt||(E.toString=dt),s(s.P+s.F*o((function(){new f(1).slice()})),u,{slice:Dt}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()}))||!o((function(){E.toLocaleString.call([1,2])}))),u,{toLocaleString:It}),R[u]=P?O:L,i||P||d(E,ft,L)}}else e.exports=function(){}},{100:100,104:104,11:11,114:114,115:115,116:116,118:118,119:119,12:12,120:120,122:122,123:123,124:124,128:128,129:129,141:141,17:17,25:25,29:29,33:33,35:35,40:40,41:41,42:42,48:48,51:51,56:56,58:58,6:6,60:60,71:71,72:72,75:75,77:77,79:79,8:8,9:9,92:92,93:93}],122:[function(t,e,n){"use strict";function i(t,e,n){var i,r,o,s=Array(n),a=8*n-e-1,l=(1<<a)-1,u=l>>1,c=23===e?V(2,-24)-V(2,-77):0,h=0,d=t<0||0===t&&1/t<0?1:0;for((t=H(t))!=t||t===D?(r=t!=t?1:0,i=l):(i=F(B(t)/j),t*(o=V(2,-i))<1&&(i--,o*=2),(t+=i+u>=1?c/o:c*V(2,1-u))*o>=2&&(i++,o/=2),i+u>=l?(r=0,i=l):i+u>=1?(r=(t*o-1)*V(2,e),i+=u):(r=t*V(2,u-1)*V(2,e),i=0));e>=8;s[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;a>0;s[h++]=255&i,i/=256,a-=8);return s[--h]|=128*d,s}function r(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,l=n-1,u=t[l--],c=127&u;for(u>>=7;a>0;c=256*c+t[l],l--,a-=8);for(i=c&(1<<-a)-1,c>>=-a,a+=e;a>0;i=256*i+t[l],l--,a-=8);if(0===c)c=1-s;else{if(c===o)return i?NaN:u?-D:D;i+=V(2,e),c-=s}return(u?-1:1)*i*V(2,c-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return[255&t]}function a(t){return[255&t,t>>8&255]}function l(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function u(t){return i(t,52,8)}function c(t){return i(t,23,4)}function h(t,e,n){_(t[M],e,{get:function(){return this[n]}})}function d(t,e,n,i){var r=x(+n);if(r+e>t[W])throw R(O);var o=t[U]._b,s=r+t[z],a=o.slice(s,s+e);return i?a:a.reverse()}function p(t,e,n,i,r,o){var s=x(+n);if(s+e>t[W])throw R(O);for(var a=t[U]._b,l=s+t[z],u=i(+r),c=0;c<e;c++)a[l+c]=u[o?c:e-c-1]}var f=t(40),v=t(29),g=t(60),m=t(123),y=t(42),b=t(93),w=t(35),A=t(6),S=t(116),E=t(118),x=t(115),T=t(77).f,_=t(72).f,C=t(9),k=t(101),M="prototype",O="Wrong index!",P=f.ArrayBuffer,L=f.DataView,I=f.Math,R=f.RangeError,D=f.Infinity,N=P,H=I.abs,V=I.pow,F=I.floor,B=I.log,j=I.LN2,U=v?"_b":"buffer",W=v?"_l":"byteLength",z=v?"_o":"byteOffset";if(m.ABV){if(!w((function(){P(1)}))||!w((function(){new P(-1)}))||w((function(){return new P,new P(1.5),new P(NaN),"ArrayBuffer"!=P.name}))){for(var G,q=(P=function(t){return A(this,P),new N(x(t))})[M]=N[M],Y=T(N),X=0;Y.length>X;)(G=Y[X++])in P||y(P,G,N[G]);g||(q.constructor=P)}var K=new L(new P(2)),J=L[M].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||b(L[M],{setInt8:function(t,e){J.call(this,t,e<<24>>24)},setUint8:function(t,e){J.call(this,t,e<<24>>24)}},!0)}else P=function(t){A(this,P,"ArrayBuffer");var e=x(t);this._b=C.call(Array(e),0),this[W]=e},L=function(t,e,n){A(this,L,"DataView"),A(t,P,"DataView");var i=t[W],r=S(e);if(r<0||r>i)throw R("Wrong offset!");if(r+(n=void 0===n?i-r:E(n))>i)throw R("Wrong length!");this[U]=t,this[z]=r,this[W]=n},v&&(h(P,"byteLength","_l"),h(L,"buffer","_b"),h(L,"byteLength","_l"),h(L,"byteOffset","_o")),b(L[M],{getInt8:function(t){return d(this,1,t)[0]<<24>>24},getUint8:function(t){return d(this,1,t)[0]},getInt16:function(t){var e=d(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=d(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(d(this,4,t,arguments[1]))},getUint32:function(t){return o(d(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return r(d(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return r(d(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){p(this,1,t,s,e)},setUint8:function(t,e){p(this,1,t,s,e)},setInt16:function(t,e){p(this,2,t,a,e,arguments[2])},setUint16:function(t,e){p(this,2,t,a,e,arguments[2])},setInt32:function(t,e){p(this,4,t,l,e,arguments[2])},setUint32:function(t,e){p(this,4,t,l,e,arguments[2])},setFloat32:function(t,e){p(this,4,t,c,e,arguments[2])},setFloat64:function(t,e){p(this,8,t,u,e,arguments[2])}});k(P,"ArrayBuffer"),k(L,"DataView"),y(L[M],m.VIEW,!0),n.ArrayBuffer=P,n.DataView=L},{101:101,115:115,116:116,118:118,123:123,29:29,35:35,40:40,42:42,6:6,60:60,72:72,77:77,9:9,93:93}],123:[function(t,e,n){for(var i,r=t(40),o=t(42),s=t(124),a=s("typed_array"),l=s("view"),u=!(!r.ArrayBuffer||!r.DataView),c=u,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[d[h++]])?(o(i.prototype,a,!0),o(i.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:a,VIEW:l}},{124:124,40:40,42:42}],124:[function(t,e,n){var i=0,r=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},{}],125:[function(t,e,n){var i=t(51);e.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},{51:51}],126:[function(t,e,n){var i=t(40),r=t(23),o=t(60),s=t(127),a=t(72).f;e.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},{127:127,23:23,40:40,60:60,72:72}],127:[function(t,e,n){n.f=t(128)},{128:128}],128:[function(t,e,n){var i=t(103)("wks"),r=t(124),o=t(40).Symbol,s="function"==typeof o;(e.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},{103:103,124:124,40:40}],129:[function(t,e,n){var i=t(17),r=t(128)("iterator"),o=t(58);e.exports=t(23).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},{128:128,17:17,23:23,58:58}],130:[function(t,e,n){var i=t(33),r=t(95)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},{33:33,95:95}],131:[function(t,e,n){var i=t(33);i(i.P,"Array",{copyWithin:t(8)}),t(5)("copyWithin")},{33:33,5:5,8:8}],132:[function(t,e,n){"use strict";var i=t(33),r=t(12)(4);i(i.P+i.F*!t(105)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],133:[function(t,e,n){var i=t(33);i(i.P,"Array",{fill:t(9)}),t(5)("fill")},{33:33,5:5,9:9}],134:[function(t,e,n){"use strict";var i=t(33),r=t(12)(2);i(i.P+i.F*!t(105)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],135:[function(t,e,n){"use strict";var i=t(33),r=t(12)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),i(i.P+i.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)(o)},{12:12,33:33,5:5}],136:[function(t,e,n){"use strict";var i=t(33),r=t(12)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)("find")},{12:12,33:33,5:5}],137:[function(t,e,n){"use strict";var i=t(33),r=t(12)(0),o=t(105)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],138:[function(t,e,n){"use strict";var i=t(25),r=t(33),o=t(119),s=t(53),a=t(48),l=t(118),u=t(24),c=t(129);r(r.S+r.F*!t(56)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,h,d=o(t),p="function"==typeof this?this:Array,f=arguments.length,v=f>1?arguments[1]:void 0,g=void 0!==v,m=0,y=c(d);if(g&&(v=i(v,f>2?arguments[2]:void 0,2)),null==y||p==Array&&a(y))for(n=new p(e=l(d.length));e>m;m++)u(n,m,g?v(d[m],m):d[m]);else for(h=y.call(d),n=new p;!(r=h.next()).done;m++)u(n,m,g?s(h,v,[r.value,m],!0):r.value);return n.length=m,n}})},{118:118,119:119,129:129,24:24,25:25,33:33,48:48,53:53,56:56}],139:[function(t,e,n){"use strict";var i=t(33),r=t(11)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!t(105)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},{105:105,11:11,33:33}],140:[function(t,e,n){var i=t(33);i(i.S,"Array",{isArray:t(49)})},{33:33,49:49}],141:[function(t,e,n){"use strict";var i=t(5),r=t(57),o=t(58),s=t(117);e.exports=t(55)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{117:117,5:5,55:55,57:57,58:58}],142:[function(t,e,n){"use strict";var i=t(33),r=t(117),o=[].join;i(i.P+i.F*(t(47)!=Object||!t(105)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},{105:105,117:117,33:33,47:47}],143:[function(t,e,n){"use strict";var i=t(33),r=t(117),o=t(116),s=t(118),a=[].lastIndexOf,l=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!t(105)(a)),"Array",{lastIndexOf:function(t){if(l)return a.apply(this,arguments)||0;var e=r(this),n=s(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},{105:105,116:116,117:117,118:118,33:33}],144:[function(t,e,n){"use strict";var i=t(33),r=t(12)(1);i(i.P+i.F*!t(105)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],145:[function(t,e,n){"use strict";var i=t(33),r=t(24);i(i.S+i.F*t(35)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},{24:24,33:33,35:35}],146:[function(t,e,n){"use strict";var i=t(33),r=t(13);i(i.P+i.F*!t(105)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},{105:105,13:13,33:33}],147:[function(t,e,n){"use strict";var i=t(33),r=t(13);i(i.P+i.F*!t(105)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},{105:105,13:13,33:33}],148:[function(t,e,n){"use strict";var i=t(33),r=t(43),o=t(18),s=t(114),a=t(118),l=[].slice;i(i.P+i.F*t(35)((function(){r&&l.call(r)})),"Array",{slice:function(t,e){var n=a(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var r=s(t,n),u=s(e,n),c=a(u-r),h=Array(c),d=0;d<c;d++)h[d]="String"==i?this.charAt(r+d):this[r+d];return h}})},{114:114,118:118,18:18,33:33,35:35,43:43}],149:[function(t,e,n){"use strict";var i=t(33),r=t(12)(3);i(i.P+i.F*!t(105)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],150:[function(t,e,n){"use strict";var i=t(33),r=t(3),o=t(119),s=t(35),a=[].sort,l=[1,2,3];i(i.P+i.F*(s((function(){l.sort(void 0)}))||!s((function(){l.sort(null)}))||!t(105)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},{105:105,119:119,3:3,33:33,35:35}],151:[function(t,e,n){t(100)("Array")},{100:100}],152:[function(t,e,n){var i=t(33);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},{33:33}],153:[function(t,e,n){var i=t(33),r=t(26);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},{26:26,33:33}],154:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(120);i(i.P+i.F*t(35)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},{119:119,120:120,33:33,35:35}],155:[function(t,e,n){var i=t(128)("toPrimitive"),r=Date.prototype;i in r||t(42)(r,i,t(27))},{128:128,27:27,42:42}],156:[function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&t(94)(i,"toString",(function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"}))},{94:94}],157:[function(t,e,n){var i=t(33);i(i.P,"Function",{bind:t(16)})},{16:16,33:33}],158:[function(t,e,n){"use strict";var i=t(51),r=t(79),o=t(128)("hasInstance"),s=Function.prototype;o in s||t(72).f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},{128:128,51:51,72:72,79:79}],159:[function(t,e,n){var i=t(72).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||t(29)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},{29:29,72:72}],160:[function(t,e,n){"use strict";var i=t(19),r=t(125);e.exports=t(22)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},{125:125,19:19,22:22}],161:[function(t,e,n){var i=t(33),r=t(63),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},{33:33,63:63}],162:[function(t,e,n){var i=t(33),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},{33:33}],163:[function(t,e,n){var i=t(33),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{33:33}],164:[function(t,e,n){var i=t(33),r=t(65);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},{33:33,65:65}],165:[function(t,e,n){var i=t(33);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{33:33}],166:[function(t,e,n){var i=t(33),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},{33:33}],167:[function(t,e,n){var i=t(33),r=t(61);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},{33:33,61:61}],168:[function(t,e,n){var i=t(33);i(i.S,"Math",{fround:t(62)})},{33:33,62:62}],169:[function(t,e,n){var i=t(33),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,s=0,a=arguments.length,l=0;s<a;)l<(n=r(arguments[s++]))?(o=o*(i=l/n)*i+1,l=n):n>0?o+=(i=n/l)*i:o+=n;return l===1/0?1/0:l*Math.sqrt(o)}})},{33:33}],170:[function(t,e,n){var i=t(33),r=Math.imul;i(i.S+i.F*t(35)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},{33:33,35:35}],171:[function(t,e,n){var i=t(33);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},{33:33}],172:[function(t,e,n){var i=t(33);i(i.S,"Math",{log1p:t(63)})},{33:33,63:63}],173:[function(t,e,n){var i=t(33);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{33:33}],174:[function(t,e,n){var i=t(33);i(i.S,"Math",{sign:t(65)})},{33:33,65:65}],175:[function(t,e,n){var i=t(33),r=t(61),o=Math.exp;i(i.S+i.F*t(35)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},{33:33,35:35,61:61}],176:[function(t,e,n){var i=t(33),r=t(61),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},{33:33,61:61}],177:[function(t,e,n){var i=t(33);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},{33:33}],178:[function(t,e,n){"use strict";var i=t(40),r=t(41),o=t(18),s=t(45),a=t(120),l=t(35),u=t(77).f,c=t(75).f,h=t(72).f,d=t(111).trim,p=i.Number,f=p,v=p.prototype,g="Number"==o(t(71)(v)),m="trim"in String.prototype,y=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=m?e.trim():d(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,l=e.slice(2),u=0,c=l.length;u<c;u++)if((s=l.charCodeAt(u))<48||s>r)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?l((function(){v.valueOf.call(n)})):"Number"!=o(n))?s(new f(y(e)),n,p):y(e)};for(var b,w=t(29)?u(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;w.length>A;A++)r(f,b=w[A])&&!r(p,b)&&h(p,b,c(f,b));p.prototype=v,v.constructor=p,t(94)(i,"Number",p)}},{111:111,120:120,18:18,29:29,35:35,40:40,41:41,45:45,71:71,72:72,75:75,77:77,94:94}],179:[function(t,e,n){var i=t(33);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},{33:33}],180:[function(t,e,n){var i=t(33),r=t(40).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},{33:33,40:40}],181:[function(t,e,n){var i=t(33);i(i.S,"Number",{isInteger:t(50)})},{33:33,50:50}],182:[function(t,e,n){var i=t(33);i(i.S,"Number",{isNaN:function(t){return t!=t}})},{33:33}],183:[function(t,e,n){var i=t(33),r=t(50),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},{33:33,50:50}],184:[function(t,e,n){var i=t(33);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{33:33}],185:[function(t,e,n){var i=t(33);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{33:33}],186:[function(t,e,n){var i=t(33),r=t(86);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},{33:33,86:86}],187:[function(t,e,n){var i=t(33),r=t(87);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},{33:33,87:87}],188:[function(t,e,n){"use strict";var i=t(33),r=t(116),o=t(4),s=t(110),a=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*u[n],u[n]=i%1e7,i=l(i/1e7)},d=function(t){for(var e=6,n=0;--e>=0;)n+=u[e],u[e]=l(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var n=String(u[t]);e=""===e?n:e+s.call("0",7-n.length)+n}return e},f=function(t,e,n){return 0===e?n:e%2==1?f(t,e-1,n*t):f(t*t,e/2,n)};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t(35)((function(){a.call({})}))),"Number",{toFixed:function(t){var e,n,i,a,l=o(this,c),u=r(t),v="",g="0";if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(l*f(2,69,1))-69,n=e<0?l*f(2,-e,1):l/f(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),i=u;i>=7;)h(1e7,0),i-=7;for(h(f(10,i,1),0),i=e-1;i>=23;)d(1<<23),i-=23;d(1<<i),h(1,1),d(2),g=p()}else h(0,n),h(1<<-e,0),g=p()+s.call("0",u);return u>0?g=v+((a=g.length)<=u?"0."+s.call("0",u-a)+g:g.slice(0,a-u)+"."+g.slice(a-u)):g=v+g,g}})},{110:110,116:116,33:33,35:35,4:4}],189:[function(t,e,n){"use strict";var i=t(33),r=t(35),o=t(4),s=1..toPrecision;i(i.P+i.F*(r((function(){return"1"!==s.call(1,void 0)}))||!r((function(){s.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},{33:33,35:35,4:4}],190:[function(t,e,n){var i=t(33);i(i.S+i.F,"Object",{assign:t(70)})},{33:33,70:70}],191:[function(t,e,n){var i=t(33);i(i.S,"Object",{create:t(71)})},{33:33,71:71}],192:[function(t,e,n){var i=t(33);i(i.S+i.F*!t(29),"Object",{defineProperties:t(73)})},{29:29,33:33,73:73}],193:[function(t,e,n){var i=t(33);i(i.S+i.F*!t(29),"Object",{defineProperty:t(72).f})},{29:29,33:33,72:72}],194:[function(t,e,n){var i=t(51),r=t(66).onFreeze;t(83)("freeze",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},{51:51,66:66,83:83}],195:[function(t,e,n){var i=t(117),r=t(75).f;t(83)("getOwnPropertyDescriptor",(function(){return function(t,e){return r(i(t),e)}}))},{117:117,75:75,83:83}],196:[function(t,e,n){t(83)("getOwnPropertyNames",(function(){return t(76).f}))},{76:76,83:83}],197:[function(t,e,n){var i=t(119),r=t(79);t(83)("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},{119:119,79:79,83:83}],198:[function(t,e,n){var i=t(51);t(83)("isExtensible",(function(t){return function(e){return!!i(e)&&(!t||t(e))}}))},{51:51,83:83}],199:[function(t,e,n){var i=t(51);t(83)("isFrozen",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},{51:51,83:83}],200:[function(t,e,n){var i=t(51);t(83)("isSealed",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},{51:51,83:83}],201:[function(t,e,n){var i=t(33);i(i.S,"Object",{is:t(96)})},{33:33,96:96}],202:[function(t,e,n){var i=t(119),r=t(81);t(83)("keys",(function(){return function(t){return r(i(t))}}))},{119:119,81:81,83:83}],203:[function(t,e,n){var i=t(51),r=t(66).onFreeze;t(83)("preventExtensions",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},{51:51,66:66,83:83}],204:[function(t,e,n){var i=t(51),r=t(66).onFreeze;t(83)("seal",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},{51:51,66:66,83:83}],205:[function(t,e,n){var i=t(33);i(i.S,"Object",{setPrototypeOf:t(99).set})},{33:33,99:99}],206:[function(t,e,n){"use strict";var i=t(17),r={};r[t(128)("toStringTag")]="z",r+""!="[object z]"&&t(94)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},{128:128,17:17,94:94}],207:[function(t,e,n){var i=t(33),r=t(86);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},{33:33,86:86}],208:[function(t,e,n){var i=t(33),r=t(87);i(i.G+i.F*(parseInt!=r),{parseInt:r})},{33:33,87:87}],209:[function(t,e,n){"use strict";var i,r,o,s,a=t(60),l=t(40),u=t(25),c=t(17),h=t(33),d=t(51),p=t(3),f=t(6),v=t(39),g=t(104),m=t(113).set,y=t(68)(),b=t(69),w=t(90),A=t(91),S=l.TypeError,E=l.process,x=l.Promise,T="process"==c(E),_=function(){},C=r=b.f,k=!!function(){try{var e=x.resolve(1),n=(e.constructor={})[t(128)("species")]=function(t){t(_,_)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(_)instanceof n}catch(t){}}(),M=a?function(t,e){return t===e||t===x&&e===s}:function(t,e){return t===e},O=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},P=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var i=t._v,r=1==t._s,o=0;n.length>o;)!function(e){var n,o,s=r?e.ok:e.fail,a=e.resolve,l=e.reject,u=e.domain;try{s?(r||(2==t._h&&R(t),t._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&u.exit()),n===e.promise?l(S("Promise-chain cycle")):(o=O(n))?o.call(n,a,l):a(n)):l(i)}catch(t){l(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&L(t)}))}},L=function(t){m.call(l,(function(){var e,n,i,r=t._v,o=I(t);if(o&&(e=w((function(){T?E.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=T||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},I=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,i=0;n.length>i;)if((e=n[i++]).fail||!I(e.promise))return!1;return!0},R=function(t){m.call(l,(function(){var e;T?E.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})}))},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),P(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=O(t))?y((function(){var i={_w:n,_d:!1};try{e.call(t,u(N,i,1),u(D,i,1))}catch(t){D.call(i,t)}})):(n._v=t,n._s=1,P(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};k||(x=function(t){f(this,x,"Promise","_h"),p(t),i.call(this);try{t(u(N,this,1),u(D,this,1))}catch(t){D.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=t(93)(x.prototype,{then:function(t,e){var n=C(g(this,x));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=T?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=u(N,t,1),this.reject=u(D,t,1)},b.f=C=function(t){return M(x,t)?new o(t):r(t)}),h(h.G+h.W+h.F*!k,{Promise:x}),t(101)(x,"Promise"),t(100)("Promise"),s=t(23).Promise,h(h.S+h.F*!k,"Promise",{reject:function(t){var e=C(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!k),"Promise",{resolve:function(t){return t instanceof x&&M(t.constructor,this)?t:A(this,t)}}),h(h.S+h.F*!(k&&t(56)((function(t){x.all(t).catch(_)}))),"Promise",{all:function(t){var e=this,n=C(e),i=n.resolve,r=n.reject,o=w((function(){var n=[],o=0,s=1;v(t,!1,(function(t){var a=o++,l=!1;n.push(void 0),s++,e.resolve(t).then((function(t){l||(l=!0,n[a]=t,--s||i(n))}),r)})),--s||i(n)}));return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=C(e),i=n.reject,r=w((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},{100:100,101:101,104:104,113:113,128:128,17:17,23:23,25:25,3:3,33:33,39:39,40:40,51:51,56:56,6:6,60:60,68:68,69:69,90:90,91:91,93:93}],210:[function(t,e,n){var i=t(33),r=t(3),o=t(7),s=(t(40).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!t(35)((function(){s((function(){}))})),"Reflect",{apply:function(t,e,n){var i=r(t),l=o(n);return s?s(i,e,l):a.call(i,e,l)}})},{3:3,33:33,35:35,40:40,7:7}],211:[function(t,e,n){var i=t(33),r=t(71),o=t(3),s=t(7),a=t(51),l=t(35),u=t(16),c=(t(40).Reflect||{}).construct,h=l((function(){function t(){}return!(c((function(){}),[],t)instanceof t)})),d=!l((function(){c((function(){}))}));i(i.S+i.F*(h||d),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!h)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(u.apply(t,i))}var l=n.prototype,p=r(a(l)?l:Object.prototype),f=Function.apply.call(t,p,e);return a(f)?f:p}})},{16:16,3:3,33:33,35:35,40:40,51:51,7:7,71:71}],212:[function(t,e,n){var i=t(72),r=t(33),o=t(7),s=t(120);r(r.S+r.F*t(35)((function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},{120:120,33:33,35:35,7:7,72:72}],213:[function(t,e,n){var i=t(33),r=t(75).f,o=t(7);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},{33:33,7:7,75:75}],214:[function(t,e,n){"use strict";var i=t(33),r=t(7),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};t(54)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},{33:33,54:54,7:7}],215:[function(t,e,n){var i=t(75),r=t(33),o=t(7);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},{33:33,7:7,75:75}],216:[function(t,e,n){var i=t(33),r=t(79),o=t(7);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},{33:33,7:7,79:79}],217:[function(t,e,n){var i=t(75),r=t(79),o=t(41),s=t(33),a=t(51),l=t(7);s(s.S,"Reflect",{get:function t(e,n){var s,u,c=arguments.length<3?e:arguments[2];return l(e)===c?e[n]:(s=i.f(e,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(c):void 0:a(u=r(e))?t(u,n,c):void 0}})},{33:33,41:41,51:51,7:7,75:75,79:79}],218:[function(t,e,n){var i=t(33);i(i.S,"Reflect",{has:function(t,e){return e in t}})},{33:33}],219:[function(t,e,n){var i=t(33),r=t(7),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},{33:33,7:7}],220:[function(t,e,n){var i=t(33);i(i.S,"Reflect",{ownKeys:t(85)})},{33:33,85:85}],221:[function(t,e,n){var i=t(33),r=t(7),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},{33:33,7:7}],222:[function(t,e,n){var i=t(33),r=t(99);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},{33:33,99:99}],223:[function(t,e,n){var i=t(72),r=t(75),o=t(79),s=t(41),a=t(33),l=t(92),u=t(7),c=t(51);a(a.S,"Reflect",{set:function t(e,n,a){var h,d,p=arguments.length<4?e:arguments[3],f=r.f(u(e),n);if(!f){if(c(d=o(e)))return t(d,n,a,p);f=l(0)}return s(f,"value")?!(!1===f.writable||!c(p)||(h=r.f(p,n)||l(0),h.value=a,i.f(p,n,h),0)):void 0!==f.set&&(f.set.call(p,a),!0)}})},{33:33,41:41,51:51,7:7,72:72,75:75,79:79,92:92}],224:[function(t,e,n){var i=t(40),r=t(45),o=t(72).f,s=t(77).f,a=t(52),l=t(37),u=i.RegExp,c=u,h=u.prototype,d=/a/g,p=/a/g,f=new u(d)!==d;if(t(29)&&(!f||t(35)((function(){return p[t(128)("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")})))){u=function(t,e){var n=this instanceof u,i=a(t),o=void 0===e;return!n&&i&&t.constructor===u&&o?t:r(f?new c(i&&!o?t.source:t,e):c((i=t instanceof u)?t.source:t,i&&o?l.call(t):e),n?this:h,u)};for(var v=s(c),g=0;v.length>g;)!function(t){t in u||o(u,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}(v[g++]);h.constructor=u,u.prototype=h,t(94)(i,"RegExp",u)}t(100)("RegExp")},{100:100,128:128,29:29,35:35,37:37,40:40,45:45,52:52,72:72,77:77,94:94}],225:[function(t,e,n){t(29)&&"g"!=/./g.flags&&t(72).f(RegExp.prototype,"flags",{configurable:!0,get:t(37)})},{29:29,37:37,72:72}],226:[function(t,e,n){t(36)("match",1,(function(t,e,n){return[function(n){"use strict";var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]}))},{36:36}],227:[function(t,e,n){t(36)("replace",2,(function(t,e,n){return[function(i,r){"use strict";var o=t(this),s=null==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},n]}))},{36:36}],228:[function(t,e,n){t(36)("search",1,(function(t,e,n){return[function(n){"use strict";var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]}))},{36:36}],229:[function(t,e,n){t(36)("split",2,(function(e,n,i){"use strict";var r=t(52),o=i,s=[].push,a="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[a]||2!="ab".split(/(?:ab)*/)[a]||4!=".".split(/(.?)(.?)/)[a]||".".split(/()()/)[a]>1||"".split(/.?/)[a]){var l=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(n,t,e);var i,u,c,h,d,p=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,g=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,f+"g");for(l||(i=new RegExp("^"+m.source+"$(?!\\s)",f));(u=m.exec(n))&&!((c=u.index+u[0][a])>v&&(p.push(n.slice(v,u.index)),!l&&u[a]>1&&u[0].replace(i,(function(){for(d=1;d<arguments[a]-2;d++)void 0===arguments[d]&&(u[d]=void 0)})),u[a]>1&&u.index<n[a]&&s.apply(p,u.slice(1)),h=u[0][a],v=c,p[a]>=g));)m.lastIndex===u.index&&m.lastIndex++;return v===n[a]?!h&&m.test("")||p.push(""):p.push(n.slice(v)),p[a]>g?p.slice(0,g):p}}else"0".split(void 0,0)[a]&&(i=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(t,r){var o=e(this),s=null==t?void 0:t[n];return void 0!==s?s.call(t,o,r):i.call(String(o),t,r)},i]}))},{36:36,52:52}],230:[function(t,e,n){"use strict";t(225);var i=t(7),r=t(37),o=t(29),s=/./.toString,a=function(e){t(94)(RegExp.prototype,"toString",e,!0)};t(35)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?a((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):"toString"!=s.name&&a((function(){return s.call(this)}))},{225:225,29:29,35:35,37:37,7:7,94:94}],231:[function(t,e,n){"use strict";var i=t(19),r=t(125);e.exports=t(22)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},{125:125,19:19,22:22}],232:[function(t,e,n){"use strict";t(108)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},{108:108}],233:[function(t,e,n){"use strict";t(108)("big",(function(t){return function(){return t(this,"big","","")}}))},{108:108}],234:[function(t,e,n){"use strict";t(108)("blink",(function(t){return function(){return t(this,"blink","","")}}))},{108:108}],235:[function(t,e,n){"use strict";t(108)("bold",(function(t){return function(){return t(this,"b","","")}}))},{108:108}],236:[function(t,e,n){"use strict";var i=t(33),r=t(106)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},{106:106,33:33}],237:[function(t,e,n){"use strict";var i=t(33),r=t(118),o=t(107),s="".endsWith;i(i.P+i.F*t(34)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),a=void 0===n?i:Math.min(r(n),i),l=String(t);return s?s.call(e,l,a):e.slice(a-l.length,a)===l}})},{107:107,118:118,33:33,34:34}],238:[function(t,e,n){"use strict";t(108)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},{108:108}],239:[function(t,e,n){"use strict";t(108)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},{108:108}],240:[function(t,e,n){"use strict";t(108)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},{108:108}],241:[function(t,e,n){var i=t(33),r=t(114),o=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,s=0;i>s;){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},{114:114,33:33}],242:[function(t,e,n){"use strict";var i=t(33),r=t(107);i(i.P+i.F*t(34)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{107:107,33:33,34:34}],243:[function(t,e,n){"use strict";t(108)("italics",(function(t){return function(){return t(this,"i","","")}}))},{108:108}],244:[function(t,e,n){"use strict";var i=t(106)(!0);t(55)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},{106:106,55:55}],245:[function(t,e,n){"use strict";t(108)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},{108:108}],246:[function(t,e,n){var i=t(33),r=t(117),o=t(118);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<i&&s.push(String(arguments[a]));return s.join("")}})},{117:117,118:118,33:33}],247:[function(t,e,n){var i=t(33);i(i.P,"String",{repeat:t(110)})},{110:110,33:33}],248:[function(t,e,n){"use strict";t(108)("small",(function(t){return function(){return t(this,"small","","")}}))},{108:108}],249:[function(t,e,n){"use strict";var i=t(33),r=t(118),o=t(107),s="".startsWith;i(i.P+i.F*t(34)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return s?s.call(e,i,n):e.slice(n,n+i.length)===i}})},{107:107,118:118,33:33,34:34}],250:[function(t,e,n){"use strict";t(108)("strike",(function(t){return function(){return t(this,"strike","","")}}))},{108:108}],251:[function(t,e,n){"use strict";t(108)("sub",(function(t){return function(){return t(this,"sub","","")}}))},{108:108}],252:[function(t,e,n){"use strict";t(108)("sup",(function(t){return function(){return t(this,"sup","","")}}))},{108:108}],253:[function(t,e,n){"use strict";t(111)("trim",(function(t){return function(){return t(this,3)}}))},{111:111}],254:[function(t,e,n){"use strict";var i=t(40),r=t(41),o=t(29),s=t(33),a=t(94),l=t(66).KEY,u=t(35),c=t(103),h=t(101),d=t(124),p=t(128),f=t(127),v=t(126),g=t(59),m=t(32),y=t(49),b=t(7),w=t(117),A=t(120),S=t(92),E=t(71),x=t(76),T=t(75),_=t(72),C=t(81),k=T.f,M=_.f,O=x.f,P=i.Symbol,L=i.JSON,I=L&&L.stringify,R=p("_hidden"),D=p("toPrimitive"),N={}.propertyIsEnumerable,H=c("symbol-registry"),V=c("symbols"),F=c("op-symbols"),B=Object.prototype,j="function"==typeof P,U=i.QObject,W=!U||!U.prototype||!U.prototype.findChild,z=o&&u((function(){return 7!=E(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=k(B,e);i&&delete B[e],M(t,e,n),i&&t!==B&&M(B,e,i)}:M,G=function(t){var e=V[t]=E(P.prototype);return e._k=t,e},q=j&&"symbol"==typeof P.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof P},Y=function(t,e,n){return t===B&&Y(F,e,n),b(t),e=A(e,!0),b(n),r(V,e)?(n.enumerable?(r(t,R)&&t[R][e]&&(t[R][e]=!1),n=E(n,{enumerable:S(0,!1)})):(r(t,R)||M(t,R,S(1,{})),t[R][e]=!0),z(t,e,n)):M(t,e,n)},X=function(t,e){b(t);for(var n,i=m(e=w(e)),r=0,o=i.length;o>r;)Y(t,n=i[r++],e[n]);return t},K=function(t){var e=N.call(this,t=A(t,!0));return!(this===B&&r(V,t)&&!r(F,t))&&(!(e||!r(this,t)||!r(V,t)||r(this,R)&&this[R][t])||e)},J=function(t,e){if(t=w(t),e=A(e,!0),t!==B||!r(V,e)||r(F,e)){var n=k(t,e);return!n||!r(V,e)||r(t,R)&&t[R][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=O(w(t)),i=[],o=0;n.length>o;)r(V,e=n[o++])||e==R||e==l||i.push(e);return i},$=function(t){for(var e,n=t===B,i=O(n?F:w(t)),o=[],s=0;i.length>s;)!r(V,e=i[s++])||n&&!r(B,e)||o.push(V[e]);return o};j||(a((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(F,n),r(this,R)&&r(this[R],t)&&(this[R][t]=!1),z(this,t,S(1,n))};return o&&W&&z(B,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",(function(){return this._k})),T.f=J,_.f=Y,t(77).f=x.f=Z,t(82).f=K,t(78).f=$,o&&!t(60)&&a(B,"propertyIsEnumerable",K,!0),f.f=function(t){return G(p(t))}),s(s.G+s.W+s.F*!j,{Symbol:P});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var et=C(p.store),nt=0;et.length>nt;)v(et[nt++]);s(s.S+s.F*!j,"Symbol",{for:function(t){return r(H,t+="")?H[t]:H[t]=P(t)},keyFor:function(t){if(q(t))return g(H,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){W=!0},useSimple:function(){W=!1}}),s(s.S+s.F*!j,"Object",{create:function(t,e){return void 0===e?E(t):X(E(t),e)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:$}),L&&s(s.S+s.F*(!j||u((function(){var t=P();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))}))),"JSON",{stringify:function(t){if(void 0!==t&&!q(t)){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);return"function"==typeof(e=i[1])&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!q(e))return e}),i[1]=e,I.apply(L,i)}}}),P.prototype[D]||t(42)(P.prototype,D,P.prototype.valueOf),h(P,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},{101:101,103:103,117:117,120:120,124:124,126:126,127:127,128:128,29:29,32:32,33:33,35:35,40:40,41:41,42:42,49:49,59:59,60:60,66:66,7:7,71:71,72:72,75:75,76:76,77:77,78:78,81:81,82:82,92:92,94:94}],255:[function(t,e,n){"use strict";var i=t(33),r=t(123),o=t(122),s=t(7),a=t(114),l=t(118),u=t(51),c=t(40).ArrayBuffer,h=t(104),d=o.ArrayBuffer,p=o.DataView,f=r.ABV&&c.isView,v=d.prototype.slice,g=r.VIEW;i(i.G+i.W+i.F*(c!==d),{ArrayBuffer:d}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return f&&f(t)||u(t)&&g in t}}),i(i.P+i.U+i.F*t(35)((function(){return!new d(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(s(this),t);for(var n=s(this).byteLength,i=a(t,n),r=a(void 0===e?n:e,n),o=new(h(this,d))(l(r-i)),u=new p(this),c=new p(o),f=0;i<r;)c.setUint8(f++,u.getUint8(i++));return o}}),t(100)("ArrayBuffer")},{100:100,104:104,114:114,118:118,122:122,123:123,33:33,35:35,40:40,51:51,7:7}],256:[function(t,e,n){var i=t(33);i(i.G+i.W+i.F*!t(123).ABV,{DataView:t(122).DataView})},{122:122,123:123,33:33}],257:[function(t,e,n){t(121)("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],258:[function(t,e,n){t(121)("Float64",8,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],259:[function(t,e,n){t(121)("Int16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],260:[function(t,e,n){t(121)("Int32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],261:[function(t,e,n){t(121)("Int8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],262:[function(t,e,n){t(121)("Uint16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],263:[function(t,e,n){t(121)("Uint32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],264:[function(t,e,n){t(121)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],265:[function(t,e,n){t(121)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}),!0)},{121:121}],266:[function(t,e,n){"use strict";var i,r=t(12)(0),o=t(94),s=t(66),a=t(70),l=t(21),u=t(51),c=t(35),h=t(125),d=s.getWeak,p=Object.isExtensible,f=l.ufstore,v={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(u(t)){var e=d(t);return!0===e?f(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(h(this,"WeakMap"),t,e)}},y=e.exports=t(22)("WeakMap",g,m,l,!0,!0);c((function(){return 7!=(new y).set((Object.freeze||Object)(v),7).get(v)}))&&(a((i=l.getConstructor(g,"WeakMap")).prototype,m),s.NEED=!0,r(["delete","has","get","set"],(function(t){var e=y.prototype,n=e[t];o(e,t,(function(e,r){if(u(e)&&!p(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)}))})))},{12:12,125:125,21:21,22:22,35:35,51:51,66:66,70:70,94:94}],267:[function(t,e,n){"use strict";var i=t(21),r=t(125);t(22)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},{125:125,21:21,22:22}],268:[function(t,e,n){"use strict";var i=t(33),r=t(38),o=t(119),s=t(118),a=t(3),l=t(15);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return a(t),e=s(i.length),n=l(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),t(5)("flatMap")},{118:118,119:119,15:15,3:3,33:33,38:38,5:5}],269:[function(t,e,n){"use strict";var i=t(33),r=t(38),o=t(119),s=t(118),a=t(116),l=t(15);i(i.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=s(e.length),i=l(e,0);return r(i,e,e,n,0,void 0===t?1:a(t)),i}}),t(5)("flatten")},{116:116,118:118,119:119,15:15,33:33,38:38,5:5}],270:[function(t,e,n){"use strict";var i=t(33),r=t(11)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)("includes")},{11:11,33:33,5:5}],271:[function(t,e,n){var i=t(33),r=t(68)(),o=t(40).process,s="process"==t(18)(o);i(i.G,{asap:function(t){var e=s&&o.domain;r(e?e.bind(t):t)}})},{18:18,33:33,40:40,68:68}],272:[function(t,e,n){var i=t(33),r=t(18);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},{18:18,33:33}],273:[function(t,e,n){var i=t(33);i(i.G,{global:t(40)})},{33:33,40:40}],274:[function(t,e,n){t(97)("Map")},{97:97}],275:[function(t,e,n){t(98)("Map")},{98:98}],276:[function(t,e,n){var i=t(33);i(i.P+i.R,"Map",{toJSON:t(20)("Map")})},{20:20,33:33}],277:[function(t,e,n){var i=t(33);i(i.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},{33:33}],278:[function(t,e,n){var i=t(33);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},{33:33}],279:[function(t,e,n){var i=t(33),r=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*r}})},{33:33}],280:[function(t,e,n){var i=t(33),r=t(64),o=t(62);i(i.S,"Math",{fscale:function(t,e,n,i,s){return o(r(t,e,n,i,s))}})},{33:33,62:62,64:64}],281:[function(t,e,n){var i=t(33);i(i.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)+(i>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},{33:33}],282:[function(t,e,n){var i=t(33);i(i.S,"Math",{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,s=n>>16,a=i>>16,l=(s*o>>>0)+(r*o>>>16);return s*a+(l>>16)+((r*a>>>0)+(65535&l)>>16)}})},{33:33}],283:[function(t,e,n){var i=t(33);i(i.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)-(i>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},{33:33}],284:[function(t,e,n){var i=t(33);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},{33:33}],285:[function(t,e,n){var i=t(33),r=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*r}})},{33:33}],286:[function(t,e,n){var i=t(33);i(i.S,"Math",{scale:t(64)})},{33:33,64:64}],287:[function(t,e,n){var i=t(33);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},{33:33}],288:[function(t,e,n){var i=t(33);i(i.S,"Math",{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,s=n>>>16,a=i>>>16,l=(s*o>>>0)+(r*o>>>16);return s*a+(l>>>16)+((r*a>>>0)+(65535&l)>>>16)}})},{33:33}],289:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(3),s=t(72);t(29)&&i(i.P+t(74),"Object",{__defineGetter__:function(t,e){s.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],290:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(3),s=t(72);t(29)&&i(i.P+t(74),"Object",{__defineSetter__:function(t,e){s.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],291:[function(t,e,n){var i=t(33),r=t(84)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},{33:33,84:84}],292:[function(t,e,n){var i=t(33),r=t(85),o=t(117),s=t(75),a=t(24);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),l=s.f,u=r(i),c={},h=0;u.length>h;)void 0!==(n=l(i,e=u[h++]))&&a(c,e,n);return c}})},{117:117,24:24,33:33,75:75,85:85}],293:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(120),s=t(79),a=t(75).f;t(29)&&i(i.P+t(74),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.get}while(n=s(n))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],294:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(120),s=t(79),a=t(75).f;t(29)&&i(i.P+t(74),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.set}while(n=s(n))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],295:[function(t,e,n){var i=t(33),r=t(84)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},{33:33,84:84}],296:[function(t,e,n){"use strict";var i=t(33),r=t(40),o=t(23),s=t(68)(),a=t(128)("observable"),l=t(3),u=t(7),c=t(6),h=t(93),d=t(42),p=t(39),f=p.RETURN,v=function(t){return null==t?void 0:l(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},m=function(t){return void 0===t._o},y=function(t){m(t)||(t._o=void 0,g(t))},b=function(t,e){u(t),this._c=void 0,this._o=t,t=new w(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(e){return void t.error(e)}m(this)&&g(this)};b.prototype=h({},{unsubscribe:function(){y(this)}});var w=function(t){this._s=t};w.prototype=h({},{next:function(t){var e=this._s;if(!m(e)){var n=e._o;try{var i=v(n.next);if(i)return i.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(m(e))throw t;var n=e._o;e._o=void 0;try{var i=v(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!m(e)){var n=e._o;e._o=void 0;try{var i=v(n.complete);t=i?i.call(n,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var A=function(t){c(this,A,"Observable","_f")._f=l(t)};h(A.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)((function(n,i){l(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n})}))}}),h(A,{from:function(t){var e="function"==typeof this?this:A,n=v(u(t)[a]);if(n){var i=u(n.call(t));return i.constructor===e?i:new e((function(t){return i.subscribe(t)}))}return new e((function(e){var n=!1;return s((function(){if(!n){try{if(p(t,!1,(function(t){if(e.next(t),n)return f}))===f)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}})),function(){n=!0}}))},of:function(){for(var t=0,e=arguments.length,n=Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:A)((function(t){var e=!1;return s((function(){if(!e){for(var i=0;i<n.length;++i)if(t.next(n[i]),e)return;t.complete()}})),function(){e=!0}}))}}),d(A.prototype,a,(function(){return this})),i(i.G,{Observable:A}),t(100)("Observable")},{100:100,128:128,23:23,3:3,33:33,39:39,40:40,42:42,6:6,68:68,7:7,93:93}],297:[function(t,e,n){"use strict";var i=t(33),r=t(23),o=t(40),s=t(104),a=t(91);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},{104:104,23:23,33:33,40:40,91:91}],298:[function(t,e,n){"use strict";var i=t(33),r=t(69),o=t(90);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},{33:33,69:69,90:90}],299:[function(t,e,n){var i=t(67),r=t(7),o=i.key,s=i.set;i.exp({defineMetadata:function(t,e,n,i){s(t,e,r(n),o(i))}})},{67:67,7:7}],300:[function(t,e,n){var i=t(67),r=t(7),o=i.key,s=i.map,a=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),i=s(r(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var l=a.get(e);return l.delete(n),!!l.size||a.delete(e)}})},{67:67,7:7}],301:[function(t,e,n){var i=t(231),r=t(10),o=t(67),s=t(7),a=t(79),l=o.keys,u=o.key,c=function(t,e){var n=l(t,e),o=a(t);if(null===o)return n;var s=c(o,e);return s.length?n.length?r(new i(n.concat(s))):s:n};o.exp({getMetadataKeys:function(t){return c(s(t),arguments.length<2?void 0:u(arguments[1]))}})},{10:10,231:231,67:67,7:7,79:79}],302:[function(t,e,n){var i=t(67),r=t(7),o=t(79),s=i.has,a=i.get,l=i.key,u=function(t,e,n){if(s(t,e,n))return a(t,e,n);var i=o(e);return null!==i?u(t,i,n):void 0};i.exp({getMetadata:function(t,e){return u(t,r(e),arguments.length<3?void 0:l(arguments[2]))}})},{67:67,7:7,79:79}],303:[function(t,e,n){var i=t(67),r=t(7),o=i.keys,s=i.key;i.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:s(arguments[1]))}})},{67:67,7:7}],304:[function(t,e,n){var i=t(67),r=t(7),o=i.get,s=i.key;i.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},{67:67,7:7}],305:[function(t,e,n){var i=t(67),r=t(7),o=t(79),s=i.has,a=i.key,l=function(t,e,n){if(s(t,e,n))return!0;var i=o(e);return null!==i&&l(t,i,n)};i.exp({hasMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},{67:67,7:7,79:79}],306:[function(t,e,n){var i=t(67),r=t(7),o=i.has,s=i.key;i.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},{67:67,7:7}],307:[function(t,e,n){var i=t(67),r=t(7),o=t(3),s=i.key,a=i.set;i.exp({metadata:function(t,e){return function(n,i){a(t,e,(void 0!==i?r:o)(n),s(i))}}})},{3:3,67:67,7:7}],308:[function(t,e,n){t(97)("Set")},{97:97}],309:[function(t,e,n){t(98)("Set")},{98:98}],310:[function(t,e,n){var i=t(33);i(i.P+i.R,"Set",{toJSON:t(20)("Set")})},{20:20,33:33}],311:[function(t,e,n){"use strict";var i=t(33),r=t(106)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},{106:106,33:33}],312:[function(t,e,n){"use strict";var i=t(33),r=t(28),o=t(118),s=t(52),a=t(37),l=RegExp.prototype,u=function(t,e){this._r=t,this._s=e};t(54)(u,"RegExp String",(function(){var t=this._r.exec(this._s);return{value:t,done:null===t}})),i(i.P,"String",{matchAll:function(t){if(r(this),!s(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in l?String(t.flags):a.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=o(t.lastIndex),new u(i,e)}})},{118:118,28:28,33:33,37:37,52:52,54:54}],313:[function(t,e,n){"use strict";var i=t(33),r=t(109);i(i.P,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},{109:109,33:33}],314:[function(t,e,n){"use strict";var i=t(33),r=t(109);i(i.P,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},{109:109,33:33}],315:[function(t,e,n){"use strict";t(111)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},{111:111}],316:[function(t,e,n){"use strict";t(111)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},{111:111}],317:[function(t,e,n){t(126)("asyncIterator")},{126:126}],318:[function(t,e,n){t(126)("observable")},{126:126}],319:[function(t,e,n){var i=t(33);i(i.S,"System",{global:t(40)})},{33:33,40:40}],320:[function(t,e,n){t(97)("WeakMap")},{97:97}],321:[function(t,e,n){t(98)("WeakMap")},{98:98}],322:[function(t,e,n){t(97)("WeakSet")},{97:97}],323:[function(t,e,n){t(98)("WeakSet")},{98:98}],324:[function(t,e,n){for(var i=t(141),r=t(81),o=t(94),s=t(40),a=t(42),l=t(58),u=t(128),c=u("iterator"),h=u("toStringTag"),d=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),v=0;v<f.length;v++){var g,m=f[v],y=p[m],b=s[m],w=b&&b.prototype;if(w&&(w[c]||a(w,c,d),w[h]||a(w,h,m),l[m]=d,y))for(g in i)w[g]||o(w,g,i[g],!0)}},{128:128,141:141,40:40,42:42,58:58,81:81,94:94}],325:[function(t,e,n){var i=t(33),r=t(113);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},{113:113,33:33}],326:[function(t,e,n){var i=t(40),r=t(33),o=t(46),s=t(88),a=i.navigator,l=!!a&&/MSIE .\./.test(a.userAgent),u=function(t){return l?function(e,n){return t(o(s,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),n)}:t};r(r.G+r.B+r.F*l,{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},{33:33,40:40,46:46,88:88}],327:[function(t,e,n){t(254),t(191),t(193),t(192),t(195),t(197),t(202),t(196),t(194),t(204),t(203),t(199),t(200),t(198),t(190),t(201),t(205),t(206),t(157),t(159),t(158),t(208),t(207),t(178),t(188),t(189),t(179),t(180),t(181),t(182),t(183),t(184),t(185),t(186),t(187),t(161),t(162),t(163),t(164),t(165),t(166),t(167),t(168),t(169),t(170),t(171),t(172),t(173),t(174),t(175),t(176),t(177),t(241),t(246),t(253),t(244),t(236),t(237),t(242),t(247),t(249),t(232),t(233),t(234),t(235),t(238),t(239),t(240),t(243),t(245),t(248),t(250),t(251),t(252),t(152),t(154),t(153),t(156),t(155),t(140),t(138),t(145),t(142),t(148),t(150),t(137),t(144),t(134),t(149),t(132),t(147),t(146),t(139),t(143),t(131),t(133),t(136),t(135),t(151),t(141),t(224),t(230),t(225),t(226),t(227),t(228),t(229),t(209),t(160),t(231),t(266),t(267),t(255),t(256),t(261),t(264),t(265),t(259),t(262),t(260),t(263),t(257),t(258),t(210),t(211),t(212),t(213),t(214),t(217),t(215),t(216),t(218),t(219),t(220),t(221),t(223),t(222),t(270),t(268),t(269),t(311),t(314),t(313),t(315),t(316),t(312),t(317),t(318),t(292),t(295),t(291),t(289),t(290),t(293),t(294),t(276),t(310),t(275),t(309),t(321),t(323),t(274),t(308),t(320),t(322),t(273),t(319),t(272),t(277),t(278),t(279),t(280),t(281),t(283),t(282),t(284),t(285),t(286),t(288),t(287),t(297),t(298),t(299),t(300),t(302),t(301),t(304),t(303),t(305),t(306),t(307),t(271),t(296),t(326),t(325),t(324),e.exports=t(23)},{131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,23:23,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,292:292,293:293,294:294,295:295,296:296,297:297,298:298,299:299,300:300,301:301,302:302,303:303,304:304,305:305,306:306,307:307,308:308,309:309,310:310,311:311,312:312,313:313,314:314,315:315,316:316,317:317,318:318,319:319,320:320,321:321,322:322,323:323,324:324,325:325,326:326}],328:[function(t,e,i){(function(t){!function(t){"use strict";function n(t,e,n,o){var s=e&&e.prototype instanceof r?e:r,a=Object.create(s.prototype),l=new d(o||[]);return a._invoke=function(t,e,n){var r=x;return function(o,s){if(r===_)throw new Error("Generator is already running");if(r===C){if("throw"===o)throw s;return f()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var l=u(a,n);if(l){if(l===k)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===x)throw r=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=_;var c=i(t,e,n);if("normal"===c.type){if(r=n.done?C:T,c.arg===k)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=C,n.method="throw",n.arg=c.arg)}}}(t,n,l),a}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function s(){}function a(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function l(e){function n(t,r,o,s){var a=i(e[t],e,r);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==typeof u&&m.call(u,"__await")?Promise.resolve(u.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):Promise.resolve(u).then((function(t){l.value=t,o(l)}),s)}s(a.arg)}var r;"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(t,e){function i(){return new Promise((function(i,r){n(t,e,i,r)}))}return r=r?r.then(i,i):i()}}function u(t,e){var n=t.iterator[e.method];if(n===v){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=v,u(t,e),"throw"===e.method))return k;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var r=i(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,k;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,k):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,k)}function c(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(c,this),this.reset(!0)}function p(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(m.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=v,e.done=!0,e};return i.next=i}}return{next:f}}function f(){return{value:v,done:!0}}var v,g=Object.prototype,m=g.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},b=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",A=y.toStringTag||"@@toStringTag",S="object"==typeof e,E=t.regeneratorRuntime;if(E)S&&(e.exports=E);else{(E=t.regeneratorRuntime=S?e.exports:{}).wrap=n;var x="suspendedStart",T="suspendedYield",_="executing",C="completed",k={},M={};M[b]=function(){return this};var O=Object.getPrototypeOf,P=O&&O(O(p([])));P&&P!==g&&m.call(P,b)&&(M=P);var L=s.prototype=r.prototype=Object.create(M);o.prototype=L.constructor=s,s.constructor=o,s[A]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,A in t||(t[A]="GeneratorFunction")),t.prototype=Object.create(L),t},E.awrap=function(t){return{__await:t}},a(l.prototype),l.prototype[w]=function(){return this},E.AsyncIterator=l,E.async=function(t,e,i,r){var o=new l(n(t,e,i,r));return E.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},a(L),L[A]="Generator",L[b]=function(){return this},L.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},E.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,i){return o.type="throw",o.arg=t,n.next=e,i&&(n.method="next",n.arg=v),!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var s=m.call(r,"catchLoc"),a=m.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&m.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,k):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),k},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),k}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;h(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=v),k}}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])},5470:function(t,e,n){var i;i=function(){var t=!0;function e(e){function n(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function i(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var r,s=n(/(ipod|iphone|ipad)/i).toLowerCase(),a=!/like android/i.test(e)&&/android/i.test(e),l=/nexus\s*[0-6]\s*/i.test(e),u=!l&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),h=/silk/i.test(e),d=/sailfish/i.test(e),p=/tizen/i.test(e),f=/(web|hpw)(o|0)s/i.test(e),v=/windows phone/i.test(e),g=(/SamsungBrowser/i.test(e),!v&&/windows/i.test(e)),m=!s&&!h&&/macintosh/i.test(e),y=!a&&!d&&!p&&!f&&/linux/i.test(e),b=i(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),w=n(/version\/(\d+(\.\d+)?)/i),A=/tablet/i.test(e)&&!/tablet pc/i.test(e),S=!A&&/[^-]mobi/i.test(e),E=/xbox/i.test(e);/opera/i.test(e)?r={name:"Opera",opera:t,version:w||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?r={name:"Opera",opera:t,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||w}:/SamsungBrowser/i.test(e)?r={name:"Samsung Internet for Android",samsungBrowser:t,version:w||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(e)?r={name:"NAVER Whale browser",whale:t,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(e)?r={name:"MZ Browser",mzbrowser:t,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(e)?r={name:"Opera Coast",coast:t,version:w||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(e)?r={name:"Focus",focus:t,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:t,version:w||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?r={name:"UC Browser",ucbrowser:t,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?r={name:"Maxthon",maxthon:t,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?r={name:"Epiphany",epiphany:t,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?r={name:"Puffin",puffin:t,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?r={name:"Sleipnir",sleipnir:t,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?r={name:"K-Meleon",kMeleon:t,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:v?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},b?(r.msedge=t,r.version=b):(r.msie=t,r.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:t,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?r={name:"Microsoft Edge",msedge:t,version:b}:/vivaldi/i.test(e)?r={name:"Vivaldi",vivaldi:t,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||w}:d?r={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:t,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(r={name:"Firefox",firefox:t,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=t,r.osname="Firefox OS")):h?r={name:"Amazon Silk",silk:t,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:t,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?r={name:"SlimerJS",slimer:t,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:w||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:f?(r={name:"WebOS",osname:"WebOS",webos:t,version:w||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=t)):/bada/i.test(e)?r={name:"Bada",osname:"Bada",bada:t,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:p?r={name:"Tizen",osname:"Tizen",tizen:t,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||w}:/qupzilla/i.test(e)?r={name:"QupZilla",qupzilla:t,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||w}:/chromium/i.test(e)?r={name:"Chromium",chromium:t,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||w}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?r={name:"Android",version:w}:/safari|applewebkit/i.test(e)?(r={name:"Safari",safari:t},w&&(r.version=w)):s?(r={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},w&&(r.version=w)):r=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:n(/googlebot\/(\d+(\.\d+))/i)||w}:{name:n(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(r.name=r.name||"Blink",r.blink=t):(r.name=r.name||"Webkit",r.webkit=t),!r.version&&w&&(r.version=w)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=t,r.version=r.version||n(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!a&&!r.silk?!r.windowsphone&&s?(r[s]=t,r.ios=t,r.osname="iOS"):m?(r.mac=t,r.osname="macOS"):E?(r.xbox=t,r.osname="Xbox"):g?(r.windows=t,r.osname="Windows"):y&&(r.linux=t,r.osname="Linux"):(r.android=t,r.osname="Android");var x="";r.windows?x=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?x=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?x=(x=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):s?x=(x=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):a?x=n(/android[ \/-](\d+(\.\d+)*)/i):r.webos?x=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?x=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?x=n(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(x=n(/tizen[\/\s](\d+(\.\d+)*)/i)),x&&(r.osversion=x);var T=!r.windows&&x.split(".")[0];return A||u||"ipad"==s||a&&(3==T||T>=4&&!S)||r.silk?r.tablet=t:(S||"iphone"==s||"ipod"==s||a||l||r.blackberry||r.webos||r.bada)&&(r.mobile=t),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.whale&&1===o([r.version,"1.0"])||r.mzbrowser&&1===o([r.version,"6.0"])||r.focus&&1===o([r.version,"1.0"])||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=t:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=t:r.x=t,r}var n=e("undefined"!=typeof navigator&&navigator.userAgent||"");function i(t){return t.split(".").length}function r(t,e){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)i.push(e(t[n]));return i}function o(t){for(var e=Math.max(i(t[0]),i(t[1])),n=r(t,(function(t){var n=e-i(t);return r((t+=new Array(n+1).join(".0")).split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));--e>=0;){if(n[0][e]>n[1][e])return 1;if(n[0][e]!==n[1][e])return-1;if(0===e)return 0}}function s(t,i,r){var s=n;"string"==typeof i&&(r=i,i=void 0),void 0===i&&(i=!1),r&&(s=e(r));var a=""+s.version;for(var l in t)if(t.hasOwnProperty(l)&&s[l]){if("string"!=typeof t[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(t));return o([a,t[l]])<0}return i}return n.test=function(t){for(var e=0;e<t.length;++e){var i=t[e];if("string"==typeof i&&i in n)return!0}return!1},n.isUnsupportedBrowser=s,n.compareVersions=o,n.check=function(t,e,n){return!s(t,e,n)},n._detect=e,n.detect=e,n},t.exports?t.exports=i():n.amdD("bowser",i)},1458:function(t,e,n){!function(t,i){var r=n(6138);i(t,e,r)}(this,(function(t,e,n,i){var r=t.Backbone,o=[],s=o.slice;e.VERSION="1.1.2",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={on:function(t,e,n){return u(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,i){if(!u(this,"once",t,[e,i])||!e)return this;var r=this,o=n.once((function(){r.off(t,o),e.apply(this,arguments)}));return o._callback=e,this.on(t,o,i)},off:function(t,e,i){var r,o,s,a,l,c,h,d;if(!this._events||!u(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events=void 0,this;for(l=0,c=(a=t?[t]:n.keys(this._events)).length;l<c;l++)if(t=a[l],s=this._events[t]){if(this._events[t]=r=[],e||i)for(h=0,d=s.length;h<d;h++)o=s[h],(e&&e!==o.callback&&e!==o.callback._callback||i&&i!==o.context)&&r.push(o);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!u(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&c(n,e),i&&c(i,arguments),this},stopListening:function(t,e,i){var r=this._listeningTo;if(!r)return this;var o=!e&&!i;for(var s in i||"object"!=typeof e||(i=this),t&&((r={})[t._listenId]=t),r)(t=r[s]).off(e,i,this),(o||n.isEmpty(t._events))&&delete this._listeningTo[s];return this}},l=/\s+/,u=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var o=n.split(l),s=0,a=o.length;s<a;s++)t[e].apply(t,[o[s]].concat(i));return!1}return!0},c=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};n.each({listenTo:"on",listenToOnce:"once"},(function(t,e){a[e]=function(e,i,r){return(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=n.uniqueId("l"))]=e,r||"object"!=typeof i||(r=this),e[t](i,r,this),this}})),a.bind=a.on,a.unbind=a.off,n.extend(e,a);var h=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(h.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var r,o,s,a,l,u,c,h;if(null==t)return this;if("object"==typeof t?(o=t,i=e):(o={})[t]=e,i||(i={}),!this._validate(o,i))return!1;for(r in s=i.unset,l=i.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]),o)e=o[r],n.isEqual(h[r],e)||a.push(r),n.isEqual(c[r],e)?delete this.changed[r]:this.changed[r]=e,s?delete h[r]:h[r]=e;if(!l){a.length&&(this._pending=i);for(var d=0,p=a.length;d<p;d++)this.trigger("change:"+a[d],this,h[a[d]],i)}if(u)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(r[o],e=t[o])||((i||(i={}))[o]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){void 0===(t=t?n.clone(t):{}).parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){if(!e.set(e.parse(n,t),t))return!1;i&&i(e,n,t),e.trigger("sync",e,n,t)},L(this,t),this.sync("read",this,t)},save:function(t,e,i){var r,o,s,a=this.attributes;if(null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},a,r)),void 0===i.parse&&(i.parse=!0);var l=this,u=i.success;return i.success=function(t){l.attributes=a;var e=l.parse(t,i);if(i.wait&&(e=n.extend(r||{},e)),n.isObject(e)&&!l.set(e,i))return!1;u&&u(l,t,i),l.trigger("sync",l,t,i)},L(this,i),"patch"===(o=this.isNew()?"create":i.patch?"patch":"update")&&(i.attrs=r),s=this.sync(o,this,i),r&&i.wait&&(this.attributes=a),s},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&r(),i&&i(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;L(this,t);var o=this.sync("delete",this,t);return t.wait||r(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||P();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}});n.each(["keys","values","pairs","invert","pick","omit"],(function(t){h.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}}));var d=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},p={add:!0,remove:!0,merge:!0},f={add:!0,remove:!1};n.extend(d.prototype,a,{model:h,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,f))},remove:function(t,e){var i,r,o,s,a=!n.isArray(t);for(e||(e={}),i=0,r=(t=a?[t]:n.clone(t)).length;i<r;i++)(s=t[i]=this.get(t[i]))&&(delete this._byId[s.id],delete this._byId[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,e.silent||(e.index=o,s.trigger("remove",s,this,e)),this._removeReference(s,e));return a?t[0]:t},set:function(t,e){(e=n.defaults({},e,p)).parse&&(t=this.parse(t,e));var i,r,o,s,a,l,u,c=!n.isArray(t);t=c?t?[t]:[]:n.clone(t);var d=e.at,f=this.model,v=this.comparator&&null==d&&!1!==e.sort,g=n.isString(this.comparator)?this.comparator:null,m=[],y=[],b={},w=e.add,A=e.merge,S=e.remove,E=!(v||!w||!S)&&[];for(i=0,r=t.length;i<r;i++){if(o=(a=t[i]||{})instanceof h?s=a:a[f.prototype.idAttribute||"id"],l=this.get(o))S&&(b[l.cid]=!0),A&&(a=a===s?s.attributes:a,e.parse&&(a=l.parse(a,e)),l.set(a,e),v&&!u&&l.hasChanged(g)&&(u=!0)),t[i]=l;else if(w){if(!(s=t[i]=this._prepareModel(a,e)))continue;m.push(s),this._addReference(s,e)}s=l||s,!E||!s.isNew()&&b[s.id]||E.push(s),b[s.id]=!0}if(S){for(i=0,r=this.length;i<r;++i)b[(s=this.models[i]).cid]||y.push(s);y.length&&this.remove(y,e)}if(m.length||E&&E.length)if(v&&(u=!0),this.length+=m.length,null!=d)for(i=0,r=m.length;i<r;i++)this.models.splice(d+i,0,m[i]);else{E&&(this.models.length=0);var x=E||m;for(i=0,r=x.length;i<r;i++)this.models.push(x[i])}if(u&&this.sort({silent:!0}),!e.silent){for(i=0,r=m.length;i<r;i++)(s=m[i]).trigger("add",s,this,e);(u||E&&E.length)&&this.trigger("sort",this,e)}return c?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,r=this.models.length;i<r;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"]((function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0}))},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){void 0===(t=t?n.clone(t):{}).parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},L(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,r=e.success;return e.success=function(t,n){e.wait&&i.add(t,e),r&&r(t,n,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof h)return t;(e=e?n.clone(e):{}).collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_addReference:function(t,e){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});n.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],(function(t){d.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}}));n.each(["groupBy","countBy","sortBy","indexBy"],(function(t){d.prototype[t]=function(e,i){var r=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,r,i)}}));var v=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,m)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},g=/^(\S+)\s*(.*)$/,m=["model","collection","el","id","attributes","className","tagName","events"];n.extend(v.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],!1!==n&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(n.isFunction(i)||(i=this[t[e]]),i){var r=e.match(g),o=r[1],s=r[2];i=n.bind(i,this),o+=".delegateEvents"+this.cid,""===s?this.$el.on(o,i):this.$el.on(o,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className"));var i=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(i,!1)}}}),e.sync=function(t,i,r){var o=b[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||P()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1),"PATCH"===s.type&&y&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=e.ajax(n.extend(s,r));return i.trigger("request",i,l,r),l};var y=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),b={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var w=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,E=/\*\w+/g,x=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(w.prototype,a,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,(function(n){var s=o._extractParameters(t,n);o.execute(r,s),o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),e.history.trigger("route",o,i,s)})),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(x,"\\$&").replace(A,"(?:$1)?").replace(S,(function(t,e){return e?t:"([^/?]+)"})).replace(E,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,(function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null}))}});var T=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,C=/^\/+|\/+$/g,k=/msie [\w.]+/,M=/\/$/,O=/#.*$/;T.started=!1,n.extend(T.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(M,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(_,"")},start:function(t){if(T.started)throw new Error("Backbone.history has already been started");T.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,o=k.exec(navigator.userAgent.toLowerCase())&&(!r||r<=7);if(this.root=("/"+this.root+"/").replace(C,"/"),o&&this._wantsHashChange){var s=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),T.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!T.started)return!1;e&&!0!==e||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(O,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new T;h.extend=d.extend=w.extend=v.extend=T.extend=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};var P=function(){throw new Error('A "url" property or function must be specified')},L=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}};return e}))},4428:function(t){"use strict";t.exports=THREE}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var __webpack_exports__=__webpack_require__(3847)})();