/*! ds-bootstrap - v1.0.0.28355 - 2022-07-26 10:19pm UTC
* Copyright (c) 2022 ; Not Licensed */(function(){var __webpack_modules__={3847:function(t,e,n){"use strict";var i,r;i=[n(8087)],void 0===(r=function(){Promise.resolve().then((function(){var t=[n(6486),n(6407),n(5273),n(5812),n(6295)];(function(t,e,i){Promise.resolve().then((function(){var e=[n(7510),n(9739),n(857),n(292),n(9229),n(1421),n(5611),n(4698),n(8766),n(7812),n(7594),n(4839),n(9343),n(8579),n(1251),n(8939),n(8880),n(5626),n(1419),n(2581),n(3034),n(3716),n(8901),n(9835),n(3400),n(9032),n(1070),n(3797),n(9904),n(6882),n(3005),n(4481),n(1291),n(8935),n(2972),n(9447),n(1681),n(7097),n(2075),n(5641),n(2499),n(1294),n(82),n(6194),n(4811),n(118),n(7235),n(7300),n(520),n(3586),n(5173),n(262),n(6978),n(5337),n(6334),n(6159),n(9005),n(4427),n(8945),n(4403),n(5485),n(6936),n(5470),n(3707),n(8467),n(8351)];(function(e,n,r,o,s,a,l,u,c,h,d,p,f,v,g,m,y,b,w,A,E,S,T,x,C,_,k,M,O,L,P,I,R,D,N,H,V,F,B,j,U,z,W,G,q,Y,X,K,J,Z,$,Q,tt,et,nt,it,rt,ot,st,at,lt){if(!window.globals.unsupportedBrowser){var ut=v.deviceView.isMobile?"MOBILE":"DESKTOP",ct=h.frameLocations[ut],ht=h.cssLocations[ut],dt=void 0;if(window.globals.useJson&&i.loadFromJson(),!window.globals.AUTHORING_HOST_MODE){dt=function(){return DS.loadScript(h.slideLocation)},(v.deviceView.isMobile||v.theme.isUnified)&&(window.globals.scale="noscale"),window.globals.HAS_SLIDE&&window.globals.HAS_FRAME||O.initialize(window.globals.HAS_SLIDE);var pt=document.createElement("link");pt.type="text/css",pt.href=ht,pt.rel="stylesheet",pt.dataset.noprefix=!0,document.head.appendChild(pt)}if(window.DS=window.DS||{},Object.assign(window.DS,{_:t,globalEventHelper:e,analyticsHelper:n,animationClock:r,AnimationTimeline:o,appState:s,audioContext:a,automation:l,BaseModel:u,captionsManager:c,constants:h,cssPrefix:d,debug:p,debugWindow:f,detection:v,dom:g,errorManager:m,events:y,fileProtocolOverrides:b,flagManager:w,focusManager:A,fontManager:E,keyManager:S,MicroScrollBar:T,mobileChromeKiller:x,pinchZoomController:C,pubSub:_,playerGlobals:k,previewHelper:M,rangeSliders:L,requestAnimationFrame:P,scaler:I,shortcutManager:R,slideNumberManager:D,slideObjectUtils:N,slidesController:H,stringTabler:V,svgUtils:F,tabFocusBox:B,TimelineLite:j,ThreeSixtyImage:U,TransMatrix:z,TweenLite:TweenLite,utils:W,vendorOverrides:G,vow:q,resolver:Y,webObjectHelper:X,windowOpen:K,windowManager:J,mixer:Z,PostMessaging:$,ancestral:Q,resolveable:tt,shortEventable:et,subscribable:nt,Chunk:it,courseStateHelper:rt,resumer:ot,lmsManager:st,superagent:at,Backbone:lt,clientHeight:document.body.clientHeight,clientWidth:document.body.clientWidth,loadScript:function(t,e){var n=document.createElement("script");n.src=t,n.onload=e,document.head.appendChild(n)}}),!window.globals.AUTHORING_HOST_MODE){var ft=function(){_.once(y.ds.PRESO_LOADED,(function(t){_.trigger(y.ds.PRESO_READY,DS.presentation,h.els.PRESO),Y.initialize(),H.initialize(DS.presentation),l.initialize(H,DS.presentation),S.initialize(),J.initialize(),K.initialize(DS.presentation),X.initialize(DS.presentation),n.initialize(DS.presentation),p.initialize(window.globals.HAS_SLIDE?DS.presentation:void 0,window.globals.HAS_FRAME?DS.frame:void 0),M.initialize(DS.frame,DS.presentation,t),_.trigger(y.app.COMPLETE)}))};_.once(y.ds.FRAME_DATA_LOADED,(function(t){DS.frame=t,ft(),window.globals.HAS_SLIDE?dt():(w.register("slides",W.getPath(window,"globals.features","").split(",")),DS.playerGlobals.presentation=DS.presentation,I.initialize(),_.trigger(y.ds.PRESO_LOADED),DS.frameModel.frame.controlOptions.controls.closed_captions&&_.trigger(y.captions.SHOW_BUTTON))})),window.globals.HAS_FRAME?DS.loadScript(ct):(ft(),dt(),document.querySelector("body > .slide-loader").style.display="none")}}}).apply(null,e)})).catch(n.oe)}).apply(null,t)})).catch(n.oe)}.apply(e,i))||(t.exports=r)},292:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(82),r=n(6295),o=n(5641),s=n(857),a=function(t,n){return e.findIndex(t,{id:n})},l=function(t){return t instanceof r||t instanceof o},u=function(t){this.playing=!1,this.currentTime=0,this.lastCallbackTime=-1,this.labels={},this.duration=0,this.callbacks=[],this.seekables=[],this.activeSeekables=[],null!=t&&(["onUpdate","onComplete"].forEach(function(e){this[e]=t[e]}.bind(this)),t.tweens&&t.tweens.forEach(function(t){var e=t.delay();l(t)&&(this.wrapGsap(t),e=i.toMilliseconds(e)),this.addSeekable(t,e,!0)}.bind(this)))};return e.extend(u.prototype,{add:function(t,n,i){if(e.isString(t))this.labels[t]=n;else{if(n=e.isString(n)?this.labels[n]:n||0,e.isFunction(t))return this.insertCallback(this.wrapCallback(t,n)),void this.updateDuration(n);l(t)&&this.wrapGsap(t),e.isFunction(t.stepAnimation)&&this.addSeekable(t,n,i)}},remove:function(t){var n,i,r,o;e.isString(t)?this.labels[t]=null:null!=t.timelineData&&(n=t.timelineData.seekableId,(i=a(this.callbacks,n))>=0&&(this.callbacks.splice(i,1),(r=a(this.seekables,n))>=0&&(this.seekables.splice(r,1),(o=a(this.activeSeekables,n))>=0&&(this.activeMutated=!0,this.activeSeekables.splice(o,1)))),t.timelineData=null,this.mutated=!0)},updateDuration:function(t){t>this.duration&&(this.duration=t,null!=this.timelineData&&this.timelineData.parent.childDurationChanged(this))},childDurationChanged:function(t){this.updateDuration(t.timelineData.startTime+t.totalTime())},wrapGsap:function(t){t.pause(),t.totalTime=function(){return i.toMilliseconds(t.duration())},t.stepAnimation=function(e,n){var r=i.toSeconds(e);t.seek(r,!0),t.render(r,!!n,!0)}},addSeekable:function(t,e,n){var r=t.totalTime(),o=i.clamp(0,r,this.currentTime-e),s=this.wrapSeekable(t,e);this.seekables.push(s),this.insertCallback(s),!n&&this.currentTime>=e&&((this.executingCallbacks||o<=r)&&s.timelineCallback(),this.executingCallbacks||t.stepAnimation(o)),this.updateDuration(e+t.totalTime())},wrapCallback:function(t,n){return{startTime:n,id:e.uniqueId("wc"),timelineCallback:t}},wrapSeekable:function(t,n){var i=e.uniqueId("ws"),r={startTime:n,id:i,seekable:t};return r.timelineCallback=function(){r.seekable.killed||this.activeSeekables.push(r)}.bind(this),t.timelineData={parent:this,seekableId:i,startTime:n},r},insertCallback:function(t){0===this.callbacks.length||t.startTime>=e.last(this.callbacks).startTime?this.callbacks.push(t):this.callbacks.splice(e.sortedLastIndexBy(this.callbacks,t,"startTime"),0,t)},hasParentTimeline:function(){return null!=this.timelineData},pause:function(){this.playing&&!this.hasParentTimeline()&&(this.playing=!1,this.currentTime=this.executingCallbacks?this.lastCallbackTime:s.time()-this.startTime)},play:function(){!this.playing&&!this.hasParentTimeline()&&this.currentTime<this.duration&&(this.playing=!0,this.startTime=s.time()-this.currentTime,s.requestAnimationFrame(this.tick.bind(this)))},seek:function(t,e){this.hasParentTimeline()||(t<=this.lastCallbackTime&&this.reset(),this.startTime=s.time()-t,this.currentTime=t,this.executingCallbacks&&!this.renderDirty||this.update(e))},reset:function(){this.killed||(this.renderDirty=!0,this.lastCallbackTime=-1,this.activeSeekables=[],this.seekables.forEach((function(t){null!=t.seekable.reset&&t.seekable.reset()})))},progress:function(t,e){return null==t?i.clamp(0,1,this.currentTime/(this.duration||1)):(this.seek(t*this.duration,e),this)},isActive:function(){return this.hasParentTimeline()?this.timelineData.parent.isActive():this.playing},time:function(){return i.clamp(0,this.duration,this.currentTime)},totalTime:function(t){if(null==t)return this.duration;this.duration=t},tick:function(){var t;this.killed||(t=this.currentTime,this.playing&&(this.currentTime=s.time()-this.startTime),this.playing&&(t<this.duration||this.activeSeekables.length>0)&&!this.hasParentTimeline()&&(this.update(),s.requestAnimationFrame(this.tick.bind(this))))},stepAnimation:function(t,e){this.currentTime;this.currentTime=i.clamp(0,this.duration,t),this.update(e)},update:function(t){this.renderDirty=!1,!this.silent&&this.executeCallbacks()&&(this.updateActiveSeekables(t),this.onUpdate&&this.onUpdate(),this.currentTime>=this.duration&&(this.playing=!1,t||null==this.onComplete||this.onComplete()))},executeCallbacks:function(){this.executingCallbacks=!0;var t=e.sortedLastIndexBy(this.callbacks,{startTime:this.lastCallbackTime},"startTime");if(t>=this.callbacks.length)return this.executingCallbacks=!1,!0;for(var n=this.callbacks.slice(t),i=n.length,r=0,o=this.currentTime;!this.killed&&r<i&&n[r].startTime<=o;){if(this.lastCallbackTime=n[r].startTime,n[r].timelineCallback(),o>this.currentTime)return this.executingCallbacks=!1,!1;o=this.currentTime,r++}return this.executingCallbacks=!1,!0},updateActiveSeekables:function(t){var e,n,i,r=this.activeSeekables.length-1;for(this.activeMutated=!1;r>=0&&!this.killed;)(!this.activeMutated||r<this.activeSeekables.length)&&(e=(i=this.activeSeekables[r]).seekable,n=i.startTime,e.stepAnimation(this.currentTime-n,t),this.currentTime>=n+e.totalTime()&&(!this.activeMutated||i===this.activeSeekables[r])&&this.activeSeekables.splice(r,1)),r--},kill:function(){this.killed||(this.killed=!0,null!=this.timelineData&&this.timelineData.parent.remove(this),this.timelineData=null,this.onUpdate=null,this.onComplete=null,this.labels=null,this.callbacks=null,this.activeSeekables=null,this.seekables.forEach((function(t){null!=t.seekable.kill&&t.seekable.kill()})),this.seekables=null)}}),u}.call(e,n,e,t))||(t.exports=i)},4698:function(t,e,n){"use strict";var i;void 0===(i=function(t){n(3934);var e=n(5485),i=n(6486),r=n(8880),o=n(8939),s=n(6334),a=n(6978),l=n(262),u=n(5337),c=n(3586),h=n(82),d=o.throwError("BaseModel"),p=function(){},f=h.createSuper(e.Model),v=e.Model.extend({abilities:{resolveAsThis:!1,resolveAsParent:!1,beEventTarget:!1},mixins:[s,a,l,u],autoParse:!1,isModel:!0,constructor:function(t,n){i.bindAll(this,"createAbsoluteId");var o=this.initialize;this.initialize=p,this.autoParse&&((n=n||{}).parse=!0),e.Model.call(this,t,n),this.on(r.data.UPDATED,this.createAbsoluteId),this.createParentReference(n).buildAssociations().bindAssociations().createAbsoluteId(),c.initMixinsOf(this),this.initialize=o,this.initialize.apply(this,arguments),c.postInitMixinsOf(this)},index:function(){return this.collection||d("index","must have a `collection` defined"),this.collection.indexOf(this)},sibling:function(t){return this.collection||d("sibling","must have a `collection` defined"),t=t||0,this.collection.at(this.index()+t)},prevSibling:function(){return this.sibling(-1)},nextSibling:function(){return this.sibling(1)},toJSON:function(t){return h.isTrue(t)?h.cloneDeeply(this):f("toJSON").call(this)},buildAssociations:function(t){for(var e in this.associations)this.associations.hasOwnProperty(e)&&this.buildAssociation(e);return this},buildAssociation:function(t,e){var n=e||this.get(t),i={parent:this},r=this.associations[t];return n instanceof r||(this.attributes[t]=h.buildDataStructure(r,i,n)),this},bindAssociation:function(t){return this.on("change:"+t,(function(e,n,o){var s=this.previous(t);i.isFunction(s.set)?(s.set(n,{parent:this}),s.trigger(r.data.UPDATED),s.isCollection&&s.invoke("trigger",r.data.UPDATED),this.set(t,s,{silent:!0})):this.buildAssociation(t,n)})),this},bindAssociations:function(){for(var t in this.associations)this.associations.hasOwnProperty(t)&&this.bindAssociation(t);return this},buildAbsoluteId:function(){if(!this.id)return null;for(var t=this,e=[this.id];t=t.parent;)t.id&&e.push(t.id);return e.reverse().join(".")},createAbsoluteId:function(){this.absoluteId=this.buildAbsoluteId()},isType:function(t){return this.get("type")===t},isKind:function(t){return this.get("kind")===t}});v.addAssociation=function(t,e){this.prototype.associations.hasOwnProperty(t)||(this.prototype.associations[t]=e,this.shorthandify(t))};var g=v.extend;return v.extend=function(){var t=g.apply(this,arguments);return t.prototype.associations=i.extend({},t.prototype.associations,this.prototype.associations),t.shorthandify().shorthandify(i.keys(t.prototype.associations)),t},v}.call(e,n,e,t))||(t.exports=i)},3511:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6486),i=n(8880),o=n(8766),s=n(82);n(9032);return function(){function t(e){var n=e.type,i=e.slideId,r=e.assetId,o=e.slideOwner,s=e.captions,a=e.parentEl,l=e.mediaElName,u=e.isMediaVisible;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=n,this.assetId=r,this.slideId=i,this.slideOwner=o,this.parentEl=a,this.mediaElName=l,this.isMediaVisible=u,this.captions=s,this.currentCaptions=[],this.init()}return r(t,[{key:"setCurrentTime",value:function(t){this.currTime=t}},{key:"getCurrentTime",value:function(){return this.currTime}},{key:"isVideo",value:function(){return"video"===this.type}},{key:"ended",value:function(){var t=this.parentEl[this.mediaElName];if(null!=t)return t.ended}},{key:"getAssetId",value:function(){return this.assetId}},{key:"init",value:function(){o.mount(this,this.slideId),o.checkHasCaptions()}},{key:"destroy",value:function(){this.clearCaptions(),o.unmount(this,this.slideId)}},{key:"toggleCaptioning",value:function(){o.toggleCaptioning()}},{key:"isCaptionEnabled",value:function(){return o.isCaptionEnabled()}},{key:"adjustCaptions",value:function(){var t=this,n=this.slideOwner.currView.props.slideContainer;if(null!=n){var r=this.getCurrentTime();this.currentCaptions.length>0&&(this.currentCaptions=this.currentCaptions.reduce((function(t,e){return s.isWithinRange(e.startTime,e.endTime,r)?t.push(e):n.trigger(i.captions.REMOVE,e.getCueAsHTML()),t}),[])),e.difference(this.captions,this.currentCaptions).forEach((function(e){s.isWithinRange(e.startTime,e.endTime,r)&&(t.currentCaptions.push(e),n.trigger(i.captions.ADD,e.getCueAsHTML()))}))}return this}},{key:"clearCaptions",value:function(){var t=this.slideOwner.currView.props.slideContainer;return null!=t&&this.currentCaptions.length>0&&this.currentCaptions.forEach((function(e){t.trigger(i.captions.REMOVE,e.getCueAsHTML())})),this.currentCaptions=[],this}}]),t}()}.call(e,n,e,t))||(t.exports=i)},5641:function(t,e,n){"use strict";var i;void 0===(i=function(t){n(3707);return n(3707),n(8467),n(8351),TimelineLite}.call(e,n,e,t))||(t.exports=i)},6295:function(t,e,n){"use strict";var i;void 0===(i=function(t){n(3707);return n(8467),n(8351),TweenLite.defaultOverwrite=!1,TweenLite}.call(e,n,e,t))||(t.exports=i)},8901:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}void 0===(i=function(t){var e=n(6486),i=n(1251),s=n(8880),a=n(82),l=n(9032),u=n(7812),c=n(8579),h=n(7510),d=h.addWindowListener,p=h.addDocumentListener,f=n(7812).ANIMATION_DURATION,v=void 0;return p("wheel",(function(){document.body.classList.add("document-scrolling"),clearTimeout(v),v=setTimeout((function(){document.body.classList.remove("document-scrolling")}),200)})),function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(o(this,t),this.onTouchMovePrevent=function(t){t.preventDefault()},this.onMouseOver=function(){s.hovered=!0,s.update()},this.onMouseOut=function(){s.hovered=!1,s.update()},e.bindAll(this,"onScrollBtnDown","onEndScrollDrag","onDragBtn","onScroll","onResize","unHighlight","delayedUpdate","update","onFocus","onKeyDown"),this.enabled=!0,this.hScroll=r,this.targetEl=n,this.hasTabIndex=l,this.isHidden=!1,this.highlight=!1,this.cls=i+"-"+(r?"h":"")+"scroll",this.targetId=i,this.marginTop=a,this.showOnlyOnHover=!1,this.hovered=!1,this.showOnlyWhenScrolling=!1,this.scrolling=!1,c.theme.isUnified){var u=this.cls+"-id";null==document.getElementById(u)&&this.createElements(u)}else this.createElements(null);this.update()}return r(t,[{key:"addOrRemoveClass",value:function(t,e,n){i[t?"addClass":"removeClass"](e,n)}},{key:"changeHighlight",value:function(){this.addOrRemoveClass(this.highlight,this.scrollBar,"highlight-scrollbar")}},{key:"changeHidden",value:function(){this.addOrRemoveClass(this.isHidden,this.scrollBar,"hidden")}},{key:"disableMobile",value:function(){this.targetEl.addEventListener("touchmove",this.onTouchMovePrevent)}},{key:"enableMobile",value:function(){this.targetEl.removeEventListener("touchmove",this.onTouchMovePrevent)}},{key:"initScroll",value:function(){this.targetEl.addEventListener("scroll",this.onScroll),d("resize",this.onResize),this.targetEl.style.overflowY="hidden !important",this.targetEl.style.overflowX="hidden !important",this.hasInited=!0}},{key:"createElements",value:function(t){this.scrollBar=document.createElement("div"),null!=t&&(this.scrollBar.id=t),this.scrollBar.setAttribute("class","scrollarea-scrollbar micro-scrollbar "+(this.hScroll?"horizontal-scroll ":"")+this.cls),!this.hScroll&&this.marginTop>0&&(this.scrollBar.style.marginTop=this.marginTop+"px"),this.hasTabIndex&&this.scrollBar.setAttribute("tabindex",0),this.scrollBar.addEventListener("focus",this.onFocus),this.scrollBar.addEventListener("keydown",this.onKeyDown),this.scrollBtn=document.createElement("div"),this.scrollBtn.setAttribute("class","scrollarea-btn micro-scrollbar-btn"),this.scrollBtn.addEventListener("mousedown",this.onScrollBtnDown),this.scrollBtn.addEventListener("touchstart",this.onScrollBtnDown),this.scrollBar.appendChild(this.scrollBtn),this.targetEl.parentNode.appendChild(this.scrollBar),this.initScroll(),this.setupUpdateEvents()}},{key:"setupUpdateEvents",value:function(){var t=this;l.on(s.tab.SHOW,(function(e){t.targetId===e&&t.delayedUpdate()})),l.on(s.tabLink.SHOW_PANEL,(function(e){var n=e.model.name;t.targetId===n&&t.delayedUpdate()})),"search"===this.targetId&&l.on(s.search.UPDATE_PANEL,(function(){setTimeout(t.delayedUpdate,f)})),"outline"===this.targetId&&l.on(s.menuLinksListItem.TOGGLE,this.delayedUpdate),"transcript"===this.targetId&&l.on(s.transcript.CHANGED,this.delayedUpdate),DS.detection.deviceView.isMobile&&(this.teardownResize=d("resize",this.delayedUpdate))}},{key:"delayedUpdate",value:function(){var t=this;window.requestAnimationFrame((function(){return t.update(!1)}))}},{key:"onScroll",value:function(){var t=this;this.update(!0),this.showOnlyWhenScrolling&&(this.scrollStartTime=Date.now(),this.scrolling||(this.scrolling=!0,this.scrollHideInterval=setInterval((function(){Date.now()-t.scrollStartTime>=1e3&&(clearInterval(t.scrollHideInterval),t.scrolling=!1,t.update())}),200)))}},{key:"onFocus",value:function(t){DS.focusManager.setFocusRectOn(this.targetEl)}},{key:"onKeyDown",value:function(t){switch(t.which){case u.keys.DOWN:this.targetEl.scrollTop+=10;break;case u.keys.UP:this.targetEl.scrollTop-=10;break;case u.keys.PAGE_DOWN:this.targetEl.scrollTop+=this.btnLength;break;case u.keys.PAGE_UP:this.targetEl.scrollTop-=this.btnLength;break;case u.keys.HOME:this.targetEl.scrollTop=0;break;case u.keys.END:this.targetEl.scrollTop=this.targetEl.scrollHeight}}},{key:"onResize",value:function(){this.update()}},{key:"canScroll",value:function(){var t=this.getTargetMetrics();return t.contentLength>t.scrollbarLength}},{key:"getTargetMetrics",value:function(){var t=this.targetEl,e=t.scrollHeight,n=t.scrollWidth,i=t.clientHeight,r=t.clientWidth,o=t.scrollTop,s=t.scrollLeft;return this.hScroll?{contentLength:n,scrollbarLength:r,currScrollPos:s}:{contentLength:e,scrollbarLength:i,currScrollPos:o}}},{key:"setEnabled",value:function(t){this.enabled=t,this.update()}},{key:"setShowOnlyOnHover",value:function(t){this.showOnlyOnHover=!0,this.hoverTargetEl=t,this.hoverTargetEl.addEventListener("mouseover",this.onMouseOver),this.hoverTargetEl.addEventListener("mouseout",this.onMouseOut)}},{key:"setShowOnlyWhenScrolling",value:function(){this.showOnlyWhenScrolling=!0}},{key:"update",value:function(t){if(this.hasInited&&null!=this.scrollBtn){var e=this.getTargetMetrics(),n=e.contentLength,i=e.scrollbarLength,r=e.currScrollPos;this.isHidden=this.shouldHideScrollbar(n,i);var o=i-(this.hsScroll?0:this.marginTop),s=n-o,l=a.clamp(0,1,r/s);this.btnLength=o/n*o,this.scrollBtn.style[this.hScroll?"width":"height"]=a.pxify(this.btnLength),this.scrollBtn.style[this.getPosAttrib()]=a.pxify(l*a.invertPercent(this.btnLength/i)*i),this.highlight=t,t&&(clearTimeout(this.colorId),this.colorId=setTimeout(this.unHighlight,1e3)),this.changeHighlight(),this.changeHidden(),null!=this.updateScroll&&this.updateScroll()}}},{key:"shouldHideScrollbar",value:function(t,e){return Math.abs(t-e)<2||(!this.enabled||(this.showOnlyOnHover?!this.hovered&&!this.scrollByButton:!!this.showOnlyWhenScrolling&&!this.scrolling))}},{key:"getPosAttrib",value:function(){return this.hScroll?"left":"top"}},{key:"getPagePostion",value:function(t){return this.hScroll?t.pageX:t.pageY}},{key:"getParentPos",value:function(){return this.targetEl.getBoundingClientRect()[this.getPosAttrib()]}},{key:"onScrollBtnDown",value:function(t){this.scrollByButton=!0,this.startPos=this.getPagePostion(t)-this.getParentPos()-parseFloat(this.scrollBtn.style[this.getPosAttrib()]),document.body.addEventListener("mousemove",this.onDragBtn),document.body.addEventListener("mouseup",this.onEndScrollDrag)}},{key:"onEndScrollDrag",value:function(){this.scrollByButton=!1,document.body.removeEventListener("mouseup",this.onEndScrollDrag),document.body.removeEventListener("mousemove",this.onDragBtn),this.showOnlyOnHover&&this.update()}},{key:"onDragBtn",value:function(t){var e=this.getTargetMetrics(),n=e.contentLength,i=e.scrollbarLength,r=n-i,o=i-this.btnLength,s=this.getPagePostion(t)-this.getParentPos()-this.startPos,l=a.clamp(0,1,s/o);this.scrollBtn.style[this.getPosAttrib()]=a.pxify(l*a.invertPercent(this.btnLength/i)*i),this.targetEl[this.hScroll?"scrollLeft":"scrollTop"]=r*l}},{key:"unHighlight",value:function(){this.highlight=!1,this.changeHighlight()}},{key:"teardown",value:function(){this.scrollBar.removeEventListener("focus",this.onFocus),this.scrollBar.removeEventListener("keydown",this.onKeyDown),this.scrollBtn.removeEventListener("mousedown",this.onScrollBtnDown),this.scrollBtn.removeEventListener("touchstart",this.onScrollBtnDown),this.targetEl.removeEventListener("scroll",this.onScroll),this.enableMobile(),this.showOnlyOnHover&&null!=this.hoverTargetEl&&(this.hoverTargetEl.removeEventListener("mouseover",this.onMouseOver),this.hoverTargetEl.removeEventListener("mouseout",this.onMouseOut)),l.off(s.search.UPDATE_PANEL),l.off(s.tab.SHOW),l.off(s.menuLinksListItem.TOGGLE),l.off(s.transcript.CHANGED),this.teardownResize()}}]),t}()}.call(e,n,e,t))||(t.exports=i)},5173:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i=n(4811),r=n(8939),o=n(7510).addWindowListener,s={},a="request",l="response",u="SUCCESS",c="ERROR",h=[a,l],d=function(t){var e,n=r.throwError("PostMessaging");if(null!=t.data){try{e=JSON.parse(t.data)}catch(t){return}(function(t){return null!=t&&null!=t.id&&null!=t.type&&-1!==h.indexOf(t.type)})(e)&&(null!=s[e.connectionId]?s[e.connectionId](e,t):n("No listener exists for connectionId: ",e.connectionId))}};return function(t,n){var h,p,f,v=r.throwError("PostMessaging"),g={},m=0,y=i.Deferred(),b=n,w=function(t,e,n,r,o){var s=++m,l=i.Deferred(),c={type:e,connectionId:b};return g[s]=l,e===a?(c.method=n,c.params=r,c.id=s):(c.id=n,c.data=r,c.status=null!=o?o:u),t.postMessage(JSON.stringify(c),"*"),l.always((function(){delete g[s]})).catch((function(t){delete g[s],v(t.message)})),l.promise()},A=function(t){h=function(e,n){return y.then((function(){return w(t,a,e,n)}))},p=function(e,n,i){return y.then((function(){return w(t,l,e,n,i)}))}};null==e&&(e=o("message",d,!1)),f=function(t,e){return s[t]=e,function(){delete s[t]}}(b,(function(e,n){var i,r,o;if(e.type===a)if("connect"===e.method)A(n.source),w(n.source,l,e.id),y.resolve();else if(null!=t[e.method])try{r=t[e.method].apply(void 0,Array.isArray(e.params)?e.params:[e.params]),null!=(o=r)&&"function"==typeof o.then?r.then((function(t){p(e.id,t)})):p(e.id,r)}catch(t){p(e.id,t.message,c)}else p(e.id,["No handler for this method ",e.method].join(""),c);else{if(null!=(i=g[e.id]))return void(e.status===u?i.resolve(e.data,n):i.reject(e.data,n));p(e.id,["No pending requests for this response id ",e.id].join(""),c)}})),this.ready=function(){return y},this.connect=function(t){return A(t),w(t,a,"connect").then(y.resolve),y},this.request=function(){if(null!=h)return h.apply(void 0,arguments);v("request","A destination iframe needs to be connected before sending requests to it.  Try using `connect` first.")},this.tearDown=function(){f(),_.isEmpty(Object.keys(s))&&null!=e&&(e(),e=null)}}}.call(e,n,e,t))||(t.exports=i)},2499:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}void 0===(i=function(t){var e=n(82),i=n(8400),s=n(3508),a=n(9032),l=n(8880),u=n(1294),c=n(6486),h=n(6295),d=n(1251),p=n(118),f=n(1681),v=n(8579),g=(n(1419),n(520)),m=n(7545).createBackSpriteCanvas,y=n(3163),b=y.FOCUS_ON_TITLE,w=y.FOCUS_ON_BODY,A=y.FOCUS_ON_IMAGE,E=y.FOCUS_ON_BUTTON,S=y.FOCUS_ON_VIDEO,T=y.FOCUS_ON_AUDIO,x=y.FOCUS_ON_NONE,C=y.FOCUS_ON_DESELECT,_=n(49),k=n(7552),M=n(7812),O=M.math,L=(O.TWO_PI,O.HALF_PI),P=M.MOBILE_360_IMAGE_SCALE_THRESHOLD,I=n(8579),R=I.device.isMobile,D=I.browser.isSafariMac,N=n(9337),H=N.angle,V=N.angleDiff,F=(N.getPinchDistance,N.textureSettings),B=N.isPanelBody,j=N.isPanelTitle,U=N.isHintContent,z=N.isTooltipContent,W=N.isButtonContent,G=N.adjustVariable,q=(N.toScreenPosition,N.touchify),Y=N.createBoundingBoxEl,X=N.isLeftClickOrTouch,K=N.isRightClick,J=n(5505),Z=J.clickOrTouchEnd,$=J.downOrTouchStart,Q=J.moveOrTouchMove,tt=J.upOrTouchEnd,et=n(9045),nt=et.formatMessage,it=et.getSpanStyle,rt=et.crosshairsSvg,ot=et.bottomUi,st=et.BOTTOM_UI_HEIGHT,at=et.modes,lt=n(1815),ut=lt.freeNavigation,ct=lt.guidedNavigtion,ht=lt.navigation,dt="",pt="crosshair",ft=89,vt=function(){function t(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gt.call(this),this.model=n.model,this.el=n.el,this.cssEl=n.cssEl,this.overlaysEl=n.overlaysEl,this.editorApi=n.editorApi,this.suppressOnSelectionChange=0,this.markerShownCounter=0,this.mobileZoom=1,this.editorSettings=n.editorSettings,this.id="three-canvas-"+e.getPath(this,"slideObject.props.model.id",c.uniqueId("edit-mode")),null!=this.editorApi&&this.setEditMode(!0),this.localizedText=n.localizedText||{},this.isDragging=!1,this.forcingCameraTarget=!1,this.newWidth=n.width,this.newHeight=n.height,this.origWidth=n.width,this.origHeight=n.height,this.nudgeOnLoad=n.nudgeOnLoad,this.downX=0,this.downY=0,this.downLon=0,this.downLat=0,this.lastTimeStampMs=performance.now(),this.kpPanAnimation=.008,this.lon=0,this.lat=0,this.phi=0,this.theta=0,this.radius=21,this.latMin=-89.8,this.latMax=89.5,this.oldIntersections={},this.drag={},this.sprites={},this.markersByIdx={},this.markerCount=0,this.initialLatOffset=0,this.assetManager=n.assetManager,this.slideObject=n.slideObject,this.overlaySvgEl=n.overlaySvgEl,this.miscOverlaysEl=n.miscOverlaysEl,this.playerAccentColor=n.playerAccentColor,this.setHotspotColor(n.hotspotColor),this.setHotspotReveal(n.hotspotReveal),this.pulseHotspots=n.pulseHotspots,this.pulseMarkers=n.pulseMarkers,this.altText=n.altText||"",this.navigation=n.navigation||{type:ht.NONE,visible:!1},this.bind=n.bind,this.spherical=new THREE.Spherical,this.orientation=0,this.pinch={scale:1,matrix:new u},this.setupEditorMessages(),this.setMode(at.DEFAULT),this.setupScene(n),this.setupDom(n),this.setupBackSpriteTex(),this.setupVelocityToss(),this.setupRaycasting(),this.hotspotLayer=new k(this),this.setupMarkers(n.markerData),this.setMarkerPulse(n.pulseMarkers),this.setHotspotPulse(n.pulseHotspots),this.setInitialCameraTarget(n.initialLat,n.initialLon),this.setupVars(),this.setupNavigation(),window.addEventListener("resize",this.onResize),a.on("forceRender",this.onForceRender),null!=this.editorApi&&a.on(l.threeSixtyImage.MARKER_UPDATED,this.onMarkerUpdated),this.ready()}return r(t,[{key:"updateEditorSettings",value:function(t){this.editorSettings=t,a.trigger(l.threeSixtyImage.EDITOR_SETTINGS_CHANGED)}},{key:"setInitialCameraTarget",value:function(t,e){this.editMode||!this.nudgeOnLoad?this.initialLat=t:(this.initialLatOffset=t-2>=this.latMin?-2:2,this.initialLat=t+this.initialLatOffset),this.initialLon=e,this.setCameraTarget(this.initialLat,this.initialLon)}},{key:"setupEditorMessages",value:function(){var t,e=this;this.editorMessages=(o(t={updateText:function(t){return e.updateText(t)},updateMarker:function(t){return e.updateMarker(t)},updateMarkers:function(t){return e.updateMarkers(t)},batchUpdateMarkers:function(t){return e.batchUpdateMarkers(t)},removeMarker:function(t){return e.removeMarker(t.id)},forceRemoveMarker:function(t){return e.removeMarker(t.id,!0)},placeMarkerFromContextMenu:function(t){return e.placeMarkerFromContextMenu(t)},panToMarker:function(t){return e.panToMarker(t.id)},selectMarker:function(t){return e.selectMarker(t)},setFocus:function(t){return e.setFocus(t)},showMedia:function(t){return e.showMedia()},hideMedia:function(t){return e.hideMedia()},setEffects:function(t){return e.setEffect(t)},duplicateMarker:function(t){return e.duplicateMarker(t.sourceId,t.duplicatedMarkerData)},pasteMarker:function(t){return e.pasteMarker(t)},resetMode:function(t){return e.setMode(at.DEFAULT)}},at.ADD_MARKER,(function(t){e.setMode(at.ADD_MARKER),e.upcomingMarkerData=t})),o(t,at.SET_INITIAL_CAMERA_ANGLE,(function(t){return e.setMode(at.SET_INITIAL_CAMERA_ANGLE)})),o(t,"saveInitialCameraAngle",(function(t){return e.onSetInitialCamDone()})),o(t,at.SET_CROP_IMAGE_MEDIA,(function(t){return e.setMode(at.SET_CROP_IMAGE_MEDIA)})),o(t,"saveCropImageMedia",(function(t){return e.saveCropImageMedia()})),o(t,"updateEditorSettings",(function(t){return e.updateEditorSettings(t)})),t)}},{key:"ready",value:function(){var t=this;window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){Object.values(t.sprites).forEach((function(t){null!=t&&t.userData.cssMarker.panoReady()})),null!=t.model&&t.model.trigger(l.threeSixtyImage.READY,t)}))}))}},{key:"cancelNudge",value:function(){clearTimeout(this.nudgeTimeout),this.nudgeTimeout=null}},{key:"nudge",value:function(){var t=this;clearTimeout(this.nudgeTimeout),this.nudgeTimeout=setTimeout((function(){t.spherical.setFromCartesianCoords(t.camera.target.x,t.camera.target.y,t.camera.target.z);var e=THREE.Math.radToDeg(L-t.phi);e+=-1*t.initialLatOffset,t.spherical.phi=THREE.Math.degToRad(90-e);var n=new THREE.Vector3;n.setFromSpherical(t.spherical),t.setPanToCoord(n)}),250)}},{key:"setMarkerPulse",value:function(t){this.pulseMarkers=t,Object.values(this.sprites).forEach((function(e){if(null!=e){var n=e.userData.cssMarker;n.isHotspot()||n.adjust({props:{animation:t?"pulse":"normal"}})}}))}},{key:"setHotspotPulse",value:function(t){this.pulseHotspots=t}},{key:"setupBackSpriteTex",value:function(){var t=this,e=m("none",this.maxAnisotropy),n=e.canvas,i=e.tex,r=e.mat;e.render;this.backSpriteTex={normal:function(){return{canvas:n,tex:i,mat:r}},pulse:function(){t.pulseAnimation||(t.pulseAnimation=m("pulse",t.maxAnisotropy));var e=t.pulseAnimation;return{canvas:e.canvas,tex:e.tex,mat:e.mat}},empty:function(){t.emptyTexture||(t.emptyTexture=m("empty",t.maxAnisotropy));var e=t.emptyTexture;return{canvas:e.canvas,tex:e.tex,mat:e.mat}}}}},{key:"getMarker",value:function(t){var e=this.sprites[t];if(null!=e)return e.userData.cssMarker}},{key:"removeMarker",value:function(t,e){var n=this.getMarker(t);if(null!=n){if(null!=n.polyHotspot)if(n.polyHotspot.delete(e))return;n.remove(),this.boundingBox.style.display="none",this.cssScene.remove(n.object),this.scene.remove(n.sprite),this.scene.remove(n.backSprite),delete this.sprites[n.id],delete this.markersByIdx[n.idx],null!=this.editorApi&&this.editorApi.onMarkerRemoved(n.id)}}},{key:"getCurrInputElement",value:function(){var t=document.activeElement;return null==t||t===document.body?null:B(t)||j(t)||U(t)||z(t)||W(t)?t:null}},{key:"getInputType",value:function(t){return[{test:function(t){return null==t},type:"none"},{test:B,type:"panelBody"},{test:j,type:"panelTitle"},{test:U,type:"hint"},{test:z,type:"tooltip"},{test:W,type:"button"},{test:function(){return!0},type:"none"}].find((function(e){return(0,e.test)(t)})).type}},{key:"getCurrMediaElementType",value:function(){var t=this.currMarker;if(null==t)return x;var e=t.userData.cssMarker.panel;if(null==e)return x;var n=function(t){if(null==t)return!1;var n=e.getSelectionBox(t);return null!=n&&n.shown};return n(e.mediaImageEl)?A:n(e.mediaAudioEl)?T:n(e.mediaVideoPosterEl)?S:null!=e.panelButton&&e.panelButton.el===document.activeElement?E:x}},{key:"getIsMediaShowing",value:function(){var t=this.currMarker;if(null==t)return!1;var e=t.userData.cssMarker.panel;return null!=e&&e.mediaShowing}},{key:"getAccHtml",value:function(){var t='<div class="three-sixty-image-acc-markers">',e=R?66:33,n=e/this.origWidth*100,i=e/this.origHeight*100;if(t+="\n        <style>\n        .acc-three-sixty-marker {\n          left: "+(50-n/2)+"%;\n          top:  "+(50-i/2)+"%;\n          width: "+n+"%;\n          height: "+i+"%;\n        }\n        </style>\n      ",Object.values(this.sprites).forEach((function(e){null!=e&&(t+=e.userData.cssMarker.getAccHtml())})),this.isGuidedNav()){var r=f.getString("three_image_interaction_next"),o=f.getString("three_image_interaction_prev");t+='\n          <button\n            class="acc-shadow-el acc-button acc-three-sixty-nav-btn acc-three-sixty-nav-next"\n            tabindex="0" type="button"\n            aria-label="'+r+'"\n          ><p><span>'+r+'</span></p></button>\n          <button\n            class="acc-shadow-el acc-button acc-three-sixty-nav-btn acc-three-sixty-nav-prev"\n            tabindex="0" type="button"\n            aria-label="'+o+'"\n          ><p><span>'+o+"</span></p></button>\n        "}return t+="</div>"}},{key:"connectAccChildren",value:function(t,e){var n=this;this.threeSixtyAcc=t,this.accChildContainerEl=e,Object.values(this.sprites).forEach((function(t){null!=t&&t.userData.cssMarker.setAccChild(e)})),this.isGuidedNav()&&(this.nextAccBtn=e.querySelector(".acc-three-sixty-nav-next"),this.prevAccBtn=e.querySelector(".acc-three-sixty-nav-prev"),this.updateGuidedArrows()),this.isFreeNav()&&this.accDidResume&&(Object.values(this.markersByIdx).forEach((function(t){n.markerIdxInView!=t.idx&&(t.accChildEl.style.display="none")})),this.freeAccShowMarkers=function(){Object.values(n.markersByIdx).forEach((function(t){t.accChildEl.style.display=null}))})}},{key:"updateText",value:function(t){if(null!=this.getMarker(t.id)){var e=this.getCurrInputElement();null!=e&&this.withOnSelectionChange((function(){nt(e,t)}))}}},{key:"updateMarkers",value:function(t){for(var e in this.sprites){this.sprites[e].userData.cssMarker.adjustProps(t)}null!=this.editorApi&&this.editorApi.onMarkersUpdated(this.getAllMarkerData())}},{key:"batchUpdateMarkers",value:function(t){var e=this;t.forEach((function(t){return e.updateMarker(t)}))}},{key:"selectMarker",value:function(t){var e=document.querySelector(".three-sixty-image-media-panel-overlay");if(this.mode!==at.SET_CROP_IMAGE_MEDIA&&!e){if(null!=this.currMarker){var n=this.currMarker.userData.cssMarker.panel;null!=n&&n.hide()}if(this.hideMarkerBounds(),null==t.id)this.selectNextSprite=!1,this.setCurrMarker(null);else{var i=this.getMarker(t.id);null!=i&&(this.selectNextSprite=!0,this.setCurrMarker(i.sprite),this.panToMarker(t.id))}}}},{key:"deselectFocus",value:function(){if(this.mode!==at.SET_CROP_IMAGE_MEDIA&&null!=this.currMarker){var t=this.currMarker.userData.cssMarker.panel;if(null!=t&&t.shown)return null!=document.activeElement&&d.closest(document.activeElement,(function(t){return d.hasClass(t,"panel-el")}))?void document.activeElement.blur():void t.hide();this.deselectCurrentMarkerOrHotspot()}}},{key:"setFocus",value:function(t){var n=this;this.editMode&&(t.focus!=C?null!=this.currMarker&&this.withOnSelectionChange((function(){var i=n.currMarker.userData.cssMarker.panel,r=t.focus;null!=i&&(i.shown||r==x||(i.marker.isHotspot()?i.showHotspotPanel():i.show()),r===b?(i.showSelectionBox(i.titleEl,!0),i.titleEl.focus()):r===w?(i.showSelectionBox(i.bodyEl.parentNode,!0),i.bodyEl.focus()):r===A?i.showSelectionBox(i.mediaImageEl,!0):r===T?i.showSelectionBox(i.mediaAudioEl,!0):r===S?i.showSelectionBox(i.mediaVideoPosterEl,!0):i.hideSelectionBoxes());var o=e.getPath(n,"currMarker.userData.cssMarker.tooltip");null!=o&&r!=x&&o.showEditMode()})):this.deselectFocus())}},{key:"showMedia",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker.panel;null!=t&&t.showMediaType(this.getCurrMediaElementType())}}},{key:"hideMedia",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker.panel;null!=t&&t.hideAllMedia()}}},{key:"setEffect",value:function(t){null!=t.color&&this.setHotspotColor(t.color),null!=t.reveal&&this.setHotspotReveal(t.reveal),null!=t.pulseMarkers&&this.setMarkerPulse(t.pulseMarkers),null!=t.pulseHotspots&&this.setHotspotPulse(t.pulseHotspots),null!=this.currMarker&&this.currMarker.userData.cssMarker.updateProps()}},{key:"editorMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.editorMessages[t](e)}},{key:"setupDom",value:function(t){var e=this,n=t.width*t.scale,i=t.height*t.scale;this.renderer.setSize(n,i),this.renderer.domElement.id=this.id,this.renderer.domElement.dataset.canvasType="360-image",this.renderer.domElement.style.pointerEvents="all",this.renderer.domElement.addEventListener($,this.onMouseDown),this.cssRenderer.setSize(n,i),document.addEventListener(tt,this.onMouseUp,!1),document.addEventListener(Q,this.onMouseMove),this.el.appendChild(this.renderer.domElement),this.cssEl.appendChild(this.cssRenderer.domElement);var r=setInterval((function(){e.calcSceneRect(),e.sceneRect.width>0&&clearInterval(r)}),16)}},{key:"toDomCoords",value:function(t,e){this.calcSceneRect();var n=t/window.innerWidth,i=e/window.innerHeight;return{x:n*this.sceneRect.width,y:i*this.sceneRect.height}}},{key:"toScreenPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new THREE.Vector3;e||this.calcSceneRect();var i=this.sceneRect.width/2,r=this.sceneRect.height/2;return t.updateMatrixWorld(),n.setFromMatrixPosition(t.matrixWorld).project(this.camera),{x:n.x*i+i,y:-n.y*r+r}}},{key:"vecToScreenPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.calcSceneRect();var n=R&&e?{width:this.newWidth,height:this.newHeight}:this.sceneRect,i=n.width,r=n.height,o=t.clone(),s=o.project(this.camera);return s.x=(s.x+1)/2,s.x*=i,s.y=-(s.y-1)/2,s.y*=r,s}},{key:"duplicateMarker",value:function(t,e){this.calcSceneRect();var n=this.sprites[t],i=this.toScreenPosition(n),r=this.scaleCoord(i.x,i.y),o=new THREE.Vector2(r.x,r.y);this.placeMarkerWithOffset(o,e)}},{key:"pasteMarker",value:function(t){this.calcSceneRect();var e=this.scaleCoord(this.sceneRect.width/2,this.sceneRect.height/2),n=new THREE.Vector2(e.x,e.y);this.placeMarkerWithOffset(n,t)}},{key:"placeMarkerWithOffset",value:function(t,e){for(var n=THREE.Math.degToRad(20),i=new THREE.Vector2(15*Math.cos(n),20*Math.sin(n)),r=.8*i.lengthSq();this.isScreenPositionNearbySprite(t,r);)t.add(i);this.placeMarker(t.x,t.y,e.props,e.id)}},{key:"isScreenPositionNearbySprite",value:function(t,e){for(var n in this.sprites){var i=this.sprites[n],r=this.toScreenPosition(i),o=this.scaleCoord(r.x,r.y);if(t.distanceToSquared(o)<e)return!0}return!1}},{key:"setHotspotColor",value:function(t){t||(t="#00ccff"),this.hotspotColor=t,this.hotspotTransColor=e.rgbify(t,.4),null!=this.hotspotLayer&&this.hotspotLayer.updateColors(),Object.values(this.sprites).forEach((function(t){if(null!=t){var e=t.userData.cssMarker;e.isHotspot()&&e.updateHotspotColor()}}))}},{key:"setHotspotReveal",value:function(t){this.hotspotReveal=t}},{key:"projection",value:function(t,e){if(null!=t){this.viewMatrix.copy(this.camera.matrixWorldInverse),this.viewProjectionMatrix.multiplyMatrices(this.camera.projectionMatrix,this.viewMatrix),this.renderData=this.projector.projectScene(this.scene,this.camera),this.elements=this.renderData.elements,this.normalViewMatrix.getNormalMatrix(this.camera.matrixWorldInverse),this.calcSceneRect();var n=this.elements.find((function(e){return e.object===t}));if(null!=n){var i=n,r={x:i.x,y:i.y};i.x*=this.sceneRect.width/2,i.y*=-this.sceneRect.height/2,e(i,n,r)}}}},{key:"displayBoundingBox",value:function(){!this.currMarker||!e.getPath(this,"currMarker.userData.cssMarker")||"hotspot"===this.currMarker.userData.cssMarker.props.type&&e.getPath(this,"currMarker.userData.cssMarker.polyHotspot")||(this.currMarker.userData.cssMarker.isHotspot()?this.boundingBox.classList.add("hotspot-bb"):this.boundingBox.classList.remove("hotspot-bb"),this.boundingBox.style.display="block",this.projection(this.currMarker,this.renderSpriteBoundingBox))}},{key:"displayBoundingBoxOnMarker",value:function(t){this.projection(t.sprite,this.renderSpriteBoundingBox)}},{key:"setupProjector",value:function(){this.projector=new THREE.Projector,this.viewMatrix=new THREE.Matrix4,this.viewProjectionMatrix=new THREE.Matrix4,this.normalViewMatrix=new THREE.Matrix3}},{key:"getBoxCenter",value:function(){var t=this.boundingBox,e=this.scaleCoord(parseFloat(t.style.left),parseFloat(t.style.top)),n=this.scaleCoord(parseFloat(t.style.width),parseFloat(t.style.height));return{cx:e.x+n.x/2,cy:e.y+n.y/2}}},{key:"setupScene",value:function(t){this.setupProjector(),this.scene=new THREE.Scene,this.cssScene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,t.width/t.height,1,5e3),this.camera.layers.enable(1),this.camera.zoom=.8,this.camera.updateProjectionMatrix(),this.camera.target=new THREE.Vector3(0,0,0);var e={antialias:!0};if(D){var n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.origGetContext=n.getContext,n.getContext=function(t,e){return e.xrCompatible=null,n.origGetContext(t,e)},e.canvas=n}this.renderer=new THREE.WebGLRenderer(e),this.renderer.setPixelRatio(window.devicePixelRatio||2),this.cssRenderer=new THREE.CSS3DRenderer,this.maxAnisotropy=this.renderer.capabilities.getMaxAnisotropy();var i=R?50:64;this.sphere=new THREE.SphereBufferGeometry(1e3,i,i),this.sphere.scale(-1,1,1),this.sphere.rotateY(L),null!=t.croppedHeight?this.croppedTextureSphere(t):this.createSphere(t.dataUri),this.overlaysEl.classList.add("three-sixty-overlay"),this.createBoundingBox(),v.browser.isIE11&&this.fixCssScrolling()}},{key:"createBoundingBox",value:function(){this.boundingBox=Y(),this.overlaysEl.appendChild(this.boundingBox),this.boundingBox.addEventListener("mousedown",this.onBoxDown)}},{key:"croppedTextureSphere",value:function(t){var e=this,n=new Image;n.src=t.dataUri;n.addEventListener("load",(function i(){var r=n.width/t.croppedWidth,o=document.createElement("canvas"),s=o.getContext("2d");o.width=t.fullWidth*r,o.height=t.fullHeight*r,s.fillStyle="black",s.fillRect(0,0,o.width,o.height),s.drawImage(n,t.croppedX*r,t.croppedY*r),e.createSphere(o.toDataURL()),n.removeEventListener("load",i)}))}},{key:"createSphere",value:function(t){var e=new THREE.MeshBasicMaterial;e.depthTest=!1;var n=(new THREE.TextureLoader).load(t,this.onTextureReady);n.anisotropy=this.maxAnisotropy,e.map=n,this.sphereMesh=new THREE.Mesh(this.sphere,e),this.scene.add(this.sphereMesh)}},{key:"calcSceneRect",value:function(){this.sceneRect=this.renderer.domElement.getBoundingClientRect(),this.sceneScale=this.newWidth/this.origWidth}},{key:"scaleCoord",value:function(t,e){return{x:t*=window.innerWidth/this.sceneRect.width,y:e*=window.innerHeight/this.sceneRect.height}}},{key:"setEditMode",value:function(t){this.editMode=t,a.trigger(l.threeSixtyImage.EDIT_MODE_CHANGED),this.editMode?(d.addClass(this.overlaysEl,"edit-mode"),document.addEventListener("focusin",this.onSelectionChange),document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("focusout",this.onSelectionChange)):(d.removeClass(this.overlaysEl,"edit-mode"),document.removeEventListener("focusin",this.onSelectionChange),document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("focusout",this.onSelectionChange))}},{key:"setMode",value:function(t){this.mode!==t&&(this.mode===at.SET_INITIAL_CAMERA_ANGLE?this.cancelSetInitialCam():this.mode===at.SET_CROP_IMAGE_MEDIA&&this.cancelCropImageMedia(!1),this.mode=t,t===at.DEFAULT?(this.el.style.cursor=dt,null!=this.hotspotLayer&&this.hotspotLayer.deleteUnfinishedHotspot()):t===at.ADD_MARKER?(this.deselectCurrentMarkerOrHotspot(),this.el.style.cursor=pt):t===at.SET_INITIAL_CAMERA_ANGLE?this.setInitialCameraAngle():t===at.SET_CROP_IMAGE_MEDIA&&this.setCropImageMedia())}},{key:"setupRaycasting",value:function(){this.raycaster=new THREE.Raycaster,this.mouseRay=new THREE.Vector2}},{key:"getBackSpriteMaterial",value:function(t,e){this.editMode||e?t.animation="normal":this.pulseMarkers&&(t.animation="pulse");var n="hotspot"===t.type?"empty":t.animation;return this.backSpriteTex[n||"normal"]().mat}},{key:"initSprite",value:function(t,e){var n,i,r,o=void 0,s=void 0,a=void 0;return n=(o=document.createElement("canvas")).getContext("2d"),o.width=512,o.height=512,i=new THREE.CanvasTexture(o),r=new THREE.SpriteMaterial({map:i}),F(i,r,this.maxAnisotropy),(s=new THREE.Sprite(r)).material.opacity=1,s.renderOrder=10,(a=new THREE.Sprite(this.getBackSpriteMaterial(e))).renderOrder=1,a.dynamic=!0,a.userData.isBackSprite=!0,a.position.normalize(),a.scale.set(50,50,1),a.position.copy(t),{sprite:s,canvas:o,ctx:n,tex:i,mat:r,backSprite:a}}},{key:"markerHasTrigger",value:function(t){return e.getPath(this,"model.events",[]).filter((function(t){return"onlinkrelease"===t.kind})).map((function(t){return t.triggerid})).includes(t.id)}},{key:"createSprite",value:function(t,e,n){var r=this,o=this.initSprite(t,n),s=o.sprite,a=o.canvas,l=o.ctx,u=o.tex,h=(o.mat,o.backSprite);s.position.normalize(),s.scale.set(50,50,1),s.position.copy(t),s.userData.backSprite=h,this.scene.add(s),window.requestAnimationFrame((function(){return r.scene.add(h)}));var d=new i({pano:this,loc:t,sprite:s,id:e,idx:this.markerCount++,canvas:a,backSprite:h,ctx:l,tex:u,props:c.merge({type:"normal"},n||{})});return s.userData.cssMarker=d,this.sprites[e]=s,this.markersByIdx[d.idx]=d,{sprite:s,marker:d}}},{key:"setupMarkers",value:function(t){var e=this;null!=t&&t.forEach((function(t){var n=new THREE.Vector3(t.xPos,t.yPos,t.zPos),i=e.createSprite(n,t.id,t.props).sprite;if(i.userData.id=t.id,"hotspot"===t.props.type)if(i.userData.cssMarker.hide(),i.userData.cssMarker.el.style.display="none",i.userData.cssMarker.object.visible=!1,null!=t.props.hotspotData){var r=t.props.hotspotData;e.hotspotLayer.createHotspot(r,i.userData.cssMarker)}else e.hotspotLayer.createHotspotAtPoint(n,i.userData.cssMarker);"normal"===t.props.type&&e.makeMarkerSwitchable(i.userData.cssMarker,n)}))}},{key:"setupVelocityToss",value:function(){this.locX=0,this.locY=0,this.prevLocX=0,this.prevLocY=0,this.locXvel=0,this.locYvel=0,this.enableVelocityDamping()}},{key:"enableVelocityDamping",value:function(){this.velDamp=.95}},{key:"disableVelocityDamping",value:function(){this.velDamp=0}},{key:"setLonLat",value:function(t,e){this.lon=.1*(this.downX-t)+this.downLon,this.lat=.1*(e-this.downY)+this.downLat}},{key:"stopVelocity",value:function(){this.locYvel=this.locXvel=0}},{key:"applyVelocity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.isDragging||this.forcingCameraTarget||this.downOnMarker)&&!t||(this.locX+=this.locXvel,this.locY+=this.locYvel,this.locXvel*=this.velDamp,this.locYvel*=this.velDamp,this.lat>ft?this.locY>this.maxLocY&&(this.locY=this.maxLocY):this.maxLocY=this.locY,this.lat<-89?this.locY<this.minLocY&&(this.locY=this.minLocY):this.minLocY=this.locY,this.setLonLat(this.locX,this.locY))}},{key:"removeNavListeners",value:function(){if(null!=this.navUi){var t=this.navUi,e=t.threeNavContentEl,n=t.threeGuidedLeftBtnEl,i=t.threeGuidedRightBtnEl;e&&e.removeEventListener(Z,this.onNavClicked),n&&n.removeEventListener(Z,this.goPrevGuidedClick),i&&i.removeEventListener(Z,this.goNextGuidedClick)}}},{key:"removeLoadTracker",value:function(){for(var e=t.loadTracker[this.slideObject.currSlideId],n=0;n<e.length;n++)if(e[n].id===this.slideObject.props.model.absoluteId){e.splice(n,1);break}}},{key:"destroy",value:function(){this.removeLoadTracker(),Object.values(this.sprites).forEach((function(t){null!=t&&t.userData.cssMarker.remove()})),this.renderer.domElement.removeEventListener($,this.onMouseDown),document.removeEventListener(tt,this.onMouseUp),document.removeEventListener(Q,this.onMouseMove),this.el.removeChild(this.renderer.domElement),this.killAnimation(),window.removeEventListener("resize",this.onResize),a.off("forceRender",this.onForceRender),this.hotspotLayer.destroy(),null!=this.editorApi&&a.off(l.threeSixtyImage.MARKER_UPDATED,this.onMarkerUpdated),this.removeNavListeners(),this.renderer.dispose(),this.sphere.dispose(),window.cancelAnimationFrame(this.cssScrollingId)}},{key:"killAnimation",value:function(){window.cancelAnimationFrame(this.animateId)}},{key:"changeSize",value:function(){this.camera.aspect=this.newWidth/this.newHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.newWidth,this.newHeight),this.cssRenderer.setSize(this.newWidth,this.newHeight),this.width=this.newWidth,this.height=this.newHeight}},{key:"updateLatLonUi",value:function(){var t=Math.round(this.lat),n=e.normalizeDeg(Math.round(this.lon));this.setCamUi.threeLatLonTextEl.innerHTML="<div>\n      "+this.localizedText.initialView+" "+t+"&#176;, "+n+"&#176;\n      </div>"}},{key:"resetCropImageMedia",value:function(){this.cancelCropImageMedia(!1),this.setCropImageMedia(!0)}},{key:"cancelCropImageMedia",value:function(t){null!=this.cropTool&&(this.cropTool.hide(),this.cropTool=null),this.cropToolShown=!1,this.bottomCropUiEl.style.display="none";var e=this.lastActiveMarker.userData.cssMarker.panel;null!=e&&e.cancelCrop(),null!=this.editorApi&&null!=this.editorApi.restoreFit&&this.editorApi.restoreFit(),t&&(this.setMode(at.DEFAULT),null!=this.editorApi&&this.editorApi.onCancelImageMediaCrop())}},{key:"saveCropImageMedia",value:function(){if(this.cropToolShown){var t=this.cropTool.getCropRect(),e=this.lastActiveMarker.userData;t.markerId=e.cssMarker.id,e.cssMarker.panel.saveCrop(t),this.cancelCropImageMedia(!1),null!=this.editorApi&&this.editorApi.onImageMediaCrop(t)}}},{key:"setCropImageMedia",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.cropToolShown){null!=this.cropTool&&(this.cropTool.hide(),this.cropTool=null);var n=this.lastActiveMarker.userData.cssMarker.panel,i=n.prepCrop(),r=e?null:n.marker.getEditorVar("imageMediaCropRectangle");if(this.cropTool=new _(".panel-image-container"),this.cropTool.show(),null!=r&&this.cropTool.setCropRect(r),this.cropToolShown=!0,!this.bottomCropUiEl){var o=this.localizedText,s=o.cropReset,a=o.cropCancel,l=o.cropDone;this.bottomCropUiEl=document.createElement("div"),this.bottomCropUiEl.innerHTML=ot({reset:s,cancel:a,done:l}),this.bottomCropUiEl=this.bottomCropUiEl.firstElementChild,this.bottomCropUiEl.style.zIndex=1e4,this.setCropUiBottom={},d.selectAllByRef(this.setCropUiBottom,this.bottomCropUiEl);var u=document.querySelector("#wrapper");null!=u&&u.appendChild(this.bottomCropUiEl),this.setCropUiBottom.threeBottomUiResetEl.addEventListener("click",(function(){t.resetCropImageMedia()})),this.setCropUiBottom.threeBottomUiDoneEl.addEventListener("click",(function(){t.saveCropImageMedia(),t.setMode(at.DEFAULT)})),this.setCropUiBottom.threeBottomUiCancelEl.addEventListener("click",(function(){t.cancelCropImageMedia(!0)}))}null!=this.editorApi&&null!=this.editorApi.forceFitInWindow&&this.editorApi.forceFitInWindow(),i(),this.bottomCropUiEl.style.display="block",this.updateSize(this.newWidth,this.newHeight),this.positionCropUi()}}},{key:"hideCrosshairUi",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.2,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8;null!=this.editorApi&&null!=this.editorApi.restoreFit&&this.editorApi.restoreFit(),h.to(this.setCamUi.threeCrosshairsEl,t,{opacity:0}),this.bottomCamUiEl.style.display="none",h.to(this.setCamUi.threeLatLonPillEl,t,{opacity:0,delay:e}),this.el.parentNode.classList.remove("three-setting-intial-camera"),this.enableVelocityDamping()}},{key:"cancelSetInitialCam",value:function(){this.hideCrosshairUi(0,0)}},{key:"updateVisitedMarkers",value:function(){if(null!=this.vars&&this.visitedMarkers<this.vars.total.value()){var t=this.getAllMarkers((function(t){return t.isVisited&&t.shouldTrack()})).length;this.visitedMarkers=t}}},{key:"setupVars",value:function(){null!=this.bind&&null!=this.navigation&&(this.vars={visitedPath:this.bind.visited,total:p.resolvePath(this.bind.total),visited:p.resolvePath(this.bind.visited)})}},{key:"hasNavigationVars",value:function(){return null!=this.bind&&null!=this.vars&&null!=this.vars.visitedPath&&null!=this.vars.total&&null!=this.vars.visited}},{key:"resetView",value:function(){this.visitedMarkers=0,this.resetMarkers(),this.setCameraTarget(this.initialLat,this.initialLon)}},{key:"updateResumeProps",value:function(){this.model.prop("CameraLat",this.lat),this.model.prop("CameraLon",this.lon)}},{key:"applyResume",value:function(){this.resumeVisitedMarkers(),this.visitedMarkersChanged(),this.cancelNudge(),this.setCameraTarget(this.model.prop("CameraLat"),this.model.prop("CameraLon")),this.downLat=this.lat,this.downLon=this.lon,this.accDidResume=!0}},{key:"resetMarkers",value:function(){Object.values(this.markersByIdx).forEach((function(t){t.reset()}))}},{key:"resumeVisitedMarkers",value:function(){for(var t=this.model.indexValues,e=this.model.labelValues,n=0;n<t.length;n++){var i=t[n];this.markersByIdx[i]&&this.markersByIdx[i].resumeVisited(e[i])}this.updateVisitedMarkers()}},{key:"getTokenValues",value:function(){var t=this.vars.total.value();return{count:this.isFreeNav()?this.visitedMarkers:Math.min(this.markerIdxInView+1,t),total:t}}},{key:"getNavigationText",value:function(){var t=this.getTokenValues(),e=t.count,n=t.total;return this.isFreeNav()?0===e?1===n?f.replaceTokens(this.navigation.totalItemText||f.getString("three_image_total_item"),t):f.replaceTokens(this.navigation.totalItemsText||f.getString("three_image_total_items"),t):f.replaceTokens(this.navigation.countOfTotalVisitedText||f.getString("three_image_count_of_total_visited"),t):this.isGuidedNav()?f.replaceTokens(this.navigation.countOfTotalText||f.getString("three_image_count_of_total"),t):void 0}},{key:"getVerboseNavigationText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.getTokenValues(),n=e.total,i=f.getString("three_image_interaction"),r=t?f.getString("three_image_instructions"):"",o=this.isFreeNav()?f.getString("three_image_interaction_free"):f.getString("three_image_interaction_guided"),s=void 0;if(this.isFreeNav()){var a=t?this.altText+" : "+i+". "+o+". ":"",l=1===n?f.getString("acc_three_image_count_of_total_item_visited",e):f.getString("acc_three_image_count_of_total_items_visited",e);s=""+a+l}else if(this.isGuidedNav()){var u=t?this.altText+" : "+i+". "+o+".":"",c=f.getString("acc_three_image_step_count_of_total",e);s=""+u+c}return s+". "+r}},{key:"updateNavigationText",value:function(){null!=this.navUi&&(this.navUi.threeNavContentEl.innerHTML=this.getNavigationText())}},{key:"setupNavigation",value:function(){if(this.hasNavigationVars()){var t=this.getAllMarkers((function(t){return t.shouldTrack()})).length;G(this.bind.total,t,this),this.isFreeNav()&&!0===this.navigation.visible?(this.navigationEl=this.miscOverlaysEl,null!=this.navigationEl&&(this.navigationEl.innerHTML=ut(this.navigation.textColor,this.navigation.backgroundColor),this.navUi={},d.selectAllByRef(this.navUi,this.navigationEl),this.updateNavigationText(),this.setLocVarsCenter())):this.isGuidedNav()&&(this.navigationEl=this.miscOverlaysEl,null!=this.navigationEl&&(this.setupGuidedUi(),this.goFirstGuidedMarker(),this.updateNavigationText()))}}},{key:"visitedMarkersChanged",value:function(){this.isGuidedNav()&&this.updateGuidedArrows()}},{key:"isFreeNav",value:function(){return this.navigation.type===ht.FREE}},{key:"isGuidedNav",value:function(){return this.navigation.type===ht.GUIDED}},{key:"setupGuidedUi",value:function(){!0===this.navigation.visible&&(this.navigationEl.innerHTML=ct(this.navigation.textColor,this.navigation.backgroundColor,this.playerAccentColor),this.navUi={},d.selectAllByRef(this.navUi,this.navigationEl),h.from(this.navUi.threeNavigationEl,.4,{opacity:0,delay:.4}),this.navUi.threeNavContentEl.addEventListener(Z,this.onNavClicked),this.navUi.threeGuidedLeftBtnEl.addEventListener(Z,this.goPrevGuidedClick),this.navUi.threeGuidedRightBtnEl.addEventListener(Z,this.goNextGuidedClick)),Object.values(this.markersByIdx).forEach((function(t){t.hide()}))}},{key:"goFirstGuidedMarker",value:function(){var t=this;this.slideObject.afterHtmlReady((function(){if(t.isGuidedNav()){var e=t.markersByIdx[t.markerIdxInView];null!=e&&(t.isNavigationPan=!0,e.show(),e.isHotspot()&&(e.polyHotspot.visible=t.hotspotReveal,e.polyHotspot.canClick=!0),t.panToMarker(e.id),t.updateGuidedArrows(),t.updateNavigationText())}}))}},{key:"isFirstMarkerWithNoResume",value:function(){return 0===this.markerIdxInView&&0===this.model.indexValues.length}},{key:"canNavNextMarker",value:function(){return-1!=this.model.indexValues.indexOf(this.markerIdxInView)&&this.markerIdxInView<this.vars.total.value()-1}},{key:"updateAccArrowBtns",value:function(t,e){var n=this;if(null!=this.prevAccBtn&&null!=t){var i=function(){t?n.prevAccBtn.setAttribute("aria-disabled",t):n.prevAccBtn.removeAttribute("aria-disabled")};if(this.prevAccBtn===document.activeElement){this.prevAccBtn.addEventListener("blur",(function t(){i(),n.prevAccBtn.removeEventListener("blur",t)}))}else i()}if(null!=this.nextAccBtn&&null!=e){var r=function(){e?n.nextAccBtn.setAttribute("aria-disabled",e):n.nextAccBtn.removeAttribute("aria-disabled")};if(this.nextAccBtn===document.activeElement){this.nextAccBtn.addEventListener("blur",(function t(){r(),n.nextAccBtn.removeEventListener("blur",t)}))}else r()}}},{key:"updateGuidedArrows",value:function(){if(null!=this.navUi){if(this.isFirstMarkerWithNoResume())return this.navUi.threeGuidedRightBtnEl.classList.add("three-guided-disabled"),this.navUi.threeGuidedLeftBtnEl.classList.add("three-guided-disabled"),void this.updateAccArrowBtns(!0,!0);this.canNavNextMarker()?(this.navUi.threeGuidedRightBtnEl.classList.remove("three-guided-disabled"),this.updateAccArrowBtns(null,!1)):(this.navUi.threeGuidedRightBtnEl.classList.add("three-guided-disabled"),this.updateAccArrowBtns(null,!0)),this.markerIdxInView>0?(this.navUi.threeGuidedLeftBtnEl.classList.remove("three-guided-disabled"),this.updateAccArrowBtns(!1)):(this.navUi.threeGuidedLeftBtnEl.classList.add("three-guided-disabled"),this.updateAccArrowBtns(!0))}}},{key:"hideShowGuidedArrows",value:function(){if(null!=this.prevMarker&&(this.prevMarker.hide(),null!=this.prevMarker.panel&&(this.model.updateLabelState(this.prevMarker.idx,this.prevMarker.panel.shown),this.model.setVisitedMarkers()),this.prevMarker.isHotspot()&&(this.prevMarker.polyHotspot.visible=!1,this.prevMarker.polyHotspot.canClick=!1)),null!=this.nextMarker)if(this.nextMarker.show(),this.nextMarker.isHotspot()&&(this.nextMarker.polyHotspot.canClick=!0),this.isNavigationPan=!0,this.accNavConfig){var t=this.accNavConfig,e=t.isAcc,n=t.cb;this.panToMarker(this.nextMarker.id,e,n),this.accNavConfig=null}else this.panToMarker(this.nextMarker.id);this.updateNavigationText(),this.updateGuidedArrows()}},{key:"setAccNavPanConfig",value:function(t){this.accNavConfig={isAcc:!0,cb:t}}},{key:"positionInitialCamUi",value:function(){if(this.mode===at.SET_INITIAL_CAMERA_ANGLE){var t=document.querySelector("#container");if(null!=t){var e=t.getBoundingClientRect();this.bottomCamUiEl.style.top=e.bottom+"px",this.bottomCamUiEl.style.left=e.left+"px",this.bottomCamUiEl.style.width=e.width+"px"}}}},{key:"positionCropUi",value:function(){if(this.mode===at.SET_CROP_IMAGE_MEDIA){var t=document.querySelector(".panel-image-frame");if(null!=t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top,bottom:e.bottom,width:e.width};if(n.width<410){n.width=410;var i=(410-e.width)/2;n.left=e.left-i}this.bottomCropUiEl.style.top=n.bottom+"px",this.bottomCropUiEl.style.left=n.left+"px",this.bottomCropUiEl.style.width=n.width+"px"}}}},{key:"setInitialCameraAngle",value:function(){var t=this;if(this.deselectMarker(),this.hotspotLayer.currHotspot=null,this.el.parentNode.classList.add("three-setting-intial-camera"),this.disableVelocityDamping(),this.panToCoord=!1,this.setCameraTarget(this.initialLat,this.initialLon),Object.values(this.sprites).forEach((function(t){if(null!=t){var e=t.userData.cssMarker;null!=e.panel&&e.panel.shown&&e.panel.hide()}})),null!=this.editorApi&&null!=this.editorApi.forceFitInWindow&&this.editorApi.forceFitInWindow(),this.crossHairsEl)this.crossHairsEl.style.display="block",this.setCamUi.threeCrosshairsEl.style.opacity=1,this.setCamUi.threeLatLonPillEl.style.opacity=1,this.bottomCamUiEl.style.display="block";else{this.bottomCamUiEl=document.createElement("div");var e=this.localizedText,n=e.initialCameraReset,i=e.initialCameraCancel,r=e.initialCameraDone;this.bottomCamUiEl.innerHTML=ot({reset:n,cancel:i,done:r}),this.bottomCamUiEl=this.bottomCamUiEl.firstElementChild,this.setCamUiBottom={},d.selectAllByRef(this.setCamUiBottom,this.bottomCamUiEl);var o=document.querySelector("#wrapper");null!=o&&o.appendChild(this.bottomCamUiEl),this.crossHairsEl=document.querySelector(".three-misc-overlays"),null!=this.crossHairsEl&&(this.crossHairsEl.innerHTML=rt()),this.setCamUi={},d.selectAllByRef(this.setCamUi,this.crossHairsEl),this.setCamUiBottom.threeBottomUiDoneEl.addEventListener("click",this.onSetInitialCamDone),this.setCamUiBottom.threeBottomUiResetEl.addEventListener("click",(function(){t.panToCoord=!1,t.deselectMarker(),t.setCameraTarget(0,0)})),this.setCamUiBottom.threeBottomUiCancelEl.addEventListener("click",(function(){null!=t.editorApi&&null!=t.editorApi.onCancelInitialCameraAngleSet&&t.editorApi.onCancelInitialCameraAngleSet(),t.setMode(at.DEFAULT)}))}this.positionInitialCamUi(),this.updateSize(this.newWidth,this.newHeight),h.from(this.setCamUi.threeCrosshairsEl,.2,{opacity:0})}},{key:"panComplete",value:function(){var t=this;if(this.panToCoord&&(this.setLocVarsCenter(),this.panToCoord=!1,null!=this.panCallback&&(this.panCallback(this.showNextSprite),this.panCallback=null)),this.selectNextSprite&&setTimeout((function(){t.currMarker&&(t.displayBoundingBox(),t.showMarkerBounds(),t.boundingBox.style.display="block",t.selectNextSprite=!1)}),300),null!=this.showNextSprite){var e=this.showNextSprite,n=e.userData.cssMarker,i=n.polyHotspot,r=n.isHotspot(),o=this.editMode||!this.isGuidedNav()||this.markerShownCounter>0,s=this.isAccPan;this.isAccPan&&(this.isAccPan=!1),s||(this.hotspotLayer.currHotspot=r&&o?i:null),(n.panel||n.hotspotHint)&&this.mode!==at.SET_INITIAL_CAMERA_ANGLE?(null!=n.panel&&(n.panel.forcePlaceCenter=!0),window.requestAnimationFrame((function(){if(!s&&(0!==t.markerShownCounter||t.editMode||t.model.labelValues[n.idx])){if(r){if(n.panel){t.calcSceneRect();var e=t.vecToScreenPosition(i.getCenterPoint(i.shapeMesh));n.panel.show(!0,e)}else a.trigger(l.threeSixtyImage.PUSH_DOWN_BY_LABEL);null!=n.hotspotHint&&n.hotspotHint.show()}else n.panel.show();null!=n.tooltip&&n.tooltip.toggleEditMode(!0)}null!=n.panel&&n.panel.hideSelectionBoxes(),t.markerShownCounter++}))):this.markerShownCounter++,this.isNavigationPan&&(window.requestAnimationFrame((function(){t.isFirstMarkerWithNoResume()||n.addToVisitedMarkers()})),this.isGuidedNav()&&(this.markerShownCounter>0&&n.triggerEvent("onlinkrelease",e.userData.id),r&&(i.visible=this.hotspotReveal,i.canClick=!0))),this.showNextSprite=null}this.isNavigationPan=!1}},{key:"moveCameraWithElement",value:function(){var t=50*this.sceneScale,e=.4,n=this.sceneRect.width-t,i=this.sceneRect.height-t,r=t,o=t,s=this.startPageX-this.pageX,a=this.startPageY-this.pageY,l=this.pageX/(window.innerWidth/this.sceneRect.width),u=this.pageY/(window.innerHeight/this.sceneRect.height);this.lat<ft&&this.lat>-89&&(l>n&&s<0?(this.changeLocX(-.4),this.needsElementPan=!0):l<r&&s>0&&(this.changeLocX(e),this.needsElementPan=!0)),u<o&&a>0?(this.changeLocY(e),this.needsElementPan=!0):u>i&&a<0&&(this.changeLocY(-.4),this.needsElementPan=!0),this.needsElementPan&&(this.dragMarker(this.pageX,this.pageY),this.applyVelocity(!0),this.draggingOffEdge=!0,this.needsElementPan=!1)}},{key:"updateHotspotStrokes",value:function(){(Math.abs(this.locXvel)>.005||Math.abs(this.locYvel)>.005)&&Object.values(this.sprites).forEach((function(t){if(null!=t){var e=t.userData.cssMarker;e.isHotspot()&&e.displayBounds()}}))}},{key:"showMarkerBounds",value:function(){var t=this.currMarker.userData.cssMarker.displayBounds();t!=this.currMarkerBounds&&(this.hideMarkerBounds(),this.currMarkerBounds=t)}},{key:"hideMarkerBounds",value:function(){null!=this.currMarkerBounds&&(this.currMarkerBounds.hideShowControlPoints(!1),this.currMarkerBounds.isHotspot()||(this.currMarkerBounds.boundsEl.style.display="none"),this.currMarkerBounds=null)}},{key:"triggerEvent",value:function(t,e){this.model.executeFilteredPlayerEvent((function(t){return t.triggerid===e}),t)}},{key:"executeMarkerEvent",value:function(t,e){"click"===e?this.triggerEvent("onlinkrelease",t.userData.id):"move"!==e||t.userData.isOver?"out"===e&&(t.userData.isOver=!1):t.userData.isOver=!0}},{key:"getMarkerIntersection",value:function(t,e,n){var i=this,r=!1;this.mouseRay.x=t/window.innerWidth*2-1,this.mouseRay.y=-e/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouseRay,this.camera);var o=this.scene.children.filter((function(t){return"Sprite"===t.type&&!t.userData.isBackSprite&&!t.userData.isHotspotControlPoint})),s=this.raycaster.intersectObjects(o,!1),a={};return s.forEach((function(t){if(r=!0,a[t.object.userData.id]=t.object,!t.object.visible)return null;"over"===n&&i.setCurrMarker(t.object)})),r}},{key:"deselectMarker",value:function(){this.setCurrMarker(null),this.boundingBox.style.display="none",this.hideMarkerBounds(),this.forcingCameraTarget=!1}},{key:"deselectCurrentMarkerOrHotspot",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker;t.props.hasPanel&&t.panel.hide(),t.isHotspot()&&this.hotspotLayer.currHotspot.deselect(),this.deselectMarker()}}},{key:"setCurrMarker",value:function(t){(null==this.hotspotLayer.currHotspot||this.hotspotLayer.currHotspot.finished)&&(this.currMarker=t,null!=t&&(this.lastActiveMarker=t),a.trigger(l.threeSixtyImage.SELECTED_MARKER_CHANGED,e.getPath(this,"currMarker.userData.cssMarker.id",null)),this.editMode&&null!=this.editorApi&&this.editorApi.onMarkerSelected(null!=this.currMarker?this.currMarker.userData.cssMarker.id:null))}},{key:"panToMarker",value:function(t,e,n){var i=this.sprites[t];if(null!=i){n&&(this.panCallback=n);var r=i.userData.cssMarker;if(null!=this.threeSixtyAcc&&this.isAccNav&&this.isNavigationPan&&null!=r.hotspotHint)return r.el.style.opacity=0,r.hotspotHint.show(),this.threeSixtyAcc.syncHotspotHint(r),void(r.hotspotHint.opened?(r.accHotspotHintBubbleEl.focus(),this.threeSixtyAcc.onInterceptShadowFocus({target:r.accHotspotHintBubbleEl})):(r.accHotspotHintEl.focus(),this.threeSixtyAcc.onInterceptShadowFocus({target:r.accHotspotHintEl})));if(this.isNavigationPan&&!this.hotspotReveal&&r.isHotspot()&&!e&&!this.isAccNav)return r.el.style.opacity=0,null!=r.hotspotHint&&r.hotspotHint.show(),void a.trigger(l.threeSixtyImage.PUSH_DOWN_BY_LABEL);this.isAccPan=e,this.setPanToCoord(i.position),this.showNextSprite=i}}},{key:"setPanToCoord",value:function(t){this.spherical.setFromCartesianCoords(t.x,t.y,t.z),this.panCoord=this.spherical;var e=L-this.panCoord.theta,n=V(this.theta,e);this.panCoord.theta=this.theta+n,this.panToCoord=!0}},{key:"getMarkerData",value:function(t){var e=this.getMarker(t);if(null!=e)return e.getData()}},{key:"getAllMarkers",value:function(t){return c.reduce(this.sprites,(function(e,n){var i=n.userData.cssMarker;return(null==t||t(i))&&e.push(i),e}),[])}},{key:"getAllMarkerData",value:function(t){var e=[];for(var n in this.sprites){var i=this.sprites[n].userData.cssMarker;(null==t||t.includes(i.id))&&e.push(i.getData())}return e}},{key:"getCentermostMarker",value:function(){this.calcSceneRect();var t=[],n={x:this.sceneRect.width/2,y:this.sceneRect.height/2};this.camera.updateMatrix(),this.camera.updateMatrixWorld();var i=new THREE.Frustum;for(var r in i.setFromMatrix((new THREE.Matrix4).multiplyMatrices(this.camera.projectionMatrix,this.camera.matrixWorldInverse)),this.sprites){var o=this.sprites[r].userData.cssMarker,s=o.isHotspot()?o.polyHotspot.shapeMesh:o.sprite;if(i.containsPoint(s.position)){var a=this.toScreenPosition(s,!0);if(null!=a){var l=e.dist(n.x,n.y,a.x,a.y);t.push({dist:l,marker:o})}}}var u=t.sort((function(t,e){return t.dist-e.dist}))[0];return null!=u&&u.marker}},{key:"mouseIntersect",value:function(t,e){return this.mouseRay.x=t/window.innerWidth*2-1,this.mouseRay.y=-e/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouseRay,this.camera),this.raycaster.intersectObject(this.sphereMesh,!1)}},{key:"placeMarkerFromContextMenu",value:function(t){null!=this.contextMenuOrigin&&this.placeMarker(this.contextMenuOrigin.pageX,this.contextMenuOrigin.pageY,t.props,t.id)}},{key:"placeMarker",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],o=this.mouseIntersect(t,e),s=void 0,a=void 0;if(o.length>0){var l=o[0].point;l.lerp(new THREE.Vector3(0,0,0),.05);var u=function(){null!=n.editorApi&&n.editorApi.onMarkerPlaced(s.marker.getData())};if(a=(s=this.createSprite(l,r,i)).marker.isHotspot())if(s.marker.hide(),s.marker.el.style.display="none",null==s.marker.props.hotspotData)this.setMode(at.DRAWING_HOTSPOT),this.hotspotLayer.beginHotspot(l,s.marker,u);else{var c=this.hotspotLayer.createHotspot(s.marker.props.hotspotData,s.marker);c.drag(l),u(),this.setCurrMarker(c.marker.sprite),this.setFocus({focus:b})}else u(),this.makeMarkerSwitchable(s.marker,l);this.stopVelocity(),this.hideMarkerBounds(),this.setCurrMarker(s.sprite),a||this.setFocus({focus:b})}a||this.setMode(at.DEFAULT)}},{key:"makeMarkerSwitchable",value:function(t,e){this.editMode&&"normal"===t.props.type&&(this.hotspotLayer.createHotspotAtPoint(e,t),t.polyHotspot.visible=!1)}},{key:"dragMarker",value:function(t,e){this.boundingBox.style.display="block",this.mouseRay.x=t/window.innerWidth*2-1,this.mouseRay.y=-e/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mouseRay,this.camera);var n=this.raycaster.intersectObject(this.sphereMesh,!1);if(n.length>0){var i=n[0].point;i.lerp(new THREE.Vector3(0,0,0),.05),this.drag.started||(this.drag.startX=i.x-this.currMarker.position.x,this.drag.startY=i.y-this.currMarker.position.y,this.drag.startZ=i.z-this.currMarker.position.z,this.drag.started=!0,this.drag.count=0),this.drag.started&&(i.set(i.x-this.drag.startX,i.y-this.drag.startY,i.z-this.drag.startZ),this.drag.count++),this.currMarker.position.copy(i);var r=this.currMarker.userData.cssMarker;r.updateLoc(i),null!=r.polyHotspot&&r.polyHotspot.drag(i,!0)}}},{key:"canDragMarker",value:function(){return this.editMode&&this.downOnMarker&&null!=this.currMarker&&this.mode!=at.SET_INITIAL_CAMERA_ANGLE}},{key:"checkHideHotspotPanel",value:function(){if(this.drag.started&&this.drag.count>4){var t=this.currMarker.userData.cssMarker;t.isHotspot()&&t.panel.shown&&(t.panel.hide(!0),this.hotspotLayer.currHotspot=null)}}},{key:"setLocVarsCenter",value:function(){this.calcSceneRect(),this.forcingCameraTarget=!1,this.downX=this.sceneRect.width/2,this.downY=this.sceneRect.height/2,this.locX=this.downX,this.locY=this.downY,this.locXvel=this.locYvel=this.locDist=this.locTheta=0,this.downLon=this.lon,this.downLat=this.lat,this.prevLocX=this.lastUpX=this.locX,this.prevLocY=this.lastUpY=this.locY,this.setLonLat(this.locX,this.locY)}},{key:"updateSize",value:function(t,n){var i=this;if(this.mode===at.SET_INITIAL_CAMERA_ANGLE||this.mode===at.SET_CROP_IMAGE_MEDIA){var r=(n-st)/n;t*=r,n*=r,window.ResizeContainer(t,n),document.getElementById("container").scrollIntoView({inline:"center",block:"center"}),this.calcSceneRect()}if(this.positionInitialCamUi(),this.positionCropUi(),clearTimeout(this.uiPositionId),this.uiPositionId=setTimeout((function(){i.positionInitialCamUi(),i.positionCropUi()}),100),this.newWidth=t,this.newHeight=n,a.trigger(l.threeSixtyImage.RESIZED,{scale:e.getPath(this,"slideObject.props.winScale",1),width:t,height:n}),null!=this.currMarker){var o=this.currMarker.userData.cssMarker;if(null!=o.panel&&o.panel.shown){var s=o.isHotspot();window.requestAnimationFrame((function(){return o.panel.update(s)}))}}}},{key:"hideLastPanel",value:function(){s.hideLast()}},{key:"lastPanel",value:function(){return s.last}},{key:"hidePanelAndDeselect",value:function(){if(null!=this.currMarker){var t=this.currMarker.userData.cssMarker,e=t.panel;null!=e&&e.hide(!0),t.disableActive()}else if(this.hotspotLayer.currHotspot){var n=this.hotspotLayer.currHotspot.marker;null!=n&&n.panel&&n.panel.hide(!0),this.hotspotLayer.currHotspot.deselect()}}},{key:"changeLocX",value:function(t){return this.hidePanelAndDeselect(),this.panToCoord=!1,this.forcingCameraTarget=!1,this.locXvel+=t,!0}},{key:"changeLocY",value:function(t){return this.hidePanelAndDeselect(),this.panToCoord=!1,this.forcingCameraTarget=!1,this.locYvel+=t,!0}},{key:"setCameraTarget",value:function(t,e){this.forcingCameraTarget=!0,this.lat=t||0,this.lon=e||0}},{key:"visitedMarkers",set:function(t){this.vars&&(G(this.vars.visitedPath,t,this),this.updateNavigationText())},get:function(){if(this.vars)return p.resolvePath(this.vars.visitedPath).value()}},{key:"markerIdxInView",set:function(t){this.model&&this.model.prop("MarkerInView",t)},get:function(){return this.model&&this.model.prop("MarkerInView")}}]),t}(),gt=function(){var t=this;this.updateMarker=function(e){var n=t.getMarker(e.id);null!=n&&n.adjust(e)},this.onMarkerUpdated=function(e){null!=t.editorApi&&t.editorApi.onMarkerUpdated(e.getData())},this.onTransitionIn=function(){t.nudgeOnLoad?t.nudge():t.cancelNudge()},this.onResize=function(){for(var e in t.sprites){t.sprites[e].userData.cssMarker.resize()}},this.onForceRender=function(e){e===t.id&&(t.renderer.render(t.scene,t.camera),t.cssRenderer.render(t.cssScene,t.camera))},this.renderSpriteBoundingBox=function(e,n){var i=n.scale.x*t.sceneRect.width/2,r=n.scale.y*t.sceneRect.height/2;t.spriteWidth=i,t.spriteHeight=r,Object.assign(t.boundingBox.style,{left:e.x-i/2+t.sceneRect.width/2+"px",top:e.y-r/2+t.sceneRect.height/2+"px",width:i+"px",height:r+"px"})},this.onBoxDown=function(n){if(null!=t.currMarker){var i=q(n,t),r=i.pageX,o=i.pageY,s=t.getBoxCenter(),a=s.cx,l=s.cy;t.handleData={isNonUniform:n.target.classList.contains("non-uniform"),dir:n.target.dataset.axis};var u=t.currMarker.scale.x,c=t.currMarker.scale.y,h=e.dist(r,o,a,l);t.scaleRatioX=u/h,t.scaleRatioY=c/h,document.addEventListener("mousemove",t.onBoxMove),document.addEventListener("mouseup",t.onBoxUp)}},this.onBoxMove=function(n){var i=q(n,t),r=i.pageX,o=i.pageY,s=t.getBoxCenter(),a=s.cx,l=s.cy,u=t.currMarker.userData.cssMarker,c=e.dist(r,o,a,l),h=void 0;if(t.handleData.isNonUniform)"x"===t.handleData.dir?(h=Math.max(50,c*t.scaleRatioX),u.scaleX(h)):"y"===t.handleData.dir&&(h=Math.max(50,c*t.scaleRatioY),u.scaleY(h));else if(t.currMarker.userData.cssMarker.isHotspot()){var d=Math.max(50,c*t.scaleRatioX),p=Math.max(50,c*t.scaleRatioY);u.scale(d,p)}else h=e.clamp(50,200,c*t.scaleRatioX),u.scale(h,h)},this.onBoxUp=function(e){t.handleData=null,document.removeEventListener("mousemove",t.onBoxMove),document.removeEventListener("mouseup",t.onBoxUp)},this.fixCssScrolling=function(){t.cssRenderer.domElement.scrollLeft>0&&(t.cssRenderer.domElement.scrollLeft=0),t.cssRenderer.domElement.scrollTop>0&&(t.cssRenderer.domElement.scrollTop=0),t.cssScrollingId=window.requestAnimationFrame(t.fixCssScrolling)},this.onTextureReady=function(){for(var e=vt.loadTracker[t.slideObject.currSlideId],n=0;n<e.length;n++)if(e[n].id===t.slideObject.props.model.absoluteId){e[n].ready=!0;break}},this.onSetInitialCamDone=function(){if(t.mode===at.SET_INITIAL_CAMERA_ANGLE){t.setCamUi.threeLatLonTextEl.innerHTML="<div>\n        "+t.localizedText.initialViewSet+"\n      </div>";var e=document.createElement("div");d.setStyles(e,{position:"absolute",width:"100%",height:"100%",left:0,top:0,background:"white",opacity:1}),t.el.appendChild(e),h.to(e,.3,{opacity:0,onComplete:function(){t.el.removeChild(e)}}),t.hideCrosshairUi(),t.initialLat=t.lat,t.initialLon=t.lon,null!=t.editorApi&&t.editorApi.onInitialCameraAngleSet(t.lat,t.lon),t.setMode(at.DEFAULT)}},this.onNavClicked=function(t){t.stopPropagation()},this.goPrevGuidedClick=function(e){t.guidedNavClicked=!0,t.goPrevGuided(),e.stopPropagation()},this.goPrevGuided=function(){t.prevMarker=t.markersByIdx[t.markerIdxInView],t.nextMarker=t.markersByIdx[t.markerIdxInView-1],t.markerIdxInView--,t.isGuidedPrevShow=!0,t.nextMarker.disablePulse(),t.nextMarker.downActiveState(),t.prevMarker.active=!1,t.hideShowGuidedArrows()},this.goNextGuidedClick=function(e){t.guidedNavClicked=!0,t.goNextGuided(),e.stopPropagation()},this.goNextGuided=function(){t.markerIdxInView++,t.prevMarker=t.markersByIdx[t.markerIdxInView-1],t.nextMarker=t.markersByIdx[t.markerIdxInView],t.isGuidedNextShow=!0,t.nextMarker.disablePulse(),t.nextMarker.downActiveState(),t.prevMarker.active=!1,t.hideShowGuidedArrows()},this.animate=function(e){e=e||performance.now();var n=t.kpPanAnimation,i=Math.min(e-t.lastTimeStampMs,1/n);t.lastTimeStampMs=e,t.width==t.newWidth&&t.height==t.newHeight||t.changeSize(),t.editMode&&null!=t.currMarker&&!t.currMarker.userData.cssMarker.isHotspot()&&t.moved&&(t.downOnMarker||t.hotspotLayer.down)&&t.moveCameraWithElement(),t.panToCoord?(t.phi+=n*(t.panCoord.phi-t.phi)*i,t.theta+=n*(t.panCoord.theta-t.theta)*i,t.lat=THREE.Math.radToDeg(L-t.phi),t.lon=THREE.Math.radToDeg(t.theta),Math.abs(t.phi-t.panCoord.phi)<.005&&Math.abs(t.theta-t.panCoord.theta)<.005&&t.panComplete()):(t.applyVelocity(),t.lat=Math.max(t.latMin,Math.min(t.latMax,t.lat)),t.phi=THREE.Math.degToRad(90-t.lat),t.theta=THREE.Math.degToRad(t.lon)),t.targetX=t.radius*Math.sin(t.phi)*Math.cos(t.theta),t.targetY=t.radius*Math.cos(t.phi),t.targetZ=t.radius*Math.sin(t.phi)*Math.sin(t.theta),t.camera.target.set(t.targetX,t.targetY,t.targetZ),t.camera.lookAt(t.camera.target),t.renderer.render(t.scene,t.camera),t.cssRenderer.render(t.cssScene,t.camera),t.editMode&&(t.updateHotspotStrokes(),t.displayBoundingBox(),null!=t.currMarker&&t.showMarkerBounds(),t.mode===at.SET_INITIAL_CAMERA_ANGLE&&t.updateLatLonUi()),t.animateId=window.requestAnimationFrame(t.animate)},this.onMouseDown=function(e){t.contextMenuOrigin=null,t.hotspotLayer.lastHotspotIntersection=null,t.lastMouseEvent=e,t.moved=!1;var n=e.touches||[e];t.startX=n[0].screenX,t.startY=n[0].screenY;var i=X(e),r=K(e);if(t.editMode){if(!i&&!r)return}else if(!i)return;t.calcSceneRect();var o=q(e,t),s=o.pageX,a=o.pageY,l=o.gesture;if(t.startPageX=s,t.startPageY=a,r&&t.editMode){if(t.hotspotLayer.getHotspotIntersection(s,a))return;return t.contextMenuOrigin={pageX:s,pageY:a},e.preventDefault(),void t.editorApi.onRightClickImage()}if(!(l||t.mobileZoom>P||t.allowSwiping||t.hotspotLayer.onMouseDown(e,s,a)&&t.editMode)){if(t.editMode&&t.mode===at.ADD_MARKER)return e.stopPropagation(),t.placeMarker(s,a,t.upcomingMarkerData.props,t.upcomingMarkerData.id),void e.preventDefault();if(t.panToCoord=!1,t.editMode&&t.mode!=at.SET_INITIAL_CAMERA_ANGLE&&t.getMarkerIntersection(s,a,"over"))return t.boundingBox.style.display="block",void(t.downOnMarker=!0);null==t.hotspotLayer.draggableHotspot&&t.setCurrMarker(null),t.boundingBox.style.display="none",t.hideMarkerBounds(),t.isDragging=!0,t.forcingCameraTarget=!1,t.downX=s,t.downY=a,t.locX=s,t.locY=a,t.locXvel=0,t.locYvel=0,t.downLon=t.lon,t.downLat=t.lat,t.locDist=0}},this.setupSuppressOnSelectionChange=function(){t.suppressOnSelectionChange+=1},this.teardownSuppressOnSelectionChange=function(){t.suppressOnSelectionChange>0&&(t.suppressOnSelectionChange-=1)},this.withOnSelectionChange=function(e){t.withoutOnSelectionChange(e),t.onSelectionChange()},this.withoutOnSelectionChange=function(e){t.setupSuppressOnSelectionChange(),e(),t.teardownSuppressOnSelectionChange()},this.onSelectionChange=function(){if(null!=t.editorApi&&0==t.suppressOnSelectionChange){var n=t.getCurrInputElement(),i=t.getInputType(n),r=t.getCurrMediaElementType(),o=t.getIsMediaShowing(),s=void 0;if(null==n)s={isCollapsed:!0,isRightToLeft:!1,textInputType:i,supportsParagraphs:!1,type:"none",mediaType:r,isMediaShowing:o,spanStyle:null};else{var a=document.getSelection();s={isCollapsed:a.isCollapsed,isRightToLeft:null!=a.anchorNode?e.isRtlText(a.anchorNode.textContent):null,textInputType:i,supportsParagraphs:B(n),type:a.rangeCount>0?a.type.toLowerCase():"none",mediaType:r,isMediaShowing:o,spanStyle:a.rangeCount>0?it(n,a.getRangeAt(0)):null}}var l=JSON.stringify(s);t.lastSelectionChangedEventArgs!==l&&(t.editorApi.onSelectionChanged(s),t.lastSelectionChangedEventArgs=l)}},this.onMouseMove=function(n){var i=q(n,t),r=i.pageX,o=i.pageY,s=i.gesture;if(t.lastMouseEvent=n,!(s||t.mobileZoom>P||t.allowSwiping)){t.pageX=r,t.pageY=o;var a=n.touches||[];if(!(!t.moved&&1===a.length&&Math.abs(t.startX-a[0].screenX)<1&&Math.abs(t.startY-a[0].screenY)<1||(t.moved=!0,t.hotspotLayer.onMouseMove(n,r,o),t.editMode&&t.hotspotLayer.isEditing())))if(t.canDragMarker())t.checkHideHotspotPanel(),t.dragMarker(r,o);else if(t.isDragging){t.prevLocX=t.locX,t.prevLocY=t.locY;var l=q(n,t),u=l.pageX,c=l.pageY;t.locX=u,t.locY=c,t.locDist=e.dist(t.locX,t.locY,t.prevLocX,t.prevLocY),t.locTheta=H(t.locX,t.locY,t.prevLocX,t.prevLocY),t.locXvel=t.locDist*Math.cos(t.locTheta),t.locYvel=t.locDist*Math.sin(t.locTheta),t.setLonLat(t.locX,t.locY),t.lastDragTime=performance.now()}else t.getMarkerIntersection(r,o,"move")}},this.onMouseUp=function(e){if(t.lastMouseEvent){var n=q(t.lastMouseEvent,t),i=n.pageX,r=n.pageY;if(t.lastUpX=i,t.lastUpY=r,t.hotspotLayer.onMouseUp(e,i,r),t.getMarkerIntersection(i,r,"click"),null!=t.pinch.currMatrix&&(t.pinch.scale=t.pinch.currMatrix.getScale().x-.19999999999999996,t.pinch.matrix=t.pinch.currMatrix),t.draggingOffEdge&&(t.stopVelocity(),t.draggingOffEdge=!1),t.isDragging&&(performance.now()-t.lastDragTime>100&&t.stopVelocity(),t.isDragging=!1),t.downOnMarker){if(t.downOnMarker=!1,t.drag.started=!1,null!=t.currMarker)t.currMarker.userData.cssMarker.dragging=!1}else t.hotspotLayer.lastHotspotIntersection||"360-image"!==t.lastMouseEvent.target.dataset.canvasType||null!=t.threeSixtyAcc&&"CANVAS"===e.target.tagName&&t.threeSixtyAcc.el.focus()}}},mt=void 0;return vt.loadTracker={},vt.isWaitingLoad=function(t,e){var n=!1,i=g.getCurrentWindowSlide().absoluteId,r=vt.loadTracker[i];return null==r||0===r.length||(vt.loadTracker[i].forEach((function(t){t.ready||(n=!0)})),!t&&n&&(clearInterval(mt),mt=setInterval((function(){vt.isWaitingLoad(!0)||(clearInterval(mt),e())}),16))),n},vt}.call(e,n,e,t))||(t.exports=i)},1294:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(7097),r=n(82),o=n(7812),s=o.math.TO_RADIANS,a=function(){this.reset()};return e.extend(a.prototype,{adjustByViewProps:function(t){return this.translate(t.RawXPos,t.RawYPos).scale(t.ScaleX,t.ScaleY,t.rotateXPos,t.rotateYPos).rotate(t.Rotation,t.rotateXPos,t.rotateYPos),this},reset:function(){return this.a=this.d=1,this.c=this.b=this.tx=this.ty=0,this},translate:function(t,e){return this.tx+=t*this.a+e*this.b,this.ty+=t*this.c+e*this.d,this},scale:function(t,e,n,i){var r=n||i;return r&&this.translate(n,i),this.a*=t,this.c*=t,this.b*=e,this.d*=e,r&&this.translate(-n,-i),this},rotate:function(t,e,n){t*=s;var i=Math.cos(t),r=Math.sin(t),o=e-e*i+n*r,a=n-e*r-n*i,l=this.a,u=this.b,c=this.c,h=this.d;return this.a=i*l+r*u,this.b=-r*l+i*u,this.c=i*c+r*h,this.d=-r*c+i*h,this.tx+=o*l+a*u,this.ty+=o*c+a*h,this},skew:function(t,e,n,i){var r=n||i,o=this.a,a=this.c;return t=Math.tan(t*s),e=Math.tan(e*s),r&&this.translate(n,i),this.a+=e*this.b,this.c+=e*this.d,this.b+=t*o,this.d+=t*a,r&&this.translate(-n,-i),this},transform:function(t,e){return{x:t*this.a+e*this.b+this.tx,y:t*this.c+e*this.d+this.ty}},copy:function(){var t=new a;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},invert:function(){var t=1/(this.a*this.d-this.b*this.c),e=this.d*t,n=-this.b*t,i=-this.c*t,r=this.a*t,o=t*(this.b*this.ty-this.d*this.tx),s=t*(this.c*this.tx-this.a*this.ty);return this.a=e,this.b=n,this.c=i,this.d=r,this.tx=o,this.ty=s,this},toCssTransform:function(){var t=r.fix(this.a,6),e=r.fix(this.b,6),n=r.fix(this.c,6),o=r.fix(this.d,6),s=r.fix(this.tx,6),a=r.fix(this.ty,6);return i.buildTransformFn("matrix",t,n,e,o,s,a)},getScale:function(){return{x:r.hypot(this.a,this.c),y:r.hypot(this.b,this.d)}},transformPoint:function(t,e){return{x:t*this.a+e*this.b+this.tx,y:t*this.c+e*this.d+this.ty}},unTransformPoint:function(t,e){return this.copy().invert().transformPoint(t,e)},decompose:function(){var t,e,n,i=this.a,r=this.b,o=this.c,s=this.d;return n=i*s-r*o,Math.abs(n)<=1e-12?null:(r/=t=Math.sqrt(i*i+r*r),(i/=t)*(s/=e=Math.sqrt(o*o+s*s))<r*(o/=e)&&(i=-i,r=-r,t=-t),{scaling:{x:t,y:e},rotation:180*-Math.atan2(r,i)/Math.PI})},delta:function(t){var e=new a;return e.a=this.a-t.a,e.b=this.b-t.b,e.c=this.c-t.c,e.d=this.d-t.d,e.tx=this.tx-t.tx,e.ty=this.ty-t.ty,e},add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new a;return n.a=this.a+t.a*e,n.b=this.b+t.b*e,n.c=this.c+t.c*e,n.d=this.d+t.d*e,n.tx=this.tx+t.tx*e,n.ty=this.ty+t.ty*e,n},append:function(t){var e=this.a,n=this.b,i=this.c,r=this.d,o=t.a,s=t.b,a=t.c,l=t.d,u=t.tx,c=t.ty;return this.a=o*e+a*n,this.b=s*e+l*n,this.c=o*i+a*r,this.d=s*i+l*r,this.tx+=u*e+c*n,this.ty+=u*i+c*r,this},isEqual:function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},isOnlyTranslated:function(t){return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d}}),a}.call(e,n,e,t))||(t.exports=i)},9739:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r,o=n(6486),s=n(5470),a=n(8880),l=n(82),u=n(4811),c=n(9032),h=!1===window.globals.suppressAnalytics&&-1===window.location.protocol.indexOf("file");if(h){e=document.createElement("iframe"),i=function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}(),r=u.Deferred();e.setAttribute("aria-hidden","true"),e.id="analytics-frame",e.src="analytics-frame.html#"+i,e.style.position="fixed",e.style.left="-1000px",e.style.top=0,window.addEventListener("message",(function t(n){n.data.id===i&&("loaded"===n.data.message?r.resolve():"xhr sent"===n.data.message&&(document.body.removeChild(e),window.removeEventListener("message",t),e=null,i=null))})),document.body.appendChild(e)}var d={initialize:function(t){o.bindAll(this,"onMounted"),this.confirmValidProps(),this.dfd=r,t.assetLib(),t.slideMap(),c.once(a.slide.HAS_MOUNTED,this.onMounted)},confirmValidProps:function(){this.hasValidProps=["productChannel","publishSource","aid","cid","playerVersion"].every((function(t){return null!=window.globals[t]}))},getDevicePixelRatio:function(){return window.devicePixelRatio},formatScreenResolution:function(){return window.screen.width+"x"+window.screen.height},onMounted:function(t){var e=Math.round(performance.now()),n=l.getPath(t,"props.model.parent.isMessageScene",!1),i=document.getElementById("font-test"),r=document.getElementById("font-test-download"),o=document.getElementById("font-test-default"),a=Math.floor(r.getComputedTextLength())!==Math.floor(o.getComputedTextLength()),u={os:[s.osname,s.osversion].join(" "),browser:[s.name,s.version].join(" "),playerVersion:window.globals.playerVersion,playerType:"HTML5-A",playerFrame:"unified"===window.globals.themeName?"modern":"classic",publishTimestamp:window.globals.publishTimestamp,lmsPresent:window.globals.lmsPresent,tinCanPresent:window.globals.tinCanPresent,cmi5Present:window.globals.cmi5Present,aoSupport:window.globals.aoSupport,protocol:window.location.protocol.slice(0,-1),productChannel:window.globals.productChannel,publishSource:window.globals.publishSource,cid:window.globals.cid,timeToLoad:e,resumePrompt:n,canDownloadFonts:a,screenResolution:d.formatScreenResolution(),pixelRatio:d.getDevicePixelRatio()};i.parentNode.removeChild(i),this.sendMessage("player_course_load",u)},sendMessage:function(t,n){h&&this.hasValidProps&&r.then((function(){e.contentWindow.postMessage({id:i,event:t,properties:n,aid:window.globals.aid},"*")}))}};return d}.call(e,n,e,t))||(t.exports=i)},857:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(8880),r=n(9032),o={callbacks:[],endFrameCallbacks:[],frameRequested:!1,staleFrameRequested:!1,timeStale:!0,staleTime:-1,lastCpuTime:Date.now(),lastEndFrameTime:0,currentTime:0,locks:[],locked:!1,waitingLock:!1,clockOverridden:!1,overrideClock:function(t){this.clockOverridden=!0,this.frameTimeMs=t},requestAnimationFrame:function(t,e){e?this.endFrameCallbacks.push(t):this.callbacks.push(t),this.frameRequested||(this.frameRequested=!0,this.staleFrameRequested||this.clockOverridden||window.requestAnimationFrame(this.tick.bind(this)),this.staleFrameRequested=!1)},lock:function(){var t=e.uniqueId("lock-");return this.locks.push(t),this.locked=!0,t},unlock:function(t){e.pull(this.locks,t),this.locked=this.locks.length>0,!this.locked&&this.waitingLock&&(this.waitingLock=!1,this.tick())},updateTime:function(){var t=Date.now(),e=t-this.lastCpuTime;return this.lastCpuTime=t,e>132&&(e=33),this.currentTime+=this.clockOverridden?this.frameTimeMs:e,this.currentTime},requestStaleFrame:function(){this.frameRequested||this.staleFrameRequested||this.clockOverridden||(this.staleFrameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},requestEndFrameTick:function(){this.frameRequested||this.clockOverridden||(this.frameRequested=!0,window.requestAnimationFrame(this.tick.bind(this)))},time:function(){return this.timeStale&&(this.requestStaleFrame(),-1===this.staleTime&&(this.staleTime=this.updateTime()),this.frameTime=this.staleTime),this.frameTime},tick:function(){if(this.locked)this.waitingLock=!0;else{var t=this.frameRequested;this.staleFrameRequested=!1,this.frameRequested=!1,this.frameTime=this.updateTime(),this.staleTime=-1,this.timeStale=!1,this.callbacks.length>0&&this.executeCallbacks(),this.endFrameCallbacks.length>0&&(this.currentTime-this.lastEndFrameTime>=33?(this.lastEndFrameTime=this.currentTime,this.executeCallbacks(!0)):this.requestEndFrameTick()),t?this.requestStaleFrame():this.timeStale=!0}},executeCallbacks:function(t){var e,n;t?(e=this.endFrameCallbacks.slice(0),this.endFrameCallbacks=[]):(e=this.callbacks.slice(0),this.callbacks=[]),n=e.length;for(var i=0;i<n;i++)e[i](this.frameTime)}};return r.on([i.detection.VISIBILITY_SHOWN,i.detection.VISIBILITY_HIDDEN].join(" "),o.updateTime.bind(o)),o}.call(e,n,e,t))||(t.exports=i)},9229:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i=n(6486),r=n(7812),o=n(8880),s=n(4811),a=n(9032);return new(n(4698).extend({accessibleTextVar:null,shorthand:["currentLayout","currentVolume","accessibleTextOn"],subscriptions:(e={},e[o.app.COMPLETE]="onAppComplete",e[o.controlLayout.CHANGED]="onLayoutChanged",e),initialize:function(){i.bindAll(this,"setAccessibleTextFromVar"),this.appCompleteDfd=new s.Deferred,this.setVolume(r.DEFAULT_VOLUME)},connectVariables:function(t){var e=this,n=t.accessibleTextVar,i=t.fullScreenModeVar;if(null!=n){this.accessibleTextVar=n;var r=this.accessibleTextVar.value();this.accessibleTextOn(r),this.accessibleTextVar.on("change:value",this.setAccessibleTextFromVar),r&&this.onToggleAccessibleText(r)}var s=DS.utils.fullScreen;if(null!=i&&s.isSupported()){var l=document.getElementById("frame");this.fullScreenModeVar=i,s.addChangeListener((function(){e.fullScreenModeVar.changeValue(s.getEl()===l)})),this.fullScreenModeVar.on("change:value",(function(){if(e.fullScreenModeVar.value()){if(DS.presentation.isPreview())return void a.trigger(o.preview.NOTIFY,"PREVIEW_FULLSCREEN");s.request(l)}else s.exit()}))}},setAccessibleTextFromVar:function(t){this.onToggleAccessibleText(t.value())},getAppCompletePromise:function(){return this.appCompleteDfd.promise()},onAppComplete:function(){this.appCompleteDfd.resolve()},unsetAttrs:function(){return this.set(i.toArray(arguments).reduce((function(t,e){return t[e]=null,t}),{})),this},onLayoutChanged:function(t,e){this.currentLayout(t),this.trigger(o.layout.CHANGED,this,t,e)},setVolume:function(t){this.volumeToggle=!1,this.currentVolume(t),a.trigger(o.volume.CHANGED,t)},onToggleVolume:function(){this.volumeToggle||(this.lastVolume=this.currentVolume()),this.volumeToggle=!this.volumeToggle;var t=this.volumeToggle?0:this.lastVolume;this.currentVolume(t),a.trigger(o.volume.CHANGED,t)},onToggleAccessibleText:function(t){var e=null==t?!this.accessibleTextOn():t;this.accessibleTextOn(e),null!=this.accessibleTextVar&&this.accessibleTextVar.value()!==e?this.accessibleTextVar.changeValue(e):this.trigger(DS.events.player.ACCESSIBLE_TEXT_CHANGED,e)}}))}.call(e,n,e,t))||(t.exports=i)},1421:function(t,e,n){"use strict";var i;void 0===(i=function(){return window.AudioContext||window.webkitAudioContext||null}.call(e,n,e,t))||(t.exports=i)},5611:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r,o=n(6486),s=n(5641),a=n(857),l=n(8880),u=n(9032),c=n(82),h=n(8579),d=n(9995),p=n(9005),f=n(520),v=n(7510).addBodyListener,g={},m=window.vInterfaceObject||window,y={mainWindow:null,updateTime:function(){var t=f.getCurrentWindowSlide();return null!=t&&a.tick(),this.getIsPlaying(t)||r},getIsPlaying:function(t){var e=this,n=t.getBaseLayer(),i=t.slideLayers().activeLayers,r=this.isLayerTimelinePlaying(n);return!r&&i.length>0&&(r=i.some((function(t){return e.isLayerTimelinePlaying(t)}))),r},isLayerTimelinePlaying:function(t){return!t.getHasTimelineFinished()&&!t.getIsTimelinePaused()},nextSlide:function(){var t=e.shift();t&&u.trigger(l.request.NEXT_SLIDE,c.prefixWithPlayer(t))},pausePlayer:function(){u.trigger(l.detection.VISIBILITY_HIDDEN)},playPlayer:function(){u.trigger(l.detection.VISIBILITY_SHOWN)}},b={silenceActions:{trigger_next_slide:!1,close_player:!1},initialize:function(t,n){var r=c.parseParams();if("1"===r.automation&&(window.autoSpider=!0,this.silenceActions.trigger_next_slide=!0,this.silenceActions.close_player=!0),window.autoSpider){i=r.frametimems?parseFloat(r.frametimems):33.33,v("mousedown",this.onPlayerClicked.bind(this)),v("touchstart",this.onPlayerClicked.bind(this)),window.g_nWidth=n.display().width(),window.g_nHeight=n.display().height(),"1"===r.overrideclock&&(s.prototype.play=o.noop,a.overrideClock(i),this.clockIsOverridden=!0,u.on(l.video.STATE_CHANGED,this.onVideoEvent.bind(this)));e=o(n.slideMap().slideRefs().where({type:"slide"})).map("id").filter((function(t){return!/^MsgScene|^PromptScene/.test(t)})).tap((function(e){e.forEach((function(e){var n=t.getSlide(c.prefixWithPlayer(e)).get("showAnimationId");null!=n&&(g[n]=e)}))})).tail().value();var f={playerTime:0,type:"dark-spider",AdvanceFrame:function(){return y.updateTime()},AutoUpdateTime:function(){a.tick()},UpdateAutomationTime:function(t){var e=a.frameTimeMs;a.frameTimeMs=t-a.currentTime,a.tick(),a.frameTimeMs=e},TriggerNextSlide:function(){y.nextSlide()},TriggerPause:function(){h.env.is360&&y.pausePlayer()},TriggerPlay:function(){h.env.is360&&y.playPlayer()},CaptureSlideImage:function(){return d.generate()},GetCourseStateData:function(){return p.getState()},GetTargetDuration:function(e){var n=g[e];return n?t.getSlide(c.prefixWithPlayer(n)).getTransitionAnimation().duration():t.getSlide(c.prefixWithPlayer(e)).getBaseLayer().timeline().duration()}};this.getPlayer=function(){return f},o.bindAll(this,"onSlideStarted","onSlideTransition","onNextSlideRequesting","onMainWindowCreated","onEnterFullscreen","onExitFullscreen","onLoaderShown","onLoaderHidden","onTincanStatement","onPlayButtonShown");var m={};m[l.slide.STARTED]=this.onSlideStarted,m[l.slide.TRANSITION_STARTED]=this.onSlideTransition,m[l.layer.TIMELINE_ACTIVATED]=this.onLayerTimelineActivated,m[l.loader.SHOW]=this.onLoaderShown,m[l.loader.HIDE]=this.onLoaderHidden,m[l.window.MAIN_CREATED]=this.onMainWindowCreated,m[l.request.NEXT_SLIDE]=this.onNextSlideRequesting,m[l.presentation.ENTER_FULLSCREEN]=this.onEnterFullscreen,m[l.presentation.EXIT_FULLSCREEN]=this.onExitFullscreen,m[l.startOverlay.READY]=this.onPlayButtonShown,h.env.isRise&&(m[l.tincan.STATEMENT]=this.onTincanStatement),u.on(m)}},onPlayerClicked:function(){this.callIfExists("OnPlayerClicked")},onEnterFullscreen:function(){this.callIfExists("OnEnterFullscreen")},onExitFullscreen:function(){this.callIfExists("OnExitFullscreen")},onMainWindowCreated:function(t){y.mainWindow=t,this.callIfExists("AutomationReady")},onSlideTransition:function(t,e,n){this.callIfExists("OnSlideTransition",t,e,n)},onSlideStarted:function(t){r=!1,this.callIfExists("OnSlideStarted",t)},onMediaStarted:function(t){this.callIfExists("OnMediaStarted",t)},onNextSlideRequesting:function(){r=!0,this.callIfExists("OnNextSlideRequesting")},onPlayButtonShown:function(){this.callIfExists("OnPlayButtonShown")},onLoaderShown:function(){this.callIfExists("OnLoaderShown")},onLoaderHidden:function(){this.callIfExists("OnLoaderHidden")},onVideoEvent:function(t,e,n){this.callIfExists("OnVideoEvent",t,e,n)},onTincanStatement:function(t){this.callIfExists("LmsUpdate",t)},onLayerTimelineActivated:function(t){if(t.isBaseLayer()){var e=t.getClosestAncestorByKind("slide").absoluteId;b.onSlideStarted(c.stripPlayer(e))}},callIfExists:function(t){var e=m[t];"function"==typeof e&&e.apply(m,o.tail(arguments))}};return b}.call(e,n,e,t))||(t.exports=i)},6407:function(t,e,n){"use strict";var i,r;i=[n(5485),n(153)],void 0===(r=function(t,e){t.ajax=e}.apply(e,i))||(t.exports=r)},3934:function(t,e,n){"use strict";!function(){var t=null;t=n(5485);var i=Array.prototype.slice;function r(t,e){t.prototype[e]=function(){var t=arguments.length?"set":"get",n=i.call(arguments);return n.unshift(e),this[t].apply(this,n)}}t.Model.shorthandify=function(t){if(!(t=t||this.prototype.shorthand))return this;"string"==typeof t&&(t=[t]);for(var e=0,n=t.length;e<n;e++)r(this,t[e]);return this},e.shorthandify=t.Model.shorthandify}()},5273:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(5485),r=n(4811),o="Could not fetch model",s={},a=function(t){return e.first(e.last(t.split("/")).split("."))},l=function t(e){return new Promise((function(n,i){DS.connection.requiredAsset(e,DS.connection.lastSlideLoaded,(function(){t(e).then((function(){n()})).catch((function(){i()}))}));var r=document.createElement("script"),o=function(){r.removeEventListener("load",s),r.removeEventListener("error",a),document.head.removeChild(r),r.src="",r=null},s=function(){n(),o(),DS.connection.assetLoaded(e)},a=function(){i(),o(),DS.connection.assetFailed(e)};r.addEventListener("load",s),r.addEventListener("error",a),r.src=e,document.head.appendChild(r)}))},u={origSync:i.sync,scriptSync:function(t,n,i){var u,c=i.url||e.result(n,"url"),h=r.Deferred(),d=h.promise();return c?(u=n.id||a(c),l(c).then((function(){var t=s[u];s[u]=null,i.success(t),h.resolve(t)})).catch((function(){i.error(o),h.reject(o)})),d):(h.reject("Must provide a url to fetch model"),d)},sync:function(t,e,n){var i="read"===t?"scriptSync":"origSync";return u[i].apply(this,arguments)}};return i.sync=u.sync,window.globalProvideData=function(t,e){var n=JSON.parse(e),i="slide"===t?n.id:t;s[i]=n},u.loadFromJson=function(){u.scriptSync=function(t,n,i){var u=i.url||e.result(n,"url"),c=u.replace(".js",".json"),h=r.Deferred(),d=n.id||a(c),p=["paths","data","frame"].includes(d)?d:"slide",f=new XMLHttpRequest;return f.overrideMimeType("application/json"),f.onreadystatechange=function(){if(4===f.readyState&&200===f.status){window.globalProvideData(p,f.responseText.replace(/\\'/g,"'").replace(/\\"/g,'"'));var t=s[d];s[d]=null,i.success(t),h.resolve(t)}else 4===f.readyState&&404===f.status&&l(u).then((function(){var t=s[d];s[d]=null,i.success(t),h.resolve(t)})).catch((function(){i.error(o),h.reject(o)}))},f.open("GET",c,!0),f.send(null),h.promise()}},u}.call(e,n,e,t))||(t.exports=i)},8766:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(5273),i=n(8880),r=n(9032),o=(n(82),n(2753)),s=n(6486);o=window.captionator;var a,l,u,c={},h=!1,d=[],p='"Open Sans Full", Helvetica, Arial, sans-serif',f={},v=function(t){return null!=t.captions()},g=function(t){if(null!=t.isMediaVisible)return t.isMediaVisible();var e=t.isVideo(),n=e?t.props.playerProps.parent.get("isBaseLayer"):t.props.model.parent.get("isBaseLayer"),i=u.getCurrentWindowSlide().slideLayers().getTopMostLayer(),r=!!e&&t.props.slideObjectModel.getLayer()===i,o=t.props.slideVisible&&(t.props.objectVisible||n||r);return e?t.props.slideObjectModel.prop("HiddenByLayer")&&(o=!1):null!=i&&!0===n&&!0===i.get("pauseParent")&&(o=!1),o},m=function(t){h=t,null!=l&&l.value()!==h?l.changeValue(h):r.trigger(i.captions.ENABLED,h)},y=function(t){var e=t.getCueAsSource();return null!=e&&!s.isEmpty(e.trim())};return{initialize:function(t,n,s,d){var f=n.getCaptionData().font;a=null!=f?['"',f,'", ',p].join(""):p,u=s,null!=d?(h=(l=d).value(),l.on("change:value",(function(t){return m(t.value())})),h&&m(h)):h=!1,c={},t.filter(v).map((function(t){e.scriptSync("read",{id:"caption"},{url:t.captions(),success:function(e){null!=e&&(c[t.id]=o.parseCaptions(decodeURI(e.data)).filter(y))},error:function(t){console.error(t)}})})),r.on(i.slide.STARTED,this.checkHasCaptions),r.on(i.layer.PLAYING,this.checkHasCaptions),r.on(i.layer.STACKING_CHANGED,this.checkHasCaptions),r.on(i.captions.ENABLE,m)},toggleCaptioning:function(){h=l.value(),m(!h)},checkHasCaptions:function(){var t=u.getCurrentWindowSlide();if(null!=t&&!t.isMessageSlide()){var e=(f[t.id]||[]).some(g);r.trigger(e?i.captions.SHOW_BUTTON:i.captions.HIDE_BUTTON)}},isCaptionEnabled:function(){return h},mount:function(t,e){c[t.getAssetId()]&&(null==f[e]&&(f[e]=[]),f[e].push(t))},unmount:function(t,e){var n=s.findIndex(f[e],(function(e){return e.getAssetId()===t.getAssetId()}));-1!==n&&f[e].splice(n,1)},hasCaptions:function(t){return Array.isArray(t)||(t=[t]),t.some((function(t){return null!=c[t]}))},getCaptions:function(t){return c[t]},getCaptionFont:function(){return a},excludeMedia:function(t){-1===d.indexOf(t)&&d.push(t)},includeMedia:function(t){var e=d.indexOf(t);-1!==e&&d.splice(e,1)}}}.call(e,n,e,t))||(t.exports=i)},7812:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=window.globals||{},n=window.location.protocol+"//",i=window.location.host,r=window.location.pathname.split(/\/+/).slice(0,-1).join("/"),o=e.DATA_PATH_BASE+"/html5/data/js",s=n+i+r+e.DATA_PATH_BASE+"/html5/lib/scripts",a=n+i+r+e.DATA_PATH_BASE+"/html5/lib/stylesheets",l={slideLocation:s+"/slides.min.js",frameLocations:{MOBILE:s+"/frame.mobile.min.js",DESKTOP:s+"/frame.desktop.min.js"},cssLocations:{MOBILE:a+"/mobile.min.css",DESKTOP:a+"/desktop.min.css"},player:{},LINE_BREAK_REGEX:/\n|\r/,theme:{},setThemeConstant:function(t,e){l.theme[t]=e},strings:{PROJECT_TITLE:"project-title"},els:{PRESO:"preso",LIB:"lib",MASK_LIB:"mask-library"},SVG_HIT:"svgHit",RECT_HIT:"rectHit",GROUP_HIT:"groupHit",SLIDE_HIT:"slideHit",PATH_DELIMITER:".",NODE_DELIMITER:"-",SVG_NODE_PREFIX:"commandset",PRESENTATION_URL:[e.DATA_PATH_BASE,r].join(""),PRESENTATION_DATA_URL:[r,o].join(""),STORY_CONTENT_URL:"story_content/",QUIZ_MAKER_URL:"quiz_content/",PRESENTER_URL:"presentation_content/",PLAYER_PROPS_KEYPATH:"playerProps",DEFAULT_VOLUME:.8,DESKTOP_LOADER_DELAY:200,XAPI_RETRY_INTERVALS_MS:[100,400,400,600,600],LIGHTBOX_SCALAR:.85,UNIFIED_PORTRAIT_UI_SIZE:65,UNIFIED_LANDSCAPE_UI_SIZE:58,UNIFIED_LIGHTBOX_UI_SIZE:50,MOBILE_UI_SIZE:58,DOUBLE_MOBILE_UI_SIZE:116,MOBILE_ANIMATION_DURATION:260,ANIMATION_DURATION:300,MOBILE_WIDTH_MIN:320,MOBILE_360_PHONE_LARGE:380,MOBILE_360_PHONE_MEDIUM:375,MOBILE_360_IMAGE_SCALE_THRESHOLD:1.4,MOBILE_MIN_LANDSCAPE_FULL:314,MOBILE_MIN_LANDSCAPE:250,MOBILE_FONT:"Open Sans Full",XMLNS_XLINK:"http://www.w3.org/1999/xlink",XMLNS_XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/svg",refs:{PLAYER:"_player",FRAME:"_frame",PARENT:"_parent",CURRENT_SLIDE:"_currentSlide",CHILDREN:"_children",SELF:"_this",CHOICES:"choices",STMTS:"statements",PLAYER_VARS:"_playerVars"},varTypes:{STRING:"string",NUM:"number",BOOL:"boolean"},statuses:{CORRECT:"correct",INCORRECT:"incorrect",INCOMPLETE:"incomplete",COMPLETE:"complete",NEUTRAL:"neutral",PASSING:"pass",FAILING:"fail"},reviewResetTypes:{ALL:"all",INCORRECTONLY:"incorrectonly"},dynamicTabEls:{},tabIndices:{SKIP:0,LIGHTBOX_CLOSE:1,SUBMIT_ALL:2,PREV:3,NEXT:4,SUBMIT:5,SIDEBAR:10,SEARCH_RESULTS_TREE_MODE:0,SEARCH_INPUT:1,SEARCH_SUBMIT:2,SEARCH_FILTER:3,SEARCH_NOTES:4,SEARCH_TEXT:5,SEARCH_RESULTS_LIST_MODE:6,SEARCH_CLEAR:17,TIME:39,TOP_TAB_LEFT:30,TOP_TAB_RIGHT:40,VOLUME:50,CAPTIONS:55,PLAYBACK_PLAY:60,PLAYBACK_PROGRESS:65,PLAYBACK_RESET:70},math:{QUARTER_PI:.25*Math.PI,HALF_PI:.5*Math.PI,THREE_QUARTER_PI:.75*Math.PI,TWO_PI:2*Math.PI,TO_RADIANS:Math.PI/180,TO_DEGREES:180/Math.PI},keys:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126},printSettings:{android:{pageW:960,pageStyle:"@page { size: letter landscape; }"},ios:{pageW:670},desktop:{pageW:1056}},TINY_VIDEO:"data:video/mp4;base64, AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=",TINY_AUDIO:"data:audio/mp3;base64,//MgxAAAAANIAAAAAExBTUUzLjk3VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zIsQnAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//MgxE8AAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zIMR2AAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/8yDEnQAAA0gAAAAAVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVEFHOWVmMTRlNzg4YzVhNDQ5AAAAAAAAAAAAAAAAAAAAYjZiYWQ3ZjY2NjFkZWZhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="};return Object.freeze(l),Object.freeze(l.refs),Object.freeze(l.varTypes),Object.freeze(l.statuses),Object.freeze(l.tabIndices),Object.freeze(l.math),Object.freeze(l.keys),l}.call(e,n,e,t))||(t.exports=i)},7594:function(t,e,n){"use strict";var i;void 0===(i=function(t){n(6511);var e={};return{camelCase:function(t){var n=e[t]||function(t){return PrefixFree.prefixCSS(t+":").replace(":","").replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))}(t);return e[t]=n,n},kebabCase:function(t){return PrefixFree.prefix+t}}}.call(e,n,e,t))||(t.exports=i)},4839:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(9032),i=n(8880);return{initialize:function(t,e,n){this.debugMode=void 0!==t&&t.get("debugMode"),this.setGlobals(t,e,n)},setGlobals:function(t,e,n){this.debugMode&&(window.presentation=t,window.player=e,window.app=n)},throwError:function(){!0===this.debugMode&&e.trigger(i.player.ERROR)}}}.call(e,n,e,t))||(t.exports=i)},8260:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6486),i=n(82),o=n(9032),s=n(1251),a=n(8880),l=n(3669),u=l.formatAuth,c=l.getLockIcon,h=l.buildRefs;return function(){function t(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.windows={},this.props=n,this.props.auth=u(atob(n.param1||""),atob(n.param2||"")),this.endpointLocked=this.props.manualConfiguration&&!e.isEmpty(this.props.endpoint),this.authLocked=this.props.manualConfiguration&&!e.isEmpty(this.props.auth),this.el=document.createElement("div"),s.addClass(this.el,"debug-custom-settings"),this.render(),this.refs=h(this.el),this.addListeners(),this.populateWithQueryString()}return r(t,[{key:"render",value:function(){this.el.innerHTML='\n        <div class="debug-section" data-ref="settings">\n          <div class="border"></div>\n          <div class="title">Settings</div>\n          <div class="content">\n            <p>\n              <label '+(this.endpointLocked?'class="locked"':"")+'>Endpoint:<br>\n                <input \n                  tabindex="0"\n                  data-prevent-focus \n                  name="endpoint"\n                  data-ref="endpoint" \n                  type="text" \n                  placeholder="'+(this.props.endpoint||"")+'" \n                  '+(this.endpointLocked?"disabled":"")+"\n                />"+c()+"\n              </label>\n            </p>\n            <p>\n              <label "+(this.authLocked?'class="locked"':"")+'>Auth:<br>\n                <input \n                  tabindex="0"\n                  data-prevent-focus \n                  data-ref="auth"\n                  name="auth"\n                  type="text" \n                  placeholder="'+(this.props.auth||"")+'" \n                  '+(this.authLocked?"disabled":"")+"\n                />"+c()+'\n                <button tabindex="0" data-ref="buildAuth" data-prevent-focus class="open-wnd-btn">...</button>\n              </label>\n            </p>  \n            <p>\n              <label>Actor:<br>\n                <textarea tabindex="0" data-ref="actor" type="text" data-prevent-focus rows="6"></textarea>\n                <button tabindex="0" data-ref="buildActor" data-prevent-focus class="open-wnd-btn">...</button>\n              </label>\n            </p>\n            <p>\n              <label>Activity Id:<br>\n                <input \n                  tabindex="0"\n                  data-prevent-focus \n                  data-ref="activityId"\n                  name="activity-id"\n                  type="text" \n                  placeholder="'+this.props.activityId+'"\n                />\n              </label>\n            </p>            \n            <p>\n              <label>Registration:<br>\n                <input \n                  tabindex="0"\n                  data-prevent-focus \n                  name="registration"\n                  data-ref="registration" \n                  type="text"\n                />\n              </label>\n            </p>\n          </div>\n        </div>\n        <div class=\'tooltip\' data-ref=\'tooltip\'>Selecting <b>Manual</b> in LRS publish settings overrides querystring values.</div> \n      '}},{key:"populateWithQueryString",value:function(){var t=this,n=(i.queryStringToObj()||{}).slxapi;null!=n&&(this.endpointLocked&&delete n.endpoint,this.authLocked&&delete n.auth,["endpoint","auth","registration","actor","activityId"].forEach((function(i){var r=n[i];e.isEmpty(r)||(e.isPlainObject(r)?t.refs[i].value=JSON.stringify(r,null,2):t.refs[i].value=r)})),this.onValueChanged())}},{key:"addListeners",value:function(){var t=this;e.bindAll(this,"onValueChanged","onBuildActor","onBuildAuth","showTip","hideTip"),this.refs.buildActor.addEventListener("click",this.onBuildActor),this.refs.buildAuth.addEventListener("click",this.onBuildAuth),[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this.el.querySelectorAll(".lock-icon"))).forEach((function(e){e.addEventListener("mouseover",t.showTip),e.addEventListener("mouseout",t.hideTip)})),["activityId","endpoint","auth","actor","registration"].forEach((function(e){null!=t.refs[e]&&(t.refs[e].addEventListener("change",t.onValueChanged),t.refs[e].addEventListener("keyup",t.onValueChanged))}))}},{key:"showTip",value:function(t){var e=this.el.getBoundingClientRect(),n=t.currentTarget.getBoundingClientRect();Object.assign(this.refs.tooltip.style,{opacity:1,top:n.top-e.top+(n.bottom-n.top)/2+"px",left:n.left-(e.left+10)+"px"})}},{key:"hideTip",value:function(){Object.assign(this.refs.tooltip.style,{opacity:0})}},{key:"openSupportWnd",value:function(t,n,i){var r=void 0;null==this.windows[t]?(r=this.createSupportWnd(t,n,i),this.windows[t]=r):(r=this.windows[t]).style.display="block";var o=h(r),s=function(t){i(n.reduce((function(t,e){var n=e.dataref;return t[n]=o[n].value,t}),{})),l()},a=function(t){return l()},l=function(){r.style.display="none",o.ok.removeEventListener("click",s),o.cancel.removeEventListener("click",a)};o.ok.addEventListener("click",s),o.cancel.addEventListener("click",a),o[e.first(n).dataref].focus()}},{key:"createSupportWnd",value:function(t,e,n){var i=document.createElement("div");return s.addClass(i,"debug-build-actor"),i.innerHTML='\n        <div class="panel">\n          '+e.map((function(t){var e=t.name,n=t.dataref;return"\n              <p>\n                <label>"+e+'<br>\n                  <input\n                    data-prevent-focus\n                    name="'+n+'"\n                    data-ref="'+n+'" \n                    type="text"\n                  />\n                </label>\n              </p>'})).join("")+"\n          <p class='button-wrapper'>\n            <button data-prevent-focus data-ref='ok'>OK</button><button data-prevent-focus data-ref='cancel'>Cancel</button>\n          </p>\n        </div>",this.el.parentElement.appendChild(i),i}},{key:"onBuildAuth",value:function(t){var e=this;this.openSupportWnd("build-auth",[{name:"Key:",dataref:"key"},{name:"Secret:",dataref:"secret"}],(function(t){var n=t.key,i=t.secret;e.updateAuth(n,i)}))}},{key:"onBuildActor",value:function(t){var e=this;this.openSupportWnd("build-actor",[{name:"Learner Name:",dataref:"learnerName"},{name:"Learner Email:",dataref:"learnerEmail"}],(function(t){var n=t.learnerName,i=t.learnerEmail;e.updateActor(n,i)}))}},{key:"updateAuth",value:function(t,n){e.isEmpty(t)&&e.isEmpty(n)||(this.refs.auth.value=u(t,n),this.onValueChanged())}},{key:"updateActor",value:function(t,e){var n={mbox:"mailto:"+e,objectType:"Agent",name:t};this.refs.actor.value=JSON.stringify(n,null,2),this.onValueChanged()}},{key:"onValueChanged",value:function(){var t=this,n={};["activityId","endpoint","auth","registration"].forEach((function(i){var r=t.refs[i].value;e.isEmpty(r)||(n[i]=r)}));var i=function(t){try{return JSON.parse(t)}catch(t){return""}}(this.refs.actor.value);e.isEmpty(i)||(n.actor=i),o.trigger(a.debug.lrs.SETTINGS_CHANGED,n)}},{key:"getComponentEl",value:function(){return this.el}}]),t}()}.call(e,n,e,t))||(t.exports=i)},748:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6486),i=n(9032),o=n(1251),s=n(8880),a=n(3669),l=a.getCopyButton,u=a.buildRefs;return function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.el=document.createElement("div"),o.addClass(this.el,"debug-settings"),this.render(),this.refs=u(this.el),this.addListeners()}return r(t,[{key:"render",value:function(){this.el.innerHTML='\n        <div class="debug-section" data-ref="settings">\n          <div class="border"></div>\n          <div class="title">'+this.type.toUpperCase()+' Settings</div>\n          <div class="content">\n            <p>\n              <label>Endpoint:<br>\n              <input data-ref="endpoint" name="'+this.type+'-endpoint" type="text" readonly/></label>'+l()+'\n            </p>\n            <p>\n              <label>Auth:<br>\n              <input data-ref="auth" name="'+this.type+'-auth" type="text" readonly/></label>'+l()+'\n            </p>\n            <p>\n              <label>Actor:<br>\n              <textarea data-ref="actor" name="'+this.type+'-actor" type="text" rows="6" readonly></textarea></label>'+l()+'\n            </p>\n            <p>\n             <label>Activity Id:<br>\n             <input data-ref="activityId" name="'+this.type+'-activity-id" type="text" readonly/></label>'+l()+'\n            </p>            \n            <p>\n              <label>Registration:<br>\n              <input data-ref="registration" name="'+this.type+'-registration" type="text" readonly/></label>'+l()+"\n            </p>\n          </div>\n        </div>          \n      "}},{key:"addListeners",value:function(){var t=this;e.bindAll(this,"onInitialized","onCopy"),i.on(s.debug[this.type].INITIALIZED,this.onInitialized),i.on(s.debug[this.type].STATEMENT_SENT,this.onStatementSent),i.on(s.debug[this.type].STATEMENT_RESPONSE,this.onStatementResponse),[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this.refs.settings.querySelectorAll(".copy-btn"))).forEach((function(e){e.addEventListener("click",t.onCopy)}))}},{key:"onInitialized",value:function(t){var n=this;t=e.pickBy(t,(function(t){return null!=t})),Object.keys(t).forEach((function(i){null!=n.refs[i]&&(e.isPlainObject(t[i])?n.refs[i].value=JSON.stringify(t[i],null,2):n.refs[i].value=t[i])}))}},{key:"onCopy",value:function(t){var e=t.currentTarget;null!=navigator.clipboard?navigator.clipboard.writeText(e.previousSibling.lastChild.value).then((function(t){console.log(t)})):(e.previousSibling.lastChild.focus(),e.previousSibling.lastChild.select(),document.execCommand("copy"))}},{key:"getComponentEl",value:function(){return this.el}}]),t}()}.call(e,n,e,t))||(t.exports=i)},4366:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6486),i=n(9032),o=n(8880),s=n(82),a=n(1251),l=n(3669),u=l.getCopyButton,c=l.buildRefs,h=l.getLangValue,d=l.getDownloadIcon;return function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type=e,this.el=document.createElement("div"),this.awaitingResponse={},this.render(),this.refs=c(this.el),this.addListeners()}return r(t,[{key:"render",value:function(){this.el.innerHTML='\n        <div class="debug-section debug-statements">\n          <div class="border"></div>\n          <div class="title">Statements</div>\n          <button class="download" data-ref="downloadAll">'+d()+'</button>\n          <div data-ref="statements" class="content">\n          </div>\n        </div>'}},{key:"addListeners",value:function(){e.bindAll(this,"onStatementSent","onStatementResponse","onError","onDownloadAll"),this.refs.downloadAll.addEventListener("click",this.onDownloadAll),i.on(o.debug[this.type].STATEMENT_SENT,this.onStatementSent),i.on(o.debug[this.type].STATEMENT_RESPONSE,this.onStatementResponse),i.on(o.debug[this.type].ERROR,this.onError)}},{key:"onError",value:function(t){var e=document.createElement("div");a.addClass(e,"statement"),a.addClass(e,"failed"),e.innerHTML='<div class="error">'+t+"</div>",this.refs.statements.insertAdjacentElement("afterbegin",e)}},{key:"onStatementSent",value:function(t){var e=this.getStatementSummary(t),n=e.actorName,i=e.verbName,r=e.objectName,o=document.createElement("div");a.addClass(o,"statement"),o.innerHTML='\n        <div class="summary">'+n+" "+i+" "+r+'</div>\n        <div class="error"></div>\n        <div class="details">'+JSON.stringify(t,null,2)+u()+"</div>",this.refs.statements.insertAdjacentElement("afterbegin",o);var s=o.querySelector(".details"),l=o.querySelector(".copy-btn");this.awaitingResponse[t.id]=o,l.addEventListener("click",(function(t){if(null!=navigator.clipboard)navigator.clipboard.writeText(s.innerText).then((function(t){console.log(t)}));else{window.getSelection().removeAllRanges();var e=document.createRange();e.selectNode(s.firstChild),window.getSelection().addRange(e),document.execCommand("copy")}t.stopPropagation()})),o.addEventListener("click",(function(t){t.target!==s&&(a.hasClass(o,"open")?a.removeClass(o,"open"):a.addClass(o,"open"))}))}},{key:"onStatementResponse",value:function(t,e,n){var i=this.awaitingResponse[t];if(null!=i)if(null!=e){n=n||{responseText:"",status:""};var r=i.querySelector(".error"),o="Statement Failed: "+n.responseText+" : "+n.status+" : error "+e;r.innerText=o,a.addClass(i,"failed")}else a.addClass(i,"success")}},{key:"getStatementSummary",value:function(t){var n=t.actor,i=t.verb,r=t.object,o=["name","mbox","account.name"].find((function(t){return!e.isEmpty(s.getPath(n,t))}));return{actorName:null!=o?s.getPath(n,o):JSON.stringify(n),verbName:null!=i.display?h(i.display):e.last(i.id.split("/")),objectName:null!=r.definition&&null!=r.definition.name?h(r.definition.name):r.id}}},{key:"getComponentEl",value:function(){return this.el}},{key:"onDownloadAll",value:function(){var t=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this.refs.statements.children)).map((function(t){return["summary","error","details"].reduce((function(n,i){var r=t.querySelector("."+i),o=r&&r.innerText;return e.isEmpty(o)||(n[i]="details"===i?JSON.parse(o):o),n}),{})})).reverse(),n=new Blob([JSON.stringify(t)],{type:"application/json"});if(navigator.msSaveBlob)navigator.msSaveBlob(n,"logs.json");else{var i=document.createElement("a");i.setAttribute("href",URL.createObjectURL(n)),i.setAttribute("download","logs.json"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}}]),t}()}.call(e,n,e,t))||(t.exports=i)},8680:function(t,e,n){"use strict";var i,r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6486),i=n(9032),s=n(1251),a=n(8880),l=n(3669),u=l.getCopyButton,c=l.buildRefs;return function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=document.createElement("div"),s.addClass(this.el,"debug-storyline-launch"),this.render(),this.refs=c(this.el),this.addListeners(),this.updateLaunchLink()}return o(t,[{key:"render",value:function(){this.el.innerHTML='\n        <div class="debug-section" data-ref="settings">\n          <div class="border"></div>\n          <div class="title">Storyline Launch Link</div>\n          <div class="content">\n            <p>\n             <label>Launch Link:<br>\n             <input \n               data-prevent-focus \n               data-ref="launchLink" \n               name="launch-link" \n               type="text" \n               readonly\n             /></label>'+u()+'\n            </p>\n            <p class="launch">\n              <button data-prevent-focus data-ref="launch">Relaunch</button>\n            </p>            \n          </div>\n        </div>    \n      '}},{key:"onCopy",value:function(t){var e=t.currentTarget;null!=navigator.clipboard?navigator.clipboard.writeText(e.previousSibling.lastChild.value).then((function(t){console.log(t)})):(e.previousSibling.lastChild.focus(),e.previousSibling.lastChild.select(),document.execCommand("copy"))}},{key:"addListeners",value:function(){var t=this;e.bindAll(this,"updateLaunchLink","relaunch"),i.on(a.debug.lrs.SETTINGS_CHANGED,this.updateLaunchLink),this.refs.launch.addEventListener("click",this.relaunch),[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this.refs.settings.querySelectorAll(".copy-btn"))).forEach((function(e){e.addEventListener("click",t.onCopy)}))}},{key:"relaunch",value:function(){var t=this;window.requestAnimationFrame((function(){document.location=t.refs.launchLink.value}))}},{key:"updateLaunchLink",value:function(t){if(e.isEmpty(t))this.refs.launchLink.value=document.location.href;else{var n=document.location.href.split("?"),i=r(n,2),o=i[0],s=i[1],a=(void 0===s?"":s).split("&").filter((function(t){return!t.includes("slxapi=")}));a.push("slxapi="+encodeURIComponent(JSON.stringify(t))),this.refs.launchLink.value=o+"?"+a.join("&")}}},{key:"getComponentEl",value:function(){return this.el}}]),t}()}.call(e,n,e,t))||(t.exports=i)},3669:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486);return{getCopyButton:function(){return'<button data-prevent-focus tabindex="0" class="copy-btn" type="button">\n        <svg viewBox="0 0 19 19" width="19" height="19">\n            <path fill="white" stroke="black" d="M1,1 L1,13 13,13 13,1 1,1 Z"/>\n            <path fill="white" stroke="black" d="M6,6 L6,18 18,18 18,6 6,6 Z"/>\n        </svg>\n    </button>'},buildRefs:function(t){var e={};return[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t.querySelectorAll("[data-ref]"))).forEach((function(t){e[t.getAttribute("data-ref")]=t})),e},getLangValue:function(t){return t[Object.keys(t)[0]]},getLockIcon:function(){return'<svg class="lock-icon" viewBox="0 0 28 36" width="28" height="36" >\n      <path d="M26,36 L2,36 C1,36 0,35 0,34 L0,34 L0,19 C0,18 1,17 2,17 L2,17 L3,17 3,10 C3,5 8,0 14,0 19,0 24,5 24,10 L24,10 L24,17 26,17 C26,17 27,18 27,19 L27,19 L27,34 C27,35 26,36 26,36 z M19,11 C19,8 17,5 14,5 10,5 8,8 8,11 L8,11 L8,17 19,17 19,11 19,11 z"/>\n    </svg>'},getDownloadIcon:function(){return'<svg class="download-icon" viewBox="0 0 52 38" width="52" height="38" >\n      <g>\n        <path d="M42,31 L31,31 31,29 42,29 C46,29 50,26 50,22 50,18 46,15 42,15 40,15 38,15 37,17 37,16 37,16 37,16 37,9 32,3 25,3 19,3 13,7 12,13 11,12 11,12 10,12 6,12 3,16 3,21 3,25 6,29 11,29 11,29 11,29 11,29 L11,29 L11,29 21,29 21,31 11,31 C5,31 0,27 0,21 0,15 5,10 10,10 13,4 18,0 25,0 32,0 38,5 40,12 41,12 41,12 42,12 48,12 52,16 52,22 52,27 48,31 42,31 z"/>\n        <path stroke="none" fill="white" d="M21,29 L42,29 C46,29 50,26 50,22 50,18 46,15 42,15 40,15 38,15 37,17 37,16 37,16 37,16 37,9 32,3 25,3 19,3 13,7 12,13 11,12 11,12 10,12 6,12 3,16 3,21 3,25 6,29 11,29 11,29 11,29 11,29 L11,29 L11,29 21,29"/>\n        <path d="M24,20 L28,20 28,33 31,33 26,38 21,33 24,33 z"/>\n      </g>\n    </svg>'},formatAuth:function(t,n){return e.isEmpty(t)&&e.isEmpty(n)?"":"Basic "+btoa(t+":"+n)}}}.call(e,n,e,t))||(t.exports=i)},9343:function(t,e,n){"use strict";var i,r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};void 0===(i=function(t){var e=n(6603),i=n(6885),o=n(7271),s=n(8579),a=n(1251),l=n(82),u=n(7510).addWindowListener,c=s.device.isMobile?{up:"touchend",down:"touchstart",move:"touchmove"}:{up:"mouseup",down:"mousedown",move:"mousemove"},h={init:function(t){this.props=t,(this.props.lmsEnabled||this.props.lrsEnabled)&&(this.tabs=[],this.render(),this.buildRefs(),this.addTabs(),this.addListeners(),this.onScrollContentUpdated())},enabled:function(){var t=window.globals,e=t.launchDebug,n=t.productChannel;return e&&"perpetual"!==n},buildRefs:function(){var t=this;this.refs={},[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this.debugWnd.querySelectorAll("[data-ref]"))).forEach((function(e){t.refs[e.getAttribute("data-ref")]=e}))},addTabs:function(){this.props.lrsEnabled&&this.addTab("xAPI LRS",e),this.props.lmsEnabled&&this.addTab("xAPI LMS",i),this.props.lrsEnabled&&this.addTab("LRS Tools",o)},addListeners:function(){var t=this;if(["startDrag","dragging","endDrag","closeClicked","minClicked","tabClicked","startResize","resizing","endResize","startScroll","scrolling","endScroll","onScrollWheel","onScrollContentUpdated","orientationChange"].forEach((function(e){t[e]=t[e].bind(t)})),this.refs.titlebar.addEventListener(c.down,this.startDrag),this.refs.resize.addEventListener(c.down,this.startResize),this.refs.scrollbar.addEventListener(c.down,this.startScroll),this.refs.content.addEventListener("wheel",this.onScrollWheel),this.refs.close.addEventListener("click",this.closeClicked),this.refs.minimize.addEventListener("click",this.minClicked),this.tabs.forEach((function(e){e.tabEl.addEventListener("click",t.tabClicked)})),s.deviceView.isMobile&&(u("orientationchange",this.orientationChange),this.orientationChange()),null!=window.ResizeObserver)this.scrollContentObserver=new ResizeObserver((function(){t.frameRequested||(t.frameRequested=!0,window.requestAnimationFrame(t.onScrollContentUpdated))})),this.scrollContentObserver.observe(this.refs.content),this.scrollContentObserver.observe(this.selectedTab.contentEl);else{!function e(){var n=t.refs.content,i=n.clientHeight,r=n.scrollHeight;i===t.lastClientHeight&&r===t.lastScrollHeight||t.onScrollContentUpdated(),window.requestAnimationFrame(e)}()}},orientationChange:function(){var t=window.innerHeight-20,e=window.innerWidth-20;this.refs.window.style.width=e+"px",this.refs.window.style.height=t+"px"},onScrollContentUpdated:function(){this.frameRequested=!1;var t=this.refs.content,e=t.clientHeight,n=t.scrollHeight,i=e/n*e,r=t.scrollTop*(e-i)/(n-e);this.refs.scrollbar.style.height=i+"px",this.refs.scrollbar.style.top=r+"px",this.refs.scrollbar.style.display=e>=n-10?"none":"block"},updateScrollPosition:function(){var t=this.refs.content,e=t.clientHeight,n=t.scrollHeight,i=this.refs.scrollbar,r=i.offsetTop/(e-i.clientHeight);this.refs.content.scrollTop=(n-e)*r},tabClicked:function(t){var e=this.selectedTab,n=e.tabEl,i=e.contentEl;null!=n&&a.removeClass(n,"selected"),null!=i&&null!=i.parentElement&&(i.parentElement.removeChild(i),this.scrollContentObserver&&this.scrollContentObserver.disconnect(i)),this.selectedTab=this.tabs.find((function(e){return e.tabEl===t.target})),a.addClass(this.selectedTab.tabEl,"selected"),null!=this.selectedTab.contentEl&&(this.refs.content.appendChild(this.selectedTab.contentEl),this.scrollContentObserver&&this.scrollContentObserver.observe(this.selectedTab.contentEl))},onScrollWheel:function(t){var e=parseInt(this.refs.scrollbar.offsetTop)+.1*t.deltaY;e=l.clamp(0,this.refs.content.clientHeight-this.refs.scrollbar.clientHeight,e),this.refs.scrollbar.style.top=e+"px",this.updateScrollPosition()},startScroll:function(t){var e=t.touches||[t],n=r(e,1)[0],i=this.refs.scrollbar.getBoundingClientRect();this.scrollYOffset=n.pageY-i.top,document.body.addEventListener(c.move,this.scrolling),document.body.addEventListener(c.up,this.endScroll)},scrolling:function(t){var e=this.refs.content.getBoundingClientRect(),n=t.touches||[t],i=r(n,1)[0].pageY-e.top-this.scrollYOffset;i=l.clamp(0,this.refs.content.clientHeight-this.refs.scrollbar.clientHeight,i),this.refs.scrollbar.style.top=i+"px",this.updateScrollPosition()},endScroll:function(t){document.body.removeEventListener(c.move,this.scrolling),document.body.removeEventListener(c.up,this.endScroll)},startResize:function(t){var e=t.touches||[t],n=r(e,1)[0],i=this.refs.resize.getBoundingClientRect();this.resizeOffset={x:n.pageX-i.right,y:n.pageY-i.bottom},a.addClass(this.refs.window,"resizing"),document.body.addEventListener(c.move,this.resizing),document.body.addEventListener(c.up,this.endResize)},resizing:function(t){var e=t.touches||[t],n=r(e,1)[0],i=n.pageX-this.refs.window.offsetLeft-this.resizeOffset.x,o=n.pageY-this.refs.window.offsetTop-this.resizeOffset.y;i=Math.max(100,i),o=Math.max(60,o),this.refs.window.style.width=i+"px",this.refs.window.style.height=o+"px"},endResize:function(){a.removeClass(this.refs.window,"resizing"),document.body.removeEventListener(c.move,this.resizing),document.body.removeEventListener(c.up,this.endResize)},closeClicked:function(t){this.refs.window.style.display="none"},minClicked:function(t){a.hasClass(this.refs.window,"minified")?a.removeClass(this.refs.window,"minified"):a.addClass(this.refs.window,"minified")},startDrag:function(t){var e=t.touches||[t],n=r(e,1)[0];this.ptStart={x:n.pageX-this.refs.window.offsetLeft,y:n.pageY-this.refs.window.offsetTop},document.body.addEventListener(c.move,this.dragging),document.body.addEventListener(c.up,this.endDrag)},dragging:function(t){var e=t.touches||[t],n=r(e,1)[0],i=n.pageX-this.ptStart.x,o=n.pageY-this.ptStart.y;i=Math.max(2,Math.min(window.innerWidth-this.refs.window.clientWidth-4,i)),o=Math.max(2,Math.min(window.innerHeight-this.refs.window.clientHeight-4,o)),this.refs.window.style.left=i+"px",this.refs.window.style.top=o+"px"},endDrag:function(){document.body.removeEventListener(c.move,this.dragging),document.body.removeEventListener(c.up,this.endDrag)},render:function(){this.debugWnd=document.createElement("div"),this.debugWnd.innerHTML='\n      <div class="debug-window" data-ref="window">\n        <div class="titlebar" data-ref="titlebar">\n          <div class="lineA"></div>\n          <div class="close" data-ref="close"></div>\n          <div class="min" data-ref="minimize"></div>\n          <div class="tabs" data-ref="tabs"></div>\n          <div class="lineB"></div>\n        </div>\n        <div class="scroll-wrapper">\n          <div class="scroll-content" data-ref="content"></div>\n          <div class="scrollbar" data-ref="scrollbar"></div>\n        </div>\n        <div class="resize" data-ref="resize">\n          <svg fill="#E7EAED" stroke="darkgrey" viewBox="0 0 18 18" width="18" height="18">\n            <path d="M0,18 L18,0 18,18 0,18 Z"></path>\n            <path stroke="white" d="M1,18 L18,1"></path>\n            <path d="M6,18 L18,6"></path>\n            <path stroke="white" d="M7,18 L18,7"></path>\n            <path d="M12,18 L18,12"></path>\n            <path stroke="white" d="M13,18 L18,13"></path>\n          </svg>\n        </div>\n      </div>',document.body.appendChild(this.debugWnd)},addTab:function(t,e){var n=document.createElement("div");a.addClass(n,"debug-tab"),n.innerText=t,this.refs.tabs.appendChild(n),null!=e&&e.init(this.props),this.tabs.push({tabEl:n,contentEl:e&&e.getComponentEl()}),1===this.tabs.length&&(a.addClass(n,"selected"),this.selectedTab=this.tabs[0],this.refs.content.appendChild(this.selectedTab.contentEl))}};return window.globals.launchDebug?h:{init:function(){},enabled:function(){return!1}}}.call(e,n,e,t))||(t.exports=i)},7271:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(8260),i=n(8680);return{init:function(t){this.props=t,this.el=document.createElement("div"),this.render()},render:function(){this.el.appendChild(new i(this.props).getComponentEl()),this.el.insertAdjacentElement("afterbegin",new e(this.props).getComponentEl())},getComponentEl:function(){return this.el}}}.call(e,n,e,t))||(t.exports=i)},6885:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(4366),i=n(748);return{init:function(){this.el=document.createElement("div"),this.render()},render:function(){this.el.appendChild(new i("lms").getComponentEl()),this.el.appendChild(new e("lms").getComponentEl())},getComponentEl:function(){return this.el}}}.call(e,n,e,t))||(t.exports=i)},6603:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(4366),i=n(748);return{init:function(){this.el=document.createElement("div"),this.render()},render:function(){this.el.appendChild(new i("lrs").getComponentEl()),this.el.appendChild(new e("lrs").getComponentEl())},getComponentEl:function(){return this.el}}}.call(e,n,e,t))||(t.exports=i)},9140:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e="pending",n="resolved",i="rejected";return function(){var t=this,r=e,o=[],s=[],a=[],l=[];this.resolve=function(){for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return r===e&&(o=s,r=n,a.forEach((function(e){return e.apply(t,s)})),l=a=null),t},this.reject=function(){for(var n=arguments.length,o=Array(n),u=0;u<n;u++)o[u]=arguments[u];return r===e&&(s=o,r=i,l.forEach((function(e){return e.apply(t,o)})),l=a=null),t},this.state=function(){return r},this.then=function(i){return r===n?i.apply(t,o):r===e&&a.push(i),t},this.catch=function(n){return r===i?n.apply(t,s):r===e&&l.push(n),t},this.always=function(e){return t.then(e).catch(e)};var u={then:this.then,catch:this.catch,always:this.always,state:this.state};this.promise=function(){return u},Object.freeze(this)}}.call(e,n,e,t))||(t.exports=i)},8579:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r=n(5470),o=n(8880),s=n(9032),a=n(1421),l=n(7510).addWindowListener,u=window.globals&&window.globals.parsedParams||{},c=function(t){return"1"===u[t]},h=c("forcemobile"),d=c("devicepreview"),p=c("phone"),f=c("noframe"),v=c("enableFs"),g=u.videocontrolsfont,m=window.navigator.userAgent.toLowerCase(),y="ActiveXObject"in window||null!=window.MSBlobBuilder,b=window.isMobile.apple.device,w=b?parseInt((/os[x\s]+([0-9]+)_/.exec(m)||/version\/([0-9]+)/.exec(m))[1]):NaN,A=b&&m.indexOf("version")<0,E="file:"===document.location.protocol,S=null!=window.vInterfaceObject&&window.autoSpider,T=S&&h&&d,x=(e=document.createElement("canvas"),i=e.getContext("webgl")||e.getContext("experimental-webgl"),e=null,null!=i),C=window.globals,_=C.deviceView,k=C.themeName,M=window,O=M.isMobile,L=M.isMobile.apple.tablet,P="classic"===k,I="unified"===k,R={device:{isDesktop:O.desktop,isMobile:O.mobile,isPhone:O.phone,isTablet:O.tablet},deviceView:{isDesktop:_.desktop,isMobile:_.mobile,isPhone:_.phone,isTablet:_.tablet,isClassicMobile:P&&_.mobile,isClassicDesktop:P&&_.desktop,isUnifiedMobile:I&&_.mobile,isUnifiedDesktop:I&&_.desktop},theme:{isClassic:P,isUnified:I},os:{isAndroid:window.isMobile.android.device,isIOS:b,iOSVersion:w,isIosPhoneBefore10:O.phone&&w<10,isMac:r.mac},browser:{isWebKit:m.includes("webkit"),isSafariMac:!(!r.mac||!r.safari),isSafari:r.safari,safariVersion:function(){if(r.safari){var t=/\/([\d]+)([.\d]+|[\w\d]+)\ssafari/.exec(m);if(null!==t)return parseInt(t[1])}return NaN}(),isFF:m.includes("firefox"),isChrome:r.chrome,isWebView:A,isUIWebView:A&&!window.indexedDB,isIE:y,isIE10:m.includes("msie s10"),isIE11:y&&null!=window.msCrypto&&!window.ActiveXObject,isEdge:y&&null==window.msCrypto&&x},env:{is360:S,isDevicePreview:T,isMobilePreview:h,isPhonePreview:T&&p,isRise:null!=window.vInterfaceObject&&window.vInterfaceObject.isRise,isInIframe:window.top!==window.self,isWebObject:/(\?|&)wo=1(&|$)/.test(window.location.search),isFileProtocol:E,enableFs:v&&T&&!p,hideFrame:f,videoControlsFont:null!=g&&"'"+window.decodeURIComponent(g)+"'"},capabilities:{hasAudioApi:a&&(!E||O.mobile),isMemoryDeficientDevice:L&&(768===screen.height||768===screen.width)},orientation:{forceHideWarning:!1,prev:null}},D=R.os.isAndroid?function(){var t=window.screen,e=t.width,n=t.height>e?"portrait":"landscape",i=R.orientation;i.forceHideWarning=i.value!==n}:function(){},N=function(){var t=R.orientation;t.value=window.innerWidth>window.innerHeight?"landscape":"portrait",R.innerHeight=window.innerHeight,R.innerWidth=window.innerWidth,D(),(t.value!==t.prev||R.forceHideWarning)&&("portrait"===t.value?(document.body.classList.remove("is-landscape"),document.body.classList.add("is-portrait"),t.isPortrait=!0,t.isLandscape=!1):(document.body.classList.add("is-landscape"),document.body.classList.remove("is-portrait"),t.isPortrait=!1,t.isLandscape=!0),s.trigger(o.detection.ORIENTATION_CHANGE,{orientation:t.value}),t.prev=t.value)};if(R.device.isMobile&&R.env.isInIframe){document.body.style.position="fixed";var H=function(){document.body.style.width=window.innerWidth+"px",document.body.style.height=window.innerHeight+"px"};l("resize",H),H()}return R.isRise&&(document.body.classList.add("is-rise"),document.body.styles.background="transparent"),R.isMobile&&!R.theme.isUnified&&document.getElementById("preso").setAttribute("class",""),N(),l("orientationchange",N),R}.call(e,n,e,t))||(t.exports=i)},1251:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(82),r=(n(4481),n(7812)),o=n(118),s=n(7510).addBodyListener,a=function(t,e,n){t.removeEventListener(e,n)},l=function(t){return 1===t.nodeType},u=function(t,e,n){var r=[];for(e=e||i.alwaysTrue;t&&l(t)&&(r.push(t),null==n||!n(t));)t=t.parentNode;return r.slice(1).filter(e)},c=function(t,e){return w.closest(t,(function(t){return w.hasClass(t,e)}))},h=function(t,e){return!!c(t,e)},d=function(t,e){return e.tagName.toLowerCase()===t.toLowerCase()},p=function(t){return null==t?"":e.isString(t)?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):t},f=function(t,e){if(null!=t.classList)return t.classList.contains(e);var n=t.getAttribute("class");return null!=n&&n.split(/[ ,]+/).includes(e)},v=function(t,n){if(null!=t.classList)t.classList.remove(n);else{var i=t.getAttribute("class").split(/[ ,]+/);t.setAttribute("class",e.without(i,n).join(" "))}},g=function(t,e){if(null!=t.classList)t.classList.add(e);else{var n=t.getAttribute("class").split(/[ ,]+/);n.includes(e)||n.push(e),t.setAttribute("class",n.join(" "))}},m=["date","datetime-local","email","month","number","password","search","tel","text","time","url","week"],y=function(t,n,i){var r=["<",t];return n&&e.isPlainObject(n)&&e.forOwn(n,(function(t,e){r.push(" ",e,'="',p(t),'"')}),r),r.push(!0===i||!0===n?" />":">"),r.join("")},b=e.partialRight((function(t,e,n){return t.classList.add(e),setTimeout((function(){t.classList.remove(e)}),n)}),"button-tapped",r.MOBILE_ANIMATION_DURATION),w={on:function(t,n,i,r){return t.addEventListener(n,i,!!r),e.partial(a,t,n,i)},off:a,parentNodesOf:u,closest:function(t,e,n){return(e=e||i.alwaysTrue)(t)?t:u(t,e,n)[0]},isNodeOfType:d,isInput:function(t){return null!=t&&(d("input",t)&&function(t){return m.some((function(e){return t.type===e}))}(t)||d("textarea",t))},isLink:e.partial(d,"a"),isVideoNode:e.partial(d,"video"),isIconNode:function(t){return f(t,"svg-icon-wrapper")},isSlideObject:function(t){return f(t,"slide-object")},selectAllByRef:function(t,n){[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(n.querySelectorAll("[data-ref]"))).forEach((function(n){var i=n.classList||n.getAttribute("class").split(),r=e.first(i);null!=r&&(t[e.camelCase(r)+"El"]=n)}))},setAttributes:function(t,n){return e.forOwn(n,(function(e,n){t.setAttribute(n,e)})),t},setStyles:function(t,n){return e.forOwn(n,(function(e,n){t.style[n]=e})),t},getScrollRecommendation:function(t,e){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return n.height>i.height||i.top>n.top?t.scrollTop-(i.top-n.top):i.bottom<n.bottom?t.scrollTop+(n.bottom-i.bottom):-1},resizeToFit:function(t,n,r,o){var s=!!e.isFinite(r)&&n.length>r,a=t.getBoundingClientRect().width,l=a,u=0,c=l/n.length;o=o||0,e(n).map((function(t,e){t.style.width="";var n=t.getBoundingClientRect().width+o;return u+=n,{el:t,width:n}})).sortBy("width").forEach((function(t,e){var r=e+1,h=Math.min(t.width,c);u>a?(t.el.style.width=i.pxify(h-o),c=(l-=h)/(n.length-r)):s&&(t.el.style.width=i.pxify(t.width+(l-u)/n.length))}))},hasClass:f,addClass:g,removeClass:v,toggleClasses:function(t,e,n,i){var r=i?[g,v]:[v,g];r[0](t,e),r[1](t,n)},writeNode:y,writeCloseNode:function(t){return y(t).replace("<","</")},tappedClass:b,trigger:function(t,n,i){if(i=i||{ignoreDisabled:!0},null!=t){var r=function(t,n){var i=document.createEvent("Event");return i.initEvent(t,!0,!0),e.defaults(i,n),i}(n);return i.ignoreDisabled&&t.disabled||t.dispatchEvent(r),r}},getParentFrame:function(){try{for(var t,e=window.parent.document.getElementsByTagName("iframe"),n=e.length,i=0;i<n;i++)if((t=e[i]).contentDocument===document)return t}catch(t){}},getParentWithClass:c,isWithin:h,isWithinSlide:function(t){return h(t,"slide")},isWithinShadowDom:function(t){return h(t,"acc-shadow-dom")},mapShadowToModel:function(t){if(null==t)return null;var e=t;if(w.isWithinShadowDom(e)){for(;null!==e&&null==e.dataset.represents;)e=e.parentElement;return null==e?null:o.resolvePath(e.dataset.represents)}return null},xmlEncodeValue:p,updateMousePosition:function(t){null!=t.pageX&&null!=t.pageY&&(w.mouseX=t.pageX,w.mouseY=t.pageY)},mouseX:0,mouseY:0};return s("mousemove",(function(t){w.updateMousePosition(t)})),s("touchstart",(function(t){t.touches&&t.touches.length>0&&(w.mouseX=t.touches[0].pageX,w.mouseY=t.touches[0].pageY)}),!0),w}.call(e,n,e,t))||(t.exports=i)},8939:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(4839),r=e.curry((function(t,n,i,r){var o=e.slice(arguments,3).join(" ");t([n,"::",i," - ",o].join(""))}),4);return{throwFatal:r((function(t){throw new Error(t)})),throwError:r((function(t){var e=i.debugMode?"error":"warn";console[e](t),i.throwError()})),throwErrorSoft:r((function(t){i.debugMode&&console.warn(t)})),warn:r((function(t){console.warn(t)})),backtick:function(t){return["`",t,"`"].join("")}}}.call(e,n,e,t))||(t.exports=i)},8880:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e={ds:{FRAME_DATA_LOADED:"ds:frameLoaded",PRESO_LOADED:"ds:presoLoaded",PRESO_READY:"ds:presoReady"},actionlink:{EVENT:"actionlink:event",VIEWED:"actionlink:viewed"},animation:{CREATED:"animation:created",DESTROYED:"animation:destroyed"},app:{COMPLETE:"app:complete",BRANDING_COLOR:"app:brandingColor",PRESENTATION_POSITION:"app:presentationPosition",SHOW_LOADER:"app:showLoader",HIDE_LOADER:"app:hideLoader"},audioClip:{ENDED:"audioClip:ended",TIME_UPDATE:"audioClip:timeUpdate"},captions:{SHOW_BUTTON:"captions:showbutton",HIDE_BUTTON:"captions:hidebutton",ENABLED:"captions:enabled",ENABLE:"captions:enable",ADD:"captions:add",REMOVE:"captions:remove"},controlLayout:{CHANGED:"controllayout:changed",UPDATE:"controlLayout:update"},controlOptions:{CHANGED:"controlOptions:changed",RESET:"controlOptions:reset"},course:{COMPLETED:"course:completed",VIEWED:"course:viewed",MANUALLY_COMPLETED:"course:manuallyCompleted",SEND_XAPI_STATEMENT:"course:sendXApiStatement"},customlink:{EVENT:"customlink:event"},currTimeline:{TICK:"currTimeline:tick"},data:{INITIALIZED:"data:initialized",UPDATED:"data:updated"},debug:{lms:{INITIALIZED:"debug:lms:initialized",STATEMENT_SENT:"debug:lms:statement:sent",STATEMENT_RESPONSE:"debug:lms:statement:response"},lrs:{INITIALIZED:"debug:lrs:initialized",STATEMENT_SENT:"debug:lrs:statement:sent",STATEMENT_RESPONSE:"debug:lrs:statement:response",SETTINGS_CHANGED:"debug:lrs:settings:changed",ERROR:"debug:lrs:error"}},detection:{VISIBILITY_HIDDEN:"detection:visibilityhidden",VISIBILITY_SHOWN:"detection:visibilityshown",ORIENTATION_CHANGE:"detection:orientationChange"},draw:{RESET:"draw:reset",RESET_COMPLETE:"draw:resetcomplete",EXIT:"draw:exit"},error:{INTERFACE:"error:interface"},frame:{LAYOUT_READY:"frame:layoutReady",REFLOW:"frame:reflow",MODEL_READY:"frame:modelReady",SCALE:"frame:scale",FONT_SCALE:"font:scale"},frameModel:{LAYOUT_CHANGED:"frameData:layoutChanged",CHROMELESS_CHANGED:"frameData:chromelessChanged",BLOCKED_CHANGED:"frameData:blockedChanged"},glossary:{UPDATE:"glossary:update",REFRESH_VIEW:"glossary:refreshView"},hamburger:{TOGGLE:"hamburger:toggle"},interaction:{EVALUATED:"interaction:evaluated",VIEWED:"interaction:viewed"},keyManager:{FRAME_CONTROL_KEY:"keyManager:frameControlKey"},layer:{HIDDEN:"hidden",HIDE_OTHER_LAYERS:"hideOtherLayers",STACKING_CHANGED:"layer:stackingChanged",ACTIVATED:"activated",TIMELINE_ACTIVATED:"layer:timelineActivated",PAUSE_TIMELINE:"layer:pauseTimeline",PLAYING:"layer:playing",DIALOG_SHOWN:"layer:dialogShown",DIALOG_HIDDEN:"layer:dialogHidden"},layout:{CHANGED:"layout:changed"},loader:{MUTE:"loader:mute",UNMUTE:"loader:unmute",HIDE:"loader:hide",SHOW:"loader:show",SILENCE:"loader:silence",REMOVE_TITLE:"loader:removeTitle"},main:{PREPARE_AUDIO:"main:prepareAudio"},media:{CURRENT_TIME:"media:currentTime"},menuLinksListItem:{ITEM_SELECTED:"menuLinksListItem:itemSelected",TOGGLE:"menuLinksListItem:toggle"},messageWindow:{SHOWN:"messageWindow:shown"},mobile:{PRESENTATION_VISIBLE:"mobileChromeKiller:presentationVisible",ENTER_THUMB_VIEW:"mobileStartOverlay:enterThumbView",EXIT_THUMB_VIEW:"mobileStartOverlay:exitThumbView",MENU_OPEN:"uiMobile:menuOpen",OUTLINE_SHOWN:"panelsMobile:outlineShown",NOTES_SHOWN:"panelsMobile:notesShown"},navcontrols:{CHANGED:"navcontrols:changed"},navData:{UPDATE:"navData:update",REFRESH_VIEW:"navData:refreshView",SELECT_FIRST_SLIDE_LINK:"navData:selectFirstSlideLink"},player:{RESET:"player:reset",CLOSING:"player:closing",ERROR:"player:error",MENU_OPTIONS:"player:menuOptions",ENABLE_KEYBOARD_SHORTCUTS:"player:enableKeyboardShortcuts",INITIALIZED:"player:initialized",ACCESSIBLE_TEXT_CHANGED:"player:accessibleTextChanged",TOGGLE_PLAYBACK:"player:togglePlayback",SEEK:"player:seek"},popup:{SHOW:"popup:show",HIDE:"popup:hide",TOGGLE:"popup:toggle",EMAIL:"popup:email"},presentation:{ENTER_FULLSCREEN:"presentation:enterFullscreen",EXIT_FULLSCREEN:"presentation:exitFullscreen",ON_OBJECT_EVENT:"presentation:onobjectevent"},preview:{NOTIFY:"preview:notify"},quiz:{INTERACTION_ANSWERED:"quiz:interactionAnswered",COMPLETED:"quiz:completed",RETRIED:"quiz:retried"},renderTree:{DESTROYED:"renderTree:destroyed"},request:{START:"start:requesting",NEXT_SLIDE:"nextSlide:requesting",PREV_SLIDE:"prevSlide:requesting",NEXT_DRAW_SLIDE:"nextDrawSlide:requesting",PREV_HISTORY_GROUP:"prevHistoryGroup:requesting"},resources:{LINK_CLICKED:"resources:linkClicked",UPDATE_DESCRIPTION:"resources:updateDescription",UPDATE:"resources:update",REFRESH_VIEW:"resources:refreshView"},resume:{SET_DATA:"resume:setdata",RESET:"resume:reset",APPLIED:"resume:applied",COMPLETE:"resume:complete",RESET_DATA:"resume:resetData"},scheme:{CHANGED:"scheme:changed"},search:{START:"search:start",CLEAR:"search:clear",BLUR:"search:blur",SHOW:"search:show",UPDATE_PANEL:"search:updatePanel"},sidebar:{ACTIVE_TAB_SET:"sidebar:activeTabSet",SHOW_SEARCH:"sidebar:showSearch",HIDE_SEARCH:"sidebar:hideSearch",RESIZING:"sidebar:resizing",FORCE_OPEN:"sidebar:forceOpen",OPEN:"sidebar:open",CLOSE:"sidebar:close"},playbackControls:{TIMELINE_CHANGED:"playbackControls:timelineChanged"},skipNav:{FOCUSED:"skipNav:focused"},slide:{WILL_CHANGE:"slide:willChange",CHANGE:"change:slides",READY:"slide:ready",STARTED:"slide:started",VIEWED:"slide:viewed",TRANSITION_STARTED:"slide:transitionStarted",ON_TRANSITION_IN:"slide:ontransitionin",CURRENT_TIMELINE:"slide:currentTimeline",PAUSE_TIMELINE:"slide:pauseTimeline",PLAY_TIMELINE:"slide:playTimeline",HAS_MOUNTED:"slide:hasMounted",HAS_CHANGED:"slide:hasChanged",ALL_TIMELINES_COMPLETE:"slide:allTimelinesComplete",ARIA_TOGGLE:"slide:ariaToggle",SLIDE_NUMBERS_UPDATED:"slide:slideNumbersUpdated",ZOOMED:"slide:zoomed",PREVENT_SWIPE:"slide:preventSwipe",ALLOW_SWIPE:"slide:allowSwipe"},slideWindow:{CLEAR_HISTORY:"slideWindow:clearHistory"},slideContainer:{POSITIONED:"slideContainer:positioned"},slideObject:{FOCUS:"slideobject:focus",TRANSFORM_DIRTY:"slideobject:transformdirty",TOGGLE_VISIBILITY:"slideobject:toggleVisibility",ON_TRANSITION_IN:"ontransitionin"},startOverlay:{READY:"startOverlay:ready"},status:{UPDATED:"status:updated"},strings:{UPDATE_STRINGS:"strings:updateStrings"},swipe:{CHANGED:"swipe:changed"},tab:{SHOW:"tab:show",HIDE:"tab:hide"},tabLink:{SHOW_PANEL:"tabLink:showPanel",PANEL_SHOWN:"tabLink:panelShown",HIDE_PANEL:"tabLink:hidePanel"},threeSixtyImage:{EDIT_MODE_CHANGED:"threeSixtyImage:editModeChanged",EDITOR_SETTINGS_CHANGED:"threeSixtyImage:editorSettingsChanged",SELECTED_MARKER_CHANGED:"threeSixtyImage:selectedMarkerChanged",MARKER_UPDATED:"threeSixtyImage:markerUpdated",UN_PUSH_LABEL:"threeSixtyImage:unPushLabel",PUSH_UP_BY_LABEL:"threeSixtyImage:pushUpByLabel",PUSH_DOWN_BY_LABEL:"threeSixtyImage:pushDownByLabel",APPLY_RESUME_DATA:"threeSixtyImage:applyResumeData",RESET_VIEW:"threeSixtyImage:resetView",UPDATE_RESUME_PROPS:"threeSixtyImage:updateResumeProps",READY:"threeSixtyImage:ready",RESIZED:"threeSixtyImage:resize",MEDIA_CLOSED:"threeSixtyImage:mediaClosed",MEDIA_TOGGLE_PLAY:"threeSixtyImage:mediaTogglePlay",MEDIA_RESTART:"threeSixtyImage:mediaRestart"},timeline:{PLAYING:"timeline:playing",PAUSED:"timeline:paused",BEFORE_RESET:"timeline:beforereset",RESET:"timeline:reset",TICK:"timeline:tick",ENDED:"timeline:ended",COMPLETE:"timeline:complete",BEFORE_SEEK_UPDATE:"timeline:beforeSeekUpdate",AFTER_SEEK_UPDATE:"timeline:afterSeekUpdate",SEEK_START:"timeline:seekStart",SEEK_END:"timeline:seekEnd",CHANGED:"timeline:changed",CURRENT_TIMELINE:"timeline:currentTimeline"},timer:{SHOW:"timer:show",HIDE:"timer:hide",SHOWN:"timer:shown",HIDDEN:"timer:hidden",COMPLETE:"timer:complete"},tincan:{STATEMENT:"tincan:statement"},topbar:{CLOSED_SIDEBAR:"topbar:closedSidebar",OPENED_SIDEBAR:"topbar:openedSidebar"},topEllipsesPanel:{HIDE:"topEllipsesPanel:hide",PANEL_SHOWN:"topEllipsesPanel:panelShown",HIDE_PANEL:"topEllipsesPanel:hidePanel"},topTabs:{OPEN_DROPDOWN:"topTabs:openDropDown",OPEN_PANEL:"topTabs:openPanel"},topTabsItem:{ACTIVATE:"topTabsItem:activate",HIDE:"topTabsItem:hide"},touchHelper:{TOUCH_START:"touchHelper:touchStart"},transcript:{CHANGED:"transcript:changed"},tween:{UPDATE:"tween:update"},variable:{CHANGED:"variable:changed",REFRESH_VIEW:"variable:refreshView"},video:{STATE_CHANGED:"video:stateChanged",PIP_MODE_CHANGED:"video:pipModeChanged"},elso:{TOGGLE_EXPANDED:"elso:toggleExpanded",SHOW_CONTENT_START:"elso:showContentStart",HIDE_CONTENT_COMPLETE:"elso:hideContentCompelete"},volume:{CHANGED:"volume:changed",CHANGE_CURRENT:"change:currentVolume"},window:{CLOSING:"window:closing",CLOSED:"window:closed",CREATED:"window:created",OPEN_EXTERNAL:"externalWindow:open",MAIN_CREATED:"mainWindow:created",MAIN_CHANGED:"mainWindow:slideChanged",SCALE:"window:scale",AFTER_SCALE:"window:afterScale",STACKING_CHANGED:"window:stackingChanged",ZOOM_MODE_CHANGED:"window:zoomModeChanged"},windowManager:{CREATED:"windowManager:created",TOP_MOST_CHANGED:"windowManager:topMostChanged"}};return Object.freeze(e),Object.freeze(e.actionlink),Object.freeze(e.animation),Object.freeze(e.app),Object.freeze(e.audioClip),Object.freeze(e.captions),Object.freeze(e.controlLayout),Object.freeze(e.course),Object.freeze(e.customlink),Object.freeze(e.data),Object.freeze(e.debug),Object.freeze(e.detection),Object.freeze(e.draw),Object.freeze(e.error),Object.freeze(e.hamburger),Object.freeze(e.interaction),Object.freeze(e.keyManager),Object.freeze(e.layer),Object.freeze(e.layout),Object.freeze(e.loader),Object.freeze(e.media),Object.freeze(e.menuLinksListItem),Object.freeze(e.mobile),Object.freeze(e.navcontrols),Object.freeze(e.player),Object.freeze(e.popup),Object.freeze(e.presentation),Object.freeze(e.preview),Object.freeze(e.quiz),Object.freeze(e.request),Object.freeze(e.resources),Object.freeze(e.resume),Object.freeze(e.scheme),Object.freeze(e.search),Object.freeze(e.sidebar),Object.freeze(e.slide),Object.freeze(e.slideContainer),Object.freeze(e.status),Object.freeze(e.swipe),Object.freeze(e.timeline),Object.freeze(e.timer),Object.freeze(e.topbar),Object.freeze(e.topTabsItem),Object.freeze(e.tween),Object.freeze(e.variable),Object.freeze(e.volume),Object.freeze(e.window),Object.freeze(e.windowManager),e}.call(e,n,e,t))||(t.exports=i)},5812:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(5485),r=n(3586),o=e.partialRight(e.omit,"mixins"),s=i.Model.extend,a=function(t,n){var i;return t=t||{},e.isArray(t)||(t=[t]),t=t.filter(e.isPlainObject),(i=e.extend.apply(e,t.map(o))).mixins=e(t).map("mixins").unshift(this.prototype.mixins).flatten().filter(e.isPlainObject).uniq().value(),r.mix(i),s.call(this,i,n)};return"Model Collection View Router History".split(" ").forEach((function(t){i[t].extend=a})),a}.call(e,n,e,t))||(t.exports=i)},5613:function(t,e,n){"use strict";var i;void 0===(i=function(t){function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}return e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},e.prototype.once=function(t,e){var n=this;function i(){n.off(t,i),e.apply(this,arguments)}return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var i=0,r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length},e}.call(e,n,e,t))||(t.exports=i)},8150:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6486),i=n(4811),o=n(9032),s=n(8880),a=n(82),l=n(1419),u=window.TinCan||n(5932),c=n(7812).XAPI_RETRY_INTERVALS_MS,h=n(5964),d=h.getCourseAttemptedStmt,p=h.getCourseCompleteStmt,f=h.getSlideViewedStmt,v=h.getSlideLeftStmt,g=h.getViewedCompleteStmt,m=h.getQuizCompleteStmt,y=h.getQuestionStmt,b=h.getLikertStmts,w=h.formatCustomStatement,A="resume";return function(){function t(n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activityId=n,this.scoring=i.first(),this.resumer=r,this.pending={},e.bindAll(this,"sendResumeReady"),this.resolveLrsSettings(),this.valid&&(this.lrs=new u.LRS(this.lrsConfig))}return r(t,[{key:"getDataLaunchConfig",value:function(){var t=DS.presentation.get("xapi")||{},n={};e.isEmpty(t.endpoint)||(n.endpoint=t.endpoint);var i=atob(t.param1||""),r=atob(t.param2||"");return e.isEmpty(i)||e.isEmpty(r)||(n.auth="Basic "+btoa(i+":"+r)),n}},{key:"getTinCanLaunchConfig",value:function(t){var e=window.globals,n=e.tinCanPresent,i=e.cmi5Present,r=n||i,o={};return null!=t.actor&&(o.actor=t.actor),r||["auth","endpoint","registration"].forEach((function(e){null!=t[e]&&(o[e]=t[e])})),o}},{key:"getStorylineXApiLaunchConfig",value:function(t){var e={};return null!=t.slxapi&&["auth","endpoint","actor","registration"].forEach((function(n){null!=t.slxapi[n]&&(e[n]=t.slxapi[n])})),e}},{key:"getJsActor",value:function(){return null!=window.getActor?{actor:window.getActor()}:{}}},{key:"resolveLrsSettings",value:function(){var t=this,n=DS.presentation.get("xapi"),i=a.queryStringToObj()||{},r=n&&n.manualConfiguration,l=this.getDataLaunchConfig(),u=this.getTinCanLaunchConfig(i),c=this.getStorylineXApiLaunchConfig(i),h=this.getJsActor();this.lrsConfig=Object.assign.apply(Object,[{}].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r?[u,c,l,h]:[l,u,c,h]))),this.valid=["auth","endpoint","actor"].every((function(n){var i=!e.isEmpty(t.lrsConfig[n]);if(!i){var r="The value of '"+n+"' is not defined. This course will be unable to send learner data to the LRS";console.error(r),DS.debugWindow.enabled()&&o.trigger(s.debug.lrs.ERROR,r)}return i})),DS.debugWindow.enabled()&&o.trigger(s.debug.lrs.INITIALIZED,Object.assign({activityId:this.activityId},e.cloneDeep(this.lrsConfig))),this.actor=this.lrsConfig.actor,this.registration=this.lrsConfig.registration,delete this.lrsConfig.actor,delete this.lrsConfig.registration}},{key:"isValid",value:function(){return this.valid}},{key:"sendStatement",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2];null==this.registration||null!=t.context&&null!=t.context.registration||(t.context=t.context||{},t.context.registration=this.registration);var r=Object.assign({},t,{actor:this.actor}),a=i||Math.random()+"-lms";DS.connection.requiredAsset(a),this.lrs.saveStatement(new u.Statement(r),{callback:function(i,l){null!=i?DS.connection.useConnectionMessages?(DS.connection.assetFailed(a),setTimeout((function(){e.sendStatement(t,n+1,a)}),300),DS.debugWindow.enabled()&&o.trigger(s.debug.lrs.STATEMENT_RESPONSE,r.id,i,l)):n<c.length?setTimeout((function(){return e.sendStatement(t,n+1)}),c[n]):(e.pending[r.id]=!1,DS.debugWindow.enabled()&&o.trigger(s.debug.lrs.STATEMENT_RESPONSE,r.id,i,l)):(DS.connection.assetLoaded(a),e.pending[r.id]=!1,DS.debugWindow.enabled()&&o.trigger(s.debug.lrs.STATEMENT_RESPONSE,r.id))}}),0===n&&DS.debugWindow.enabled()&&(this.pending[r.id]=!0,o.trigger(s.debug.lrs.STATEMENT_SENT,r))}},{key:"isCloseReady",value:function(){return e.every(this.pending,(function(t){return!t}))}},{key:"courseStarted",value:function(t){this.sendStatement(d(this.scoring,t))}},{key:"courseComplete",value:function(t,e){e||this.isCourseCompletionReported||(this.isCourseCompletionReported=!0,this.sendStatement(p(t,this.resumer.getCourseTime())))}},{key:"slideViewed",value:function(t){this.sendStatement(f(t))}},{key:"slideLeft",value:function(t){this.sendStatement(v(t))}},{key:"viewedComplete",value:function(t){this.isCourseCompletionReported||(this.isCourseCompletionReported=!0,this.sendStatement(g(t,this.resumer.getCourseTime())))}},{key:"manualCourseComplete",value:function(t,e){this.courseComplete(e,!1)}},{key:"interactionAnswered",value:function(t,e){e.hasResponses()&&(e.isType("likert")?this.logLikert(t,e):this.logQuestion(t,e))}},{key:"logLikert",value:function(t,e){var n=this;b(t,e).forEach((function(t){n.sendStatement(t)}))}},{key:"logQuestion",value:function(t,e){this.sendStatement(y(t,e))}},{key:"quizComplete",value:function(t){this.isCourseCompletionReported||(this.lastScoredScoring=t.scoring,this.sendStatement(m(t)))}},{key:"quizRetried",value:function(t){l.hasFlag(l.constants.MULTIPLE_QUIZ_TRACKING)&&this.lastScoredScoring===t&&(this.isCourseCompletionReported=!1)}},{key:"sendXApiStatement",value:function(t){this.sendStatement(w(t))}},{key:"getResumeConfig",value:function(t){return{agent:new u.Agent(this.actor),activity:{id:this.activityId},callback:t,overwriteJSON:!0,registration:this.registration}}},{key:"getItem",value:function(){return this.resumeDfd=i.Deferred(),this.lrs.retrieveState(A,this.getResumeConfig(this.sendResumeReady)),DS.detection.env.isFileProtocol&&this.resumeDfd.resolve(""),this.resumeDfd.promise()}},{key:"setItem",value:function(t,n){this.lrs.saveState(A,n,this.getResumeConfig(e.noop))}},{key:"sendResumeReady",value:function(t,e){null==t?this.resumeDfd.resolve(e&&e.contents):this.resumeDfd.resolve("")}}]),t}()}.call(e,n,e,t))||(t.exports=i)},1809:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r=n(6486),o=n(4403),s=n(8579),a=n(82),l=(n(118),n(6295)),u=n(4811),c=n(1251),h=n(7510).addWindowListener,d=0,p="SavePlayerData",f="SaveResume",v="GetResumeInfo",g="RefreshSession",m="GetSessionId",y=["<soap:Envelope ",'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ','xmlns:xsd="http://www.w3.org/2001/XMLSchema" ','xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">',"<soap:Body>"].join(""),b="</soap:Body></soap:Envelope>",w=window.location.origin,A=r.first(window.location.toString().split("#")),E="http://articulate.com",S=function(t){var e=r.tail(arguments);return[t].concat(e).join("/")},T="",x={GetResumeInfo:"sendResumeReady",GetSessionId:"onSessionId",RefreshSession:"dontDoAnything",SaveResume:"dontDoAnything",SavePlayerData:"dontDoAnything"},C={queue:[],priorityQueue:[],resumer:null,scoring:null,htmlUpdate:"",lastData:"",unloaded:!1,awaitingResponse:!1,initialize:function(t,e){if(window.globals.aoSupport)return this.activityId=t,this.scoring=e||{},this.sessionId=Date.now().toString(),h("pagehide",this.onBeforeUnload.bind(this)),this},setTotalSlides:function(t){this.totalSlides=t},setResumer:function(t){this.resumer=t,this.queueRequest(m)},interactionAnswered:function(t,e){this.updateResults(),this.sendResultsData()},quizComplete:function(t){this.updateResults(),this.sendResultsData()},courseComplete:function(t){this.updateResults(),this.sendResultsData()},manualCourseComplete:function(t,e){this.updateCompleteOnly(),this.sendResultsData()},courseStarted:r.noop,reportStatus:r.noop,viewedComplete:r.noop,slideViewed:function(t){var e=[c.writeNode("viewdata",{total:this.totalSlides,viewed:this.resumer.getUniqueViewedSlides().length,viewedcomplete:this.resumer.getUniqueTotalSlides().length})];this.getViewedEls(this.resumer.viewedSlides).forEach((function(t){e.push(t)})),e.push(c.writeCloseNode("viewdata")),this.updateViewData(e.join("")),null!=this.scoring&&this.scoring.isView()&&(this.setViewedResults(),this.sendResultsData())},getViewedEls:function(t){return t.reduce((function(t,e){return t.push(c.writeNode("slide",{id:a.stripPlayer(e.absoluteId),viewgroupid:e.getViewGroupId()},!0)),t}),[])},setViewedResults:function(){var t=[c.writeNode("results"),c.writeNode("summary",{slidesviewed:this.resumer.totalViewedSlides.length,slidestotal:this.totalSlides,duration:this.resumer.getCourseTime(),status:this.scoring.getViewedStatus()},!0),c.writeCloseNode("results")].join("");this.updateResultsData(t)},updateResults:function(){if(null!=this.scoring&&!this.scoring.isView()){var t=[c.writeNode("results"),c.writeNode("summary",this.getSummaryAttributes(),!0),c.writeNode("quizzes")];return null!=this.scoring.quiz&&t.push(this.scoring.quiz.getAoSoapXml()),t.push(c.writeCloseNode("quizzes"),c.writeCloseNode("results")),this.updateResultsData(t.join("")),this}},updateCompleteOnly:function(){return this.updateResultsData([c.writeNode("results"),c.writeNode("summary",{status:this.scoring.prop("Status")},!0),c.writeCloseNode("results")].join("")),this},getSummaryAttributes:function(t){return t={},null==this.scoring||this.scoring.isView()||(this.scoring.isType("quiz")&&(t.score=this.scoring.prop("PercentScore"),t.possibleScore=100),t.duration=this.resumer.getCourseTime(),t.status=this.scoring.prop("Status")),t},onSessionId:function(t){this.sessionId=t.querySelector("GetSessionIdResponse").textContent,this.createRefreshInterval()},killRefreshInterval:function(){this.onIntervalCompleteCall.kill(),this.onIntervalCompleteCall=null},createRefreshInterval:function(){this.onIntervalCompleteCall=l.delayedCall(60,this.onIntervalComplete,void 0,this)},onIntervalComplete:function(){this.queueRequest(g).createRefreshInterval()},dontDoAnything:r.noop,getItem:function(){return this.resumeDfd=u.Deferred(),this.queueRequest(v),this.resumeDfd.promise()},setItem:function(t,e){e!==this.lastData&&(this.lastData=e,this.updateResumeData(e))},sendResumeReady:function(t){var e=t.querySelector("GetResumeInfoResponse");this.resumeDfd.resolve(e.textContent)},getWrapperDiv:function(){return document.createElement("div")},updateResumeData:function(t){var n;e=["<resumeData>",c.xmlEncodeValue(t),"</resumeData>"].join(""),n=['<playerdata sessionid="',this.sessionId,'">',e,"</playerdata>"].join(""),this.killRefreshInterval(),this.queueRequest(f,n),this.createRefreshInterval(),this.prepareHtmlUpdate()},updateViewData:function(t){i=t,this.prepareHtmlUpdate()},updateResultsData:function(t){T=t,this.prepareHtmlUpdate()},getPlayerData:function(){return['<playerdata sessionid="',this.sessionId,'" ','sendcount="',d,'">',e,i,T,"</playerdata>"].join("")},sendResultsData:function(){var t=this.getPlayerData();d++,this.queueRequest(p,t,!0),this.scoring.markAttemptsSent()},prepareHtmlUpdate:function(){this.htmlUpdate=this.getPlayerData()},hasResultsData:function(){return/<(viewdata|results)/.test(this.htmlUpdate)},onBeforeUnload:function(t){this.htmlUpdate.length&&null==this.hasEnded&&(this.hasEnded=!0,this[s.browser.isIE?"sendSyncRequest":"sendRequest"]({command:this.hasResultsData()?p:f,xmlData:this.htmlUpdate}))},queueRequest:function(t,e,n){var i=n?this.priorityQueue:this.queue,r={command:t,xmlData:e};return 0===this.queue.length&&0===this.priorityQueue.length&&!1===this.awaitingResponse?this.sendRequest(r):i.unshift(r),this},requestCallback:function(t,e,n){var i;this.awaitingResponse=!1,e||(i=(new window.DOMParser).parseFromString(n.text,"application/xml")),this[t](i),this.popQueue()},popQueue:function(){var t=this.priorityQueue.pop()||this.queue.pop();null!=t&&this.sendRequest(t)},sendRequest:function(t,e){s.browser.isIE&&this.hasEnded&&this.sendSyncRequest(t);var n=this.createBaseUrl("services/content/api.asmx"),i=this.createActionUrl("KnowledgeFlash/Services/Content/Api",t.command),r=this.createSoapRequest(t),a=x[t.command];this.awaitingResponse=!0,o.post(n).set("Content-Type","text/xml").set("soapaction",i).send(r).end(this.requestCallback.bind(this,a))},createActionUrl:r.partial(S,E),createBaseUrl:r.partial(S,w),createSoapRequest:function(t){return[y,"<command ".replace("command",t.command),'xmlns="serverUrl/KnowledgeFlash/Services/Content/Api">'.replace("serverUrl",E),"<contentUrl>",window.escape(A),"</contentUrl>",null!=t.xmlData?t.xmlData:"","</command>".replace("command",t.command),b].join("")},sendSyncRequest:function(t){var e=this.createBaseUrl("services/content/api.asmx"),n=this.createActionUrl("KnowledgeFlash/Services/Content/Api",t.command),i=this.createSoapRequest(t),r=new window.XMLHttpRequest;r.open("POST",e,!1),r.setRequestHeader("SOAPAction",n),r.send(i)}};return window.handleBeforeUnload=C.onBeforeUnload.bind(C),C}.call(e,n,e,t))||(t.exports=i)},5053:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(9842),r=n(6295),o=n(4811),s=n(82),a=n(7510).addWindowListener,l=n(1419),u=n(6776),c=(window.TinCan||n(5932)).Utils.convertMillisecondsToISO8601Duration,h=void 0,d=void 0,p={complete:function(t){if(l.hasFlag(l.constants.MULTIPLE_QUIZ_TRACKING)){if(d)return;d=!0}t.api.SetReachedEnd()},incomplete:function(t){t.api.ResetStatus()},fail:function(t){if(l.hasFlag(l.constants.MULTIPLE_QUIZ_TRACKING)){if(d)return;d=!0}t.isCmi5&&t.api.SetReachedEnd(),t.api.SetFailed()},pass:function(t){if(l.hasFlag(l.constants.MULTIPLE_QUIZ_TRACKING)){if(d)return;d=!0}t.isCmi5&&t.api.SetReachedEnd(),t.api.SetPassed()}},f={queue:[],resumer:null,scorings:[],api:null,lessonCompleted:!1,setTotalSlides:e.noop,quizComplete:e.noop,courseStarted:function(t){if(this.isCmi5){var e=this.api.cmi5.prepareStatement(u.verbs.VERB_ATTEMPTED),n=this.scorings.first();this.setCmi5StatementDefinitionParams(e,u.objects.OBJECT_COURSE,n.get("lmstext"),n.get("description")),t||(e.result=new this.api.TinCan.Result({completion:!1})),this.sendCmi5Statement(e)}},slideViewed:function(t){if(this.isCmi5){var e=this.api.cmi5.prepareStatement(u.verbs.VERB_EXPERIENCED),n=t.get("title");this.setCmi5StatementDefinitionParams(e,u.objects.OBJECT_MODULE,n,n),this.sendCmi5Statement(e)}},slideLeft:function(t){if(this.isCmi5){var e=this.api.cmi5.prepareStatement(u.verbs.VERB_LEFT),n=t.get("title");this.setCmi5StatementDefinitionParams(e,u.objects.OBJECT_MODULE,n,n),e.verb.display={"en-US":"left"},e.result=new this.api.TinCan.Result({duration:c(t.elapsedTime)}),this.sendCmi5Statement(e)}},setCmi5StatementDefinitionParams:function(t,e,n,i){t.target.definition=new this.api.TinCan.ActivityDefinition({type:e,name:{},description:{}}),t.target.definition.name[u.lang]=n,t.target.definition.description[u.lang]=i},sendCmi5Statement:function(t,e){var n=this;if(DS.connection.useConnectionMessages){var i=e||Math.random()+"-lms";DS.connection.requiredAsset(i),this.api.cmi5.sendStatement(t,(function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];null!=r[0]&&0==r[0].message?(DS.connection.assetFailed(i),setTimeout(n.sendCmi5Statement(t,i),300)):DS.connection.assetLoaded(i)}))}else this.api.cmi5.sendStatement(t,(function(){}))},buildCMI5Statement:function(t){var e,n,i,r={actor:this.api.cmi5.getActor(),context:this.api.cmi5._prepareContext()},o=this.api.cmi5.getProgress();return"http://adlnet.gov/expapi/verbs/completed"!==t.verb.id&&null!==o&&(r.result={extensions:(e={},n="https://w3id.org/xapi/cmi5/result/extensions/progress",i=o,n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e)}),new this.api.TinCan.Statement(Object.assign(r,t))},sendXApiStatement:function(t){this.isCmi5&&this.sendCmi5Statement(this.buildCMI5Statement(t))},initialize:function(t,e,n){var i=this.startWindow();return i&&(window.lmsAPI=window.parent,this.scorings=e,this.courseId=t,this.isCmi5=n,a("pagehide",this.lmsUnload.bind(this)),this.initCommitTimeout()),!0===i?this:i},startWindow:function(){this.api=window;var t=e.isFunction(this.api.Start);return t&&this.api.Start(),t},setResumer:function(t){this.resumer=t},getItem:function(t){if(this.resumeDfd=this.resumeDfd||o.Deferred(),null!=this.api.IsLoaded&&this.api.IsLoaded()){var e=this.api.GetDataChunk();this.resumeDfd.resolve(e),this.listenToResumer(),this.lessonCompleted=this.api.GetStatus()===this.api.LESSON_STATUS_COMPLETED}else r.delayedCall(.5,this.getItem,void 0,this);if(null!=t)return this.resumeDfd.promise()},listenToResumer:function(){var t=this;this.resumer.resumeDfd.catch((function(){t.lastStatus="incomplete",p.incomplete(t)}))},setItem:function(t,e){this.resumeData=e,this.sendDataCall||(this.sendDataCall=r.delayedCall(.5,this.sendData,void 0,this))},initCommitTimeout:function(){var t=parseInt(s.getPath(window,"FORCED_COMMIT_TIME",6e4),10);t>0&&r.delayedCall(s.toSeconds(t),this.onCommitDelayComplete,void 0,this)},onCommitDelayComplete:function(){this.commit().initCommitTimeout()},sendData:function(){return this.sendDataCall&&this.sendDataCall.kill(),this.sendDataCall=null,null!=this.resumeData&&this.api.SetDataChunk(this.resumeData),this},interactionAnswered:function(t,e){this.scorings.length>0&&(0,i[e.type()])(t,e,this.resumer.getCourseTime())},reportStatus:function(t){return this.updateScore(t),this.updateStatus(),this},updateStatus:function(){var t=this.scorings.getStatus(),n=p[t]||e.noop;return this.lastStatus&&this.lastStatus===t||(this.lastStatus=t,n(this)),this},updateScore:function(t){if((!l.hasFlag(l.constants.MULTIPLE_QUIZ_TRACKING)||!d)&&(null==t&&(t=this.scorings.guessCurrentScoring()),null!=t&&t.isType("quiz"))){var e=t.prop("PercentScore");this.lastScore!==e&&(h=t,this.lastScore=e,this.api.SetScore(e,100,0))}},viewedComplete:function(){return p[this.scorings.getStatus()](this),this.resumer.savePresentationData(),this.commit(),this},forceCommit:function(){return this.resumer.savePresentationData(),this.sendData().commit(),this},lmsUnload:function(t){null==this.unloaded&&(this.unloaded=!0,this.reportStatus(null),null!=this.sendDataCall&&this.forceCommit(),this.api.ConcedeControl(!0===t),this.api.Unload())},commit:function(){return this.api.CommitData(),this},courseComplete:function(t){return this.reportStatus(t).forceCommit(),this},quizRetried:function(t){l.hasFlag(l.constants.MULTIPLE_QUIZ_TRACKING)&&h===t&&(d=!1)},manualCourseComplete:function(t,e){f.courseComplete(e)}};return f}.call(e,n,e,t))||(t.exports=i)},9842:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=(n(7812),function(t){return null==t&&(t=""),window.CreateResponseIdentifier(t.substr(0,1),t)}),r=function(t,e){return t.push(i(e)),t},o=function(t,e,n){var i=e.statement.lmstext||e.statement,r=e.choice.lmstext||e.choice,o=window.CreateResponseIdentifier(n.toString(),i),s=window.CreateResponseIdentifier(i.charAt(0),r);return t.push(new window.MatchingResponse(o,s)),t},s=function(t){return null==t.choice&&""===t?t="_":""===t.choice&&(t.choice="_"),t},a={C:window.INTERACTION_RESULT_CORRECT,I:window.INTERACTION_RESULT_WRONG,W:window.INTERACTION_RESULT_WRONG,U:window.INTERACTION_RESULT_UNANTICIPATED,N:window.INTERACTION_RESULT_NEUTRAL},l=function(t){var n=e.first(t).toUpperCase();return a[n]||t},u=function(t){return null!=t&&"true"===t.lmstext.toLowerCase()},c=function(t,e){var n,i=e,r=[e.prop("AttemptCount")-1,t.getAttempts()];do{(n=i.get("lmsId"))&&r.push(n)}while(i=i.parent);return r.reverse().join("_")},h={truefalse:function(t,n,i){window.RecordTrueFalseInteraction(c(t,n),u(e.first(n.getResponseValues())),l(n.prop("Status")),u(e.first(n.getCorrectValues())),n.get("lmstext"),t.prop("Weight"),i,t.get("lmstext"))},multiEtc:function(t,n,o,a){var u,h,d,p;o.isType("sequence")?(h=function(t,e,n){return t.push(i(e.statement.lmstext),i(e.choice.lmstext)),t},d=o.getResponseValues().reduce(h,[]),p=s(o.getCorrectValues()).reduce(h,[])):(u=function(t){return e.isString(t)?t:null!=t.choice?t.choice.lmstext:t.lmstext},d=o.getResponseValues().map(u).reduce(r,[]),p=s(o.getCorrectValues().map(u)).reduce(r,[])),window[t](c(n,o),d,l(o.prop("Status")),p,o.get("lmstext"),n.prop("Weight"),a,n.get("lmstext"))},numeric:function(t,e,n,i){window.RecordFillInInteraction(c(t,e),e.getResponseValues(),l(e.prop("Status")),i||e.getCorrectValues(),e.get("lmstext"),t.prop("Weight"),n,t.get("lmstext"))},fillin:function(t,e,n){var i=e.getCorrectValues().map((function(t){return t.lmstext})).join("|#|");h.numeric(t,e,n,i)},matching:function(t,e,n){var i=e.getResponseValues().reduce(o,[]),r=e.getCorrectValues();r=s(r).reduce(o,[]),window.RecordMatchingInteraction(c(t,e),i,l(e.prop("Status")),r,e.get("lmstext"),t.prop("Weight"),n,t.get("lmstext"))},likert:function(t,n,i){var r=e.flatten(n.getResponseValues().map((function(t){return[t.statement.lmstext,t.choice.lmstext]}))).join("|#|");window.RecordLikertInteraction(c(t,n),window.CreateResponseIdentifier(r.substr(0,1),r),l(n.prop("Status")),"",n.get("lmstext"),t.prop("Weight"),i,t.get("lmstext"))}};return h.wordbank=h.hotspot=h.multiplechoice=h.multipleresponse=e.partial(h.multiEtc,"RecordMultipleChoiceInteraction"),h.sequence=e.partial(h.multiEtc,"RecordSequencingInteraction"),h.essay=h.numeric,h}.call(e,n,e,t))||(t.exports=i)},8945:function(t,e,n){"use strict";var i;function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(i=function(t){var e=n(6486),i=n(8579),o=n(8880),s=n(9032),a=n(82),l=n(4170),u=n(1809),c=n(5053),h=n(8150),d=n(5964),p=n(4811),f=void 0;return{initialize:function(t,e){f=t,this.resumer=e,this.learningInterfaces=[];var n=f.get("xapi");null!=n&&(n.manualConfiguration||(n=Object.assign({},n,{endpoint:"",param1:"",param2:""}),DS.presentation.set("xapi",n)),DS.debugWindow.init(Object.assign({},n,{lmsEnabled:window.globals.tinCanPresent})),d.setConfig(this.getXApiStatementConfig())),this.initLms(),this.initLrs(),this.addPartials(),this.addListeners()},getXApiStatementConfig:function(){return{version:f.get("tincanVersion"),lang:f.get("tincanLanguage"),activityId:this.getActivityId()}},getActivityId:function(){var t=a.queryStringToObj()||{};return a.getPath(t,"activity_id",a.getPath(t,"slxapi.activityId",a.getPath(f,"xapi.activityId","")))},getItem:function(t){var n=e.first(this.learningInterfaces);if(null==n){var i=p.Deferred();return i.resolve(),i.promise()}return n.getItem(t)},setItem:function(t,n){e.first(this.learningInterfaces).setItem(t,n)},getScorings:function(){var t=f.get("scoring"),e=f.scorings()||[];return 0===e.length&&null!=t&&e.push(t),e},initLms:function(){var t=this.getScorings(),e=f.get("courseId"),n=window.globals,r=n.aoSupport,o=n.lmsPresent,s=n.tinCanPresent,a=n.cmi5Present,h=i.env.isRise,d=void 0;s||h?d=l.initialize(e,f.get("tincanVersion"),t,f,h):r?d=u.initialize(e,t.first()):o&&(d=c.initialize(e,t,a)),d&&(d.setResumer(this.resumer),this.learningInterfaces.push(d))},initLrs:function(){var t=f.get("xapi");if(t&&t.lrsEnabled){var e=new h(this.getActivityId(),this.getScorings(),this.resumer);e.isValid()&&this.learningInterfaces.push(e)}},lmsPresent:function(){return this.learningInterfaces&&this.learningInterfaces.length>0},addListeners:function(){var t={};t[o.interaction.EVALUATED]=this.onInteractionEvaluated.bind(this),t[o.quiz.COMPLETED]=this.quizComplete,t[o.course.COMPLETED]=this.courseComplete,t[o.course.MANUALLY_COMPLETED]=this.manualCourseComplete,t[o.course.VIEWED]=this.viewedComplete,t[o.status.UPDATED]=this.reportStatus,t[o.quiz.RETRIED]=this.quizRetried,t[o.course.SEND_XAPI_STATEMENT]=this.sendXApiStatement.bind(this),s.on(t)},onInteractionEvaluated:function(t,e){var n=this.getScorings();(t.hasScoring()||n.length>0&&n.hasQuiz(t))&&this.learningInterfaces.forEach((function(n){return n.interactionAnswered(t,e)}))},sendXApiStatement:function(t){null!=t.result&&null!=t.result.duration&&(t.result.duration=d.formatTime(t.result.duration)),this.callInterfaceMethod("sendXApiStatement",t)},callInterfaceMethod:function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this.learningInterfaces.forEach((function(n){e.isFunction(n[t])&&n[t].apply(n,r(i))}))},addPartials:function(){var t=this;this.callInterfaceMethod=this.callInterfaceMethod.bind(this);["courseStarted","slideViewed","slideLeft","setTotalSlides","quizComplete","courseComplete","manualCourseComplete","viewedComplete","reportStatus","quizRetried"].forEach((function(n){t[n]=e.partial(t.callInterfaceMethod,n)}))},lmsUnload:function(t){return this.learningInterfaces.some((function(n){return!!e.isFunction(n.lmsUnload)&&(n.lmsUnload(t),!0)}))},checkAllInterfacesCloseReady:function(){return this.learningInterfaces.every((function(t){return null==t.isCloseReady||t.isCloseReady()}))},whenCloseReady:function(){var t=this;return new Promise((function(e){window.requestAnimationFrame((function n(){t.checkAllInterfacesCloseReady()?e():window.requestAnimationFrame(n)}))}))}}}.call(e,n,e,t))||(t.exports=i)},4403:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(5613),i="undefined"==typeof window?this||self:window;function r(){}function o(t){switch({}.toString.call(t)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}d.getXHR=function(){if(!(!i.XMLHttpRequest||i.location&&"file:"==i.location.protocol&&i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var s="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function a(t){return t===Object(t)}function l(t){if(!a(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function u(t){for(var e,n={},i=t.split("&"),r=0,o=i.length;r<o;++r)e=i[r].split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function c(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=function(t){var e,n,i,r,o=t.split(/\r?\n/),a={};o.pop();for(var l=0,u=o.length;l<u;++l)e=(n=o[l]).indexOf(":"),i=n.slice(0,e).toLowerCase(),r=s(n.slice(e+1)),a[i]=r;return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function h(t,n){var i=this;e.call(this),this._query=this._query||[],this.method=t,this.url=n,this.header={},this._header={},this.on("end",(function(){var t=null,e=null;try{e=new c(i)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,i.callback(t)}if(i.emit("response",e),t)return i.callback(t,e);if(e.status>=200&&e.status<300||0===e.status)return i.callback(t,e);var n=new Error(e.statusText||"Unsuccessful HTTP response");n.original=t,n.response=e,n.status=e.status,i.callback(t||n,e)}))}function d(t,e){return"function"==typeof e?new h("GET",t).end(e):1==arguments.length?new h("GET",t):new h(t,e)}return d.serializeObject=l,d.parseString=u,d.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},d.serialize={"application/x-www-form-urlencoded":l,"application/json":JSON.stringify},d.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},c.prototype.get=function(t){return this.header[t.toLowerCase()]},c.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=e.split(/ *; */).shift();var n=function(t){return function(t,e,n){for(var i=0,r=t.length,o=3==arguments.length?n:t[i++];i<r;)o=e.call(null,o,t[i],++i,t);return o}(t.split(/ *; */),(function(t,e){var n=e.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(t[i]=r),t}),{})}(e);for(var i in n)this[i]=n[i]},c.prototype.parseBody=function(t){var e=d.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},c.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},c.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,i="cannot "+e+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=e,r.url=n,r},d.Response=c,e(h.prototype),h.prototype.use=function(t){return t(this),this},h.prototype.timeout=function(t){return this._timeout=t,this},h.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},h.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},h.prototype.set=function(t,e){if(a(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},h.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},h.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},h.prototype.type=function(t){return this.set("Content-Type",d.types[t]||t),this},h.prototype.accept=function(t){return this.set("Accept",d.types[t]||t),this},h.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},h.prototype.query=function(t){return"string"!=typeof t&&(t=l(t)),t&&this._query.push(t),this},h.prototype.field=function(t,e){return this._formData||(this._formData=new i.FormData),this._formData.append(t,e),this},h.prototype.attach=function(t,e,n){return this._formData||(this._formData=new i.FormData),this._formData.append(t,e,n),this},h.prototype.send=function(t){var e=a(t),n=this.getHeader("Content-Type");if(e&&a(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||o(t)||n||this.type("json"),this},h.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},h.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},h.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},h.prototype.withCredentials=function(){return this._withCredentials=!0,this},h.prototype.end=function(t){var e=this,n=this.xhr=d.getXHR(),i=this._query.join("&"),s=this._timeout,a=this._formData||this._data;this._callback=t||r,n.onreadystatechange=function(){if(4==n.readyState){try{n.status}catch(t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var l=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=l);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=l)}catch(t){}if(s&&!this._timer&&(this._timer=setTimeout((function(){e.timedout=!0,e.abort()}),s)),i&&(i=d.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!o(a)){var u=d.serialize[this.getHeader("Content-Type")];u&&(a=u(a))}for(var c in this.header)null!=this.header[c]&&n.setRequestHeader(c,this.header[c]);return this.emit("request",this),n.send(a),this},d.Request=h,d.get=function(t,e,n){var i=d("GET",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},d.head=function(t,e,n){var i=d("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.del=function(t,e){var n=d("DELETE",t);return e&&n.end(e),n},d.patch=function(t,e,n){var i=d("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.post=function(t,e,n){var i=d("POST",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d.put=function(t,e,n){var i=d("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},d}.call(e,n,e,t))||(t.exports=i)},4170:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(4811),r=n(82),o=n(8880),s=n(9032),a=window.TinCan||n(5932),l=n(7812),u=n(1419),c=n(5964),h=n(9343),d="resume",p=void 0,f=/file/.test(window.location.protocol),v=void 0,g=void 0;return{queue:[],tinCan:null,resumer:null,scoring:null,scorings:null,version:0,retryCount:0,setTotalSlides:e.noop,reportStatus:e.noop,initialize:function(t,n,i,l,u){if(window.globals.tinCanPresent||u){if(this.activityId=t,this.setPreso(l),this.urlParams=r.queryStringToObj(),this.version=n,this.scoring=i.first(),this.tinCan=f||u?new a:new a({url:window.location.toString().replace("&tincan=true","")}),this.pending={},h.enabled()){var c=e.first(this.tinCan.recordStores)||{},d=null!=this.tinCan.actor&&null!=this.tinCan.actor.asVersion?this.tinCan.actor.asVersion(this.version):"";s.trigger(o.debug.lms.INITIALIZED,{activityId:r.getPath(this,"tinCan.activity.id"),endpoint:c.endpoint,auth:c.auth,actor:d,registration:this.tinCan.registration})}return this.sendData=u?this.sendStatementLocal:this.sendStatement,this}},setPreso:function(t){p=t},setResumer:function(t){this.resumer=t},createConfig:function(t){return null==this.urlParams.activity_id&&(t.activity={id:p.get("xapi").activityId}),t},getItem:function(){this.resumeDfd=i.Deferred();var t=this.createConfig({callback:this.sendResumeReady.bind(this),overwriteJSON:!0});return this.tinCan.getState(d,t),f&&this.resumeDfd.resolve(""),this.resumeDfd.promise()},setItem:function(t,n){var i=this.createConfig({callback:e.noop});this.tinCan.setState(d,n,i)},sendResumeReady:function(t,e){null==t&&this.resumeDfd.resolve(e&&e.contents)},courseStarted:function(t){this.queueStatement(c.getCourseAttemptedStmt(this.scoring,t))},quizComplete:function(t){g||(v=t.scoring,this.queueStatement(c.getQuizCompleteStmt(t)))},courseComplete:function(t,e){e||g||(g=!0,this.queueStatement(c.getCourseCompleteStmt(t,this.resumer.getCourseTime())))},manualCourseComplete:function(t,e){this.courseComplete(e,!1)},quizRetried:function(t){u.hasFlag(u.constants.MULTIPLE_QUIZ_TRACKING)&&v===t&&(g=!1)},viewedComplete:function(t){g||(g=!0,this.queueStatement(c.getViewedCompleteStmt(t,this.resumer.getCourseTime())))},slideViewed:function(t){this.queueStatement(c.getSlideViewedStmt(t))},slideLeft:function(t){this.queueStatement(c.getSlideLeftStmt(t))},interactionAnswered:function(t,e){e.hasResponses()&&(e.isType("likert")?this.logLikert(t,e):this.logQuestion(t,e))},logLikert:function(t,e){var n=this;c.getLikertStmts(t,e).forEach((function(t){n.queueStatement(t)}))},logQuestion:function(t,e){this.queueStatement(c.getQuestionStmt(t,e))},sendXApiStatement:function(t){this.queueStatement(c.formatCustomStatement(t))},queueStatement:function(t){0===this.queue.length?this.sendData(t):this.queue.unshift(t)},sendStatementCallback:function(t,e){var n=this;if(DS.connection.requiredAsset(e.id),DS.connection.useConnectionMessages)null!=t[0].err?(DS.connection.assetFailed(e.id),setTimeout((function(){return n.sendStatement(e)}),300)):(DS.connection.assetLoaded(e.id),this.pending[e.id]=null,this.retryCount=0,this.popQueue());else if(null!=t[0].err&&this.retryCount<l.XAPI_RETRY_INTERVALS_MS.length)setTimeout((function(){return n.sendStatement(e)}),l.XAPI_RETRY_INTERVALS_MS[this.retryCount++]);else{if(h.enabled())if(null!=t[0].err){var i=t[0],r=i.err,a=i.xhr;s.trigger(o.debug.lms.STATEMENT_RESPONSE,e.id,r,a)}else s.trigger(o.debug.lms.STATEMENT_RESPONSE,e.id);this.pending[e.id]=null,this.retryCount=0,this.popQueue()}},isCloseReady:function(){return e.every(this.pending,(function(t){return!t}))},popQueue:function(){this.queue.length>0&&this.sendData(this.queue.pop())},sendStatement:function(t){if(DS.connection.requiredAsset(t.id),this.tinCan.sendStatement(t,this.sendStatementCallback.bind(this)),!this.pending[t.id]&&(this.pending[t.id]=!0,h.enabled())){var e=this.tinCan.prepareStatement(t).asVersion(this.version);s.trigger(o.debug.lms.STATEMENT_SENT,e)}},sendStatementLocal:function(t){s.trigger(o.tincan.STATEMENT,t),this.popQueue()}}}.call(e,n,e,t))||(t.exports=i)},5964:function(t,e,n){"use strict";var i;function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}void 0===(i=function(t){var e,i=n(6486),s=n(82),a=window.TinCan||n(5932),l=a.Utils,u=l.convertMillisecondsToISO8601Duration,c=l.getUUID,h="choice",d="matching",p="sequencing",f="completed",v="answered",g={id:"http://activitystrea.ms/schema/1.0/leave",display:{"en-US":"left"}},m="http://adlnet.gov/expapi/activities/objective",y="http://adlnet.gov/expapi/activities/module",b="http://adlnet.gov/expapi/activities/cmi.interaction",w=function(t){var e={id:t.id,description:{}};return e.description[k]=t.lmstext,e},A=function(t,e){t.choices=e.choices().map(w)},E=(o(e={},h,A),o(e,p,A),o(e,d,(function(t,e){t.target=e.choices().map(w),t.source=e.statements().map(w)})),e),S={likert:"likert",sequence:p,numeric:"numeric",fillin:"fill-in",essay:"long-fill-in",matching:d,multiplechoice:h,truefalse:h,hotspot:h,wordbank:h,multipleresponse:h},T=function(t){var e=t&&t.choiceResponse,n=null!=e?e:t;return s.stripChoice(n)},x=function(t){return t},C={multiplechoice:T,hotspot:T,wordbank:T,sequence:T,truefalse:T,multipleresponse:T,essay:x,fillin:x,numeric:x,matching:function(t){return[s.stripStatement(t.statementResponse),s.stripChoice(t.choiceResponse)].join("[.]")}},_="/",k="und",M="",O=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return[M].concat(r(i.compact(e))).join(_)},L=function(t){var e=new a.Verb(t);return null==e.display["en-US"]&&null!=e.display.und&&(e.display["en-US"]=e.display.und,delete e.display.und),e},P=function(t,e){i.isPlainObject(t)&&(e=t,t=void 0);var n={name:o({},k,e.name||""),description:o({},k,e.description||""),type:e.type};return i.isArray(t)||(t=[t]),{id:c(),object:{id:O.apply(void 0,r(t)),definition:n},context:{contextActivities:{grouping:[{id:O(),objectType:"Activity"}],parent:[{id:e.parent||M,objectType:"Activity"}]}},verb:e.verb,objectType:"Activity"}},I=function(t){return null==t||t.isType("survey")?f:t.isPassed()?"passed":"failed"},R=function(t){var e=t.prop("CorrectResponse"),n=t.isType("sequence");return e.map((function(t){var e=t.id;return n?e=t.choice.id:t.choice&&t.statement&&(e=[t.statement.id,t.choice.id].join("[.]")),e})).join("[,]")};return{setConfig:function(t){var e;e=t.version,_=e<1?".":"/",M=t.activityId.replace(/\/$/,""),k=t.lang},formatCustomStatement:function(t){return Object.assign({id:c(),context:{contextActivities:{grouping:[{id:M,objectType:"Activity"}],parent:[{id:M,objectType:"Activity"}]}}},t)},getCourseAttemptedStmt:function(t,e){var n=P({type:"http://adlnet.gov/expapi/activities/course",name:t.get("lmstext"),description:t.get("description"),verb:L("attempted")});return e||(n.result={completion:!1}),n},getSlideViewedStmt:function(t){var e=t.get("title");return P(t.id,{type:y,name:e,description:e,verb:L("experienced")})},getSlideLeftStmt:function(t){var e=t.get("title"),n=P(t.id,{type:y,name:e,description:e,verb:L(g)});return n.result={duration:u(t.elapsedTime)},n},getCourseCompleteStmt:function(t,e){var n=P({type:m,name:t.get("lmstext"),description:t.get("description"),verb:L(I(t))});return n.result={duration:u(e),completion:!0},t.isSurvey()||t.isAction()||(n.result.score={scaled:t.getPercentScore()},n.result.success=t.isPassed()),n},getViewedCompleteStmt:function(t,e){var n=P({type:m,name:t.get("lmstext"),description:t.get("description"),verb:L(f)});return n.result={duration:u(e),completion:!0,extensions:o({},O("viewcount"),t.viewedSlides)},n},getQuizCompleteStmt:function(t){var e=t.get("lmstext"),n=P(t.id,{type:m,name:e,description:e,verb:L(I(t))});return t.get("issurvey")||(n.result={score:{scaled:t.prop("PercentScore")/100,raw:t.prop("Score"),min:0,max:t.maxPoints},success:t.isPassed()}),n},getLikertStmts:function(t,e){return e.responses.map((function(n,i){var r=e.statements()[i].lmstext,o=[e.parent.id,e.id,s.stripStatement(n.statementResponse)],a=P(o,{type:b,name:r,description:r,verb:L(v),parent:O(t.id)});return a.result={response:s.stripChoice(n.choiceResponse)},Object.assign(a.object.definition,{scale:e.choices().map(w),interactionType:S.likert}),a}))},getQuestionStmt:function(t,e){var n=s.getPath(e.getClosestAncestorByKind("slide"),"elapsedTime",0),r=e.get("lmstext"),o=e.type(),a=[e.parent.id,e.id],l=P(a,{type:b,name:r,description:r,verb:L(v),parent:O(t.id)}),c=S[o],f={interactionType:c},g=E[c]||i.noop;(function(t){return t===d||t===p||t===h})(c)&&(f.correctResponsesPattern=[R(e)]),g(f,e),Object.assign(l.object.definition,f);var m=C[o],y={response:e.responses.map(m).join("[,]"),duration:u(n)};return e.get("issurvey")||(y.success=e.isPassing(),y.score={raw:e.prop("Score")}),l.result=y,l},formatTime:function(t){var e=parseInt(t);return isNaN(e)?t:u(t)}}}.call(e,n,e,t))||(t.exports=i)},6776:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e={verbs:{VERB_EXPERIENCED:"http://adlnet.gov/expapi/verbs/experienced",VERB_ATTEMPTED:"http://adlnet.gov/expapi/verbs/attempted",VERB_LEFT:"http://activitystrea.ms/schema/1.0/leave"},objects:{OBJECT_MODULE:"http://adlnet.gov/expapi/activities/module",OBJECT_COURSE:"http://adlnet.gov/expapi/activities/course"},lang:"und"};return Object.freeze(e),Object.freeze(e.verbs),Object.freeze(e.objects),e}.call(e,n,e,t))||(t.exports=i)},5626:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(8579);return{formatSrcUrl:i.env.isFileProtocol&&i.browser.isIE?function(t){return i.browser.isIE10?"file://"+t:document.location.origin+t}:e.identity}}.call(e,n,e,t))||(t.exports=i)},1419:function(t,e,n){"use strict";var i;function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}void 0===(i=function(t){var e,n=[],i={frame:!1,slides:!1},o={MULTIPLE_QUIZ_TRACKING:"MultipleQuizTracking",SVG_IMAGE:"InsertSvgPicture",CUSTOM_XAPI_SUPPORT:"XApiSupport",MODERN_VIDEO_CONTROLS:"AccessibleVideo",STREAMING_VIDEO:"StreamingVideo",FULL_SCREEN_TOGGLE:"FullScreenToggle",UPDATED_THEME_EDITOR:"UpdatedThemeEditor",QUESTION_CORRECT_VARIABLE:"QuestionCorrectVariable",CONNECTION_MESSAGES:"ConnectionMessages"},s=[],a=(r(e={},o.SVG_IMAGE,"svgObjectEnabled"),r(e,o.MODERN_VIDEO_CONTROLS,"modernVideoControls"),r(e,o.UPDATED_THEME_EDITOR,"updatedThemeColorsEnabled"),r(e,o.QUESTION_CORRECT_VARIABLE,"questionCorrectVariableEnabled"),r(e,o.STREAMING_VIDEO,"streamingVideo"),r(e,o.FULL_SCREEN_TOGGLE,"fullScreenToggle"),r(e,o.CONNECTION_MESSAGES,"connectionMessagesEnabled"),e);var l={};return{register:function(t,e,r){var o=this;i[t]||null==e||n.push.apply(n,e.filter((function(t){return function(t,e){return!s.includes(t)||!e||e.isUnified}(t,r)}))),i[t]=!0,document.body.classList.add("ff-on"),_.every(i,(function(t){return t}))&&(n.forEach((function(t){o[a[t]]=!0,document.body.classList.add("ff-"+_.kebabCase(t))})),_.forEach(l,(function(t,e){o.hasFlag(e)?o[t]=function(t,e,n){return Object.assign(t,n)}:o[t]=function(t,e,n){return Object.assign(t,e)}})),Object.freeze(this))},hasFlag:function(t){return n.includes(t)},constants:o}}.call(e,n,e,t))||(t.exports=i)},2581:function(t,e,n){"use strict";var i;function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(i=function(t){var e=n(1251),i=n(8880),o=n(9032),s=n(82),a=s.getPath,l=s.fullScreen,u=n(7510),c=u.addWindowListener,h=(u.addDocumentListener,document.createElement("div"));h.id="focusBoxes",document.body.appendChild(h);var d=document.getElementById("focus-sink"),p=void 0,f=!window.globals.HAS_FRAME,v={initialize:function(){var t=this;_.bindAll(this,"onSlideStarted","takeFocusOff","onFullScreenChange"),o.on(i.slide.STARTED,this.onSlideStarted),c("resize",(function(){t.takeFocusOff()})),l.addChangeListener(this.onFullScreenChange)},setFocusRectOn:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!f)if(null!=t){var o=[];o=null==n?t.getClientRects():Array.isArray(n)?[].concat(r(n)):[n],o=_.map(o,(function(n){var r={left:n.left,top:n.top,width:n.width,height:n.height,bottom:n.bottom,right:n.right};if(e.hasClass(t,"acc-shadow-el")&&!t.hasAttribute("data-top-level")){var o=DS.views.getTopNameSpace().slide.el.getBoundingClientRect();r.left=Math.max(r.left,o.left),r.top=Math.max(r.top,o.top),r.right=Math.min(r.right,o.right),r.bottom=Math.min(r.bottom,o.bottom),r.width=r.right-r.left,r.height=r.bottom-r.top}else r.bottom=r.right="";for(var s in r.left-=i,r.top-=i,r.width+=2*i,r.height+=2*i,r)r[s]+="px";return r})),h.innerHTML="",_.forEach(o,(function(t){var n=document.createElement("div");n.className="tab-focus-box",h.appendChild(n),e.setStyles(n,t)})),p=t}else console.warn('cannot set focus rect on "null"')},takeFocusOff:function(t){null!=t&&t!==p||(h.innerHTML="")},onFullScreenChange:function(){var t=l.getEl();null==t?document.body.appendChild(h):window.requestAnimationFrame((function(){var e=t.querySelector(".focus-container");null!=e&&e.appendChild(h)}))},reCenter:function(){document.body.focus(),this.takeFocusOff()},onSlideStarted:function(t,n){var i=this;if(!f&&null!=n.currView&&document.hasFocus()){var r=e.closest(n.currView.el,(function(t){return"label"===t.firstElementChild.getAttribute("data-ref")}));null==r||r.contains(document.activeElement)||(d.focus({preventScroll:!0}),window.setTimeout((function(){return r.focus({preventScroll:!0})}),100));var o=a(n,"lastFocusedItem.accShadowView");null!=o?(n.lastFocusedItem=null,o.takeFocus()):null!=r&&window.setTimeout((function(){return i.setFocusRectOn(r)}),16)}},lastFocusedElement:function(){return p}};return v.initialize(),v}.call(e,n,e,t))||(t.exports=i)},3034:function(t,e,n){"use strict";var i;function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(i=function(t){var e=n(6194),i=n(8939),o=n(4811),s=i.warn("fontHelper");return{loadFonts:function(t){if(null!=e.loadFonts){var n=DS.frame.getFonts().reduce((function(t,e){return t.push.apply(t,r(e.files.map((function(t){var n=t.bold,i=t.italic;return{name:e.name,bold:n,italic:i}})))),t}),[]);return e.loadFonts([].concat(r(t.get("fontLib")||[]),r(n)),s)}return o.promiseToVow(Promise.all(Array.from(document.fonts).map((function(t){return t.load()}))))}}}.call(e,n,e,t))||(t.exports=i)},7510:function(t,e,n){"use strict";var i;function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(i=function(t){var e=n(9032),i=n(8880),o=new Map([[document,"document"],[document.body,"body"],[window,"window"]]),s=["before","on","after"],a={},l=window,u=l.lastWidth,c=l.lastHeight,h=void 0,d=void 0,p=function(t,e,n){return((a[t]||{})[e]||{})[n]},f=function(t,e,n,i){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"on",u=t===window&&("resize"===e||"orientationchange"===e);i=!!i&&!u;var c=o.get(t),h=a[c]=a[c]||{},d=h[e]=h[e]||{},p=d[i]=d[i]||{callbacks:{before:new Set,on:new Set,after:new Set},listener:null,customEvent:u};return s.reduce((function(t,e){return p.callbacks[e].has(n)||t}),!1)||(p.callbacks[l].add(n),null===p.listener&&(p.listener=function(t){return s.forEach((function(e){return[].concat(r(p.callbacks[e])).forEach((function(e){return e(t)}))}))},u||t.addEventListener(e,p.listener,i))),function(){return v(t,e,n,i)}},v=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=o.get(t),a=p(r,e,i);null!=a&&(s.forEach((function(t){return a.callbacks[t].delete(n)})),a.customEvent||0!==s.reduce((function(t,e){return a.callbacks[e].size+t}),0)||t.removeEventListener(e,n,i))},g=function(t,e,n){var i=p(t,e,!1);null!=i&&i.listener(n)},m=function(t){var e=window.innerWidth>window.innerHeight;h!==e&&(h=e,g("window","orientationchange",t))},y=function(t){u===window.innerWidth&&c===window.innerHeight||(u=window.innerWidth,c=window.innerHeight,g("window","resize",t))},b=function t(e){u!==window.innerWidth||c!==window.innerHeight?(d=null,w()):e-d<1e3?window.requestAnimationFrame(t):d=null},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m(t),y(t),null==d&&(d=window.performance.now(),window.requestAnimationFrame(b))};return window.addEventListener("orientationchange",w),window.addEventListener("resize",w),e.on(i.window.ZOOM_MODE_CHANGED,(function(){g("window","resize",null)})),{addBodyListener:function(t,e,n,i){return f(document.body,t,e,n,i)},removeBodyListener:function(t,e,n){return v(document.body,t,e,n)},addDocumentListener:function(t,e,n,i){return f(document,t,e,n,i)},removeDocumentListener:function(t,e,n){return v(document,t,e,n)},addWindowListener:function(t,e,n,i){return f(window,t,e,n,i)},removeWindowListener:function(t,e,n){return v(window,t,e,n)}}}.call(e,n,e,t))||(t.exports=i)},3716:function(t,e,n){"use strict";var i;function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(i=function(t){var e=n(6486),i=n(7812),o=n(7510).addBodyListener,s=n(1251).hasClass,a=n(520),l=["LastKeyCodeString","LastKeyCode","LastKeyValue","LastKeyCtrl","LastKeyShift","LastKeyAlt"],u=e.invert(i.keys),c=function(t){var e=t.keyCode,n=t.altKey,i=t.shiftKey,o=t.ctrlKey,s=String.fromCharCode(e),a=[].concat(r(o?["[CTRL] + "]:[]),r(i?["[SHIFT] + "]:[]),r(n?["[ALT] + "]:[]));return e>=48&&e<=90?a.push(s):(a.push("["),null!=u[e]?a.push(u[e]):a.push("#"+e),a.push("]")),a.join("")},h={isShowFocus:!1,lastKeyPressTargets:[],initialize:function(){var t=this;o("mousedown",(function(e){t.isShowFocus=!1,t.isAccClick(e)||document.body.classList.remove("show-focus")}),!0),o("keyup",(function(e){t.isTabKey(e.which)&&!t.isShowFocus&&e.target&&null==e.target.getAttribute("data-prevent-focus")&&(t.isShowFocus=!0,document.body.classList.add("show-focus")),t.clearLastKey()}),!0)},isAccClick:function(t){return s(t.target,"acc-shadow-el")||null!=DS.utils.fullScreen.getEl()&&0===t.offsetX&&0===t.offsetY&&t.target.tabIndex>=0},isKey:function(t,e){return t===e},keyPressHandlerExists:function(t){var e=a.getCurrentWindowSlide();if(null==e)return!1;var n=e.slideLayers().getTopMostLayer()||e.getBaseLayer(),i=e.slideLayers().activeLayers.slice(0);return this.handlerExists(n,t,i)},getLayerStack:function(t){var n=a.getCurrentWindowSlide(),i=null!=n?n.slideLayers().activeLayers.slice(0):[],r=e.findIndex(i,t);return r>0&&(i.length=r),i},getParentFromLayerstack:function(t,n){var i=null;if(n=n||this.getLayerStack(t),t.isSlideObject){if(null==(i=t.getClosestAncestor((function(t){return t.isSlideObject})))){var r=t.getLayer();r.isBaseLayer()?n=[]:n.length=e.findIndex(n,r)+1}}else if(null==t.modal||!t.modal()){do{i=n.pop()}while(null!=i&&!i.isOpen);null==i&&(i=t.getClosestAncestor((function(t){return t.isSlide})))}return{parent:i,layerStack:n}},handlerExists:function(t,e,n){if(null!=t.getFilteredPlayerEvent((function(t){return t.keycode===e.keyCode&&t.shift===e.shiftKey&&t.ctrl===e.ctrlKey&&t.alt===e.altKey}),"onkeypress").events.first())return!0;var i=this.getParentFromLayerstack(t,n),r=i.parent,o=i.layerStack;return null!=r&&this.handlerExists(r,e,o)},executeKeypressEvent:function(t,n,r){this.lastKeyPressTargets.push(t),e.includes([i.keys.CONTROL,i.keys.SHIFT,i.keys.ALT],n.keyCode)||(t.prop(function(t){var e=t.keyCode,n=t.altKey,i=t.shiftKey,r=t.ctrlKey,o=String.fromCharCode(e);return{LastKeyCodeString:c(t),LastKeyCode:e,LastKeyValue:o,LastKeyCtrl:r,LastKeyShift:i,LastKeyAlt:n}}(n)),t.executePlayerEvent("onanykeypress"));var o=this.getParentFromLayerstack(t,r),s=o.parent,a=o.layerStack;t.executeFilteredPlayerEvent((function(t){return t.keycode===n.keyCode&&t.shift===n.shiftKey&&t.ctrl===n.ctrlKey&&t.alt===n.altKey}),"onkeypress"),null!=s&&this.executeKeypressEvent(s,n,a)},clearLastKey:function(){this.lastKeyPressTargets.forEach((function(t){t.resetSpecifiedProps(l)})),this.lastKeyPressTargets=[]},isReturnKey:function(t){return h.isKey(t,i.keys.ENTER)},isSpaceKey:function(t){return h.isKey(t,i.keys.SPACE)},isActionKey:function(t){return h.isReturnKey(t)||h.isSpaceKey(t)},isRightKey:function(t){return h.isKey(t,i.keys.RIGHT)},isDownKey:function(t){return h.isKey(t,i.keys.DOWN)},isPageDownKey:function(t){return h.isKey(t,i.keys.PAGE_DOWN)},isDownishKey:function(t){return h.isLeftKey(t)||h.isDownKey(t)},isRtlDownishKey:function(t){return h.isRightKey(t)||h.isDownKey(t)},isLeftKey:function(t){return h.isKey(t,i.keys.LEFT)},isUpKey:function(t){return h.isKey(t,i.keys.UP)},isPageUpKey:function(t){return h.isKey(t,i.keys.PAGE_UP)},isUpishKey:function(t){return h.isRightKey(t)||h.isUpKey(t)},isRtlUpishKey:function(t){return h.isLeftKey(t)||h.isUpKey(t)},isHomeKey:function(t){return h.isKey(t,i.keys.HOME)},isEndKey:function(t){return h.isKey(t,i.keys.END)},isTabKey:function(t){return h.isKey(t,i.keys.TAB)},isBackspaceKey:function(t){return h.isKey(t,i.keys.BACKSPACE)},isDeleteKey:function(t){return h.isKey(t,i.keys.DELETE)},isSeekKey:function(t){return h.isUpishKey(t)||h.isDownishKey(t)||h.isHomeKey(t)||h.isEndKey(t)||h.isPageUpKey(t)||h.isPageDownKey(t)},isNonInputKey:function(t){return h.isUpishKey(t)||h.isDownishKey(t)||h.isHomeKey(t)||h.isEndKey(t)||h.isPageUpKey(t)||h.isBackspaceKey(t)||h.isDeleteKey(t)||h.isPageDownKey(t)}};return h}.call(e,n,e,t))||(t.exports=i)},3586:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=function(t,e){var n,i,o=r[t],s=e.mixins.slice(0);for(i=s.length;i--;)null!=(n=s[i])[t]&&n[t].call(e),null!=n[o]&&n[o].call(e);return this},r={init:"componentWillMount"},o=["preInit","init","postInit"],s=e.partialRight(e.omit,o),a={mixInto:function(t,n){return e.defaults.apply(e,e(n).map(s).unshift(t).value()),t},mix:function(t){return this.mixInto(t,t.mixins),t}};return o.forEach((function(t){a[t+"MixinsOf"]=e.partial(i,t)})),a}.call(e,n,e,t))||(t.exports=i)},262:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=function(t,n){return e.includes(e.values(n.associations),t)},r={isAncestral:!0,createParentReference:function(t){return t&&t.parent&&(this.parent=t.parent),this},getClosestAncestor:function(t,e){for(var n=e?this:this.parent;n&&!t(n);)n=n.parent;return n},getClosestAncestorWithAssoc:function(t){var n=e.partial(i,t);return this.getClosestAncestor(n)},getClosestAncestorByAttr:function(t,e,n){return this.getClosestAncestor((function(n){return n.get(t)===e}),n)},forEachAncestor:function(t,e){for(var n=e?this:this.parent,i=0;null!=n;){if(!1===t(n,i++))return;n=n.parent}}};return r.getClosestAncestorByKind=e.partial(r.getClosestAncestorByAttr,"kind"),r}.call(e,n,e,t))||(t.exports=i)},6978:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(262),r=n(118),o=i.getClosestAncestor;return{resolvePath:function(t){return r.resolvePath(t,this.getClosestThisRef())},getClosestParentRef:e.partial(o,(function(t){return t.abilities.resolveAsParent})),getClosestThisRef:e.partial(o,(function(t){return t.abilities.resolveAsThis}),!0),getClosestEventTarget:e.partial(o,(function(t){return t.abilities.beEventTarget}),!0),getChildren:function(){return this.objects().slice()}}}.call(e,n,e,t))||(t.exports=i)},5337:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(8939),r=i.warn("shortEventable")("bindShortEvents"),o=i.backtick,s=function(t,n){return e.mapValues(n,(function(e){return t[e]}))},a=function(t,n){var i=t[n];return i?e.isFunction(i)?i.call(t):i:t.get?t.get(n):t.props&&t.props[n]};return{componentWillMount:function(){return this.bindShortEvents(),this},bindShortEvents:function(){var t,e,n,i,l=Object.keys(this.shortEvents||{}),u=l.length;for(i=0;i<u;i++){if(e="self"===(t=l[i])?this:a(this,t),n=s(this,this.shortEvents[t]),!e)return void r("Cannot listen to undefined object",o(t));this.listenTo(e,n)}return this},rebindShortEvents:function(){return this.stopListening(),this.bindShortEvents(),this}}}.call(e,n,e,t))||(t.exports=i)},6334:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(9032),r=n(8939).throwError("subscribable");return{componentWillMount:function(){return this.addSubscriptions(),this},addSubscriptions:function(){for(var t in this.resetSubscriptions(),this.subscriptions)this.subscriptions.hasOwnProperty(t)&&this.addSubscription(t,this.subscriptions[t]);return this},addSubscription:function(t,n){return e.isFunction(this[n])||r("addSubscription","this."+n,"is not a defined callback."),this.addSubscribedEvent(t).listenTo(i,t,this[n]),this},addSubscribedEvent:function(t){return this.subscribedEvents.push(t),this},removeSubscriptions:function(){var t=this;return e.each(e.uniq(this.subscribedEvents),(function(){return t.removeSubscription.apply(t,arguments)})),this},removeSubscription:function(t,e){var n=this.subscribedEvents.indexOf(t);return this.stopListening(i,t,this[e]),n>-1&&this.subscribedEvents.splice(n,1),this},resetSubscriptions:function(){return this.removeSubscriptions(),this.subscribedEvents=[],this}}}.call(e,n,e,t))||(t.exports=i)},9835:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(7510),r=i.addWindowListener,o=i.addDocumentListener,s=i.addBodyListener,a=n(8579),l=(n(8880),n(9032),n(82)),u=n(1251),c=n(6295),h=(n(7812),n(7097)),d=n(7594),p=n(2972),f=d.camelCase("transform"),v={doFullScreen:function(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},styleIfExists:function(t,e,n){t&&(t.style[e]=n)},androidOrientation:function(){document.querySelector(".slide-controls"),document.querySelector(".option-pane");a.orientation.isPortrait?(this.styleIfExists(this.optionPane,"minHeight",null),this.styleIfExists(this.slideControls,"display","block")):(this.styleIfExists(this.optionPane,"minHeight",l.pxify(this.smallestSide)),this.styleIfExists(this.slideControls,"display","none"))},initAndroid:function(){this.smallestSide=Math.min(document.documentElement.clientHeight,document.documentElement.clientWidth),document.body.style.minHeight=a.smallestSide+"px"},initTouchableThemeAndPhone:function(){var t,e,n;document.body.style.height="120%",document.querySelector("#preso").style.position="fixed",a.os.iOSVersion>=10&&setInterval((function(){var t=document.querySelector(".controls"),i=window.innerHeight,r=document.documentElement.clientHeight;i<r?(e=r-i)!==n&&null!=t&&(t.style[f]=h.transformTranslate(l.pxify(0),l.pxify(-e)),n=e):null!=t&&""!==t.style[f]&&(t.style[f]="")}),100),r("resize",(function(){clearTimeout(t),t=setTimeout((function(){window.scrollTo(0,1)}),30)}))},initIOS:function(){var t=document.querySelector(".mobile-chrome-warning");t.innerHTML='<div class="mobile-chrome-warning-btn">\n      <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" x="0px" y="0px" width="107px" height="78px" viewBox="0 0 107 78">\n\n        <g id="mobile-chrome-warning-arrow">\n          <path fill="white" stroke="none" d="\n          M 24.1 31.4\n          L 12.05 15.85 0 31.4 8.3 31.4 8.3 54 15.25 54 15.25 31.4 24.1 31.4 Z"></path>\n        </g>\n\n        <path id="mobile-chrome-warning-hand" stroke="white" stroke-width="2" stroke-linejoin="round" stroke-linecap="round" fill="none" d="\n        M 37.55 16.1\n        Q 36.3 14.8 36.3 13.1 36.3 11.45 37.55 10.15 38.85 8.9 40.55 8.9 42.2 8.9 43.5 10.15\n        L 46.75 13.375 46.75 13.35\n        Q 45.5 12.05 45.5 10.35 45.5 8.7 46.75 7.4 48.05 6.15 49.75 6.15 51.4 6.15 52.7 7.4\n        L 57 11.65\n        Q 56.05 10.4828125 56.05 9 56.05 7.3 57.3 6 58.6 4.8 60.3 4.8 62 4.8 63.3 6\n        L 74.3 17\n        Q 76.3 19.05 77.5 21.55 78.75 24.05 79.1 26.9 79.4 29.7 80.65 32.25 81.85 34.75 83.85 36.75\n        L 85.6 38.5 69.5 54.6\n        Q 68.25 53.35 66.5 52.1 64.75 50.8 62.85 49.85 60.95 48.85 59.25 48.5\n        L 32 42.5\n        Q 31.15 42.3 30.45 41.8 29.1 40.8 28.85 39.3 28.6 37.85 29.35 36.55 30.05 35.25 31.65 34.7\n        L 31.9 34.65\n        Q 32.55 34.45 33.25 34.45\n        L 44.3 34.9 17.65 8.2\n        Q 16.4 6.9 16.4 5.2 16.4 3.55 17.65 2.25 18.95 1 20.65 1 22.3 1 23.6 2.25\n        L 37.55 16.1 39.2 17.75\n        M 58.95 13.65\n        L 58.075 12.775 57.3 12\n        Q 57.140234375 11.833984375 57 11.65\n        L 58.075 12.775\n        M 46.75 13.375\n        L 48.4 15"></path>\n\n      </svg>\n    </div>\n\n    <div class="mobile-chrome-warning-bubble">\n      Drag up for fullscreen\n    </div>';var n,i,a,h,d,f=document.querySelector(".mobile-chrome-warning-bubble"),v=document.querySelector(".mobile-chrome-warning-btn"),g=document.querySelector("#preso"),m=0;document.body.style.height="120%",o("touchstart",(function(){i=!0})),o("touchend",(function(){i=!1})),t.addEventListener("touchstart",(function(){c.killTweensOf(f),c.killTweensOf(v),c.to(v,.05,{opacity:1,scaleX:.6,scaleY:.6}),c.to(f,.1,{opacity:1}),c.to(f,.3,{opacity:0,delay:3})})),setInterval((function(){var n=document.activeElement,r=window.innerHeight,o=document.documentElement.clientHeight,s=r<o;e.extend(g.style,{position:"fixed",left:"0px",top:"0px",zIndex:0}),(!n||"INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName)&&(s?("block"!==t.style.display&&"none"!==g.style.display&&(t.style.display="block",c.killTweensOf(f),c.killTweensOf(v),c.set(f,{opacity:0}),c.to(f,1,{opacity:1}),c.to(f,.8,{opacity:0,delay:3}),c.to(v,.35,{opacity:.85,delay:3.5,scaleX:.55,scaleY:.55,ease:"back.out"}),a=!0,m=Math.abs(window.innerHeight-document.body.clientHeight)),0===document.body.scrollTop||i||window.scrollTo(0,0)):"none"!==t.style.display&&"block"!==g.style.display&&(t.style.display="none",g.style.zIndex=null,a=!1))}),100),r("resize",(function(){clearTimeout(n),n=setTimeout((function(){window.scrollTo(0,1)}),30)})),s("touchstart",(function(t){1===t.touches.length&&(h=t.touches[0].clientY),a&&(m=Math.abs(window.innerHeight-document.body.clientHeight))}));!function e(){if(a&&i){var n=Math.abs(Math.abs(window.innerHeight-document.body.clientHeight)-m)/88;t.style.opacity=1-n,t.style.height=l.pxify(75+150*n)}else i||(t.style.opacity=1,t.style.height="75px");window.requestAnimationFrame(e)}(),s("touchmove",(function(t){var n,i=!1,r=t.target,o=u.parentNodesOf(r,(function(t){return p.isScrollable(t)}));p.isScrollable(r)&&o.unshift(r),a||(1===t.touches.length&&null!=h?(n=t.touches[0].clientY,i=!e.isEmpty(o)&&o.every((function(t){var e=0===t.scrollTop&&n>h,i=t.scrollTop+t.offsetHeight===t.scrollHeight&&n<h;return e||i}))):i=!0),i&&t.preventDefault()})),s("touchend",(function(){h=null})),document.documentElement.addEventListener("touchstart",(function(t){1===t.touches.length&&(d?t.preventDefault():(d=!0,setTimeout((function(){d=!1}),500)))}))}};return a.theme.isClassic&&a.device.isMobile&&window.addEventListener("scroll",(function(){document.body.scrollTop<0&&(document.body.scrollTop=0)})),document.addEventListener("touchmove",(function(t){1!==t.touches.length&&t.preventDefault()}),{passive:!1}),a.env.isInIframe||a.deviceView.isTablet?v.init=e.noop:a.os.isAndroid&&!a.env.is360?v.init=v.initAndroid:a.os.isIOS&&a.device.isPhone?v.init=v.initTouchableThemeAndPhone:a.os.isIOS&&a.os.iOSVersion>=8?v.init=v.initIOS:v.init=e.noop,v}.call(e,n,e,t))||(t.exports=i)},3400:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(82),r=n(7812),o=n(1294),s=n(2972),a=n(7510),l=a.addDocumentListener,u=a.removeDocumentListener,c=function(t){return!t||t.length<2},h=function(t){var e=c(t)?{x:0,y:0}:t[0],n=t[1]||e;return{x:(e.pageX+n.pageX)/2,y:(e.pageY+n.pageY)/2}},d=function(t){return c(t)?1:i.dist(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY)};return{shouldPinchZoom:function(){return!0},isLightboxed:function(){return!1},notifyZoomUpdate:function(){},zoomScaleUpdate:function(){},constrainToScreen:function(){var t=!1,e=window,n=e.innerWidth,i=e.innerHeight,r=this.zoomTarget.getBoundingClientRect(),o=Math.max((n-r.width)/2,0),s=Math.max((i-r.height)/2,0),a=n-o,l=i-s;r.left>o?(t=!0,this.pinch.currMatrix.tx=o):r.right<a&&(t=!0,this.pinch.currMatrix.tx=a-r.width),r.top>s?(t=!0,this.pinch.currMatrix.ty=s):r.bottom<l&&(t=!0,this.pinch.currMatrix.ty=l-r.height),t&&this.startTransition(400)},getContainerBounds:function(){return{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}},offsetStart:function(t,e){this.pinchStartX=t,this.pinchStartY=e,this.pinch.matrix.translate(t,e)},initZoomTarget:function(t){this.isInLightbox=this.isLightboxed(),this.resetPinch(),this.zoomTarget=t,this.zoomTarget.addEventListener("gesturestart",this.onPrevent),this.zoomTarget.addEventListener("touchstart",this.onTouchStart,!0),this.zoomTarget.addEventListener("touchmove",this.onTouchMove),this.zoomTarget.addEventListener("touchend",this.onTouchEnd),this.doubleTapCount=0,l("touchstart",this.onDoubleTap)},resetPinch:function(){this.pinch={scale:1,matrix:(new o).translate(this.pinchStartX||0,this.pinchStartY||0),panning:!1,zooming:!1,width:document.body.clientWidth,height:document.body.clientHeight,disable:!1}},resetDoubleTap:function(){this.doubleTapCount=0},onPrevent:function(t){t.preventDefault()},onDoubleTap:function(t){c(t.touches)&&this.pinch.scale>1&&!s.isDoubleClickRelated(t.target)?(clearTimeout(this.doubeTapTimeout),this.doubleTapCount++,this.doubeTapTimeout=setInterval(this.resetDoubleTap,250),2===this.doubleTapCount&&1!==this.pinch.scale&&this.zoomOut()):this.resetDoubleTap()},onTouchStart:function(t){var e=this.transTouch(t.touches);if(2===e.length){this.pinch.panning=!1,this.pinch.zooming=!0;var n=h(e);this.pinch.startCenter=this.pinch.matrix.unTransformPoint(n.x,n.y),this.pinch.startDistance=d(e),this.pinch.disable=!1}else 1!==e.length||1===this.pinch.scale||this.shouldDisablePan(t)?(this.pinch.panning=!1,this.pinch.zooming=!1,this.pinch.disable=!0):(this.pinch.panning=!0,this.pinch.zooming=!1,this.pinch.startCenter=this.pinch.matrix.unTransformPoint(e[0].pageX,e[0].pageY),this.pinch.disable=!1);this.pinch.disable||this.endTransition(),this.pinch.totalTouches=t.touches.length},onTouchEnd:function(t){this.pinch.disable=!1,t.touches.length<2&&(this.pinch.panning=!1,this.pinch.zooming=!1,this.pinch.currMatrix&&!this.pinch.zoomingOut&&(this.pinch.scale=this.pinch.currMatrix.getScale().x,this.constrainToScreen(),this.pinch.matrix=this.pinch.currMatrix,this.zoomScaleUpdate()))},handleConstraint:function(){var t=.1*(this.pinch.appliedMatrix.tx-this.pinch.currMatrix.tx),e=.1*(this.pinch.appliedMatrix.ty-this.pinch.currMatrix.ty);this.pinch.currMatrix.translate(t,e),this.updateTransform(this.pinch.currMatrix)},onTouchMove:function(t){var e=this;if(!this.pinch.disable){var n=this.transTouch(t.touches);2===n.length?this.updatePinchZoom(n):1===n.length&&(1!==this.pinch.scale||this.isInLightbox)&&this.pinch.panning&&this.updatePinchPan(n),null!=this.pinch.currMatrix&&this.constrainToScreen((function(){return e.handleConstraint()})),clearTimeout(this.disableTimeoutId),this.pinch.disableSwipe=!0,this.disableTimeoutId=setTimeout((function(){e.pinch.disableSwipe=!1}),300)}},zoomOut:function(){var t=this;this.pinch.matrix=(new o).translate(this.pinchStartX||0,this.pinchStartY||0),this.pinch.currMatrix=this.pinch.matrix.copy(),this.pinch.zoomingOut=!0,this.pinch.scale=1,this.zoomScaleUpdate(),this.startTransition(200,(function(){t.pinch.zoomingOut=!1}))},transTouch:function(t){var n=this.getContainerBounds(),i=n.left,r=n.top;return e(t).map((function(t){return{pageX:t.pageX-i,pageY:t.pageY-r}})).value()},updatePinchPan:function(t){var e=this.pinch.matrix.unTransformPoint(t[0].pageX,t[0].pageY);this.pinch.currMatrix=this.pinch.matrix.copy().translate(e.x-this.pinch.startCenter.x,e.y-this.pinch.startCenter.y),this.zoomTarget.style[this.cssTransformOrigin]="0 0",this.updateTransform(this.pinch.currMatrix),this.isInLightbox&&this.notifyZoomUpdate()},updatePinchZoom:function(t){var e=this.threeSixtyImageRestrictedZoom||6,n=d(t),i=h(t),r=this.pinch.matrix.unTransformPoint(i.x,i.y),o=Math.max(1/this.pinch.scale,Math.min(n/this.pinch.startDistance,e/this.pinch.scale));this.pinch.zoom=o,this.pinch.currMatrix=this.pinch.matrix.copy().translate(r.x,r.y).scale(o,o).translate(-this.pinch.startCenter.x,-this.pinch.startCenter.y),this.zoomTarget.style[this.cssTransformOrigin]="0 0",this.updateTransform(this.pinch.currMatrix),this.notifyZoomUpdate()},updateTransform:function(t){this.zoomTarget.style[this.cssTransform]=t.toCssTransform(),this.pinch.appliedMatrix=t.copy()},startTransition:function(t,n){var i=this;n=n||e.noop,this.pinchZoomTransition={startTime:performance.now(),startMatrix:this.pinch.appliedMatrix.copy(),deltaMatrix:this.pinch.currMatrix.delta(this.pinch.appliedMatrix),duration:t,onComplete:n,onUpdate:function(){return i.notifyZoomUpdate()}},window.requestAnimationFrame(this.stepTransition)},endTransition:function(){this.pinchZoomTransition=null},stepTransition:function(){if(null!=this.pinchZoomTransition){var t=this.pinchZoomTransition,e=t.startMatrix,n=t.deltaMatrix,r=t.duration,o=t.startTime,s=t.onComplete,a=t.onUpdate,l=i.clamp(0,r,performance.now()-o),u=function(t,e){return gsap.parseEase("power1.out")(t/e)}(l,r);this.updateTransform(e.add(n,u)),a(),l<r?window.requestAnimationFrame(this.stepTransition):(s(),this.endTransition())}},shouldDisablePan:function(t){return 1===t.touches.length&&(s.isDraggableRelated(t.target)||s.isScrollRelated(t.target)||s.isRotatableRelated(t.target)||s.isSlideableRelated(t.target)||s.isThreeSixtyImageRelated(t.target)&&this.pinch.scale<=r.MOBILE_360_IMAGE_SCALE_THRESHOLD)},destroyPinchZoom:function(){this.shouldPinchZoom()&&(null!=this.zoomTarget&&(this.zoomTarget.style[this.cssTransform]="",this.notifyZoomUpdate(),this.zoomTarget.removeEventListener("gesturestart",this.onPrevent),this.zoomTarget.removeEventListener("touchstart",this.onTouchStart),this.zoomTarget.removeEventListener("touchmove",this.onTouchMove),this.zoomTarget.removeEventListener("touchend",this.onTouchEnd)),u("touchstart",this.onDoubleTap),u("touchstart",this.onDoubleTap))}}}.call(e,n,e,t))||(t.exports=i)},1070:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e={presentation:null,player:null};return Object.seal(e),e}.call(e,n,e,t))||(t.exports=i)},3797:function(t,e,n){"use strict";var i,r;i=[n(6486),n(8939),n(9032),n(8880),n(118),n(1681),n(7812),n(82),n(520)],void 0===(r=function(t,e,n,i,r,o,s,a,l){var u,c,h,d,p=e.throwError("previewHelper"),f={kind:"adjustvar",operator:"set"},v={kind:"reset_player"},g=function(t){var e=r.resolvePath(a.prefixWithPlayer(t),{context:d,optional:!0});if(null==e)throw new Error(["No object exists at path ",a.doubleQuote(t)].join(""));return e},m={getValue:function(t){var e=g(t);return e.isVar?e.value():e},getCurrentTime:function(){return l.getCurrentWindowSlide().currentTimeline().elapsedTime()},setCurrentTime:function(t){l.getCurrentWindowSlide().currentTimeline().seek(t)},gotoSlide:function(t){n.trigger(i.request.NEXT_SLIDE,a.prefixWithPlayer(t))},overrideOrientations:function(t){h.set("orientations",t)},resetPlayer:function(e){c.executeAction(t.defaults({startslideid:a.prefixWithPlayer(e)},v),{context:d})},resetSlide:function(t){var e=g(t);if(!e.isSlide)throw new Error(["Object at",a.doubleQuote(t),"is not a slide"].join(" "));e.reset()},setVariable:function(e,n){var i=g(e);if(!i.isVar)throw new Error(["Object at",a.doubleQuote(e),"is not a variable"].join(" "));c.executeAction(t.defaults({variable:i.absoluteId,value:{type:i.type(),value:n}},f),{context:d})},setBackgroundColor:function(t){document.body.style.background=t},setStringTable:function(t){o.reInit(JSON.parse(t)),n.trigger(i.controlOptions.RESET),E(DS.frameModel.frame.controlOptions.controls.closed_captions)},setColorScheme:function(t){var e=DS.frameModel.frame.controlOptions.controls.closed_captions;A("player-preview-css",t),n.trigger(i.scheme.CHANGED,"player-preview-css"),n.trigger(i.controlOptions.RESET),E(e)},setFontScale:function(t){n.trigger(i.frame.FONT_SCALE,t),E(DS.frameModel.frame.controlOptions.controls.closed_captions)},setControlOptions:function(t,e){var r=JSON.parse(t),o=JSON.parse(e),a=DS.frameModel.outlineInSidebar,l=DS.frameModel.sidebarOpts.closed;n.trigger(i.controlLayout.UPDATE,DS.frameModel.frame.default_layout,s.refs.FRAME,o),n.trigger(i.controlOptions.CHANGED,r),!a&&DS.frameModel.outlineInSidebar||!o.outline.search?n.trigger(i.sidebar.HIDE_SEARCH):o.outline.search&&o.outline.enabled&&!DS.frameModel.outlineInSidebar&&n.trigger(i.sidebar.SHOW_SEARCH),l&&!DS.frameModel.sidebarOpts.closed?n.trigger(i.sidebar.OPEN):!l&&DS.frameModel.sidebarOpts.closed&&n.trigger(i.sidebar.CLOSE),E(r.controls.closed_captions)},setGlossaryData:function(t){var e=JSON.parse(t);n.trigger(i.glossary.UPDATE,e)},setNavData:function(t){var e=JSON.parse(t);n.trigger(i.navData.UPDATE,e),E(DS.frameModel.frame.controlOptions.controls.closed_captions)},setSkipNav:function(t){t!=DS.frameModel.frame.skip_nav_enabled&&(DS.frameModel.frame.skip_nav_enabled=t,DS.pubSub.trigger(DS.events.controlOptions.RESET),E(DS.frameModel.frame.controlOptions.controls.closed_captions))},setResources:function(t){var e=JSON.parse(t);n.trigger(i.resources.UPDATE,e)},setResourcesDescription:function(t){n.trigger(i.resources.UPDATE_DESCRIPTION,t)},setActiveTab:function(t){n.trigger(i.sidebar.ACTIVE_TAB_SET,t)},setChromeless:function(t){t!=DS.frameModel.frame.chromeless&&(DS.frameModel.frame.chromeless=t,n.trigger(i.frameModel.CHROMELESS_CHANGED,t),E(DS.frameModel.frame.controlOptions.controls.closed_captions))},setFont:function(t){A("player-preview-font-css",t),n.trigger(i.controlOptions.RESET),E(DS.frameModel.frame.controlOptions.controls.closed_captions)},setTextDirection:function(t){t!=DS.frameModel.frame.textdirection&&(DS.frameModel.frame.textdirection=t,DS.frameModel.rtl="rtl"===t,n.trigger(i.controlOptions.RESET),n.trigger(i.navData.REFRESH_VIEW),E(DS.frameModel.frame.controlOptions.controls.closed_captions))},setFrameSize:function(t,e){DS.presentation.updateTotalSize(t,e),DS.scaler.scale()},showStartOverlayPreview:function(t){var e=DS.views.model.frame.controlOptions.courseOptions,n=e&&e.thumbnailUrl?DS.utils.resolveAssetUrl(e.thumbnailUrl):"";t?DS.renderEngine.showPlayerPropertiesImagePreview({url:n,showStartButton:!0}):DS.renderEngine.killPlayerPropertiesImagePreview()},showLogoPreview:function(t){var e=DS.utils.resolveAssetUrl(DS.frameModel.sidebarOpts.html5_logo_url);t?DS.renderEngine.showPlayerPropertiesImagePreview({url:e,showStartButton:!1}):DS.renderEngine.killPlayerPropertiesImagePreview()}},y=function(t){u.postMessage(JSON.stringify(t),"*")},b=function(t,e){y({jsonrpc:"2.0",method:t,params:e})},w=function(){b("notifyPreview",t.toArray(arguments))},A=function(t,e){var n=document.getElementById(t);null==n&&((n=document.createElement("style")).id=t,document.body.appendChild(n)),n.innerText=e},E=function(t){window.globals.HAS_SLIDE||(n.trigger(i.slide.STARTED,"dummySlide",d.getFirstSlide(),s.refs.FRAME),n.trigger(i.navData.SELECT_FIRST_SLIDE_LINK),t?n.trigger(i.captions.SHOW_BUTTON):n.trigger(i.captions.HIDE_BUTTON))},S=function(t){var e,n,i=JSON.parse(t.data);try{e=i.id,n=m[i.method].apply(this,i.params),y({jsonrpc:"2.0",id:e,result:n})}catch(t){!function(t,e){y({jsonrpc:"2.0",id:t,error:{code:-1,message:e}})}(i.id,t.message)}};return{initialize:function(t,e,r){(c=r,e.isPreview())&&(null!=window.parent&&window.parent!==window?(h=t,d=e,u=window.parent,window.document.getElementById(s.els.PRESO).addEventListener("click",(function(){return w("PREVIEW_CLICKED")})),window.addEventListener("message",S),window.globals.HAS_SLIDE||E(DS.frameModel.frame.controlOptions.controls.closed_captions),n.on(i.preview.NOTIFY,w),w("PREVIEW_FRAME_READY")):p("initialize","Cannot load parent window"))}}}.apply(e,i))||(t.exports=r)},9904:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(7812);return{initialize:function(t){if(this.isInitialized=!0,t){var n=document.createElement("div");n.id="slide";var i=document.createElement("div");i.className="slide-container",n.appendChild(i),document.getElementById(e.els.PRESO).appendChild(n),DS.frame={createWindow:function(){return{el:n,captionEl:document.createElement("div"),id:e.refs.FRAME,x:function(){return 0},y:function(){return 0},getWinScale:function(){return DS.scaler.getScale()},onPinchZoom:function(){},getPinchZoomBounds:function(){}}}}}else{var r=this.getPreviewInfo(),o=r.totalWidth,s=r.totalHeight,a=this.getPreviewInfo(),l=a.slideWidth,u=a.slideHeight,c=a.slideDurationMs,h=a.text;DS.presentation={isPreview:function(){return!0},getFirstSlide:function(){return{props:{width:l,height:u},get:function(t){return this.props[t]},currentTimelineCompletedOnce:function(){return!1},currentTimeline:function(){return{on:function(){},off:function(){},progress:function(){return.5},timelineDuration:function(){return c},playbackState:function(){return"paused"},isPlaying:function(){return!1}}},on:function(){},off:function(){}}},updateTotalSize:function(t,e){o=t,s=e},display:function(){return{width:function(){return o},height:function(){return s},getWindowById:function(){}}},assetLib:function(){},slideMap:function(){}},DS.renderEngine={createMobileStartOverlay:function(){var t=this;if(!this.mobileStartContainer){var e=document.createElement("div");e.className="mobile-start-overlay shown",e.style="background: transparent;";var n=document.createElement("div");n.className="mobile-start-overlay-frame",n.style="\n              position: absolute;\n              width: 100%;\n              height: 100%;\n              background: #000000;\n              opacity: 1;\n            ";var i=document.createElement("div");i.className="mobile-start-overlay-thumbnail";var r=document.createElement("img");r.style="\n              max-height: 510px;\n              max-width: 760px;\n              position: absolute;\n              top: 50%;\n              left: 50%;\n              transform: translate(-50%, -50%);\n              display: none;\n            ";var o=document.createElement("button");o.id="mobile-start-button",o.tabIndex=0,o.style="\n              position: absolute;\n              width: 120px;\n              height: 120px;\n              left: calc(50% - 60px);\n            ",o.innerHTML='\n            <svg className="play-icon" width="125px" height="125px" viewBox="0 0 125 125" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <circle opacity="0.8" cx="62.5" cy="62.5" r="61.5" fill="black" stroke="white" stroke-width="2"/>\n              <path d="M51.8745 83.6249C52.6245 83.9999 53.3745 84.1249 54.1245 84.1249C54.9995 84.1249 55.9995 83.8749 56.7495 83.2499L81.9995 65.9999C83.2495 65.1249 83.9995 63.6249 83.9995 62.1249C83.9995 60.6249 83.2495 59.1249 81.8745 58.2499L56.6245 41.4999C55.1245 40.4999 53.3745 40.4999 51.7495 41.2499C50.2495 42.1249 49.2495 43.6249 49.2495 45.3749V79.3749C49.3745 81.2499 50.2495 82.8749 51.8745 83.6249Z" fill="white"/>\n            </svg>\n            ',i.appendChild(r),e.appendChild(n),e.appendChild(i),e.appendChild(o);var s=document.createElement("div");s.style="position: fixed; top: 21px; right: 21px; background: transparent; cursor: pointer;",s.innerHTML='\n              <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <circle cx="17.5" cy="17.5" r="17.5" fill="black"/>\n                <path d="M26 11.0252L24.9748 10L18 16.9748L11.025 10L10 11.0252L16.975 18L10 24.9748L11.025 26L18 19.0252L24.9748 26L26 24.9748L19.0254 18L26 11.0252Z" fill="white"/>\n              </svg>\n              ',s.addEventListener("click",(function(){return t.killPlayerPropertiesImagePreview()}));var a=document.createElement("div");a.setAttribute("id","mobile-start-container"),a.classList.add("fn-"+DS.frame.getDefaultLayout()),a.appendChild(e),a.appendChild(s);var l=document.getElementById("preso");l.parentNode.insertBefore(a,l.nextSibling),this.startButton=o,this.previewImage=r,this.mobileStartContainer=a}},showPlayerPropertiesImagePreview:function(t){this.createMobileStartOverlay(),this.previewImage.src=t.url,this.previewImage.style.display="block",this.startButton.style.display=t.showStartButton?"block":"none",this.mobileStartContainer.style.display="block"},killPlayerPropertiesImagePreview:function(){this.mobileStartContainer&&(this.previewImage.style.display="none",this.startButton.style.display="none",this.mobileStartContainer.style.display="none")},createWindowFor:function(){var t=document.getElementById("slide");t.className="placeholder";var e=document.createElement("div");return e.className="placeholder-text",e.style.fontSize="8vw",e.innerText=h,t.appendChild(e),t}}}},getPreviewInfo:function(){return{slideWidth:this.getPreviewInfoParameter("slideWidth",720,parseInt),slideHeight:this.getPreviewInfoParameter("slideHeight",540,parseInt),totalWidth:this.getPreviewInfoParameter("totalWidth",980,parseInt),totalHeight:this.getPreviewInfoParameter("totalHeight",658,parseInt),slideDurationMs:this.getPreviewInfoParameter("slideDurationMs",5e3,parseInt),text:this.getPreviewInfoParameter("text","SLIDE")}},getPreviewInfoParameter:function(t,e,n){if(null!=window.globals.parsedParams){var i=window.globals.parsedParams[t];return null==i?e:null==n?i:n(i)}return e}}}.call(e,n,e,t))||(t.exports=i)},9032:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(5485);return n(6486).extend({},e.Events)}.call(e,n,e,t))||(t.exports=i)},6882:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(7510),r=i.addDocumentListener,o=i.removeDocumentListener,s="allowTheChangeEventToPropagate",a=function(t,n){var i=document.createEvent("Event");i.initEvent("change",!0,!0),e.defaults(i,n),Object.defineProperty(i,s,{value:!0}),t.dispatchEvent(i),o("mouseup",t.fireChangeEvent)};return{patchEvents:function(){r("change",(function(t){var n,i;t[s]||"range"!==t.target.getAttribute("type")||(t.stopPropagation(),(n=document.createEvent("Event")).initEvent("input",!0,!0),e.defaults(n,t),t.target.dispatchEvent(n),o("mouseup",t.target.fireChangeEvent),i=e.partial(a,t.target),t.target.fireChangeEvent=i,r("mouseup",i))}),!0)}}}.call(e,n,e,t))||(t.exports=i)},3005:function(t,e,n){"use strict";var i;void 0===(i=function(t){for(var e=0,n=["ms","moz","webkit","o"],i=0;i<n.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[n[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[i]+"CancelAnimationFrame"]||window[n[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),o=window.setTimeout((function(){t(i+r)}),r);return e=i+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}.call(e,n,e,t))||(t.exports=i)},118:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(8939),r=n(7812),o=/^RAND/,s=function(t){return o.test(t)},a={};a.string=a.object=a.boolean=function(t){return t},a.num=a.number=function(t){return s(t)?t:parseFloat(t)},a.var=a.variable=function(t,n){var i=e.identity,r=this.resolvePath(t,n,{optional:!0});return null!=r&&("number"===r.type()&&(i=parseFloat),r=i(r.value())),r},a.property=function(t,e){return this.resolvePath(t,e,{optional:!0})},a.drawid=function(t,e){return this.resolvePath(t,e,{optional:!0})},a.param=function(t,e,n){return this.getRef(n.params[t],e,n)},a.valueref=function(t,n,i){return this.getRef(e.find(i.iterables,{name:t}),n,i)},a.actparam=function(t,e,n){return n[t]},a.default=function(t,e){return this.getRef(t,e)};var l,u=i.throwError("resolver"),c=u("resolvePath"),h=u("getRef"),d=u("findReference"),p=/\$/,f=/\#/,v=/\$/g,g=/\#/g,m=/^\$/,y=/^\#/,b=new RegExp("^"+r.refs.PLAYER),w=function(t){return t.replace(p,"")},A=function(t){return t.replace(f,"")},E=function(t){return p.test(t)},S=function(t){return t.split(r.PATH_DELIMITER)},T=function(t,n){var i;return e.find(t.resolveables,(function(r){var o=t.get(r);return!!o&&(!(i=o.isCollection?o.get(n):o.id===n?o:o[n])&&function(t,n){return e.has(n.resolvers,t)}(r,t)&&(i=t.resolvers[r].call(t,n,o)),i)}),t),i},x=function(t,e){var n,i,r="$"===e?v:g;return i=e+(n=t.replace(r,"").split(".")).pop(),n.push(i),n.join(".")},C=e.partialRight(x,"$"),_=e.partialRight(x,"#"),k={initialize:function(){l=DS.presentation},getPresentationContext:function(){return DS.presentation},getSlideBankSlideInstance:function(t){var e=null;return l.scenes().some((function(n){return n.slidedraws().some((function(n){return n.slides().some((function(n){return n.id===t&&(e=n),null!=e})),null!=e})),null!=e})),e},resolvePath:function(t,n,i){if(t)return null==l&&null!=DS.presentation&&this.initialize(DS.presentation),!function(t){return y.test(t)&&-1!==t.indexOf(".")}(t)?function(t){return m.test(t)&&-1!==t.indexOf(".")}(t)&&(t=C(t)):t=_(t),i=i||{},n&&e.isPlainObject(n)&&(i=n,n=void 0),this.resolvePathArray(S(t),n,i);c("Must provide a path to resolve")},resolvePathArray:function(t,n,i){var o=t.shift();switch(o){case r.refs.PLAYER:n=l;break;case r.refs.PLAYER_VARS:n=l.playerVars();break;case r.refs.PARENT:n=n.getClosestParentRef();break;case r.refs.CHILDREN:n=n.getChildren();break;case r.refs.SELF:n=n.getClosestThisRef();break;case r.refs.CURRENT_SLIDE:n=this.resolvePath(l.prop("CurrentSlideId"),l);break;default:n=k.findReference(o,n)}return null==n?i.optional?void 0:void c("Path did not resolve at:",o):t.length?e.isArray(n)?e.compact(e(n).map((function(e){var n=t.slice();return k.resolvePathArray(n,e,{optional:!0})})).value()):k.resolvePathArray(t,n,i):n},findReference:function(t,e){if(t){var n,i,r;if(e)return e.isCollection&&e.get(t)?e.get(t):E(t)?e.prop(w(t)):(r=t,f.test(r)?(i=A(t),e.getVariableProp&&(n=e.getVariableProp(i))?n.value():e.variables().get(A(t))):e.isModel||null==e[t]?T(e,t)||(e.id===t?e:function(t,e){return t.prop&&t.hasOwnPlayerProp(w(e))}(e,t)?e.prop(t):void 0):e[t]);d("Context must be defined.")}else d("Cannot find a reference with no ID")},getRef:function(t,e,n){if(t){if(t.type)return(a[t.type]||a.default).call(this,t.value,e,n);h("Type is undefined for the provided reference")}else h("No reference passed in")}};return k.normalizePropRef=w,k.isPropRef=E,k.splitPath=S,k.joinPath=function(t){return t.join(r.PATH_DELIMITER)},k.isRelativePath=function(t){return!b.test(t)},k.isRandomToken=s,k.resolveAbsolutePathWithFilter=function(t,n){var i,r;return t=t.split("."),i=e.first(t.splice(0,1)),t.some((function(t){return i+="."+t,r=k.resolvePath(i),n(r)}))?r:null},k}.call(e,n,e,t))||(t.exports=i)},6159:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(4698),r="abcdefghijklmnopqrstuvwxyz",o=e.union(e.range(10).map((function(t){return t.toString()})),r.split(""),r.toUpperCase().split(""),"_$".split("")),s=/([^a-zA-Z0-9_$])/,a=i.extend({shorthand:["encodedLength","strLength","fullString","encodedString","strVal","remainder"],initialize:function(t){var e,n=1,i=0;"~"===this.fullString().charAt(0)&&(i=2,n=parseInt(this.fullString().charAt(1))),e=i+n,this.encodedLength(this.fullString().slice(i,e)),this.strLength(parseInt(a.fromUnsignedString64(this.encodedLength()))),this.encodedString(this.fullString().slice(e,e+this.strLength())),this.remainder(this.fullString().slice(e+this.strLength()))},getDecodedValue:function(t){var e=this.encodedString();return s.test(e)||(e=a[t](e)),e},reChunk:function(){return new a({fullString:this.remainder()})}}),l=a.prototype;return l.getSignedValue=e.partial(l.getDecodedValue,"fromSignedString64"),l.getUnsignedValue=e.partial(l.getDecodedValue,"fromUnsignedString64"),a.EMPTY_CHUNK=0,a.create=function(t){null==t&&(t="");var e="",n=t.toString().length,i=a.toUnsignedString64(n);return n>63&&(e+="~"+i.length),e+=i+t},a.packData=function(t){return[a.create(a.toUnsignedString64(t.length)),t].join("")},a.toUnsignedString64=function(t,n,i){var r="",s=!0,l=t;for(i=i||a.EMPTY_CHUNK;l>0||s;)s=!1,r+=o[63&l],l>>=6;return r+=e.times(n-r.length,e.partial(e.identity,i)).join("")},a.toSignedString64=function(t,e){var n,i=t,r=t<0,o=1,s=0;for(e=e||-1;Math.pow(64,o)/2<=Math.abs(t);)o++;if(n=Math.max(e,o),r){for(;-t>=Math.pow(64,s)/2;)s++;i=Math.pow(64,s)+t}return a.toUnsignedString64(i,n,r?"$":"0")},a.toSignedFloatString64=function(t,n){if(t%1==0||e.isNaN(t))return a.toSignedString64(t,n);var i,r=Math.min(3,(i=t,Math.floor(i)===i?0:i.toString().split(".")[1].length||0)),o=Math.trunc(t*Math.pow(10,r));return a.toSignedString64(o)+"-"+r.toString()},a.fromUnsignedString64=function(t){return t.toString().split("").reduce((function(t,e,n){return t+=function(t){return o.indexOf(t)}(e)<<6*n}),0)},a.fromSignedString64=function(t){var e=a.fromUnsignedString64(t.toString()),n=Math.pow(64,t.length)/2;return e>=n&&(e-=2*n),e},a.fromSignedFloatString64=function(t){if(!t.includes("-"))return a.fromSignedString64(t);var e=t.split("-");return a.fromSignedString64(e[0])/Math.pow(10,Number(e[1]))},a}.call(e,n,e,t))||(t.exports=i)},9005:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r=n(6486),o=n(82),s=n(4811),a=n(6159),l={initialize:function(){var t,e,n={},i=window.vRestoreStateData;if(this.hasData=!r.isEmpty(i),this.hasData){for(t=new a({fullString:i}),this.resumeData=t.encodedString(),t=t.reChunk(),e=(t=new a({fullString:t.encodedString()})).encodedString();e.length>0;)t=t.reChunk(),n[e]=t.encodedString(),e=(t=t.reChunk()).encodedString();this.slideStateData=n}},setResumer:function(t){e=t},setWindowManager:function(t){i=t},getSlideStateData:function(t){if(this.hasData)return this.slideStateData[o.stripPlayer(t)]},clearSlideStateData:function(t){this.slideStateData[o.stripPlayer(t)]=null},getState:function(){return r.map([a.packData(e.collectResumeData()),this.getActiveSlideStates()],a.create).join("")},shouldShimLMS:function(){return window.autoSpider},getLMSShim:function(){return{getItem:function(){var t=s.Deferred();return t.resolve(),t.promise()},setItem:r.noop,setResumer:r.noop}},getActiveSlideStates:function(){return i.windows.map((function(t){var e=t.getCurrentSlide();return null==e?"":(e.prepareResumeData({retainState:!0,force:!0,skipPostBuild:!0}),r.map([o.stripPlayer(e.absoluteId),e.getResumeData()],a.create).join(""))})).join("")}};return l.initialize(),l}.call(e,n,e,t))||(t.exports=i)},9013:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(4811),r="path=/",o=function(t){return t.split("=")},s=function(t){return t[0]},a={setCookie:function(t,e){var n=[t,e].join("=");return document.cookie=[n,["expires",new Date(Date.now()+31536e7).toGMTString()].join("="),r].join("; "),this},getCookies:function(t){return document.cookie.split("; ").map(o).filter((function(e){return 0===e[0].indexOf(t)}))},getItem:function(t){var n=i.Deferred(),r=e(this.getCookies(t)).sortBy(s).reduce((function(t,e){return t+e[1]}),"");return n.resolve(r),n.promise()},setItem:function(t,e){for(var n,i,r=0;e.length>0;)i=[t,r++].join("_"),n=e.slice(0,4048),this.setCookie(i,n),e=e.slice(4048);return this}},l={getItem:function(t){var e=i.Deferred(),n=window.localStorage.getItem(t);return e.resolve(n),e.promise()},setItem:function(t,e){var n;try{n=window.localStorage.setItem(t,e)}catch(t){console.warn(t)}return n}},u={setResumer:e.noop};return{hasStorage:function(){try{return null!=window.vInterfaceObject||!e.isUndefined(window.localStorage)}catch(t){return!1}},getStorage:function(){return e.extend(u,this.hasStorage()?l:a)}}}.call(e,n,e,t))||(t.exports=i)},4427:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(9229),r=n(8880),o=n(9032),s=n(9013),a=n(6159),l=n(4811),u=n(8939),c=n(8579),h=n(9005),d=n(7235),p=n(8945),f=void 0,v=void 0,g=void 0,m=function(t){return t.match(/.{2}/g)},y=function(t){return t.getViewGroupId()};return{viewedSlides:[],totalViewedSlides:[],viewedActionLinks:{},courseStartTime:!1,hasOverlay:!1,initialize:function(t,n){var i=this;return this.addPartial(),e.bindAll(this,"savePresentationData"),this.setPresentation(t),v=t.resume()||{},this.resumeDfd=l.Deferred(),this.hasOverlay=n,this.resumeDfd.catch((function(){i.setViewedSlidesFromString("")})),h.setResumer(this),p.initialize(t,this),this.createResumeInterface(),o.on(r.player.CLOSING,this.closePlayer.bind(this)),this.isResumable()?this.setListeners().createSceneResumeArray().setResumeDataCallback().initResumeData():(this.lmsDfd=l.Deferred().resolve().promise(),this.setListeners().checkAndReject()),this.resumeDfd.promise()},setPresentation:function(t){f=t},addPartial:function(){this.getUniqueViewedSlides=e.partial(this.getUniqueSlides,"viewedSlides"),this.getUniqueTotalSlides=e.partial(this.getUniqueSlides,"totalViewedSlides"),this.checkAndReject=e.partial(this.check,this.rejectDeferred.bind(this)),this.checkAndResolve=e.partial(this.check,this.resolveDeferred.bind(this))},isResumable:function(){return this.resumeInterface},createResumeInterface:function(){p.lmsPresent()||window.globals.lmsPresent?this.resumeInterface=p:!0===v.flashresume?this.resumeInterface=s.getStorage():h.shouldShimLMS()&&(this.resumeInterface=h.getLMSShim()),c.env.isWebObject&&null!=this.resumeInterface&&(this.resumeInterface=d.getResumer(this.resumeInterface)),!p.lmsPresent()||v.lmsresume&&!c.env.isRise||(this.resumeInterface={getItem:function(){var t=l.Deferred();return t.resolve(),t.promise()},setItem:e.noop})},setListeners:function(){var t={};return t[r.slide.WILL_CHANGE]=this.slideChanging.bind(this),t[r.window.CLOSING]=this.windowClosing.bind(this),t[r.slide.VIEWED]=this.slideViewed.bind(this),t[r.slideWindow.CLEAR_HISTORY]=this.clearResumeData.bind(this),t[r.actionlink.EVENT]=this.onActionLink.bind(this),o.on(t),this},closePlayer:function(){f.isPreview()?o.trigger(r.preview.NOTIFY,"PREVIEW_CLOSE_WND"):p.lmsUnload(!0)||p.whenCloseReady().then((function(){window.top.window.open("","_self","").close()}))},setWindowManager:function(t){g=t,h.setWindowManager(t),null!=this.lmsDfd&&this.lmsDfd.then(this.checkQuickResume.bind(this))},createSceneResumeArray:function(){return this.sceneResume=f.scenes().map((function(){return a.EMPTY_CHUNK})),this},callForLightboxClose:function(){return o.trigger(r.window.CLOSING,v.window),this},resolveDeferred:function(){return this.resumeDfd.resolve(),o.trigger(r.resume.SET_DATA,this.totalViewedSlides,Object.keys(this.viewedActionLinks)),this},rejectDeferred:function(){return this.resumeDfd.reject(),o.trigger(r.resume.SET_DATA),this},check:function(t){var e=this;(this.hasOverlay||c.theme.isClassic||!c.deviceView.isDesktop||this.mobileStartAsPrompt)&&(this.hasOverlay||c.deviceView.isPhone&&c.env.isDevicePreview||c.device.isMobile||!c.theme.isClassic&&!f.isPreview())?((c.deviceView.isMobile||c.theme.isUnified)&&DS.renderEngine.createMobileStartOverlay(),i.getAppCompletePromise().then((function(){var n=c.deviceView.isClassicDesktop?t:{rejectDeferred:t,mobileStartAsPrompt:e.mobileStartAsPrompt};o.trigger(r.request.START,n)}))):t()},initResumeData:function(){var t=this;this.lmsDfd=this.resumeInterface.getItem(v.id).then((function(e){var n=!1;h.hasData&&(e=h.resumeData),null!=e&&e.length&&(n=t.processResumeData(e)),n?v.prompt&&!c.theme.isClassic?(t.mobileStartAsPrompt=!0,t.checkAndResolve()):t.checkApplyResumeData():t.checkAndReject()}))},processResumeData:function(t){var e=new a({fullString:t});return function(t){return t.remainder().length===t.getUnsignedValue()}(e)?(this.resumeData=e.reChunk(),!0):(u.warn("processResumeData","the data is the incorrect length, resume not attempted"),!1)},checkApplyResumeData:function(){return v.prompt&&!h.hasData&&i.getAppCompletePromise().then((function(){o.trigger(r.request.NEXT_SLIDE,v.slideId,v.window)})),this},checkQuickResume:function(){null==this.resumeData||v.prompt&&!h.hasData||this.checkAndResolve()},applyResumeData:function(t){var e=t?"resolveDeferred":"rejectDeferred";this.callForLightboxClose(),this[e]()},slideViewed:function(t){t.get("trackViews")&&(this.addSlideToViewedList(t),p.lmsPresent()&&p.slideViewed(t))},windowClosing:function(){var t=g.getCurrentWindowSlide();null!=t&&this.slideLeft(t)},slideChanging:function(t,e,n){n||this.slideLeft(t)},slideLeft:function(t){"perpetual"!==window.globals.productChannel&&t.get("trackViews")&&p.lmsPresent()&&p.slideLeft(t)},onActionLink:function(t){var n=e.findIndex(f.get("actionlinks"),{id:t});-1!==n&&(this.viewedActionLinks[t]=n)},addSlideToViewedList:function(t){this.viewedSlides.push(t),this.viewedSlides=e.uniq(this.viewedSlides),this.totalViewedSlides.push.apply(this.totalViewedSlides,this.viewedSlides),this.totalViewedSlides=e.uniq(this.totalViewedSlides)},getViewedSlidesString:function(){return this.totalViewedSlides.reduce((function(t,e){return t+a.toUnsignedString64(e.prop("Index")+1,2)}),"")},setViewedSlidesFromString:function(t){if(t.length){var n=f.getFlatSlides(),i=f.get("scoring"),r=f.scorings();0===r.length&&null!=i&&r.push(i),this.totalViewedSlides=e(m(t)).map(a.fromUnsignedString64).map((function(t){var i=e.find(n,(function(e){return e.prop("Index")===t-1}));return null!=i&&(r.incrementViewed(i),i.restoreViewed()),i})).compact().value()}p.lmsPresent()&&f.getDrawPromise().then((function(){p.setTotalSlides(f.getUniqueSlides().length)}))},getUniqueSlides:function(t){return e.uniq(this[t],y)},getViewedActionLinksString:function(){return e.reduce(this.viewedActionLinks,(function(t,e){return t+a.toUnsignedString64(e,2)}),"")},setViewedActionLinksFromString:function(t){if(t.length>0){var e=f.get("actionlinks");null!=e&&(this.viewedActionLinks=m(t).map(a.fromUnsignedString64).reduce((function(t,n){var i=e[n];return null!=i&&(t[i.id]=n),t}),{}))}},collectResumeData:function(){return[a.create(this.getViewedSlidesString()),a.create(g.getResumeData()),f.variables().length>0?a.create(f.variables().getResumeDataOrReturn("")):"",this.sceneResume.join(""),f.quizzes().getResumeData(),f.timers().length>0?f.timers().getResumeData():"",a.create(this.getViewedActionLinksString())].join("")},savePresentationData:function(t){if(!this.isResumable()||l.isPending(this.resumeDfd))return this;var e=g.getCurrentWindowSlide();this.saveSceneData(t),null!=e&&(this.resumeData=this.collectResumeData(),this.resumeInterface.setItem(v.id,a.packData(this.resumeData)))},saveSceneData:function(t){null!=t&&(this.sceneResume[t.index()]=a.create(t.getResumeData()))},setResumeDataCallback:function(){return this.resumeDfd.then(this.setResumeData.bind(this)).catch(e.noop),this},setResumeData:function(){var t=this.resumeData.encodedString(),e=f.variables().length>0,n=this.resumeData.reChunk(),i=e?n.reChunk():null,r=e?i.reChunk():n.reChunk();e&&f.variables().setResumeData(i.encodedString());var o=this.setSceneResumeData(r);f.createSlideIndices(),this.setViewedSlidesFromString(t);var s=f.quizzes().setResumeData(o);f.timers().length>0&&f.timers().setResumeData(s);var a=s;this.setViewedActionLinksFromString(a.encodedString()),g.setResumeData(n.encodedString())},setSceneResumeData:function(t){return this.sceneResume=f.scenes().map((function(e){var n=t.encodedString();return e.setResumeData(n),t=t.reChunk(),a.create(n)})),t},courseStarted:function(t){this.courseStartTime=Date.now(),p.lmsPresent()&&p.courseStarted(t)},getCourseTime:function(){return Date.now()-this.courseStartTime},clearResumeData:function(){f.scenes().forEach((function(t){t.clearResumeData()})),f.getUniqueSlides().forEach((function(t){t.clearResumeData()})),g.setResumeData(""),this.viewedSlides=[],this.totalViewedSlides=[],this.isResumable()&&this.resumeInterface.setItem(v.id,"")}}}.call(e,n,e,t))||(t.exports=i)},4481:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(7510).addWindowListener,r=n(1070),o=n(82),s=n(8579),a=n(8880),l=n(9032),u={scaleValue:1,zoomMode:!1,zoomVar:null,enableZoomMode:function(t){this.zoomMode=t,null!=this.zoomVar&&this.zoomVar.value()!==t?this.zoomVar.changeValue(t):l.trigger(a.window.ZOOM_MODE_CHANGED)},setZoomModeVariable:function(t){this.enableZoomMode(t.value())},initialize:function(t){e.bindAll(this,"scale","sendWindowScale","setZoomModeVariable"),this.isShowAll()&&!s.deviceView.isClassicMobile?this.startScaling():i("resize",this.sendWindowScale)},connectVariables:function(t){if(null!=t){this.zoomVar=t;var e=this.zoomVar.value();e&&this.enableZoomMode(e),this.zoomVar.on("change:value",this.setZoomModeVariable)}},isShowAll:function(){return"show all"===window.globals.scale},sendWindowScale:function(){l.trigger(a.window.SCALE),l.trigger(a.window.AFTER_SCALE)},setWindowScale:function(t){this.windowScale=t},getWindowScale:function(t){return this.windowScale},startScaling:function(){this.scale(),i("resize",this.scale)},getScaledFontSize:function(){return r.player.getFontScale()*this.getScale()},queueScale:function(){this.pending||(this.pending=!0,window.requestAnimationFrame(this.scale))},scale:function(){this.scaleValue=this.calcScale(),this.sendWindowScale(),this.pending=!1},calcScale:function(){var t=this.getWindowDimensions(),e=t.height,n=t.width,i=e/r.presentation.display().height(),s=n/r.presentation.display().width();return o.fix(Math.min(i,s),5)},getWindowDimensions:function(){return{height:window.innerHeight,width:window.innerWidth}},getScale:function(){return this.scaleValue}};return o.scaleVal=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t*u.getScale();return e?Math.round(n):n},u}.call(e,n,e,t))||(t.exports=i)},1291:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(7510).addDocumentListener,r=n(1251).isInput,o=n(4481),s=(n(1419),n(3716)),a=n(8579),l=n(8766),u=n(9032),c=n(8880),h=n(9229),d=n(7812),p=[],f=void 0,v=void 0;return{enabled:!0,initialize:function(t){var n=this;v=t||function(t){return t},e.bindAll(this,"onTimelineChanged","onKeyDown"),this.setupKeyLookup(),a.deviceView.isUnifiedDesktop&&!DS.presentation.isPreview()&&this.registerShortcut(v("togglezoom"),{key:"z",ctrl:!0,alt:!0},(function(){o.enableZoomMode(!o.zoomMode)})),a.deviceView.isDesktop&&(u.on(c.playbackControls.TIMELINE_CHANGED,this.onTimelineChanged),this.registerShortcut(v("acctext_shortcut"),{key:"t",ctrl:!0,alt:!0},(function(){h.onToggleAccessibleText()})),this.registerShortcut(v("mute_shortcut"),{key:"m",ctrl:!0,alt:!0},(function(){h.onToggleVolume()})),this.registerShortcut(v("closedcaptions_shortcut"),{key:"c",ctrl:!0,alt:!0},(function(){l.toggleCaptioning()})),this.registerShortcut(v("replay_shortcut"),{key:"r",ctrl:!0,alt:!0},(function(){n.threeSixtyImageMediaVisible()?u.trigger(c.threeSixtyImage.MEDIA_RESTART):n.currTimeline.reset()})),this.registerShortcut(v("playpause_shortcut"),{key:"p",ctrl:!0,alt:!0},(function(){n.threeSixtyImageMediaVisible()?u.trigger(c.threeSixtyImage.MEDIA_TOGGLE_PLAY):null!=n.currTimeline&&(1!==n.currTimeline.progress()?n.currTimeline.togglePlayback():a.theme.isUnified&&n.currTimeline.reset())})),this.registerShortcut(v("previous_shortcut"),{key:",",keyCode:188,ctrl:!0,alt:!0},(function(){n.onControlButtonShortcut("prev")})),this.registerShortcut(v("next_shortcut"),{key:".",keyCode:190,ctrl:!0,alt:!0},(function(){n.onControlButtonShortcut("next")})),this.registerShortcut(v("submit_shortcut"),{key:"s",ctrl:!0,alt:!0},(function(){n.onControlButtonShortcut("submit")})))},threeSixtyImageMediaVisible:function(){return null!=document.querySelector(".panel-video-player")||document.querySelector(".three-sixty-overlay .panel-shown .panel-audio")},setupKeyLookup:function(){var t=this,e="abcdefghijklmnopqrstuvwxyz".split("");this.keyToCode={},e.forEach((function(e,n){t.keyToCode[e]=65+n}))},onControlButtonShortcut:function(t){var e=DS.views.getTopNameSpace()[t];e&&e.shortcutActivated()},onTimelineChanged:function(t){this.currTimeline=t},closeShortcutWindow:function(){null!=f&&(f.close(),f=null)},registerShortcut:function(t,e,n){var r=this;this.listenerAdded||(this.listenerAdded=!0,i("keydown",(function(t){return r.onKeyDown(t)})),this.registerShortcut(v("shortcuthelp"),{key:"?",shift:!0},(function(){null==f?f=DS.frame.createWindow("ShortcutWnd"):r.closeShortcutWindow()}))),p.push({name:t,keyInfo:e,cb:n})},enableShortcuts:function(t){this.enabled=t,u.trigger(DS.events.player.ENABLE_KEYBOARD_SHORTCUTS,t)},onKeyDown:function(t){var e=this,n=t.ctrlKey,i=t.shiftKey,o=t.altKey,a=t.key,l=t.keyCode;if(!(r(document.activeElement)||s.keyPressHandlerExists(t)||!this.enabled&&"?"!==a)){var u=p.find((function(t){var r=t.keyInfo,s=r.key,u=r.keyCode,c=void 0===u?0:u,h=r.ctrl,d=void 0!==h&&h,p=r.shift,f=void 0!==p&&p,v=r.alt;return d===n&&f===i&&(void 0!==v&&v)===o&&(e.keyToCode[s]===l||s.toLowerCase()===a.toLowerCase()||c===l)}));u&&u.cb(),l==d.keys.F5&&t.preventDefault()}},getShortcutList:function(){return[].concat(p)}}}.call(e,n,e,t))||(t.exports=i)},8935:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(8880),r=n(7812),o=n(9032),s=n(82),a=void 0,l=void 0,u={slides:{},scenes:{}},c=function(t){var e=t.viewed,n=t.total;return 0===n?"":(100*e/n).toFixed(0)+"%"},h=r.varTypes,d=h.NUM,p=h.STRING,f=[{name:"menuSlidesViewed",update:function(t){return t.menu.viewed},type:d},{name:"menuTotalSlides",update:function(t){return t.menu.total},type:d},{name:"menuProgress",update:function(t){var e=t.menu;return c(e)},type:d},{name:"menuSectionSlidesViewed",update:function(t,e,n){var i=t.section;return(0,n.menuInclude)(i.viewed)},type:d},{name:"menuSectionTotalSlides",update:function(t,e,n){var i=t.section;return(0,n.menuInclude)(i.total)},type:d},{name:"menuSectionProgress",update:function(t,e,n){var i=t.section;return(0,n.menuInclude)(c(i))},type:d},{name:"projectSlidesViewed",update:function(t){return t.project.viewed},type:d},{name:"projectTotalSlides",update:function(t){return t.project.total},type:d},{name:"projectProgress",update:function(t){var e=t.project;return c(e)},type:d},{name:"sceneSlidesViewed",update:function(t){return t.scene.viewed},type:d},{name:"sceneTotalSlides",update:function(t){return t.scene.total},type:d},{name:"sceneProgress",update:function(t){var e=t.scene;return c(e)},type:d},{name:"menuSectionsViewed",update:function(t){return t.viewedSectionCount},type:d},{name:"projectScenesViewed",update:function(t){return t.viewedSceneCount},type:d},{name:"menuSlideNumber",update:function(t,e,n){var i=e.menuSlideNumber;return(0,n.menuCountInclude)(i)},type:d},{name:"menuSlideTitle",update:function(t,e){return e.menuSlideTitle},type:p},{name:"menuSlideReference",update:function(t,e){return e.menuSlideReference},type:p},{name:"menuSectionNumber",update:function(t,e,n){var i=e.menuSection;return(0,n.menuInclude)(i)},type:d},{name:"menuSectionSlideNumber",update:function(t,e,n){var i=e.menuSectionSlideNumber;return(0,n.menuCountInclude)(i)},type:d},{name:"menuTotalSections",update:function(){return u.menuTotalSections},type:d},{name:"projectSlideNumber",update:function(t,e,n){var i=e.slideNumberInProject;return(0,n.projectInclude)(i)},type:d},{name:"projectSlideTitle",update:function(t,e){return e.slide.title()},type:p},{name:"projectSlideReference",update:function(t,e,n){var i=e.slideNumberInScene;return n.sceneNumber+"."+i},type:p},{name:"projectTotalScenes",update:function(){return u.sceneCount},type:d},{name:"projectSceneNumber",update:function(t,e,n){var i=n.sceneNumber;return 0===i?"":i},type:d},{name:"sceneSlideNumber",update:function(t,e,n){var i=e.slideNumberInScene;return(0,n.projectInclude)(i)},type:d},{name:"currentSlideId",update:function(t,e){return e.slide.id},type:p}],v=function(){var t=l.getCurrentWindowSlide();if(null!=t){var n=t.getScene();if(!n.isMessageScene()){var r=u.slides[t.absoluteId],s=a.variables(),c=function(t){var n=t.getScene(),i=u.slides[t.absoluteId].menuSection,r=new Set,o=new Set,s={total:0,viewed:0},a={total:0,viewed:0},l={total:0,viewed:0},c={total:0,viewed:0};return e.forEach(u.slides,(function(t){var e=t.slide.viewed;t.slide.includeInSlideCounts()&&(s.total++,e&&(s.viewed++,r.add(t.scene)),t.scene===n&&(a.total++,e&&a.viewed++)),null!=t.menuSection&&t.slide.includeInSlideCounts()&&(l.total++,e&&(l.viewed++,o.add(t.menuSection)),t.menuSection===i&&(c.total++,e&&c.viewed++))})),{viewedSceneCount:r.size,viewedSectionCount:o.size,project:s,scene:a,menu:l,section:c}}(t),h={sceneNumber:n.sceneNumber(),menuInclude:null!=r.menuSection?function(t){return t}:function(t){return""},projectInclude:t.includeInSlideCounts()?function(t){return t}:function(t){return""},menuCountInclude:null!==r.menuSection&&t.includeInSlideCounts()?function(t){return t}:function(t){return""}};f.forEach((function(t){var e=t.name,n=t.update;return s.get(e).value(n(c,r,h))})),o.trigger(i.slide.SLIDE_NUMBERS_UPDATED)}}},g=function(t,n){var i=0,r=0;u.slides={};var o=function(t,e){var n=function(t){var e=t.getSlideDraw();return null!=e?e.slideNumberInScene()+t.index():t.slideNumberInScene()};return n(t)-n(e)};t.scenes().forEach((function(t){if(!t.isMessageScene()){var e=0;t.getAllSlides().sort(o).forEach((function(n){u.slides[n.absoluteId]={slideNumberInProject:n.includeInSlideCounts()?++i:0,slideNumberInScene:n.includeInSlideCounts()?++e:0,slide:n,scene:t},u.scenes[t.absoluteId]={slideCount:e}})),0!==t.sceneNumber()&&r++}})),u.sceneCount=r;var a=0,l=function t(n,i,r,o,l){var c=u.slides[n.slideid];return null!=c&&(c.menuSlideNumber=c.slide.includeInSlideCounts()?++a:0,c.menuSlideTitle=s.decodeHtml(n.displaytext),c.menuSlideReference=o,c.menuSectionSlideNumber=c.slide.includeInSlideCounts()?r++:0,c.menuSection=l),e.forEach(n.links,(function(e,n){r=t(e,i+1,r,o+"."+(n+1),l)})),r},c=0;(n||[]).forEach((function(t,e){l(t,1,1,c=e+1,c)})),u.menuTotalSections=c};return{initialize:function(t,e,n){a=e.playerVars(),l=t,g(e,n),o.on(i.slide.HAS_MOUNTED,v),o.on(i.window.CLOSING,v),o.on(i.draw.RESET_COMPLETE,(function(){return g(e,n)}))},getPlayerVariables:function(){return f.map((function(t){var e=t.name,n=t.type;return function(t,e,n){return{kind:"variable",name:t,type:e,value:n,resume:!1}}(e,n,n===d?0:"")}))}}}.call(e,n,e,t))||(t.exports=i)},2972:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(82),r=n(1251),o=n(8579),s=e.partialRight(r.hasClass,"draggable"),a=e.partialRight(r.hasClass,"hidden"),l=e.partialRight(r.hasClass,"rotatable"),u=e.partialRight(r.hasClass,"slideable-parent"),c=function(t){return r.hasClass(t,"is-scrollable")||r.hasClass(t,"scrollarea-scrollbar")},h=function(t){return r.hasClass(t,"three-sixty-image")},d=function(t,e){return!!e(t)||!!r.closest(t,e)},p=function(t){return t.scrollHeight>t.offsetHeight||r.hasClass(t,"scrollarea-scrollbar")},f=function(t){return t.hasAttribute("data-double-click")},v=e.partialRight(d,(function(t){return c(t)&&p(t)})),g=e.partialRight(d,(function(t){return l(t)})),m=e.partialRight(d,(function(t){return a(t)})),y=e.partialRight(d,(function(t){return s(t)})),b=e.partialRight(d,(function(t){return u(t)})),w=function(t){return r.hasClass(t,"eventable")},A=e.partialRight(d,(function(t){return w(t)})),E=function(t,e){var n,i;return t.objects().forEach((function(t,r){var o,s=null!=e?e.refs["obj"+r]:t.currView,a=s&&s.getFocusTarget();null!=a&&(o=a.props.model.prop("tabIndex"),a.isFocusable()&&a.isVisible()&&(null==i||i>o)&&(i=o,n=s))})),n};return{isRelated:d,needsToScroll:p,isScrollable:c,isScrollRelated:function(t){return c(t)?p(t):v(t)},isDraggable:s,isDraggableRelated:y,isEventable:w,isEventableRelated:A,isRotatable:l,isRotatableRelated:g,isSlideableRelated:b,isDoubleClickRelated:function(t){return f(t)||d(t,f)},activeMobileMenuItem:function(t,e){o.deviceView.isClassicMobile&&(0===i.getPath(t,"length",0)?document.body.classList.add(e):document.body.classList.remove(e))},isThreeSixtyImageRelated:function(t){return d(t,h)},isMobileSlide:function(t){return o.deviceView.isMobile&&!t.props.isMessageWindow},getGroupFocusTarget:function(t){var e=t.props.parent;if(!o.deviceView.isMobile)return e.isFocusable()?e:E(t.props.model,t)},removeEngageBorder:function(){var t=r.getParentFrame();null!=t&&t.classList.remove("webobject-engage")},getChildAtLowestTabIndex:E,isHiddenRelated:m}}.call(e,n,e,t))||(t.exports=i)},9995:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(520),i=n(7812),r=n(6486),o=n(4481),s=n(9032),a=n(8579),l=a.device.isMobile,u=a.theme.isUnified,c=document.createElement("div"),h=function(t,e){return'<!DOCTYPE html><html lang="en"> <head> <meta charset="utf-8" /> <link rel="stylesheet" href="html5/lib/stylesheets/'+(l?"mobile":"desktop")+'.min.css" /> <link rel="stylesheet" href="html5/data/css/output.min.css" /> <style>* { margin: 0; padding: 0; pointer-events: none !important; } .slide-thumb { position: absolute; left: 0; top: 0; width: '+t+"px; height: "+e+'px; } </style> </head> <body> <div class="slide-thumb">'},d=function(t,e){return'</div> <script> (function() { var slide = document.querySelector(".slide-thumb"), topLeft = "0 0", scaleValue; slide.style.WebkitTransformOrigin = topLeft; slide.style.MozTransformOrigin = topLeft; slide.style.MsTransformOrigin = topLeft; slide.style.transformOrigin = topLeft; var scale = function() { var winH = window.innerHeight, winW = window.innerWidth, slideH = '+e+", slideW = "+t+', xScale = winH / slideH, yScale = winW / slideW, nextScaleValue = Math.min(xScale, yScale); if (scaleValue !== nextScaleValue) { scaleValue = nextScaleValue; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.WebkitTransform = "scale(" + scaleValue + ")"; slide.style.transform = "scale(" + scaleValue + ")"; } }; window.addEventListener("resize", scale); scale(); })(); <\/script> </body></html>'},p=/data-reactid="(.*?)"/g,f=/(-webkit-|-moz-|-ms-)?transform(-origin)?:\s*([^;]*);/g;return{createVideoThumb:function(t){var e=document.createElement("canvas"),n=e.getContext("2d"),i=parseFloat(t.parentNode.style.width),r=parseFloat(t.parentNode.style.height);return(isNaN(i)||isNaN(r))&&(i=parseFloat(t.parentNode.parentNode.style.width),r=parseFloat(t.parentNode.parentNode.style.height)),e.width=i,e.height=r,n.drawImage(t,0,0,e.width,e.height),{uri:e.toDataURL("image/jpeg",.8),src:t.src}},addVideoImageThumbs:function(t,e){var n=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t)).map(this.createVideoThumb).reduce((function(t,e){return t[e.src]=e.uri,t}),{});return e.replace(/<video(.*?)<\/video>/g,(function(t){c.innerHTML=t;var e=c.querySelector("video").src;return c.innerHTML="",'<img src="'+n[e]+'" />'}))},addCanvasThumbs:function(t,e){return e.replace(/<canvas(.*?)<\/canvas>/g,(function(t){c.innerHTML=t;var e=c.querySelector("canvas");if("360-image"!==e.dataset.canvasType)return c.innerHTML="",t;var n=e.id,i=r.pick(e.style,["width","height"]);return c.innerHTML="",s.trigger("forceRender",n),'<img src="'+document.getElementById(n).toDataURL("image/jpeg",.8)+'" style="width: '+i.width+"; height: "+i.height+';" />'}))},generate:function(){var t,n,r,s,a,c,v=e.getCurrentWindow().getCurSlide(),g="",m=l||u?o.getWindowScale():o.getScale();if(null!=v){t=v.el.innerHTML,n=v.props.model.get("width"),r=v.props.model.get("height"),t=t.replace(p,"").replace(f,"-webkit-transform$2: $3; -moz-transform$2: $3; -ms-transform$2: $3; transform$2: $3;"),(c=document.getElementById("slide").querySelectorAll("video")).length>0&&(t=this.addVideoImageThumbs(c,t));var y=document.querySelectorAll("[data-canvas-type='360-image']");return y.length>0&&(t=this.addCanvasThumbs(y,t)),a=function(t){var e;if(null!=t)return(e=document.createElement("div")).id="lib",e.setAttribute("class","offscreen"),e.innerHTML=t.innerHTML,[e.querySelector("#video-pen"),e.querySelector("#presentation-canvas"),e.querySelector("#zoomimage-container"),e.querySelector("canvas")].forEach((function(t){null!=t&&t.parentNode.removeChild(t)})),e}(s=document.getElementById(i.els.LIB)),null!=s&&(g=a.outerHTML.replace(p,"")),{width:n,height:r,html:[h(n*m,r*m),t,g,d(n*m,r*m)].join("")}}return{html:null}}}}.call(e,n,e,t))||(t.exports=i)},9447:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(5485),r=n(6334),o=(n(9032),n(82)),s=n(118);return e.extend({initialize:function(){this.addSubscriptions()},ensureSlideIsSlide:function(t){return t.isScene&&(t=this.getStartingSlide(t)),t.isSlideDraw&&(t=o.getPath(t.slides(),"first")),t},getSlide:function(t,e){var n=s.isRelativePath(t)?e:DS.presentation,i=s.resolvePath(t,n,{optional:!0});return null!=i&&(i=this.ensureSlideIsSlide(i)),i},getRef:function(t){var e=DS.presentation.slideMap().slideRefs();return e.get(t.fullId())||e.get(t.id)},getStartingSlide:function(t){return s.resolvePath(t.startingSlide(),DS.presentation)},getEntrypoint:function(){return DS.presentation.entryPoint()},loadSlide:function(t,n){var i=e.isString(t)?this.getSlide(t,n):t,r=i.load(this.getRef(i));return DS.presentation.slideMap().setCurrentSlide(i.absoluteId),r},getSlideFromIndices:function(t,e){return DS.presentation.scenes().at(t).slides().at(e)},getDrawFromIndices:function(t,e,n){return DS.presentation.scenes().at(e).slidedraws().at(t).slides().at(n)}},i.Events,r)}.call(e,n,e,t))||(t.exports=i)},1681:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(8939),i=n(7812),r=n(6486),o=void 0,s=/(%[^%^\^^\s]+%)/g,a=[{find:/\^%\^/g,replace:"%"},{find:/\^\^/g,replace:"^"}];return{initialize:function(t){o=t},reInit:function(t){o.frame.stringTables[o.currLayout.string_table].string=t},getString:function(t,n){var r=o&&(t===i.strings.PROJECT_TITLE?o.title.text:o.getString(t));return null==r&&(r=t.replace(/_/g," "),e.throwErrorSoft("getString","could not resolve the string",e.backtick(t))),null!=n&&(r=this.replaceTokens(r,n)),r},replaceTokens:function(t,e){return function(t){if(null==t)return[""];var e=t.split(s);return e.length<=1?[t]:r.compact(e)}(t).map((function(t){return"%"!==r.first(t)||"%"!==r.last(t)?(n=t,a.reduce((function(t,e){return t.replace(e.find,e.replace)}),n)):e[t.substr(1,t.length-2)];var n})).join("")}}}.call(e,n,e,t))||(t.exports=i)},7097:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(82),r=n(7812),o=n(7594),s=r.XMLNS_XLINK,a=r.XMLNS,l=r.math.TWO_PI,u=function(t){return function(){return e.toArray(arguments).concat(t)}},c=function(t,n,i){var r,o=u(e.slice(arguments,3));return r=n.apply(null,o(i)),r=t.apply(null,o(o,n,r,i))},h=e.partial(c,(function(t,n,i){return i.children&&!i.children.skipTraversal&&(i.children=i.children.map((function(i){if(e.isString(i))return i;var r=t(n,i);return h.apply(null,r)}))),i})),d={isNodeOfType:function(t,e){var n;return e&&(n=e.tagName||e.nodeType),!!n&&t.toLowerCase()===n.toLowerCase()},svgPrefix:function(t){return[r.SVG_NODE_PREFIX,t].join(r.NODE_DELIMITER)},buildTransformFromConfigFn:function(t){var e=t.args.slice();return e.unshift(t.type),d.buildTransformFn.apply(this,e)},buildTransformFn:function(t){for(var n=arguments.length,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r];return[t,"(",e.tail(i).join(", "),")"].join("")},buildTransformConfig:function(t){return{type:t,args:e.tail(arguments)}},applyTransformTo:function(t,e){return t.transform=[e],t},getTransformOf:function(t){return t.transform=t.transform||[],t.transform},transformNodeConfig:function(t,n){e.isFunction(t.beforeStart)&&t.beforeStart();var i=h.apply(null,arguments);return e.isFunction(t.afterFinish)&&(i=t.afterFinish(i)),i},getFromNodeConfig:e.partial(c,(function(t,e,n,i){return null!=n&&!1!==n||!i.children||i.children.every((function(i){var r=t(e,i),o=d.getFromNodeConfig.apply(null,r);return null==o||!1===o||(n=o,!1)})),n})),getFullSvgConfig:function(t,n,r,l){var u={height:(n.fullHeight+Math.ceil(n.strokewidth/2))*l,width:(n.fullWidth+Math.ceil(n.strokewidth/2))*l},c={nodeType:"svg",xmlns:a,"xmlns:xlink":s,"data-xmlns-xlink":s,version:"1.1",baseprofile:"full",height:n.fullHeight*l,width:n.fullWidth*l,focusable:"false",viewBox:[n.fullX,n.fullY,n.fullWidth,n.fullHeight].join(" "),children:[t],"data-commandset-id":r,"data-accepts":"events",ref:e.uniqueId("ref-")};return u[o.camelCase("transform")]=d.transformTranslate(i.pxify(n.fullX*l),i.pxify(n.fullY*l)),{nodeType:"div",className:"slideobject-maskable",style:u,children:[c]}},createSvgNode:function(t,e){var n=document.createElementNS(a,"svg");return n.setAttribute("width",t),n.setAttribute("focusable","false"),n.setAttribute("height",e),n},getFirstTransformOfType:function(t,n){return e.find(n,{type:t})},buildUrl:function(t){return["url(#",t,")"].join("")},createElement:function(t){return document.createElementNS(a,t)},rectPath:function(t,e,n,i){var r=t+n,o=e+i;return["M",t,e,"L",r,e,r,o,t,o].join(" ")},ellipsePath:function(t,e,n,i){var r=2*n;return["M",t,e,"m",-n,0,"a",n,i,0,1,0,r,0,"a",n,i,0,1,0,-r,0].join(" ")},diamondPath:function(t,e,n,i){var r=n/2+t,o=i/2+e;return["M",r,e,"L",n+t,o,r,i+e,t,o].join(" ")},rightRoundedRectPath:function(t,e,n,i,r){return["M",t,e,"h",n-r,"a",r,r,"0 0 1",r,r,"v",i-2*r,"a",r,r,"0 0 1",-r,r,"h",r-n,"z"].join(" ")},wheelPath:function(t,e,n,r,o,s){if(null==o)return"";r=i.degToRad(r),(o=i.degToRad(o))===l&&(o=l-1e-5),s&&0===o&&(o+=1e-5);var a=o-r>Math.PI?1:0;return["M",t,e,"l",i.fix(n*Math.cos(r),4),i.fix(n*Math.sin(r),4),"A",n,n,0,s?1^a:a,s?0:1,i.fix(t+n*Math.cos(o),4),i.fix(e+n*Math.sin(o),4),"z"].join(" ")}};return d.getFirstTranslate=e.partial(d.getFirstTransformOfType,"translate"),d.getFirstRotate=e.partial(d.getFirstTransformOfType,"rotate"),d.getFirstScale=e.partial(d.getFirstTransformOfType,"scale"),d.buildTranslateConfig=e.partial(d.buildTransformConfig,"translate"),d.buildRotateConfig=e.partial(d.buildTransformConfig,"rotate"),d.buildScaleConfig=e.partial(d.buildTransformConfig,"scale"),d.isImageNode=e.partial(d.isNodeOfType,"image"),d.isPatternNode=e.partial(d.isNodeOfType,"pattern"),d.isDefsNode=e.partial(d.isNodeOfType,"defs"),d.isUseNode=e.partial(d.isNodeOfType,"use"),d.isPathNode=e.partial(d.isNodeOfType,"path"),d.isTextNode=e.partial(d.isNodeOfType,"text"),d.isTspanNode=e.partial(d.isNodeOfType,"tspan"),d.transformScale=e.partial(d.buildTransformFn,"scale"),d.transformRotate=e.partial(d.buildTransformFn,"rotate"),d.transformTranslate=e.partial(d.buildTransformFn,"translate"),d.transformTranslateX=e.partial(d.buildTransformFn,"translateX"),d.scaleFromCenter=function(t,e){return null==e&&(e=t),[d.transformTranslate(.5,.5),d.transformScale(t,e),d.transformTranslate(-.5,-.5)].join(" ")},d.getDefsNode=e.partial(d.getFromNodeConfig,(function(t){if(d.isDefsNode(t))return t})),d}.call(e,n,e,t))||(t.exports=i)},2075:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i=n(6486),r=n(1251),o=n(82),s=n(9032),a=n(9229),l=(n(4481),n(8579)),u=n(8939),c=n(8880),h=n(7812),d=n(7510),p=d.addWindowListener,f=d.addDocumentListener,v=1.2,g={sidebarOpen:!0,tryToSelect:function(t,e){var n=t.querySelector(e);return null==n&&u.throwError("tabFocusBox","invalid focus rule selector: ",e),n},focusRuleConfig:{VectorSlideObject:function(t){return g.tryToSelect(t,"svg g")},ImageSlideObject:function(t){return g.tryToSelect(t,"img")},VideoSlideObject:function(t){return g.tryToSelect(t,".video-slide-object")},ResourcesList:function(t){return t.parentNode}},defaultOffsets:{x:0,y:0,width:0,height:0},focusOffsetConfig:{PlayPauseButton:{x:-1,y:-3,width:0,height:0},PlaybackResetButton:{x:0,y:-2,width:0,height:0},PlaybackProgress:{x:0,y:0,width:0,height:-5},SequenceCtrlDrop:{x:30,y:0,width:0,height:0}},onAncestorHidden:function(){this.hide()},listenForHide:function(t){"SlideObject"===t.displayName&&(t.props.model.forEachAncestor(function(e){"SlideObject"===o.getPath(this,"lastItemFocused.displayName")&&(this.lastItemFocused.stopListening(e,"hidden",m),this.lastItemFocused.stopListening(this.lastItemFocused.props.model,"hidden",m)),(e.isSlideObject||e.isSlideLayer)&&t.listenTo(e,{hidden:m})}.bind(this)),t.listenTo(t.props.model,{hidden:m}))},show:function(t){null!=t&&(l.theme.isClassic||(this.handleSearch(t),this.sidebarOpen||this.isInSidebar(t),this.handleTopTabsDrop(t)),this.update(t),this.listenForHide(t),this.lastItemFocused=t)},handleTopTabsDrop:function(t){t&&t.el&&r.hasClass(t.el,"topmenu-item")&&null!=t.el.parentNode&&r.hasClass(t.el.parentNode,"top-tabs-drop")&&s.trigger(c.topTabs.OPEN_DROPDOWN,t)},handleSearch:function(t){"INPUT"===o.getPath(t,"tagName")&&r.hasClass(t,"search-input-element")&&s.trigger(c.search.SHOW)},isInSidebar:function(t){var e;null!=t.parentNode?e=t:null!=o.getPath(t,"el.parentNode")&&(e=t.el),null!=e&&!!r.closest(e,(function(t){return r.hasClass(t,"area-secondary")}))&&(s.trigger(c.sidebar.FORCE_OPEN),setTimeout(function(){this.update(t)}.bind(this),h.ANIMATION_DURATION))},updateLastFocusItem:function(){this.lastItemFocused&&this.update(this.lastItemFocused)},hide:function(){null!=this.borderEl&&(this.borderEl.style.display="none"),this.lastItemFocused=null,this.isShown=!1},getOrCreateBorder:function(){return null!=this.borderEl||(this.borderEl=document.createElement("div"),this.borderEl.setAttribute("class","tab-focus-box"),r.setStyles(this.borderEl,{position:"absolute",left:0,top:0,border:"3px solid yellow","pointer-events":"none","z-index":99999})),this.borderEl},slideObjectShouldUseCss:function(t){return"TextInputSlideObject"===o.getPath(t,"refs.innard.displayName")||t.decorators&&null!=t.decorators.slideable||!l.theme.isClassic&&r.hasClass(t.el,"glossary-child")},domElShouldUseCss:function(t){return t.parentNode&&r.hasClass(t.parentNode,"search-clear")||r.hasClass(t,"lightbox-close-btn")||!l.theme.isClassic&&r.hasClass(t,"search-input-element")||r.closest(t,(function(t){return r.hasClass(t,"lightbox")}))},update:function(t){var e,n,s,l,u,c,h,d,p,f=this.getOrCreateBorder(),v=0,g=0,m={left:0,top:0},y=this.defaultOffsets,b=0;if(null!=t.displayName){if(v+=(y=this.focusOffsetConfig[t.displayName]||this.defaultOffsets).x,g+=y.y,this.slideObjectShouldUseCss(t))return void this.hide();e=t.el,h=null!=o.getPath(t,"refs.innard")?t.refs.innard.displayName:t.displayName,e=(this.focusRuleConfig[h]||i.identity)(e)}else{if(this.domElShouldUseCss(t))return void this.hide();e=t}s=e.getBoundingClientRect(),(l=r.isWithinSlide(e))?(m=(n=(c=a.windowManager.getCurrentWindow().getCurSlide()).el).getBoundingClientRect(),b=4,n.querySelector(".slide-top-container-main").appendChild(f)):((d=document.querySelector("#app-top-container")).appendChild(f),m=d.getBoundingClientRect()),0!==s.width&&0!==s.height?(u=2*b,(p=i.mapValues(this.constrainToSlide(l,c,{left:s.left-m.left+v-b,top:s.top-m.top+g-b,width:s.width+y.width+u,height:s.height+y.height+u}),o.pxify)).display="block",r.setStyles(f,p),this.isShown=!0):this.hide()},constrainToSlide:function(t,e,n){if(!t)return n;var i=e.props,r=e.props.winScale,o=i.model.get("width")*r,s=i.model.get("height")*r,a=n.left+n.width-o,l=n.top+n.height-s,u=n.left,c=n.top;return a>0&&(n.width-=a-v),l>0&&(n.height-=l-v),u<0&&(n.width+=n.left,n.left=-1.2),c<0&&(n.height+=n.top,n.top=-1.2),n}},m=g.onAncestorHidden.bind(g);return l.theme.isClassic||(s.on(c.topbar.CLOSED_SIDEBAR,(function(){g.sidebarOpen=!1})),s.on(c.topbar.OPENED_SIDEBAR,(function(){g.sidebarOpen=!0})),f("mousedown",(function(){clearTimeout(e),g.hide()})),p("resize",(function(){clearTimeout(e),null!=g.borderEl&&(g.borderEl.style.display="none",e=setTimeout((function(){g.borderEl.style.display="block",g.updateLastFocusItem()}),h.ANIMATION_DURATION))}))),g}.call(e,n,e,t))||(t.exports=i)},6936:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6194),i=n(9032),r=n(8880);(e.detectVisibilityChange||function(){document.addEventListener("visibilitychange",(function(t){i.trigger(r.detection["VISIBILITY_"+(document.hidden?"HIDDEN":"SHOWN")])}),!1)})()}.call(e,n,e,t))||(t.exports=i)},2816:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6486),i=n(9032),o=n(8880),s=n(3716),a=n(7954),l=a.parseFontFamily,u=a.parseFontThemeType,c=/\<(span|ol|ul|li|blockquote)\/?\>/i;return function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.bindAll(this,"onEditorKeyDown","onContentPasted","onContentChanged")}return r(t,[{key:"setEditMode",value:function(t){this.editMode=t,this.editMode?(this.contentEl.setAttribute("contentEditable","true"),this.contentEl.addEventListener("input",this.onContentChanged),this.contentEl.addEventListener("keydown",this.onEditorKeyDown),this.contentEl.addEventListener("paste",this.onContentPasted),this.contentEl.addEventListener("formatMessage",this.onContentChanged)):(this.contentEl.removeAttribute("contentEditable"),this.contentEl.removeEventListener("input",this.onContentChanged),this.contentEl.removeEventListener("keydown",this.onEditorKeyDown),this.contentEl.removeEventListener("paste",this.onContentPasted),this.contentEl.removeEventListener("formatMessage",this.onContentChanged))}},{key:"destroy",value:function(){this.removeListeners(),this.setEditMode(!1),this.el.parentElement&&this.el.parentElement.removeChild(this.el)}},{key:"isEmptyOrWhitespace",value:function(t){return""===t.innerText.trim()&&!c.test(t.innerHTML)}},{key:"clearWhitespace",value:function(t){this.isEmptyOrWhitespace(t)&&(t.innerHTML="")}},{key:"onEditorKeyDown",value:function(t){(function(t){return t.ctrlKey&&(66===t.which||85===t.which||73===t.which||67===t.which||88===t.which||86===t.which||90===t.which)})(t)&&t.preventDefault(),this.contentEl.textContent.length>=this.props.body.maxChars&&!s.isNonInputKey(t.which)&&t.preventDefault()}},{key:"onContentPasted",value:function(t){t.preventDefault();var e=this.contentEl.textContent.length;if(!(e>=this.props.body.maxChars)){var n=(t.clipboardData||window.clipboardData).getData("Text"),i=document.getSelection(),r=i.getRangeAt(0),o=this.props.body.maxChars,s=document.createTextNode(n.substr(0,o-e));r.deleteContents(),r.insertNode(s),r.selectNodeContents(s),r.collapse(!1),i.removeAllRanges(),i.addRange(r),this.onContentChanged(t)}}},{key:"contentChangedHook",value:function(){}},{key:"onContentChanged",value:function(t){this.updateTextData(this.props.body,this.contentEl),this.clearWhitespace(t.currentTarget),this.contentChangedHook(),i.trigger(o.threeSixtyImage.MARKER_UPDATED,this.marker)}},{key:"updateTextData",value:function(t,e){t.innerHTML=e.innerHTML,t.style.fontFamily=l(e.style.fontFamily),t.style.fontSize=parseFloat(e.style.fontSize),t.style.fontThemeType=u(e.dataset.fontThemeType)}}]),t}()}.call(e,n,e,t))||(t.exports=i)},6485:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=THREE,i=e.Line2,o=e.LineMaterial,s=e.LineGeometry,a=n(9045).modes,l=n(1815).navigation,u=n(3163).FOCUS_ON_TITLE,c=n(7954).overlayColor,h=512,d=n(7812).math.TWO_PI;function p(t,e,n,i){var r,o={x:0,y:0},s=i.x-n.x,a=i.y-n.y,l=e.x-t.x,u=e.y-t.y,c=t.x-n.x,h=t.y-n.y,d=void 0,p=void 0;return d=s*h-a*c,p=l*h-u*c,p/=r=a*l-s*u,(d/=r)>=0&&d<=1&&p>=0&&p<=1?(p=t.y+d*u,d=t.x+d*l,o.x=d,o.y=p):o=null,o}if(null!=THREE&&null!=THREE.Vector3){var f=new THREE.Vector3(0,0,0);return function(){function t(e){var n=e.layer,i=e.pano,r=e.point,s=e.marker,a=e.finishedFn;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layer=n,this.layer.hotspots.push(this),this.pano=i,this.points=[],this.points2d=[],this.marker=s,this.marker.polyHotspot=this,this.startPoint=r,this.pointCalls=0,this.isVisible=!0,this.finishedFn=a,this.sprites=[],this.spriteMaterial=new THREE.SpriteMaterial({color:"#ffffff",sizeAttenuation:!1}),this.spriteMaterial.depthTest=!1,this.meshMaterial=new THREE.MeshBasicMaterial({color:this.pano.hotspotColor,opacity:.4,transparent:!0,depthTest:!1,side:THREE.DoubleSide}),this.borderMaterial=new o({color:this.pano.hotspotColor,resolution:new THREE.Vector2(200,200),linewidth:.8,transparent:!0}),this.color=this.pano.hotspotColor,this.pano.editMode||(this.opacity=0,this.visible=!1,this.visited=this.marker.visited)}return r(t,[{key:"cntrlPointText",value:function(){var t,e=void 0,n=void 0;return n=(e=document.createElement("canvas")).getContext("2d"),e.width=32,e.height=32,n.fillStyle="white",n.strokeStyle="gray",n.lineWidth=4,n.fillRect(0,0,e.width,e.height),n.strokeRect(0,0,e.width,e.height),{tex:t=new THREE.CanvasTexture(e),ctx:n,mat:new THREE.SpriteMaterial({map:t,sizeAttenuation:!1}),width:e.width,height:e.height}}},{key:"createPulseSpriteCanvas",value:function(){var t=this,e=document.createElement("canvas"),n=e.getContext("2d"),i=new THREE.CanvasTexture(e);e.width=h,e.height=h;var r=e.width/4-50,o=e.width/2,s=e.height/2,a=0,l=.5,u=.5,c=window.performance.now();return window.requestAnimationFrame((function e(p){var f=(p-c)/16;c=p;var v=60+25*Math.sin(a),g=10*Math.sin(a+d);if(a+=.025*f,u=t.isHovered||t.isBlinking?0:.5,l<u?l=Math.min(l+.025*f,u):l>u&&(l=Math.max(l-.025*f,u)),n.clearRect(0,0,h,h),t.isClickable()){n.fillStyle="transparent",n.strokeStyle="rgba(255, 255, 255, "+l+")",n.lineWidth=35+g/2;var m=2*(r+v),y=m;n.strokeRect(o-m/2,s-y/2,m,y)}i.needsUpdate=!0,t.destroyed||window.requestAnimationFrame(e)})),new THREE.SpriteMaterial({map:i,sizeAttenuation:!1,depthTest:!1})}},{key:"createPulseSprite",value:function(){if(!this.pano.editMode&&this.pano.hotspotReveal&&this.pano.pulseHotspots){var t=this.getCenterPoint(this.shapeMesh);this.pulseSprite=new THREE.Sprite(this.createPulseSpriteCanvas()),this.pulseSprite.position.copy(t),this.pulseSprite.scale.set(.25,.25,.25),this.pulseSprite.renderOrder=10,this.pano.scene.add(this.pulseSprite)}}},{key:"mouseOverMobile",value:function(t){this.marker.triggerMouseOver(t)}},{key:"mouseOver",value:function(t){this.isHovered=!0,this.marker.triggerMouseOver(t),!this.pano.editMode&&this.pano.hotspotReveal&&this.isClickable()&&!this.selected&&(TweenLite.killTweensOf(this),this.tweenOpacityTo(1,.3))}},{key:"mouseOut",value:function(){if(this.isHovered&&this.marker.triggerMouseOut(),this.isHovered=!1,!this.pano.editMode)if(this.selected){if(null!=this.marker.panel&&this.marker.panel.shown)return;this.deselect()}else TweenLite.killTweensOf(this),this.tweenOpacityTo(0,1.1)}},{key:"disablePulse",value:function(){this.pulseSprite&&(this.pano.scene.remove(this.pulseSprite),this.pulseSprite=null)}},{key:"enablePulse",value:function(){this.pulseSprite||this.createPulseSprite()}},{key:"select",value:function(){this.selected?this.pano.editMode||!this.marker.props.hasPanel||null==this.marker.panel||this.marker.panel.shown||this.deselect():(this.selected=!0,this.pano.editMode&&(this.pano.mode!==a.SET_INITIAL_CAMERA_ANGLE&&(this.pointsGroup.visible=!0),this.layer.lastActiveHotspot=this),!this.pano.editMode&&this.isClickable()&&(this.disablePulse(),this.setBorderThick(),TweenLite.killTweensOf(this),this.tweenOpacityTo(1,.3)))}},{key:"setBorderThick",value:function(){this.borderMaterial.linewidth=1.1}},{key:"setBorderThin",value:function(){this.borderMaterial.linewidth=.8}},{key:"deselect",value:function(){!this.selected||!this.pano.editMode&&null!=this.marker.panel&&this.marker.panel.shown||(this.selected=!1,this.pano.editMode&&(this.pointsGroup.visible=!1,this.outOnAll(!0)),this.pano.editMode||(this.marker.visited&&(this.visited=!0),this.setBorderThin(),this.isHovered||(TweenLite.killTweensOf(this),this.tweenOpacityTo(0,1.1))))}},{key:"blink",value:function(){var t=this;this.pano.editMode||!this.isClickable()||this.selected||(TweenLite.killTweensOf(this),this.isBlinking=!0,this.marker.visited&&(this.visited=!0),this.tweenOpacityTo(1,.6,(function(){t.isHovered||t.tweenOpacityTo(0,.6,(function(){t.isBlinking=!1}))})))}},{key:"tweenOpacityTo",value:function(t,e,n){var i=this,r=function(){0!==i.opacity||i.canClick||(i.shapeMesh.visible=!1,i.borderMesh.visible=!1)};if(0===e)return this.opacity=t,void r();var o=t<this.opacity;TweenLite.to(this,e,{opacity:t,ease:o?"power4.out":"power1.out",onComplete:function(){n&&n(),r()}})}},{key:"isClickable",value:function(){return!!this.pano.editMode||this.canClick}},{key:"getFirstPoint",value:function(){return this.firstPointAdded}},{key:"deletePoint",value:function(t){null!=this.points[t]&&(this.meshesToGlobal(),this.points.splice(t,1),this.killSprites(),this.recalcMeshes(!1))}},{key:"delete",value:function(t){if(!this.pointSelected||this.points.length<=3||this.deleteUnfinished||t){this.borderMesh.geometry.dispose(),this.pointsObj.geometry.dispose(),null!=this.shapeMesh&&(this.pano.scene.remove(this.shapeMesh),this.shapeMesh.geometry.dispose());for(var e=0;e<this.sprites.length;e++)this.sprites[e].material.dispose(),this.sprites[e].geometry.dispose(),this.pano.scene.remove(this.sprites[e]);return this.pano.scene.remove(this.borderMesh),this.pano.scene.remove(this.pointsObj),this.pano.scene.remove(this.pointsGroup),!1}return this.deletePoint(this.lastPointIdx),this.pointSelected=!1,this.lastPointIdx=null,!0}},{key:"drawBorderMesh",value:function(){var t=this.points.concat();if(0!=t.length){t.length>1&&t.push(t[0].clone()),this.finished||this.isRectangle||t.pop();for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r.x,r.y,r.z)}var o=3*(e.length+1);if(null==this.lineGeom)this.lineGeom=new s,this.lineGeom.setPositions(new Float32Array(o));else{var a=new s;this.lineGeom.setPositions(new Float32Array(o)),this.lineGeom.copy(a)}e.length>0&&this.lineGeom.setPositions(e),null==this.borderMesh?(this.borderMesh=new i(this.lineGeom,this.borderMaterial),this.pano.scene.add(this.borderMesh)):(this.pano.scene.remove(this.borderMesh),this.borderMesh.geometry.dispose(),this.borderMesh=new i(this.lineGeom,this.borderMaterial),this.pano.scene.add(this.borderMesh))}}},{key:"loadData",value:function(t){this.finished=!0,this.points=t.points.map((function(t){return new THREE.Vector3(t.x,t.y,t.z)})),this.createPointObj(),this.pano.editMode||(this.pointsObj.visible=!1),this.drawMesh(),this.drawBorderMesh(),this.originPnt=this.firstPoint=new THREE.Vector3(t.origin.x,t.origin.y,t.origin.z),this.shapeMesh.position.copy(this.firstPoint),this.borderMesh.position.copy(this.firstPoint),this.pointsObj.position.copy(this.firstPoint);var e=new THREE.Quaternion(t.quat.x,t.quat.y,t.quat.z,t.quat.w);this.shapeMesh.quaternion.copy(e),this.borderMesh.quaternion.copy(e),this.pointsObj.quaternion.copy(e),this.pano.scene.remove(this.plane),this.positionControlsPoints(),this.pointsGroup.visible=!1,this.drag(t.dragPoint),(this.pano.editMode||this.pano.navigation.type===l.FREE)&&(this.canClick=!0),this.createPulseSprite()}},{key:"getData",value:function(){if(this.shapeMesh){var t=this.shapeMesh.quaternion,e=t.x,n=t.y,i=t.z,r=t.w;return this.data={points:this.points,origin:this.originPnt,dragPoint:this.originPnt,quat:{x:e,y:n,z:i,w:r}},window.btoa(JSON.stringify(this.data))}}},{key:"killSprites",value:function(){for(var t=0;t<this.sprites.length;t++)this.sprites[t].material.dispose(),this.sprites[t].geometry.dispose(),this.pano.scene.remove(this.sprites[t]);this.sprites=[],this.spriteMap={}}},{key:"drawMesh",value:function(t){var e=this.points.concat();if(this.drawBorderMesh(e),function(t){for(var e=0,n=0;n<t.length;n++){var i=t[n],r=t[(n+1)%t.length];e+=(r.x-i.x)*(r.y+i.y)}return e>0}(e)||(e.reverse(),this.pointsReversed=!0),e.push(e[0].clone()),e.length>2){null!=this.shapeMesh&&(this.shapeMesh.geometry.dispose(),this.pano.scene.remove(this.shapeMesh));var n=new THREE.Shape(e),i=new THREE.ShapeGeometry(n);i.vertices=e,this.shapeMesh=new THREE.Mesh(i,this.meshMaterial),this.shapeMesh.userData.isPolyHotspot=!0,this.shapeMesh.userData.marker=this.marker,this.shapeMesh.userData.hotspot=this,this.shapeMesh.visible=!1,this.pano.scene.add(this.shapeMesh)}if(!t){this.killSprites();for(var r=0;r<e.length-1;r++){var o=this.cntrlPointText();o.mat.depthTest=!1;var s=new THREE.Sprite(o.mat);s.renderOrder=10,this.spriteMap[s.uuid]=s,s.userData.isHotspotControlPoint=!0,s.userData.cntrlTex=o,s.userData.marker=this.marker,s.userData.hotspot=this,s.userData.idx=r,s.scale.set(.025,.025,1),this.pano.scene.add(s),s.position.copy(e[r]),this.sprites.push(s)}this.firstSrpite=this.pointsReversed?this.sprites[this.sprites.length-1]:this.sprites[0]}}},{key:"activeSprite",value:function(t,e){var n=this.spriteMap[t]||e;if(null!=n){this.lastActiveSprite=n;var i=n.userData.cntrlTex,r=i.ctx,o=i.tex,s=i.width,a=i.height;r.fillStyle="gray",r.strokeStyle="white",r.lineWidth=4,r.fillRect(0,0,s,a),r.strokeRect(0,0,s,a),o.needsUpdate=!0}}},{key:"overSprite",value:function(t,e){var n=this.spriteMap[t]||e;if(null!=n){if(null!=this.lastDraggedPoint&&this.lastDraggedPoint.userData.idx===n.userData.idx)return;var i=n.userData.cntrlTex,r=i.ctx,o=i.tex,s=i.width,a=i.height;r.fillStyle="gray",r.strokeStyle="white",r.lineWidth=4,r.fillRect(0,0,s,a),r.strokeRect(0,0,s,a),o.needsUpdate=!0}}},{key:"outOnAll",value:function(t){var e=this;this.sprites.forEach((function(n){e.outSprite(null,n,t)}))}},{key:"outSprite",value:function(t,e,n){var i=this.spriteMap[t]||e;if(null!=i){if(null!=this.lastDraggedPoint&&this.lastDraggedPoint.userData.idx===i.userData.idx&&!n)return;var r=i.userData.cntrlTex,o=r.ctx,s=r.tex,a=r.width,l=r.height;o.fillStyle="white",o.strokeStyle="gray",o.lineWidth=4,o.fillRect(0,0,a,l),o.strokeRect(0,0,a,l),s.needsUpdate=!0}}},{key:"createPointObj",value:function(){this.pointsGeom=new THREE.BufferGeometry,this.pointsGeom.setFromPoints(this.points),this.pointsGroup=new THREE.Group,this.pointsObj=new THREE.Points(this.pointsGeom,new THREE.PointsMaterial({color:"white",size:25,side:THREE.DoubleSide})),this.pointsGroup.userData.controlGroup=!0,this.pointsObj.userData.hotspot=this,this.pointsObj.frustumCulled=!1,this.pano.editMode&&this.pano.scene.add(this.pointsGroup)}},{key:"getCenterPoint",value:function(t){var e=new THREE.Vector3,n=t.geometry;return n.computeBoundingBox(),e.x=(n.boundingBox.max.x+n.boundingBox.min.x)/2,e.y=(n.boundingBox.max.y+n.boundingBox.min.y)/2,e.z=(n.boundingBox.max.z+n.boundingBox.min.z)/2,t.localToWorld(e),e}},{key:"activatePlane",value:function(){this.pano.scene.add(this.plane),this.plane.lookAt(f)}},{key:"downControlPoint",value:function(t){this.lastPointIdx=t.userData.idx,this.pointSelected=!0,this.outOnAll(),this.activeSprite(this.sprites[this.lastPointIdx].uuid)}},{key:"startDragPoint",value:function(){this.meshesToGlobal(),this.dragCount=0}},{key:"dragControlPoint",value:function(t,e){0===this.dragCount&&(this.origDragPoint=this.points[t.userData.idx].clone(),this.origControlPoint=t),this.dragCount++,this.points[t.userData.idx].copy(e),this.lastPointIdx=t.userData.idx,this.drawMesh(),this.shapeMesh.visible=!1,this.drawBorderMesh(),this.outOnAll()}},{key:"stopDragControlPoint",value:function(){this.anyOverlappingLines()&&this.dragControlPoint(this.origControlPoint,this.origDragPoint),this.shapeMesh.visible||(this.recalcMeshes(),this.shapeMesh.visible=!0,this.pano.scene.remove(this.plane)),this.activeSprite(this.sprites[this.lastPointIdx].uuid)}},{key:"drag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.meshGlobal){this.lastDraggedPoint=null;for(var n=0;n<this.sprites.length;n++)this.outSprite(null,this.sprites[n],!0);if(this.pointSelected=!1,this.originPnt.copy(t),this.shapeMesh.position.copy(t),this.borderMesh.position.copy(t),this.pointsObj.position.copy(t),this.pointsGroup.position.copy(t),this.plane.position.copy(t),this.shapeMesh.lookAt(f),this.borderMesh.lookAt(f),this.pointsObj.lookAt(f),this.pointsGroup.lookAt(f),this.plane.lookAt(f),"hotspot"===this.marker.props.type&&!e){var i=this.getCenterPoint(this.shapeMesh);this.marker.updatePosition(i.x,i.y,i.z)}}}},{key:"extendRect",value:function(t,e,n,i){this.finished||(this.points=[t,e,n,i],this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.isRectangle=!0)}},{key:"linesFromProjectionResults",value:function(t,e){for(var n=[],i=1;i<t.length;i++){var r=t[i-1],o=t[i];null!=r&&null!=o&&n.push({a:{x:r.x,y:r.y,id:r.object.userData.idx},b:{x:o.x,y:o.y,id:o.object.userData.idx}})}if(e){var s=t[t.length-1],a=t[0],l=void 0;if(null!=s&&null!=a)l={a:{x:s.x,y:s.y,idx:s.object.userData.idx},b:{x:a.x,y:a.y,idx:a.object.userData.idx}};return{lines:n,closeLine:l}}return n}},{key:"tailLineIntersect",value:function(t){for(var e=t[t.length-1],n=0;n<t.length-2;n++){var i=t[n];if(null!=p(e.a,e.b,i.a,i.b))return!0}}},{key:"endsWithOverlappingLine",value:function(t){var e=this.projectSprites();this.pointsReversed&&e.reverse();var n=this.linesFromProjectionResults(e);if(n.length>2){if(this.tailLineIntersect(n))return!0;if(n.reverse(),this.tailLineIntersect(n))return!0}return!1}},{key:"anyOverlappingLines",value:function(){var t=this.projectSprites(),e=this.linesFromProjectionResults(t,!0),n=e.lines,i=e.closeLine;null!=i&&n.push(i);for(var r=0;r<n.length;r++)for(var o=n[r],s=0;s<n.length;s++){var a=Math.abs(r-s);if(!(a<=1||a===n.length-1)){var l=n[s];if(null!=p(l.a,l.b,o.a,o.b))return!0}}return!1}},{key:"closingHasOverlap",value:function(){if(!(this.points.length<4)){var t=this.projectSprites();this.pointsReversed&&t.reverse();var e=this.linesFromProjectionResults(t,!0),n=e.lines,i=e.closeLine;if(null==i)return!1;for(var r=1;r<n.length-1;r++){var o=n[r];if(null!=p(i.a,i.b,o.a,o.b))return!0}return!1}}},{key:"preventOverlapClose",value:function(){var t=this.closingHasOverlap();if(t){var e=void 0;return this.points.length>this.lastClosingLength||!this.lastClosingLength?(e=this.points.pop(),this.pointAdditionPrevented=!0,this.oldClosingPoint=e):e=this.oldClosingPoint,this.lastClosingLength=this.points.length,this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.layer.resetPreviewLine(!0),this.failedClosingPoint=e,this.points[this.points.length-1]}return t}},{key:"projectSprites",value:function(){if(null==this.spriteMap)return[];this.pano.viewMatrix.copy(this.pano.camera.matrixWorldInverse),this.pano.viewProjectionMatrix.multiplyMatrices(this.pano.camera.projectionMatrix,this.pano.viewMatrix),this.pano.renderData=this.pano.projector.projectScene(this.pano.scene,this.pano.camera),this.pano.elements=this.pano.renderData.elements,this.pano.calcSceneRect();for(var t=[],e=0;e<this.pano.elements.length;e++){var n=this.pano.elements[e];null!=n.object&&this.spriteMap[n.object.uuid]&&(n.x*=this.pano.sceneRect.width/2,n.y*=-this.pano.sceneRect.height/2,t[n.object.userData.idx]=n)}return t}},{key:"addPoint",value:function(t){if(!(this.finished||this.isRectangle||(this.pointAdditionPrevented=!1,this.pointCalls++,null!=this.lastPoint&&t.distanceTo(this.lastPoint)<20)))return this.lastPoint=new THREE.Vector3(t.x,t.y,t.z),this.points.push(this.lastPoint),1==this.points.length&&(this.firstPointAdded=t,this.createPointObj()),this.pointsGeom.setFromPoints(this.points),this.drawMesh(),null!=this.lastPoint&&this.points.length>2&&t.distanceTo(this.firstPointAdded)<20&&!this.anyOverlappingLines()?(this.points.pop(),this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.layer.finishCurrent(),this.pointAdditionPrevented=!0,this.lastPoint=this.points[this.points.length-1],this.lastPoint):this.points.length>2&&this.endsWithOverlappingLine(t)?(this.points.pop(),this.pointsGeom.setFromPoints(this.points),this.drawMesh(),this.layer.resetPreviewLine(),this.pointAdditionPrevented=!0,this.lastPoint=this.points[this.points.length-1],this.lastPoint):this.lastPoint}},{key:"calcCenter",value:function(){this.center=new THREE.Vector3(0,0,0);for(var t=0;t<this.points.length;t++)this.center.add(this.points[t]);this.center.x/=this.points.length,this.center.y/=this.points.length,this.center.z/=this.points.length,this.center.add(this.shapeMesh.position)}},{key:"positionControlsPoints",value:function(){for(var t=0;t<this.sprites.length;t++)null!=this.points[t]&&(this.sprites[t].userData.idx=t,this.sprites[t].position.copy(this.points[t]),this.pointsGroup.add(this.sprites[t]));this.pano.editMode&&this.pano.scene.add(this.pointsGroup)}},{key:"meshesToGlobal",value:function(){if(!this.meshGlobal){this.savedPoints=this.points.concat(),this.oldQuat=this.shapeMesh.quaternion.clone().conjugate();for(var t=0;t<this.points.length;t++)this.points[t]=new THREE.Vector3,this.sprites[t].getWorldPosition(this.points[t]);this.shapeMesh.position.copy(f),this.borderMesh.position.copy(f),this.pointsObj.position.copy(f);var e=new THREE.Quaternion;this.shapeMesh.quaternion.copy(e),this.borderMesh.quaternion.copy(e),this.pointsObj.quaternion.copy(e);for(var n=0;n<this.sprites.length;n++)null!=this.sprites[n]&&this.pointsGroup.remove(this.sprites[n]);this.drawMesh(),this.drawBorderMesh(),this.meshGlobal=!0,this.meshRecalced=!1}}},{key:"recalcMeshes",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!(this.meshRecalced||this.points.length<=2)){this.originPnt?this.firstPoint=this.originPnt:this.originPnt=this.firstPoint=this.points[0].clone();for(var e=0;e<this.points.length;e++)this.points[e].x+=-this.firstPoint.x,this.points[e].y+=-this.firstPoint.y,this.points[e].z+=-this.firstPoint.z;var n=this.oldQuat||this.plane.quaternion.conjugate();this.points.forEach((function(t){t.applyQuaternion(n)})),this.pointsGeom.setFromPoints(this.points),this.drawMesh(t),this.shapeMesh.position.copy(this.firstPoint),this.borderMesh.position.copy(this.firstPoint),this.pointsObj.position.copy(this.firstPoint);var i=n.conjugate();this.shapeMesh.quaternion.copy(i),this.borderMesh.quaternion.copy(i),this.pointsObj.quaternion.copy(i),this.oldQuat=null,this.calcCenter(),"hotspot"===this.marker.props.type&&this.marker.updatePosition(this.center.x,this.center.y,this.center.z),this.pointsGroup.position.copy(this.firstPoint),this.pointsGroup.quaternion.copy(i),this.positionControlsPoints(),this.shapeMesh.visible=!0,this.meshGlobal=!1,this.meshRecalced=!0}}},{key:"updateData",value:function(){if(!(this.points.length<=2)){var t=this.getData();this.marker.adjust({props:{hotspotData:t}})}}},{key:"finish",value:function(t){var e=this;this.finished=!0,this.recalcMeshes(),this.pano.scene.remove(this.plane),null!=this.finishedFn&&(this.finishedFn(),this.pano.setMode(a.DEFAULT)),t||(this.updateData(),this.sprites[0].material.color.set("#ffffff"),window.requestAnimationFrame((function(){e.pano.setCurrMarker(e.marker.sprite),e.pano.setFocus({focus:u})})))}},{key:"destroy",value:function(){this.delete(!0),this.destroyed=!0}},{key:"visited",set:function(t){if(!this.pano.editMode){var e=c(this.pano.hotspotColor,"#000000",.5);this.isVisited&&this.color==e||(this.isVisited=t,this.isVisited&&(null!=this.pulseSprite&&(this.pano.scene.remove(this.pulseSprite),this.pulseSprite=null),this.selected||this.isHovered?TweenLite.to(this,1.1,{color:e,ease:"power4.out"}):this.color=e))}},get:function(){return this.isVisited}},{key:"color",set:function(t){this.hotspotColor=t,this.meshMaterial.color.set(t),this.borderMaterial.color.set(t)},get:function(){return this.hotspotColor}},{key:"opacity",set:function(t){this.meshMaterial.opacity=.4*t,this.borderMaterial.opacity=t},get:function(){return this.borderMaterial.opacity}},{key:"visible",set:function(t){var e=this.pano.editMode||(this.selected||this.isHovered)&&this.pano.hotspotReveal&&this.isClickable(),n=!this.pano.editMode?1.2:0;t?(this.canClick=!0,this.tweenOpacityTo(e?1:0,n),this.marker.ariaHidden(!1)):(this.tweenOpacityTo(0,n),this.marker.ariaHidden(!0)),this.isVisible=t,this.pano.editMode&&(this.pointsObj.visible=t);for(var i=0;i<this.sprites.length;i++)this.sprites[i].visible=t},get:function(){return this.isVisible}},{key:"canClick",set:function(t){t?(this.shapeMesh.visible=!0,this.borderMesh.visible=!0):this.visible=!1,this.canBeClicked=t,this.marker.setAriaHidden(!t)},get:function(){return this.pano.navigation.type===l.FREE||this.canBeClicked}}]),t}()}}.call(e,n,e,t))||(t.exports=i)},4938:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6486),i=n(1251),o=n(9032),s=n(8579),a=n(8880),l=n(5505).clickOrTouchEnd,u=(n(1681),n(2816)),c={marker:{borderColor:"transparent",borderWidth:0,background:"#000000",boxShadow:"0 0px 10px rgba(0, 0, 0, 0.25)",iconColor:"#ffffff"},panel:{borderColor:"transparent",borderWidth:0,background:"#000000",boxShadow:"0 0px 10px rgba(0, 0, 0, 0.25)",textColor:"#ffffff"},body:{maxChars:250,innerHTML:"",style:{fontFamily:"Open Sans",fontThemeType:"body",fontSize:13,fontWeight:"normal"}}};return function(t){function n(t){var i=t.parentEl,r=t.enabled,o=t.props,s=t.editMode,a=t.localizedText,l=t.marker;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return u.parentEl=i,u.opened=!0,u.props=e.merge({},c,o),u.localizedText=a,u.marker=l,u.viewed=!1,u.editMode=s,e.bindAll(u,"onMarkerClicked","onSelectedMarkerChanged","onResize"),u.createEls(),u.updateStyles(),u.enable(r),u.setEditMode(s),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),r(n,[{key:"update",value:function(t){var n=t.enabled,i=t.props,r=t.editMode;this.props=e.merge(this.props,i),this.enable(n),this.updateStyles(),this.setEditMode(r)}},{key:"createEls",value:function(){this.el=document.createElement("div"),i.addClass(this.el,"hint"),this.opened&&i.addClass(this.el,"opened"),this.parentEl.appendChild(this.el);var t=this.props.marker.iconColor;this.el.innerHTML='\n        <div class="hint-marker">\n          <div class="closed_icon">'+("\n    <svg viewBox=\"0 0 26 67\" height='15px' fill='"+t+'\'>\n      <path d="M 18.3,1 C 16.6,1,15.1,1.6,13.9,2.8 C 12.7,4,12.1,5.5,12.1,7.2 C 12.1,8.9,12.7,10.4,13.9,11.6 C 15.1,12.8,16.6,13.4,18.3,13.4 C 20,13.4,21.5,12.8,22.7,11.6 C 23.9,10.4,24.5,8.9,24.5,7.2 C 24.5,5.5,23.9,4,22.7,2.8 C 21.5,1.6,20,1,18.3,1 Z M 20.9,20.5 L 20.8,21 C 20.8,21,20.9,21,20.9,21 Z M 20.8,21 C 15.2,21.8,9.6,22.2,4.1,23 L 3.5,25.5 C 4.1,25.5,4.6,25.5,5,25.5 C 5.9,25.5,6.7,25.7,7.2,26.2 C 7.7,26.7,8,27.2,8,27.9 C 8,28.9,7.7,29.4,7.2,31.3 L 1.3,51.6 C 0.8,53.2,0.6,54.5,0.6,55.6 C 0.6,57.2,1.1,58.5,2.2,59.5 C 3.3,60.5,6.8,61,8.6,61 C 13.4,61,21.3,58.4,25.6,51 L 22.2,49 C 20.4,51.7,17.2,53.7,15.7,54.6 C 14.1,55.4,13.3,55.3,12.8,55.3 C 12.5,55.3,12.2,55.2,12,54.9 C 11.7,54.6,11.6,54.3,11.6,54 C 11.6,53.5,11.8,52.3,12.3,50.6 Z">\n      </path>\n    </svg>\n  </div>\n          <div class="opened_icon">')+function(t){return"\n    <svg viewBox=\"0 0 18 18\" height='18px' width='18px' fill=\"none\" stroke='"+t+'\' stroke-width="1.575" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round">\n      <path d="M3.88879 3.88867L13.611 13.6109" />\n      <path d="M13.611 3.88867L3.88879 13.6109" />\n    </svg>\n  '}(t)+'</div>\n        </div>\n        <div class="hint-bubble">\n          <div class="hint-wrapper">\n            <div class="hint-content" dir="auto" placeholder="'+this.localizedText.hint+'">'+this.props.body.innerHTML+'</div>\n            <div class="hint-selection"></div>\n          </div>\n        </div>\n      ',this.iconEl=this.el.querySelector(".hint-marker"),this.contentEl=this.el.querySelector(".hint-content"),this.bubbleEl=this.el.querySelector(".hint-bubble"),this.svgIconEls=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(this.iconEl.querySelectorAll("svg")))}},{key:"getAccHtml",value:function(t,e){var n=document.createElement("div");n.innerHTML=this.props.body.innerHTML;var r=n.innerText,o=e;return i.hasClass(this.el,"opened")||(o=!0),'\n      <div\n        id="acc-hot-hint-'+t+'"\n        data-parent-marker-id="'+t+'"\n        aria-label="'+"hotspot hint, "+r+'"\n        style="display: '+(o?"none":"block")+'"\n        class="acc-shadow-el acc-three-sixty-hotspot-hint-tip" tabIndex="0" aria-hidden="'+o+'">\n        '+this.props.body.innerHTML+'\n      </div>\n      <button\n        aria-hidden="'+e+'"\n        role="button"\n        data-hot-hint-id="'+t+'"\n        data-parent-marker-id="'+t+'"\n        data-is-hotspot-hint="true"\n        aria-label="'+'hotspot hint"\n        aria-pressed="'+!o+'"\n        tabIndex="0"\n        class="acc-shadow-el acc-button acc-three-sixty-hotspot-hint">\n      </button>\n      '}},{key:"onResize",value:function(t){var e=t.width-70;this.bubbleEl.style.width=e+"px",this.contentEl.style.maxWidth=e+"px"}},{key:"updateStyles",value:function(){var t=this.props,e=t.marker,n=t.panel,i=t.body;Object.assign(this.iconEl.style,{borderWidth:e.borderWidth+"px",borderColor:e.borderColor,background:e.background,boxShadow:e.boxShadow}),Object.assign(this.contentEl.style,{borderWidth:n.borderWidth+"px",borderColor:n.borderColor,background:n.background,boxShadow:n.boxShadow,color:n.textColor,fontFamily:'"'+i.style.fontFamily+'"',fontSize:i.style.fontSize+"px"}),this.svgIconEls.forEach((function(t){t.setAttribute("stroke",e.iconColor),t.setAttribute("fill",e.iconColor)})),this.editMode&&(this.contentEl.style.fontWeight=i.style.fontWeight,this.contentEl.dataset.fontThemeType=i.style.fontThemeType)}},{key:"addListeners",value:function(){this.iconEl.addEventListener(l,this.onMarkerClicked),o.on(a.threeSixtyImage.SELECTED_MARKER_CHANGED,this.onSelectedMarkerChanged),s.deviceView.isPhone&&o.on(a.threeSixtyImage.RESIZED,this.onResize)}},{key:"removeListeners",value:function(){this.iconEl.removeEventListener(l,this.onMarkerClicked),o.off(a.threeSixtyImage.SELECTED_MARKER_CHANGED,this.onSelectedMarkerChanged),o.off(a.threeSixtyImage.RESIZED,this.onResize)}},{key:"onSelectedMarkerChanged",value:function(t){t!==this.marker.id&&this.editMode&&this.hide()}},{key:"onMarkerClicked",value:function(t){this.toggleOpen(),t.stopPropagation()}},{key:"toggleOpen",value:function(){this.opened=!this.opened,this.opened?(i.addClass(this.el,"opened"),i.removeClass(this.el,"closed")):(i.addClass(this.el,"closed"),i.removeClass(this.el,"opened")),this.updateAccHidden()}},{key:"updateAccHidden",value:function(){null!=this.marker.accHotspotHintBubbleEl&&(this.opened?(this.marker.accHotspotHintBubbleEl.style.display="block",this.marker.accHotspotHintBubbleEl.removeAttribute("aria-hidden")):(this.marker.accHotspotHintBubbleEl.style.display="none",this.marker.accHotspotHintBubbleEl.setAttribute("aria-hidden",!0)))}},{key:"hide",value:function(){i.removeClass(this.el,"show")}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.editMode&&!this.opened||this.viewed&&this.opened)&&this.toggleOpen(),i.addClass(this.el,"show"),this.editMode&&t&&e.isEmpty(this.props.body.innerHTML)&&this.contentEl.focus()}},{key:"enable",value:function(t){this.enabled=t,this.enabled?(this.addListeners(),i.removeClass(this.el,"disabled")):(this.removeListeners(),i.addClass(this.el,"disabled"))}},{key:"setViewed",value:function(){this.viewed=!0,this.opened&&this.toggleOpen()}}]),n}(u)}.call(e,n,e,t))||(t.exports=i)},7552:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=THREE,i=e.Line2,o=e.LineMaterial,s=e.LineGeometry,a=n(6485),l=n(3508),u=n(82),c=n(1251),h=n(8579).deviceView,d=h.isMobile,p=h.isPhone,f=(n(1815).navigation,n(9045).modes),v=n(9337),g=(v.isRightClick,v.isLeftClickOrTouch),m=(v.touchify,n(7536).MOVE_THRESHOLD);return function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onDoubleClick=function(t){if(n.pano.editMode){if(null!=n.currHotspot){if(n.currHotspot.pointAdditionPrevented)return;if(n.currHotspot.points.length<=2)return void n.deleteUnfinishedHotspot();if(n.mouseDidNotMove(t)||n.currHotspot.preventOverlapClose())return n.preventCloseLine.setVerts([n.currHotspot.points[0],n.currHotspot.oldClosingPoint]),n.preventCloseLine.show(),setTimeout((function(){n.preventCloseLine.hide()}),200),n.lastX=t.clientX,void(n.lastY=t.clientY)}n.finishCurrent()}},this.pano=e,this.hotspots=[],this.targetObject=this.pano.sphereMesh,this.raycaster=new THREE.Raycaster,this.previewPoints=[new THREE.Vector3,new THREE.Vector3],this.setupMaterials(),this.setupPreventClose(),this.drag={},document.addEventListener("dblclick",this.onDoubleClick)}return r(t,[{key:"destroy",value:function(){this.hotspots.forEach((function(t){t.destroy()})),document.removeEventListener("dblclick",this.onDoubleClick)}},{key:"setupPreventClose",value:function(){var t=this;this.preventCloseLine={lineGeom:new s,show:function(){t.pano.scene.add(t.preventCloseLine.line)},hide:function(){t.pano.scene.remove(t.preventCloseLine.line)},setVerts:function(e){for(var n=[],i=0;i<e.length;i++){var r=e[i];n.push(r.x,r.y,r.z)}t.preventCloseLine.lineGeom.setPositions(n)}},this.preventCloseLine.lineGeom.setPositions(new Float32Array(6)),this.preventCloseLine.line=new i(this.preventCloseLine.lineGeom,this.redLineMaterial)}},{key:"deleteUnfinishedHotspot",value:function(){if(null!=this.currHotspot&&!this.currHotspot.finished){var t=this.currHotspot;t.deleteUnfinished=!0,this.finishCurrent(!0),this.pano.removeMarker(t.marker.id)}}},{key:"isEditing",value:function(){return this.creatingHotspot||null!=this.draggableHotspot||null!=this.draggablePoint}},{key:"setupMaterials",value:function(){this.previewLineMaterial=new o({color:"white",resolution:new THREE.Vector2(200,200),linewidth:.8}),this.redLineMaterial=new o({color:"red",resolution:new THREE.Vector2(200,200),linewidth:.8})}},{key:"updateColors",value:function(){var t=this;this.pano.scene.children.filter((function(t){return t.userData.isPolyHotspot})).forEach((function(e){return e.userData.hotspot.color=t.pano.hotspotColor}))}},{key:"createHotspotAtPoint",value:function(t,e){var n=this.beginHotspot(t,e),i=[new THREE.Vector3(-100,-100,0),new THREE.Vector3(100,-100,0),new THREE.Vector3(100,100,0),new THREE.Vector3(-100,100,0)],r=n.plane.quaternion.conjugate();i.forEach((function(e){e.add(t),e.applyQuaternion(r)})),n.createPointObj(),this.creatingHotspot=!0,n.extendRect(i[0],i[1],i[2],i[3]),n.finish(!0),this.creatingHotspot=!1,this.pano.scene.add(n.plane),n.drag(t)}},{key:"createHotspot",value:function(t,e){var n=JSON.parse(window.atob(t)),i=this.beginHotspot(n.origin,e);return i.loadData(n),this.creatingHotspot=!1,i}},{key:"beginHotspot",value:function(t,e,n){var i=new THREE.PlaneGeometry(5e3,5e3,32),r=new THREE.MeshBasicMaterial({color:"red",depthTest:!1,transparent:!0,opacity:0}),o=new THREE.Mesh(i,r);return o.position.copy(t),o.lookAt(this.pano.camera.position),this.pano.scene.add(o),this.targetObject=o,this.currHotspot=new a({layer:this,pano:this.pano,loc:t,marker:e,finishedFn:n}),this.creatingHotspot=!0,this.currHotspot.plane=o,this.currHotspot}},{key:"finishCurrent",value:function(t){null==this.currHotspot||this.currHotspot.finished||(this.currHotspot.finish(t),this.creatingHotspot=!1,this.downIntersect=null,this.line&&(this.line.visible=!1))}},{key:"resetPreviewLine",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.downIntersect=this.lastDownIntersect,e||(this.previewLineMaterial.color.set("#ff0000"),setTimeout((function(){t.previewLineMaterial.color.set("#ffffff")}),200))}},{key:"calcMouseRay",value:function(t,e){this.pano.mouseRay.x=t/window.innerWidth*2-1,this.pano.mouseRay.y=-e/window.innerHeight*2+1}},{key:"getHotspotIntersection",value:function(t,e){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var n=this.pano.scene.children.filter((function(t){return!0===t.userData.isPolyHotspot})),i=this.raycaster.intersectObjects(n,!1),r=void 0;if(i.length>0){i[0].point;r=i[0];var o=u.getPath(r,"object");if(!u.getPath(o,"visible"))return null}if(this.pano.editMode&&"hotspot"!==u.getPath(r,"object.userData.marker",{props:{}}).props.type)return null;return r}},{key:"dragHotspot",value:function(t,e,n){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var i=this.raycaster.intersectObject(this.pano.sphereMesh,!1),r=void 0;if(i.length>0){var o=this.draggableHotspot.userData.hotspot;this.currHotspot=o;var s=i[0].point;r=i[0],this.drag.started||(this.drag.startX=s.x-o.originPnt.x,this.drag.startY=s.y-o.originPnt.y,this.drag.startZ=s.z-o.originPnt.z,this.drag.started=!0,this.drag.count=0),this.drag.started&&(s.set(s.x-this.drag.startX,s.y-this.drag.startY,s.z-this.drag.startZ),this.drag.count++),o.drag(s)}return r}},{key:"dragControlPoint",value:function(t,e,n){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var i=this.draggablePoint,r=i.userData.hotspot,o=this.raycaster.intersectObject(r.plane,!1);null==o&&(o=this.raycaster.intersectObject(this.pano.sphereMesh,!1));var s=void 0;if(o.length>0){var a=o[0].point;s=o[0],this.beginDragPoint||(r.startDragPoint(),this.beginDragPoint=!0),r.dragControlPoint(i,a)}return s}},{key:"getControlPointIntersection",value:function(t,e){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);for(var n=[],i=0;i<this.pano.scene.children.length;i++){var r=this.pano.scene.children[i];if(null!=r.userData.controlGroup)for(var o=0;o<r.children.length;o++)n.push(r.children[o])}var s=this.raycaster.intersectObjects(n,!1),a=void 0;if(s.length>0){a=s[0];var l=u.getPath(a,"object.userData.hotspot");if(null!=l&&!u.getPath(l,"visible"))return null}return a}},{key:"mouseDidNotMove",value:function(t){return this.lastX==t.clientX&&this.lastY==t.clientY}},{key:"startDragHotspot",value:function(t,e){if(!this.creatingHotspot){var n=this.getHotspotIntersection(t,e);n&&(this.draggableHotspot=n.object,this.pano.setCurrMarker(this.draggableHotspot.userData.marker.sprite))}}},{key:"drawRect",value:function(t,e){if(!(this.currHotspot.pointCalls&&this.currHotspot.pointCalls>1)&&this.down&&this.downCount>2&&null!=this.startIntersect){var n=this.startIntersect,i=this.getIntersection(t,this.startLoc.pageY),r=this.getIntersection(t,e),o=this.getIntersection(this.startLoc.pageX,e);return null!=n&&null!=i&&null!=r&&null!=o&&(this.line.visible=!1,this.currHotspot.extendRect(n.point,i.point,r.point,o.point),this.finishOnUp=!0),!0}}},{key:"drawPreviewLine",value:function(t,e){if(null!=this.downIntersect&&null!=this.currHotspot&&!this.currHotspot.isRectangle){var n=this.getIntersection(t,e);if(null!=n){this.previewPoints=[this.downIntersect,n.point],this.updateOrCreatePreviewLine(),this.line.visible=!0;for(var i=[],r=0;r<this.previewPoints.length;r++){var o=this.previewPoints[r];i.push(o.x,o.y,o.z)}this.lineGeom.setPositions(i);var s=this.currHotspot.getFirstPoint();if(null!=this.currHotspot&&null!=s){this.currHotspot.pointsReversed&&this.currHotspot.sprites.length;if(n.point.distanceTo(s)<20){for(var a=0;a<this.currHotspot.sprites.length;a++)if(s.distanceTo(this.currHotspot.sprites[a].position)<20){this.lastEndOverSprite=this.currHotspot.sprites[a],this.currHotspot.sprites[a].material.color.set(this.pano.hotspotColor);break}}else this.lastEndOverSprite&&this.lastEndOverSprite.material.color.set("#ffffff")}}}}},{key:"normalRelease",value:function(t,e,n){if(!this.isWithinPanel(t)){if(this.lastHotspotIntersection=null,this.normalDown){var i=this.getHotspotIntersection(e,n);if(i){var r=i.object.userData.marker;r.props.hasPanel&&i.object.userData.hotspot.panelWasShown||r.triggerEvent("onlinkrelease",r.sprite.userData.id)}this.lastHotspotIntersection=i}this.normalDown=!1}}},{key:"normalMouseDown",value:function(t,e,n){var i=this;if(c.closest(t.target,(function(t){return c.hasClass(t,"three-sixty-image")}))&&!this.isWithinPanel(t)){var r=c.closest(t.target,(function(t){return c.hasClass(t,p?"three-sixty-image-mobile-overlay":"three-sixty-overlay")})),o=this.getHotspotIntersection(e,n);if(o){var s=o.object.userData.hotspot;if(s){var a=o.object.userData.marker,l=a.props,h=l.hasPanel;l.hasHotspotHint;this.pano.markerIdxInView=a.idx,this.normalDown=!0,window.requestAnimationFrame((function(){var t=i.pano.toDomCoords(e,n);if(s.panelWasShown)s.panelWasShown=!1,s.setBorderThin();else{a.addToVisitedMarkers();var r=a.panel;h&&"hidden"===r.el.style.visibility?r.shown?p||(r.hide(!0),s.setBorderThin()):(r.show(!0,t),s.setBorderThick()):h||s.blink()}a.setAccFocus(t)})),this.pano.stopVelocity(),r||s==this.currHotspot||(this.currHotspot=h?s:null)}else r||(this.currHotspot=null)}else if(r||(this.currHotspot=null),0===this.downCount&&!r){var d=u.getPath(this.pano,"currMarker.userData.cssMarker");this.hotspots.forEach((function(t){d||!i.pano.hotspotReveal&&!t.visited||t.blink()}))}return o}}},{key:"editorMouseDown",value:function(t,e){var n=this,i=this.getHotspotIntersection(t,e);if(i){l.hideLast();var r=i.object.userData.hotspot;null!=r?window.requestAnimationFrame((function(){var o=i.object.userData.marker,s=o.panel;if(o.props.hasPanel&&"hidden"===s.el.style.visibility){if(s.shown)s.hide(!0),n.showingPanel=null;else{var a=n.pano.toDomCoords(t,e);s.show(!0,a),n.showingPanel=s}s.bodyEl.blur()}if(o.tooltip){var l=n.pano.toDomCoords(t,e);o.tooltip.toggleEditMode(!1,l)}n.currHotspot=r,n.pano.setCurrMarker(o.sprite)})):this.currHotspot=null}else this.currHotspot=null}},{key:"mouseDownAnyHotspot",value:function(t,e){var n=this.getHotspotIntersection(t,e);this.currHotspot=null==n?null:n.object.userData.hotspot}},{key:"addPoint",value:function(t){var e=this.currHotspot.addPoint(t.point);null!=e&&(null!=this.downIntersect&&(this.lastDownIntersect=this.downIntersect.clone()),this.downIntersect=e)}},{key:"startDragControlPoint",value:function(t,e){if(!this.creatingHotspot){var n=this.getControlPointIntersection(t,e);if(n){this.draggablePoint=n.object,this.draggablePoint.userData.hotspot.activatePlane(),this.pano.setCurrMarker(this.draggablePoint.userData.marker.sprite);var i=this.draggablePoint.userData.hotspot;return i.lastDraggedPoint=this.draggablePoint,i.downControlPoint(this.draggablePoint),!0}}}},{key:"startDragHotspot",value:function(t,e){if(!this.creatingHotspot){var n=this.getHotspotIntersection(t,e);n&&(this.draggableHotspot=n.object,this.pano.setCurrMarker(this.draggableHotspot.userData.marker.sprite))}}},{key:"onMouseDown",value:function(t,e,n){var i=this;if(this.pano.mode!==f.SET_INITIAL_CAMERA_ANGLE&&g(t)){if(this.downCount=0,this.down=!0,this.currHotspot){var r=this.currHotspot.marker;if(r.props.hasPanel){var o=r.panel.shown;this.currHotspot.panelWasShown=o}}this.pano.editMode&&(this.startDragControlPoint(e,n)||(this.startDragHotspot(e,n),window.requestAnimationFrame((function(){var t=i.getIntersection(e,n);i.startIntersect=t,i.startLoc={pageX:e,pageY:n};var r=null!=t&&null!=i.currHotspot&&!i.currHotspot.finished,o=null!=i.currHotspot&&i.currHotspot.finished;r?i.addPoint(t):o||null==i.currHotspot?i.editorMouseDown(e,n):i.mouseDownAnyHotspot(e,n)}))))}}},{key:"isWithinPanel",value:function(t){return c.closest(t.target,(function(t){return c.hasClass(t,"panel-el")}))}},{key:"hotspotOverOut",value:function(t,e,n){if(!this.creatingHotspot){var i=this.getHotspotIntersection(e,n),r=i?i.object.userData.hotspot:null,o=null!=this.lastHotspotOver,s=this.lastHotspotOver!==r;if(o&&s&&(this.lastHotspotOver.mouseOut(),this.lastHotspotOver=null),null!=r){if(this.isWithinPanel(t))return r.mouseOut(),void(this.lastHotspotOver=null);var a=this.pano.toDomCoords(e,n);r.isClickable()&&s?(this.lastHotspotOver=r,this.lastHotspotOver.mouseOver(a)):d&&this.lastHotspotOver.mouseOverMobile(a)}}}},{key:"controlPointOver",value:function(t,e){var n=this.getControlPointIntersection(t,e);if(!this.down)if(n){var i=n.object,r=i.userData.hotspot;r.overSprite(i.uuid),this.lastCntrlHot={hot:r,cntrl:i}}else if(null!=this.lastCntrlHot){var o=this.lastCntrlHot,s=o.cntrl;o.hot.outSprite(s.uuid),this.lastCntrlHot=null}}},{key:"handleCursor",value:function(t){var e=this.pano.el,n=null!=this.lastCntrlHot||null!=this.lastHotspotOver;this.pano.mode==f.DEFAULT&&(null==e.style.cursor||n||(e.style.cursor=null),this.creatingHotspot||(n||null!=this.draggablePoint||null!=this.draggableHotspot)&&(e.style.cursor=t))}},{key:"onMouseMove",value:function(t,e,n){if(this.pano.mode!==f.SET_INITIAL_CAMERA_ANGLE)if(this.down&&this.downCount++,this.hotspotOverOut(t,e,n),d&&2===this.downCount&&null!=this.currHotspot&&this.currHotspot.deselect(),this.pano.editMode)if(this.controlPointOver(e,n),this.handleCursor(this.down?'url("Moving.cur"), auto':'url("Move.cur"), auto'),this.creatingHotspot){if(this.drawRect(e,n))return;this.drawPreviewLine(e,n)}else{if(this.draggablePoint)return this.showingPanel&&this.downCount>4&&this.showingPanel.hide(),void this.dragControlPoint(e,n);if(this.draggableHotspot)return this.showingPanel&&this.downCount>8&&this.showingPanel.hide(),void this.dragHotspot(e,n)}else this.handleCursor("pointer")}},{key:"onMouseUp",value:function(t,e,n){var i=this;if(this.down=!1,this.pano.mode!==f.SET_INITIAL_CAMERA_ANGLE&&(!this.pano.editMode&&this.downCount<m&&(d&&this.hotspotOverOut(t,e,n),this.normalMouseDown(t,e,n)),this.downCount=0,this.normalRelease(t,e,n),this.pano.editMode)){if(this.draggableHotspot)this.draggableHotspot.userData.hotspot.updateData(),this.draggableHotspot=null;if(this.draggablePoint){var r=this.draggablePoint.userData.hotspot;r.stopDragControlPoint(),r.updateData(),this.draggablePoint=null,this.beginDragPoint=!1,this.currHotspot=r,this.pano.setCurrMarker(r.marker.sprite)}this.drag.started=!1,this.finishOnUp&&(window.requestAnimationFrame((function(){i.finishCurrent()})),this.finishOnUp=!1)}}},{key:"updateOrCreatePreviewLine",value:function(){null==this.line&&(this.lineGeom=new s,this.lineGeom.setPositions(new Float32Array(6)),this.line=new i(this.lineGeom,this.previewLineMaterial),this.pano.scene.add(this.line))}},{key:"getIntersection",value:function(t,e,n){if(this.targetObject){this.calcMouseRay(t,e),this.raycaster.setFromCamera(this.pano.mouseRay,this.pano.camera);var i=this.raycaster.intersectObject(this.targetObject,!1);if(i.length>0)return i[0];if(this.targetObject!=this.pano.sphereMesh){var r=this.raycaster.intersectObject(this.pano.sphereMesh,!1);if(r.length>0)return r[0]}}}},{key:"currHotspot",set:function(t){this.currControlPoint||(null!=t&&t==this.lastActiveHotspot||this.lastActiveHotspot&&(this.lastActiveHotspot.panelWasShown=!1,this.lastActiveHotspot.deselect(),this.lastActiveHotspot=null),null!=t&&(this.currentActiveHotspot=t,this.lastActiveHotspot=t,t.finished&&t.select()))},get:function(){return this.currentActiveHotspot}}]),t}()}.call(e,n,e,t))||(t.exports=i)},49:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}void 0===(i=function(t){var e=n(1251),i=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},a=function(t,e){var n=e.ownerSVGElement,i=t.touches,r=o(i=void 0===i?[t]:i,1)[0],s=r.clientX,a=r.clientY,l=n.createSVGPoint();l.x=s,l.y=a;var u=l.matrixTransform(e.getScreenCTM().inverse());return{pageX:u.x,pageY:u.y}},l=20,u=15,c="#ffffff",h="#000000",d=.5,p=100,f={lc:'url("CropLeftMiddle.cur"), auto',tc:'url("CropTopCenter.cur"), auto',rc:'url("CropRightMiddle.cur"), auto',bc:'url("CropBottomCenter.cur"), auto',tl:'url("CropTopLeft.cur"), auto',tr:'url("CropTopRight.cur"), auto',br:'url("CropBottomRight.cur"), auto',bl:'url("CropBottomLeft.cur"), auto'};return function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onDown=function(t){t.currentTarget.dataset.dragRect?i.startDragRect(t):i.startDragControl(t),document.addEventListener("mouseup",i.onUp),document.addEventListener("touchend",i.onUp)},this.onMove=function(t){i.downDragRect?i.moveRectangle(t):i.downControl&&i.moveControl(t)},this.onUp=function(t){i.downControl=!1,i.downDragRect=!1,i.targetControl=null,document.removeEventListener("mouseup",i.onUp),document.removeEventListener("touchend",i.onUp)},this.container=document.querySelector(e),null==this.container&&console.warn("ImageCrop: no container found"),this.image=this.container.querySelector("img"),0!==this.image.width&&0!==this.image.height||console.warn("ImageCrop: image is not loaded"),this.createSvg(),this.x=0,this.y=0,this.right=this.image.naturalWidth,this.bottom=this.image.naturalHeight,this.edges={x:this.x,y:this.y,right:this.right,bottom:this.bottom},this.controls=[],this.controlXY={lc:{propX:"x",propY:null},tc:{propY:"y",propX:null},rc:{propX:"right",propY:null},bc:{propX:null,propY:"bottom"},tl:{propX:"x",propY:"y"},tr:{propX:"right",propY:"y"},br:{propX:"right",propY:"bottom"},bl:{propX:"x",propY:"bottom"}},document.addEventListener("mousemove",this.onMove),document.addEventListener("touchmove",this.onMove)}return r(t,[{key:"createSvg",value:function(){var t="0 0 "+parseFloat(this.image.naturalWidth)+" "+parseFloat(this.image.naturalHeight);this.svgLayer=document.createElement("div"),e.setStyles(this.svgLayer,{position:"absolute",left:0,top:0,width:"100%",height:"100%"}),this.svgLayer.innerHTML='\n        <svg class="crop-tool" style="width: 100%; height: 100%;overflow:hidden;" viewBox="'+t+'">\n          <g class="overlay-layer"><g>\n        </svg>\n      ',this.overlayLayer=this.svgLayer.querySelector(".overlay-layer"),this.container.appendChild(this.svgLayer)}},{key:"render",value:function(){this.adjustRect(),this.adjustPath(),this.adjustControls()}},{key:"setCropRect",value:function(t){var e=t.left,n=t.top,i=t.right,r=t.bottom,o=t.width,s=t.height;this.x=e,this.y=n,this.right=i,this.bottom=r,null!=o&&(this.right=this.x+o),null!=s&&(this.bottom=this.y+s),this.render()}},{key:"getCropRect",value:function(){var t=this.x-d,e=this.y-d,n=this.right+d,i=this.bottom+d,r={left:t,top:e,right:n,bottom:i,width:n-t,height:i-e};for(var o in r)r[o]=Math.abs(Math.round(r[o]));return r}},{key:"adjustRect",value:function(){e.setAttributes(this.dragRect,{x:this.x,y:this.y,width:this.right-this.x,height:this.bottom-this.y})}},{key:"adjustPath",value:function(){var t=50;e.setAttributes(this.path,{d:"\n          M "+(this.edges.x-t)+" "+(this.edges.y-t)+"\n          L "+(this.edges.right+t)+" "+(this.edges.y-t)+"\n          "+(this.edges.right+t)+" "+(this.edges.bottom+t)+"\n          "+(this.edges.x-t)+" "+(this.edges.bottom+t)+"\n          M "+this.x+" "+this.y+"\n          L "+this.right+" "+this.y+"\n            "+this.right+" "+this.bottom+"\n            "+this.x+" "+this.bottom+"\n            "+this.x+" "+this.y+"z\n        "})}},{key:"updateTransformControls",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=.7,i=1/e*n;["tl","tr","br","bl"].forEach((function(e){var n=t.controls[e],r=n.lastElementChild.dataset.rot;n.lastElementChild.setAttribute("transform",r+" scale("+i+")"),n.firstElementChild.setAttribute("transform","scale("+i+")")})),["tc","rc","bc","lc"].forEach((function(e){var n=t.controls[e].firstElementChild,r=n.firstElementChild,o=n.lastElementChild,s=n.dataset.trans.replace("15",(u*i).toFixed(4));n.setAttribute("transform",s),r.setAttribute("transform","scale("+i+")"),o.setAttribute("transform","scale("+i+")")}))}},{key:"adjustControls",value:function(){e.setAttributes(this.controls.tl,{"data-x":this.x,"data-y":this.y,transform:"translate("+this.x+" "+this.y+")"}),e.setAttributes(this.controls.tr,{"data-x":this.right,"data-y":this.y,transform:"translate("+this.right+" "+this.y+")"}),e.setAttributes(this.controls.br,{"data-x":this.right,"data-y":this.bottom,transform:"translate("+this.right+" "+this.bottom+")"}),e.setAttributes(this.controls.bl,{"data-x":this.x,"data-y":this.bottom,transform:"translate("+this.x+" "+this.bottom+")"});var t=this.x,n=this.y+(this.bottom-this.y)/2;e.setAttributes(this.controls.lc,{"data-x":t,"data-y":n,transform:"translate("+t+" "+n+")"}),t=this.right,e.setAttributes(this.controls.rc,{"data-x":t,"data-y":n,transform:"translate("+t+" "+n+")"}),t=this.x+(this.right-this.x)/2,n=this.y,e.setAttributes(this.controls.tc,{"data-x":t,"data-y":n,transform:"translate("+t+" "+n+")"}),n=this.bottom,e.setAttributes(this.controls.bc,{"data-x":t,"data-y":n,transform:"translate("+t+" "+n+")"})}},{key:"createCenterHandle",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=i("g"),a=i("rect"),l=i("rect"),d=i("g");s.dataset.type=r,e.setAttributes(a,{x:0,y:0,width:u,height:30,fill:"transparent"}),e.setAttributes(l,{x:0,y:0,width:10,height:30,fill:h,"stroke-width":1,"vector-effect":"non-scaling-stroke",stroke:c}),e.setAttributes(d,{"data-trans":o,transform:o}),e.setAttributes(s,{"data-x":t,"data-y":n,transform:"translate("+t+" "+n+")"}),s.classList.add("drag-control"),s.style.cursor=f[r],d.appendChild(a),d.appendChild(l),s.appendChild(d),this.controls.push(s),this.controls[r]=s,this.el.appendChild(s),s.addEventListener("mousedown",this.onDown),s.addEventListener("touchstart",this.onDown)}},{key:"createCornerHandle",value:function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=i("g"),d=i("rect"),p=i("path");u.dataset.type=r,e.setAttributes(d,{x:l*-s,y:l*-a,width:l,height:l,fill:"transparent"});var v=9,g=4*v;e.setAttributes(p,{d:"M 0 0 L "+g+" 0 "+g+" "+v+" "+v+" "+v+" "+v+" "+g+" 0 "+g+"z",transform:"rotate("+o+")","data-rot":"rotate("+o+")",fill:h,"stroke-width":1,"vector-effect":"non-scaling-stroke",stroke:c}),e.setAttributes(u,{"data-x":t,"data-y":n,transform:"translate("+t+" "+n+")"}),u.classList.add("drag-control"),u.appendChild(d),u.appendChild(p),u.style.cursor=f[r],this.controls.push(u),this.controls[r]=u,this.el.appendChild(u),u.addEventListener("mousedown",this.onDown),u.addEventListener("touchstart",this.onDown)}},{key:"startDragRect",value:function(t){var e=a(t,this.overlayLayer),n=e.pageX,i=e.pageY;this.targetControl=t.currentTarget,this.downDragRect=!0,this.startX=n-this.x,this.startY=i-this.y,this.startRight=n-this.right,this.startBottom=i-this.bottom,this.startWidth=this.right-this.x,this.startHeight=this.bottom-this.y}},{key:"startDragControl",value:function(t){var e=a(t,this.overlayLayer),n=e.pageX,i=e.pageY;this.targetControl=t.currentTarget,this.downControl=!0,this.startX=n-parseFloat(this.targetControl.dataset.x),this.startY=i-parseFloat(this.targetControl.dataset.y)}},{key:"moveRectangle",value:function(t){var e=a(t,this.overlayLayer),n=e.pageX,i=e.pageY;this.x=n-this.startX,this.y=i-this.startY,this.right=n-this.startRight,this.bottom=i-this.startBottom;this.x<=this.edges.x&&(this.x=this.edges.x,this.right=this.x+this.startWidth),this.y<=this.edges.y&&(this.y=this.edges.y,this.bottom=this.y+this.startHeight),this.right>=this.edges.right&&(this.x=this.edges.right-this.startWidth,this.right=this.edges.right),this.bottom>=this.edges.bottom&&(this.y=this.edges.bottom-this.startHeight,this.bottom=this.edges.bottom),this.adjustRect(),this.adjustPath(),this.adjustControls()}},{key:"moveControl",value:function(t){var e=a(t,this.overlayLayer),n=e.pageX,i=e.pageY,r=n-this.startX,o=i-this.startY,s=this.targetControl.dataset.type,l=this.controlXY[s],u=l.propX,c=l.propY;null!=this[u]&&(this[u]=r),null!=this[c]&&(this[c]=o),"x"===u?(this.x<=this.edges.x&&(r=this.x=this.edges.x),this.x>=this.right-p&&(r=this.x=this.right-p)):"right"===u&&(this.right>=this.edges.right&&(r=this.right=this.edges.right),this.right<=this.x+p&&(r=this.right=this.x+p)),"y"===c?(this.y<=this.edges.y&&(o=this.y=this.edges.y),this.y>=this.bottom-p&&(o=this.y=this.bottom-p)):"bottom"===c&&(this.bottom>=this.edges.bottom&&(o=this.bottom=this.edges.bottom),this.bottom<=this.y+p&&(o=this.bottom=this.y+p)),this.adjustControls(),this.adjustPath(),this.adjustRect()}},{key:"setupDragRect",value:function(){this.dragRect=i("rect"),this.dragRect.style.pointerEvents="all",this.dragRect.addEventListener("mousedown",this.onDown),this.dragRect.addEventListener("touchstart",this.onDown),e.setAttributes(this.dragRect,{"data-drag-rect":!0,x:0,y:0,width:0,height:0,fill:"transparent"}),this.dragRect.classList.add("drag-control"),this.adjustRect(),this.el.appendChild(this.dragRect)}},{key:"setupPath",value:function(){var t;this.path=i("path"),this.d="M 0 0 L 0 0",e.setAttributes(this.path,(s(t={stroke:c,"vector-effect":"non-scaling-stroke","stroke-width":1},"vector-effect","non-scaling-stroke"),s(t,"fill","rgba(0, 0, 0, 0.3)"),s(t,"fill-rule","evenodd"),t)),this.adjustPath(),this.el.appendChild(this.path)}},{key:"setupControls",value:function(){this.createCornerHandle(this.x,this.y,"tl"),this.createCornerHandle(this.right,this.y,"tr",90,1),this.createCornerHandle(this.right,this.bottom,"br",180,1,1),this.createCornerHandle(this.x,this.bottom,"bl",270,0,1),this.createCenterHandle(this.x+(this.right-this.x)/2,this.y,"tc","translate(15 0) rotate(90)","ns-resize"),this.createCenterHandle(this.x,this.y+(this.bottom-this.y)/2,"lc","translate(0 -15)","ew-resize"),this.createCenterHandle(this.right,this.y+(this.bottom-this.y)/2,"rc","translate(0 15) rotate(180)","ew-resize"),this.createCenterHandle(this.x+(this.right-this.x)/2,this.bottom,"bc","translate(-15 0) rotate(-90)","ns-resize")}},{key:"setupElement",value:function(){this.container.appendChild(this.svgLayer),this.el=i("g"),this.overlayLayer.appendChild(this.el),this.setupDragRect(),this.setupPath(),this.setupControls()}},{key:"show",value:function(){document.body.classList.add("crop-tool-shown"),this.setupElement()}},{key:"hide",value:function(){var t=this;document.body.classList.remove("crop-tool-shown"),this.svgLayer.parentNode.removeChild(this.svgLayer),this.el.parentNode.removeChild(this.el),document.removeEventListener("mousemove",this.onMove),document.removeEventListener("touchmove",this.onMove),this.controls.forEach((function(e){e.removeEventListener("mousedown",t.onDown),e.removeEventListener("touchstart",t.onDown)}))}}]),t}()}.call(e,n,e,t))||(t.exports=i)},8400:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6486),i=n(3508),o=n(4938),s=n(4706),a=n(6295),l=n(1251),u=n(82),c=n(9032),h=n(8880),d=n(1681),p=n(7536).MOVE_THRESHOLD,f=n(1815).navigation,v=n(7954),g=v.imgBufferCtx,m=v.imgBuffer,y=v.svgHtmlIcon,b=v.svgImageIcon,w=(v.convertDeprecatedIconToBase64,v.unpackHex),A=v.packRgb,E=v.easeColor,S=(v.setColor,v.overlayColor),T=n(9337),x=T.touchify,C=(T.isRightclick,T.isLeftClickOrTouch),_=n(5505),k=_.enterOrTouchStart,M=_.leaveOrTouchEnd,O=(_.clickOrTouchEnd,_.downOrTouchStart),L=_.moveOrTouchMove,P=_.upOrTouchEnd,I=n(8579),R=I.device.isMobile,D=I.deviceView,N=n(7812).math.TWO_PI,H=.3,V=50,F=100,B='url("Move.cur"), auto',j=document.createElement("div");j.classList.add("offscreen");var U=function t(e,n){if(e.childElementCount>0)for(var i=e.firstElementChild;null!=i;)t(i,n),i=i.nextElementSibling;n(e)},z="data:image/svg+xml;base64, PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCIgd2lkdGg9IjI1NiIgaGVpZ2h0PSIyNTYiIGNsYXNzPSJpY29uIj48ZyBzdHJva2U9Im5vbmUiIGZpbGw9ImJsYWNrIiAvPjwvc3ZnPg==";return function(){function t(e){var n=this,r=e.pano,o=e.loc,s=e.sprite,a=e.backSprite,l=e.id,d=e.idx,f=e.canvas,v=e.ctx,g=e.tex,m=e.props;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onEditorSettingsChanged=function(){n.updateHint(),n.updateTooltip()},this.onEditMode=function(t){n.editMode=n.pano.editMode,n.editableMarker(),n.setupPanel(),n.editableLabel(),n.editableHotspot(),n.editorListeners()},this.onEditLabel=function(){var t=V+(n.labelText.clientWidth>0?35+n.labelText.clientWidth:0);n.bg.style.width=t+"px",n.props.label.width=t},this.onMouseEnter=function(){n.pano.editMode||(n.mouseOver||n.triggerMouseOver(),n.mouseOver=!0,n.setState("over"),n.enterAnimation(),n.enterLabel())},this.onMouseLeave=function(){n.pano.editMode||(n.mouseOver&&!n.isHotspot()&&n.triggerMouseOut(),n.mouseOver=!1,n.setState("normal"),n.leaveAnimation(),n.leaveLabel())},this.onReleaseOutsideLabel=function(t){n.el.contains(t.target)||n.props.hasPanel&&n.panel.el.contains(t.target)||(n.hideLabel(),n.disableActive(),document.removeEventListener(O,n.onReleaseOutside))},this.onMouseDown=function(t){if(n.moveCount=0,n.pano.onMouseDown(t),n.sprite.visible&&C(t)){var e=x(t,n.pano),r=e.pageX,o=e.pageY;e.gesture;n.lastX=r,n.lastY=o,n.pano.editMode&&(n.dragging=!0),i.hideLast(n.panel),null!=n.panel&&n.panel.shown&&(n.panel.hide(),n.keepPanelHidden=!0,n.disableActive("over")),null!=n.tooltip&&n.tooltip.isShown()&&(n.keepTooltipHidden=!0,n.tooltip.hide()),n.pano.lastMarkerClicked=n,n.pano.markerIdxInView=n.idx}},this.onMouseMove=function(t){if(n.moveCount++,n.sprite.visible){var e=x(t,n.pano),i=e.pageX,r=e.pageY;e.gesture;n.lastX=i,n.lastY=r}},this.onMouseUp=function(){n.moveCount<p&&(i.hideLast(n.panel),n.downPano(),n.downActiveState(),n.downShowHidePanel(),n.downEditMode(),n.downLabel(),n.downTooltip(),n.addToVisitedMarkers(),n.setAccFocus()),n.sprite.visible&&(null==n.panel||u.getPath(n,"panel.shown"))&&n.triggerEvent("onlinkrelease",n.sprite.userData.id)},this.editMode=r.editMode,this.pano=r,this.sprite=s,this.backSprite=a,this.id=l,this.idx=d,this.canvas=f,this.ctx=v,this.tex=g,this.createDefaults(m),this.setProperties(m),this.setupPanel(),this.createGraphics(),this.createSprite(o),c.on(h.threeSixtyImage.EDIT_MODE_CHANGED,this.onEditMode),this.editorListeners()}return r(t,[{key:"drawSprite",value:function(t,e,n,i,r){var o=this;"none"===i&&(i="transparent"),"none"===n&&(n="transparent"),"none"===e&&(e="transparent"),e=w(e),n=w(n),i=w(i),r=w(r);var s=this.canvas.width/2,a=this.canvas.height/2,l=this.canvas.width/2-22;window.cancelAnimationFrame(this.renderId),t((function(t){var u=o.ctx,c=o.canvas;o.initialColorsSet&&o.texStyle||(o.texStyle={bgFill:e,bgStroke:n,iconStroke:i,iconFill:r},o.initialColorsSet=!0);!function r(){u.globalCompositeOperation="source-over",u.clearRect(0,0,c.width,c.height);var h=E(o.texStyle.bgFill,e),d=E(o.texStyle.bgStroke,n),p=E(o.texStyle.iconStroke,i),f=h&&d&&p;u.fillStyle=A(o.texStyle.bgFill),u.strokeStyle=A(o.texStyle.bgStroke),u.lineWidth=30,u.beginPath(),u.arc(s,a,l,0,N,!1),u.fill(),u.shadowColor="transparent",u.stroke();var v=g;null!=t&&(v.globalCompositeOperation="source-over",v.fillStyle="black",v.fillRect(0,0,c.width,c.height),v.globalCompositeOperation="source-in",v.drawImage(t,0,0),v.fillStyle=A(o.texStyle.iconStroke),v.fillRect(0,0,c.width,c.height));var y=o.props.iconScale||1,b=c.width*y,w=b/2,S=c.width/2-w,T=c.height/2-w;u.drawImage(m,S,T,b,b),o.renderId=window.requestAnimationFrame(r),f&&window.cancelAnimationFrame(o.renderId),o.tex.needsUpdate=!0}()}))}},{key:"editableLabel",value:function(){null!=this.labelText&&(this.labelText.contentEditable="true",this.labelText.addEventListener("input",this.onEditLabel))}},{key:"editorListeners",value:function(t){null==t&&(t=this.editMode),t?c.on(h.threeSixtyImage.EDITOR_SETTINGS_CHANGED,this.onEditorSettingsChanged):c.off(h.threeSixtyImage.EDITOR_SETTINGS_CHANGED,this.onEditorSettingsChanged)}},{key:"remove",value:function(){this.teardown(),c.off(h.threeSixtyImage.EDIT_MODE_CHANGED,this.onEditMode),null!=this.panel&&this.panel.remove(),null!=this.labelText&&this.labelText.removeEventListener("input",this.onEditLabel),null!=this.hotspotHint&&this.hotspotHint.destroy(),null!=this.tooltip&&this.tooltip.destroy()}},{key:"resize",value:function(){null!=this.panel&&this.panel.resize()}},{key:"updateLoc",value:function(t){this.updatePosition(t.x,t.y,t.z),this.panel&&this.panel.update()}},{key:"setupPanel",value:function(){(this.props.hasPanel||this.pano.editMode)&&(this.panel=new i({pano:this.pano,marker:this,data:this.props.panel,disabled:!this.props.hasPanel}))}},{key:"generateStates",value:function(t,e){var n="#ffffff"===t.toLowerCase()?S(e,t,.12):S("#000000",t,.2);return{normal:{bgStroke:t,bgStrokeWidth:2,bgFill:t,iconStroke:e,iconFill:"none"},over:{bgStroke:n,bgStrokeWidth:2,bgFill:n,iconStroke:e,iconFill:"none"},active:{bgStroke:e,bgStrokeWidth:2,bgFill:t,iconStroke:e,iconFill:"none"},activeHover:{bgStroke:e,bgStrokeWidth:2,bgFill:n,iconStroke:e,iconFill:"none"}}}},{key:"createDefaults",value:function(t){this.bgScale="tiny"===t.type?7.5:2.5;var e="hotspot"===t.type?400:F;this.defaults={states:this.generateStates("#ffffff","#007cb2"),type:"normal",hasPanel:!0,hasTooltip:!1,hasLabel:!1,scaleX:e,scaleY:e,iconScale:.6,boxShadow:"0 0 20px rgba(0, 0, 0, 0.2)",panel:{hasArrow:!0,borderRadius:5,maxWidth:260,boxShadow:"0 0px 10px rgba(0, 0, 0, 0.25)",fill:"#ffffff",stroke:"transparent",strokeWidth:0,title:this.createPanelElementDefaults("Open Sans","20"),body:this.createPanelElementDefaults("Open Sans","13")}}}},{key:"createPanelElementDefaults",value:function(t,e){return{innerHTML:"",style:{fontFamily:t,fontSize:e,fontThemeType:"none"}}}},{key:"setEditorVar",value:function(t,e){null==this.props.editorVars&&(this.props.editorVars={}),this.props.editorVars[t]=e}},{key:"getEditorVar",value:function(t){if(null!=this.props.editorVars)return this.props.editorVars[t];this.props.editorVars={}}},{key:"getData",value:function(){this.panel&&(this.props.panel=this.panel.getData());var t=this.object,n=e.cloneDeep(this.props);delete n.states,delete n.animation,this.isHotspot()&&(null!=this.polyHotspot&&(n.hotspotData=this.polyHotspot.getData()),null!=this.hotspotHint&&(this.props.hotspotHint=e.cloneDeep(this.hotspotHint.props),n.hotspotHint=this.props.hotspotHint)),null!=this.tooltip&&(this.props.tooltip=e.cloneDeep(this.tooltip.props),n.tooltip=this.props.tooltip);try{n.editorVars=JSON.stringify(n.editorVars)}catch(t){console.warn("Malformed 'editorVars' "+n.editorVars)}return{id:this.id,xPos:t.position.x,yPos:t.position.y,zPos:t.position.z,props:n}}},{key:"simpleColors",value:function(){null!=this.props.bgColor&&null!=this.props.fgColor&&(this.props.states=this.generateStates(this.props.bgColor,this.props.fgColor))}},{key:"adjust",value:function(t){var e=t.xPos,n=t.yPos,i=t.zPos,r=t.props;this.updatePosition(e,n,i),this.adjustProps(r),c.trigger(h.threeSixtyImage.MARKER_UPDATED,this)}},{key:"adjustProps",value:function(t){this.props=e.merge(this.props,t),this.simpleColors(),this.updateProps()}},{key:"updateProps",value:function(){this.updateIcon(),this.editMode&&(this.initialColorsSet=!1),this.setState(this.currentState,!0),this.updateType(),this.updatePanel(),this.updateHint(),this.updateTooltip(),this.updateLabel(),this.updateScale(),this.updateAnimation()}},{key:"updateType",value:function(){var t=this.props.type;this.lastType!==t&&("hotspot"===t?(this.ctx.globalCompositeOperation="source-over",this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.tex.needsUpdate=!0,this.hideShowControlPoints(!1),null!=this.polyHotspot&&(this.polyHotspot.visible=!0,this.polyHotspot.select(),this.el.style.display="none",this.hide(),this.pano.boundingBox.style.display="none",this.pano.hideMarkerBounds(),null!=this.panel&&this.panel.shown&&this.panel.hide()),null!=this.tooltip&&this.tooltip.hide()):(this.hideShowControlPoints(!0,!0),"hotspot"===this.lastType&&(this.scale(F,F),this.polyHotspot&&(this.el.style.display="block",this.show(),this.polyHotspot.visible=!1,this.polyHotspot.deselect()))),this.lastType=t,this.panoReady())}},{key:"updateAnimation",value:function(){null!=this.props.animation&&(this.backSprite.material=this.pano.getBackSpriteMaterial(e.cloneDeep(this.props)))}},{key:"updateLabel",value:function(){this.props.hasLabel}},{key:"updateIcon",value:function(){var t=this;this.canvas&&this.setState(this.currentState);var e=y(this.getIconSource()),n=this.icon&&this.icon.parentNode;if(null!=n){var i=document.createElement("div");i.innerHTML=e,n.removeChild(this.icon),this.icon=i.firstElementChild,n.appendChild(this.icon),DS.detection.browser.isIE11&&U(this.icon,(function(e){var n=e.getAttribute("fill"),i=e.getAttribute("stroke");if(null!=i&&"none"!=i&&e.setAttribute("stroke",t.props.fgColor),null==n)for(var r=e.parentNode;null==n&&null!=r;)n=r.getAttribute("fill"),r=r.parentNode;"none"!=n&&e.setAttribute("fill",t.props.fgColor)})),this.icon.style.transform="scale("+(this.props.iconScale||1)+")"}}},{key:"getIconSource",value:function(){if(this.props.iconSource){var t=this.props.iconSource.content||null!=this.pano.assetManager&&this.pano.assetManager.getAssetUrl(this.props.iconSource.assetId);if(t)return t}return z}},{key:"updatePanel",value:function(){var t=this;if(null!=this.panel)if(this.props.hasPanel){if(this.panel.forcePlaceCenter=!0,this.panel.enable(),this.wasDisabled){if(null!=this.polyHotspot){var e=this.polyHotspot,n=this.pano.vecToScreenPosition(e.getCenterPoint(e.shapeMesh));this.panel.show(!0,n),window.requestAnimationFrame((function(){t.panel.bodyEl.blur()}))}else this.panel.show();this.wasDisabled=!1}this.panel.forcePlaceCenter=!0,this.panel.adjust(this.props.panel)}else this.wasDisabled=!0,this.panel.disable();else this.props.hasPanel&&this.setupPanel()}},{key:"isGuided",value:function(){return(this.editMode?this.pano.editorSettings.navigationType:this.pano.navigation.type)===f.GUIDED}},{key:"hasTrigger",value:function(){return this.pano.markerHasTrigger(this)}},{key:"tooltipEnabled",value:function(){return this.props.hasTooltip&&!this.isGuided()}},{key:"updateTooltip",value:function(){if(this.tooltipEnabled()){var t=u.getPath(this,"tooltip.enabled",!1);null==this.tooltip?this.tooltip=new s({parentEl:this.pano.overlaysEl,localizedText:this.pano.localizedText,enabled:!0,props:this.props.tooltip,editMode:this.editMode,marker:this,currMarkerId:this.pano.currMarker===this.sprite?this.id:null}):this.tooltip.update({enabled:!0,props:this.props.tooltip,editMode:this.editMode}),t||this.tooltip.takeFocus()}else null!=this.tooltip&&this.tooltip.enable(!1)}},{key:"hintEnabled",value:function(){return this.props.hasHotspotHint&&this.isHotspot()&&!1===this.pano.hotspotReveal&&this.isGuided()}},{key:"updateHint",value:function(){if(this.hintEnabled()){var t=this.hotspotHint&&this.hotspotHint.enabled;null==this.hotspotHint?this.hotspotHint=new o({parentEl:this.pano.overlaysEl,localizedText:this.pano.localizedText,enabled:!0,props:this.props.hotspotHint,editMode:this.editMode,marker:this}):this.hotspotHint.update({enabled:!0,props:this.props.hotspotHint,editMode:this.editMode}),this.pano.currMarker===this.sprite&&this.hotspotHint.show(!t)}else null!=this.hotspotHint&&this.hotspotHint.enable(!1)}},{key:"isHotspot",value:function(){return"hotspot"===this.props.type}},{key:"initEditorVars",value:function(){if(null!=this.props.editorVars)try{this.props.editorVars=JSON.parse(this.props.editorVars)}catch(t){console.warn("Malformed 'editorVars' "+this.props.editorVars)}}},{key:"setProperties",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.props=e.merge(this.defaults,t),this.initEditorVars(),this.isHotspot()||(null==this.props.states.over&&(this.props.states.over=this.props.states.normal),this.simpleColors())}},{key:"setState",value:function(t,e){var n=this;if(!this.isHotspot()&&(this.active&&(t=this.mouseOver?"activeHover":"active"),this.pano.editMode&&(t="normal"),this.props.states[t]||e)){var i=this.props.states[t],r=i.bgStroke,o=i.bgStrokeWidth,s=i.bgFill,a=i.iconStroke,l=i.iconFill;if(this.bg.style.border=o*this.bgScale*.5+"px solid "+r,null!=this.props.boxShadow&&(this.bg.style.boxShadow=this.props.boxShadow),this.bg.style.background=s,this.icon.setAttribute("stroke",a),this.icon.setAttribute("fill",l),this.currentState=t,null!=this.canvas){this.drawSprite((function(t){return b(n.getIconSource(),t)}),s,r,a,l)}}}},{key:"addLabel",value:function(){if(this.props.hasLabel){var t=document.createElement("div");t.classList.add("marker-label-container"),t.innerHTML="\n          <div class='marker-label'>\n            enter text...\n          </div>\n        ",this.el.appendChild(t),this.bg.classList.add("has-label"),this.labelEl=t,this.labelEl.style.left="50px",this.labelEl.style.width=0,this.labelEl.style.height="50px",this.labelText=this.labelEl.firstElementChild,this.labelText.style.color=this.props.label.textColor,this.labelText.innerHTML=this.props.label.html,this.editMode&&this.editableLabel()}}},{key:"showLabel",value:function(t){var e=this;if(null!=this.labelEl){var n=this.props.label.width||(this.labelText.clientWidth>0?35+function(t){var e=document.createElement("div");e.setAttribute("class",t.getAttribute("class")),e.innerHTML=t.innerHTML,j.innerHTML="",j.appendChild(e),document.body.appendChild(j);var n=e.clientWidth;return document.body.removeChild(j),n}(this.labelText):0);this.labelShown=!0;var i=t?0:H;a.to(this.bg,i,{ease:"power4.out",width:n,height:V}),a.to(this.bg,H,{scaleX:1.05,scaleY:1.05,overwrite:!1}),a.to(this.labelEl,i,{ease:"power4.out",width:n-V,onComplete:function(){e.labelEl.style.width="auto"}})}}},{key:"ariaHidden",value:function(t){this.pano.isGuidedNav()&&this.setAriaHidden(t)}},{key:"setAriaHidden",value:function(t){null!=this.accChildEl&&(t?this.accChildEl.setAttribute("aria-hidden",!0):this.accChildEl.removeAttribute("aria-hidden")),null!=this.accHotspotHintEl&&(t?this.accHotspotHintEl.setAttribute("aria-hidden",!0):this.accHotspotHintEl.removeAttribute("aria-hidden"))}},{key:"hide",value:function(){this.el.style.visibility="hidden",this.el.style.cursor="default",this.sprite.visible=!1,this.backSprite.visible=!1,null!=this.hotspotHint&&this.hotspotHint.hide(),this.ariaHidden(!0)}},{key:"show",value:function(){this.el.style.visibility="visible",this.el.style.cursor=null,this.sprite.visible=!0,this.backSprite.visible=!0,this.ariaHidden(!1)}},{key:"hideLabel",value:function(){this.props.label&&null!=this.labelEl&&(this.labelShown=!1,a.to(this.bg,H,{ease:"power4.out",width:V,height:V,scaleX:1,scaleY:1}),a.to(this.labelEl,H,{ease:"power4.out",width:0}))}},{key:"hideShowControlPoints",value:function(t,e){(this.isHotspot()||e)&&[this.ctrlTl,this.ctrlTr,this.ctrlBr,this.ctrlBl].forEach((function(e){e.style.display=t?"block":"none"}))}},{key:"displayBounds",value:function(){var t=this.pano.spriteWidth,e=this.pano.spriteHeight;if(this.isHotspot()){var n=this.el.getBoundingClientRect();t=n.width,e=n.height}if(t&&e){var i=t/V,r=1/i,o=e/V,s=1/o,a=Math.min(r,s);Math.min(i,o);this.hideShowControlPoints(!1),this.isHotspot()?(this.hbT.setAttribute("stroke-width",4*s),this.hbR.setAttribute("stroke-width",4*r),this.hbB.setAttribute("stroke-width",4*s),this.hbL.setAttribute("stroke-width",4*r)):this.boundsRect.setAttribute("stroke-width",this.isHotspot()?4*a:a),this.ctrlTl.setAttribute("stroke-width",a),this.ctrlTl.setAttribute("transform","scale("+r+", "+s+")");var l=V*i,u=V*o,c="scale("+r+", "+s+")";return this.ctrlTr.setAttribute("stroke-width",a),this.ctrlTr.setAttribute("transform",c+" translate("+l+", 0)"),this.ctrlBr.setAttribute("stroke-width",a),this.ctrlBr.setAttribute("transform",c+" translate("+l+", "+u+")"),this.ctrlBl.setAttribute("stroke-width",a),this.ctrlBl.setAttribute("transform",c+" translate(0, "+u+")"),this.boundsEl.style.display="block",this}}},{key:"controlPoints",value:function(){var t=this;return["tl","tr","br","bl"].reduce((function(e,n){return'<rect class="marker-ctrl-'+n+'"\n          style="display:'+(t.isHotspot()?"none":"block")+'"\n          stroke="blue" fill="white" stroke-width="1"\n          x="'+'-3.5" y="'+'-3.5"\n          width="7" height="7"\n          vector-effect="non-scaling-stroke"/>'+e}),"")}},{key:"editableHotspot",value:function(){this.isHotspot()&&(this.boundsEl.style.display=this.editMode?"block":"none")}},{key:"hotspotBorder",value:function(){var t=this.pano.hotspotColor;return'\n        <g class="hot-borders">\n          <path class="hot-border-t" d="M 0 0 L 50 0" stroke-width="1" stroke="'+t+'" />\n          <path class="hot-border-r" d="M 50 0 L 50 50" stroke-width="1" stroke="'+t+'" />\n          <path class="hot-border-b" d="M 50 50 L 0 50" stroke-width="1" stroke="'+t+'" />\n          <path class="hot-border-l" d="M 0 50 L 0 0" stroke-width="1" stroke="'+t+'" />\n        </g>\n      '}},{key:"updateHotspotColor",value:function(){var t=this;[this.hbT,this.hbR,this.hbB,this.hbL].forEach((function(e){e.setAttribute("stroke",t.pano.hotspotColor)})),this.boundsEl.firstElementChild.setAttribute("fill",this.pano.hotspotTransColor)}},{key:"editableMarker",value:function(){this.el.style.cursor=this.pano.editMode?B:null}},{key:"panoReady",value:function(){if(this.editMode||this.isGuided()){var t=this.boundsEl.firstElementChild;this.isHotspot()?(t.setAttribute("fill",this.pano.hotspotTransColor),t.setAttribute("stroke","none"),l.addClass(this.boundsEl,"hotspot-bounds"),this.boundsEl.style.display="block",this.boundsEl.style.overflow="hidden",this.displayBounds(),this.hotBordersEl.style.display="block"):(l.removeClass(this.boundsEl,"hotspot-bounds"),t.setAttribute("fill","none"),t.setAttribute("stroke","white"),this.boundsEl.style.overflow="visible",this.hotBordersEl.style.display="none")}}},{key:"setAccChild",value:function(t){this.accChildEl=t.querySelector('[data-marker-id="'+this.id+'"]'),null!=this.panel&&(this.panel.accChildEl=t.querySelector('[data-panel-id="'+this.id+'"]'),this.panel.initAccScroll()),null!=this.hotspotHint&&(this.accHotspotHintEl=t.querySelector('[data-hot-hint-id="'+this.id+'"]'),this.accHotspotHintBubbleEl=t.querySelector("#acc-hot-hint-"+this.id))}},{key:"setAccFocus",value:function(t){var e=this;if(null!=this.accChildEl){var n=this.pano.threeSixtyAcc;if(n.focusByClick=!0,this.isHotspot()){n.sizeChildToAbsRect({left:t.x-30,top:t.y-30,width:60,height:60},this.accChildEl,{getBoundingClientRect:function(){return{left:0,top:0}}})}else n.sizeChildToAbsRect(this.el,this.accChildEl);this.accChildEl.focus(),this.wasFocusedByClick=!0,null!=this.panel&&null!=this.panel.accChildEl&&setTimeout((function(){n.showPanel(e.panel,0)}),200)}}},{key:"getAccHtml",value:function(){var t=d.getString("three_image_hotspot"),e=d.getString("three_image_marker"),n=this.props.hasPanel,i=u.getPath(this,"panel.titleEl.textContent"),r=this.props.name!=i?this.props.name:"",o=!!this.pano.isGuidedNav()&&(this.isHotspot()?!this.polyHotspot.isVisible:!this.sprite.visible);!this.pano.hotspotReveal&&this.pano.isGuidedNav()&&null!=this.polyHotspot&&(this.polyHotspot.canBeClicked,o=!this.polyHotspot.canBeClicked);var s="";return null!=this.hotspotHint&&(s+=this.hotspotHint.getAccHtml(this.id,o)),s+='<button\n        aria-label="'+(this.isHotspot()?t:"")+" "+e+" "+r+'"\n        class="acc-shadow-el acc-button acc-three-sixty-marker"\n        id="acc-m-'+this.id+'"\n        data-marker-id="'+this.id+'"\n        aria-hidden="'+o+'"\n        aria-controls="acc-'+this.id+'"\n        '+this.getTooltipAccRef()+'\n      tabindex="0" role="button" '+(n?'aria-expanded="false"':"")+">\n        <p><span>"+r+"</span></p>\n      </button>\n      "+this.getTooltipAccHtml()+"\n      ",n&&!D.isPhone&&(s+=this.panel.getAccHtml(this.id)),s}},{key:"getTooltipAccId",value:function(){return"acc-tooltip-"+this.id}},{key:"getTooltipAccRef",value:function(){return this.tooltipEnabled()?'aria-describedby="'+this.getTooltipAccId()+'"':""}},{key:"getTooltipAccHtml",value:function(){if(!this.tooltipEnabled())return"";var t=d.getString("three_image_tooltip"),e=u.getPath(this,"props.tooltip.body.innerHTML","");return'\n        <div\n          id="'+this.getTooltipAccId()+'"\n          role="tooltip"\n          style="visibility: hidden;"\n        >'+t+" : "+e+"</div>"}},{key:"createGraphics",value:function(){this.el=document.createElement("div"),this.el.classList.add("marker-el");var t=y(z);this.el.innerHTML='\n        <div class="marker-content">\n          <div class="bg"></div>\n          '+t+'\n        </div>\n        <svg class="marker-bounds" style="display:none;">\n          <rect\n            class="marker-bounds-rect" stroke="white" fill="none" stroke-width="1"\n            x=0 y="0" width="'+'50" height="'+'50" />\n\n          '+this.hotspotBorder()+"\n          "+this.controlPoints()+"\n        </div>\n      ",this.boundsEl=this.el.querySelector(".marker-bounds"),this.boundsRect=this.el.querySelector(".marker-bounds-rect"),this.ctrlTl=this.el.querySelector(".marker-ctrl-tl"),this.ctrlTr=this.el.querySelector(".marker-ctrl-tr"),this.ctrlBr=this.el.querySelector(".marker-ctrl-br"),this.ctrlBl=this.el.querySelector(".marker-ctrl-bl"),this.hotBordersEl=this.el.querySelector(".hot-borders"),this.hbT=this.el.querySelector(".hot-border-t"),this.hbR=this.el.querySelector(".hot-border-r"),this.hbB=this.el.querySelector(".hot-border-b"),this.hbL=this.el.querySelector(".hot-border-l"),this.bg=this.el.querySelector(".bg"),this.bg.classList.add(this.props.type+"-type"),this.addLabel(),this.content=this.el.querySelector(".marker-content"),null==this.canvas||DS.detection.browser.isIE11||(this.content.style.opacity=0),this.bgRect=this.bg.querySelector(".bg-rect"),this.icon=this.el.querySelector(".icon"),this.currentState="normal",this.updateProps(),this.panoReady(),this.editableMarker()}},{key:"enterAnimation",value:function(){"moveUp"===this.props.animation&&(this.bg.style.boxShadow="0 5px 20px rgba(0, 0, 0, 0.3)",a.to(this.content,.5,{y:-5,ease:"power4.out"})),"scaleUp"===this.props.animation&&(this.bg.style.boxShadow="0 0 20px rgba(0, 0, 0, 0.3)",a.to(this.content,.5,{scaleX:1.05,scaleY:1.05,ease:"power4.out"}))}},{key:"enterLabel",value:function(){this.props.hasLabel&&"hover"===this.props.label.showOn&&this.showLabel()}},{key:"leaveAnimation",value:function(){"moveUp"===this.props.animation&&(a.to(this.content,.2,{y:0,ease:"power4.out"}),this.bg.style.boxShadow=this.props.boxShadow),"scaleUp"===this.props.animation&&(a.to(this.content,.5,{scaleX:1,scaleY:1,ease:"power4.out"}),this.bg.style.boxShadow=this.props.boxShadow)}},{key:"leaveLabel",value:function(){this.props.hasLabel&&"hover"===this.props.label.showOn&&this.hideLabel()}},{key:"disableActive",value:function(t){this.active&&(this.active=!1,this.setState(t||"normal"))}},{key:"downPano",value:function(){this.pano.setCurrMarker(this.sprite),this.pano.downOnMarker=!0,this.pano.stopVelocity()}},{key:"downActiveState",value:function(){var t=this;null!=this.props.states.active&&(this.active=!0,this.setState("active"),this.props.hasLabel||window.requestAnimationFrame((function(){document.addEventListener(O,t.onReleaseOutsideLabel)})))}},{key:"downShowHidePanel",value:function(){null==this.panel||this.labelShown||(this.panel.shown?(this.panel.hide(),this.disableActive("over")):this.keepPanelHidden?(this.keepPanelHidden=!1,this.disableActive("over")):(this.panel.show(),this.panel.hideSelectionBoxes())),null!=this.tooltip&&(this.tooltip.isShown()?this.tooltip.hide():this.keepTooltipHidden?this.keepTooltipHidden=!1:this.tooltip.showEditMode())}},{key:"downEditMode",value:function(){if(this.pano.editMode)return this.pano.displayBoundingBox(),void(this.pano.boundingBox.style.display="block")}},{key:"downLabel",value:function(){this.props.hasLabel&&"down"===this.props.label.showOn&&(this.showLabel(),document.addEventListener(O,this.onReleaseOutsideLabel))}},{key:"downTooltip",value:function(){null!=this.tooltip&&this.tooltip.markerClicked()}},{key:"disablePulse",value:function(){this.backSprite.material=this.pano.getBackSpriteMaterial(e.cloneDeep(this.props),!0),this.isHotspot()&&null!=this.polyHotspot&&this.polyHotspot.disablePulse()}},{key:"enablePulse",value:function(){this.backSprite.material=this.pano.getBackSpriteMaterial(e.cloneDeep(this.props),!1),this.isHotspot()&&null!=this.polyHotspot&&this.polyHotspot.enablePulse()}},{key:"shouldTrack",value:function(){return!this.props.untracked||this.pano.isGuidedNav()}},{key:"reset",value:function(){this.isVisited&&(this.isVisited=!1,this.enablePulse()),null!=this.panel&&this.panel.hide()}},{key:"updateResume",value:function(){null!=this.panel&&this.pano.model.updateLabelState(this.idx,this.panel.shown),this.pano.model.setVisitedMarkers()}},{key:"addToVisitedMarkers",value:function(){null!=this.pano.model&&(null!=this.panel&&this.pano.model.updateLabelState(this.idx,this.panel.shown),this.isVisited?this.pano.model.setVisitedMarkers():this.pano.model.addVisitedMarker(this.idx)),this.visited=!0}},{key:"setHotspotHintViewed",value:function(){this.props.hasHotspotHint&&null!=this.hotspotHint&&this.hotspotHint.setViewed()}},{key:"resumeVisited",value:function(t){var e=this;if(this.isVisited=!0,this.setHotspotHintViewed(),this.disablePulse(),this.isHotspot()&&null!=this.polyHotspot&&(this.polyHotspot.visited=!0),null!=this.panel&&t)if(this.isHotspot()){var n=this.polyHotspot;window.requestAnimationFrame((function(){e.pano.calcSceneRect();var t=e.pano.vecToScreenPosition(n.getCenterPoint(n.shapeMesh));e.panel.show(!0,t)}))}else this.panel.forcePlaceCenter=!0,window.requestAnimationFrame((function(){e.panel.show()}))}},{key:"teardown",value:function(){null!=this.hotspotHint&&(this.hotspotHint.enable(!1),this.hotspotHint.destroy(),this.hotspotHint=null),null!=this.tooltip&&(this.tooltip.enable(!1),this.tooltip.destroy(),this.tooltip=null),this.editorListeners(!1);var t=this.object.element;t.removeEventListener(k,this.onMouseEnter),t.removeEventListener(M,this.onMouseLeave),document.removeEventListener(L,this.onMouseMove),t.removeEventListener(P,this.onMouseUp)}},{key:"updateScale",value:function(){null!=this.object&&this.scale(this.props.scale)}},{key:"markerUpdated",value:function(){var t=this;this.isHotspot()||(clearTimeout(this.updateId),this.updateId=setTimeout((function(){c.trigger(h.threeSixtyImage.MARKER_UPDATED,t)}),100))}},{key:"scale",value:function(t,e){null!=t&&null!=e&&(this.scaleX(t),this.scaleY(e))}},{key:"scaleX",value:function(t){null!=t&&(this.sprite.scale.x=t,this.object.scale.x=t/V,this.props.scaleX=t,this.backSprite.scale.x=this.backSprite.scale.y=Math.min(3*this.props.scaleX,3*this.props.scaleY),this.markerUpdated())}},{key:"scaleY",value:function(t){null!=t&&(this.sprite.scale.y=t,this.object.scale.y=t/V,this.props.scaleY=t,this.backSprite.scale.x=this.backSprite.scale.y=Math.min(3*this.props.scaleX,3*this.props.scaleY),this.markerUpdated())}},{key:"updatePosition",value:function(t,e,n){null!=t&&(this.object.position.x=t,this.sprite.position.x=t,this.backSprite.position.x=t),null!=e&&(this.object.position.y=e,this.sprite.position.y=e,this.backSprite.position.y=e),null!=n&&(this.object.position.z=n,this.sprite.position.z=n,this.backSprite.position.z=n),this.markerUpdated()}},{key:"createSprite",value:function(t){var e=new THREE.CSS3DSprite(this.el);this.object=e,e.position.x=t.x,e.position.y=t.y,e.position.z=t.z,this.pano.cssScene.add(e),this.pano.polyHotspot||(e.element.style.pointerEvents="all"),R||e.element.addEventListener(k,this.onMouseEnter),e.element.addEventListener(M,this.onMouseLeave),e.element.addEventListener(O,this.onMouseDown),document.addEventListener(L,this.onMouseMove),e.element.addEventListener(P,this.onMouseUp),"number"==typeof this.props.scale&&(this.props.scale=[this.props.scale,this.props.scale]),this.isHotspot()?this.scale(F,F):null!=this.props.scaleX&&null!=this.props.scaleY?this.scale(this.props.scaleX,this.props.scaleY):this.scale(F,F)}},{key:"triggerEvent",value:function(t,e){this.editMode||this.pano.model.executeFilteredPlayerEvent((function(t){return t.triggerid===e}),t)}},{key:"triggerMouseOver",value:function(t){this.editMode||null!=this.tooltip&&this.tooltip.mouseOver(t)}},{key:"triggerMouseOut",value:function(){this.editMode||null!=this.tooltip&&this.tooltip.mouseOut()}},{key:"getMetrics",value:function(t){var e=this;this.pano.calcSceneRect();var n,i,r={},o=D.isMobile?{width:this.pano.newWidth,height:this.pano.newHeight}:this.pano.sceneRect,s=o.width,a=o.height;if(this.isHotspot()){var l=t||(n=e.polyHotspot,i=n.getCenterPoint(n.shapeMesh),e.pano.vecToScreenPosition(i,!0));Object.assign(r,{width:0,height:0,x:l.x,y:l.y,scale:this.pano.sceneScale})}else this.pano.projection(this.sprite,(function(t,n,i){var o=s/2,l=a/2,u=n.scale,c=u.x,h=u.y;D.isMobile&&((t=i).x*=o,t.y*=-l);var d=c*o,p=h*l;Object.assign(r,{width:d,height:p,x:t.x+o-d/2,y:t.y+l-p/2,scale:e.pano.sceneScale})}));return r.leftSide=r.x+r.width/2<this.pano.width/2,r}},{key:"dragging",set:function(t){this.pano.editMode&&(this.el.style.cursor=t?'url("Moving.cur"), auto':B),this.isDragging=t},get:function(){return this.isDragging}},{key:"visited",set:function(t){t&&(this.pano.markerIdxInView=this.idx),this.isVisited||(this.isVisited=t,this.shouldTrack()&&this.pano.updateVisitedMarkers(),this.isVisited&&(this.disablePulse(),this.setHotspotHintViewed()))},get:function(){return this.isVisited}}]),t}()}.call(e,n,e,t))||(t.exports=i)},3508:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}void 0===(i=function(t){var e=this,i=n(6486),s=n(9045).modes,a=n(5505),l=a.downOrTouchStart,u=a.moveOrTouchMove,c=a.upOrTouchEnd,h=n(3163),d=h.IMAGE_MEDIA_TYPE,p=h.VIDEO_MEDIA_TYPE,f=h.AUDIO_MEDIA_TYPE,v=h.ALL_MEDIA_TYPE,g=n(7536).Z_INDEX_MID,m=n(8579),y=m.orientation,b=m.device,w=m.deviceView,A=m.os.isAndroid,E=n(1815).navigation,S=n(1251),T=n(9032),x=n(8880),C=n(1681),_=n(8901),k=n(3684),M=n(133),O=n(7929),L=n(1354),P=n(9777),I=n(7954),R=I.parseFontFamily,D=I.parseFontThemeType,N=I.unpackHex,H=I.rectPath,V=n(82),F=n(9337),B=F.isLeftClickOrTouch,j=F.touchify,U=150,z="-45%",W=Math.abs(parseInt(z,10)/100),G='\n    <div class="panel-mobile-icon-close" role="button" tabIndex="0" aria-label="'+C.getString("close")+'">\n      <svg width="20" height="20" viewBox="0 0 36 36" focusable="false" data-ref>\n        <polygon fill="black" points="36,2.826 33.174,0 18,15.174 2.826,0 0,2.826 15.174,18 0,33.174 2.826,36 18,20.826 33.174,36 36,33.174 20.826,18" />\n      </svg>\n    </div>\n  ',q=function(){function t(e){var n=this,i=e.pano,r=e.marker,o=e.data,a=e.disabled;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onMouseUp=function(t){if(null!=n.accChildEl){var e=n.pano.threeSixtyAcc,i=t.target;if(S.hasClass(i,"panel-audio-play")){e.showPanel(n,0,!1);var r=n.accChildEl.querySelector(".acc-three-sixty-media-play-audio");null!=r&&(r.focus(),e.focusByClick=!0)}else if(S.closest(i,(function(t){return S.hasClass(t,"panel-audio-seek")}))){e.showPanel(n,0,!1);var o=n.accChildEl.querySelector(".acc-audio-slider");null!=o&&(o.focus(),e.focusByClick=!0)}}},this.onTouchStart=function(t){if(n.touchDown=!0,n.touchMoveCount=0,n.touchedPullHit=!1,t.target.classList.contains("panel-mobile-pull-hit")&&(n.touchedPullHit=!0),!t.target.classList.contains("panel-mobile-icon-close")&&y.isPortrait&&n.elementIsPullable(t.target)){n.touchPull=!0;var e=j(t),i=e.pageX,r=e.pageY;n.touchStartY=r,n.panelBubbleEl.style.transition="none",null==n.pullDirection||"none"==n.pullDirection?(n.touchOffY=function(){return window.innerHeight*W},n.lastPullDirection="none"):"up"===n.pullDirection&&(n.touchOffY=function(){return.02*window.innerHeight},n.lastPullDirection="up"),n.touchStartX=i}},this.onTouchMove=function(t){n.touchDown&&n.touchPull&&(t.stopImmediatePropagation(),n.touchMoveCount++,n.beginSwipeDirection(t),"horizontal"===n.initialDir?n.performHorizSwipe(t):"vertical"===n.initialDir&&n.performVerticalPull(t))},this.onTouchEnd=function(t){if(n.touchedPullHit&&t.target.classList.contains("panel-mobile-pull-hit")&&"down"!=n.pullDirection?n.el.classList.contains("panel-mobile-collapsed")?(n.pullDirection="up",n.touchPull=!0):(n.pullDirection="none",n.touchPull=!0):(t.target.classList.contains("panel-mobile-icon-close")||t.target.classList.contains("three-guided")||t.target.classList.contains("panel-overlay-path")||t.target.classList.contains("three-sixty-image-mobile-overlay"))&&(n.pullDirection="down",n.touchDown=n.touchPull=!0),(n.swipePanelNext||n.swipePanelPrev)&&(n.panelBubbleEl.style.transition="left 150ms ease-out",n.swipeNoNav?(n.panelBubbleEl.style.left=0,n.swipePanelNext=n.swipePanelPrev=!1):n.touchSwipe=!0,n.swipePanelNext?(n.panelBubbleEl.style.left="-100%",n.isGuidedNextShow=!0,n.pano.goNextGuided()):n.swipePanelPrev&&(n.isGuidedPrevShow=!0,n.panelBubbleEl.style.left="100%",n.pano.goPrevGuided()),n.touchPull=!1),n.initialDir=null,n.touchDown&&n.touchPull)if(n.panelBubbleEl.style.transition="bottom 150ms ease-out","up"===n.pullDirection)n.panelBubbleEl.style.bottom="0%",n.el.classList.remove("panel-mobile-collapsed"),n.panelPullEl.setAttribute("aria-expanded",!0),n.scroller.enableMobile();else if("down"===n.pullDirection){if(n.panelBubbleEl.style.bottom="-100%",null!=n.pano.currMarker&&n.pano.currMarker.userData.cssMarker.disableActive(),n.pano.deselectMarker(),n.scroller.disableMobile(),A){var e=null!=document.activeElement&&document.activeElement.classList.contains("panel-mobile-icon-close")&&(null==n.lastElFocused||n.lastElFocused!=n.el);n.lastElFocused=document.activeElement,setTimeout((function(){var t=n.marker.accChildEl.parentNode.querySelector(".acc-three-sixty-nav-next");null!=t?t.focus():e&&(n.marker.accChildEl.focus(),n.lastElFocused=null)}),300)}T.trigger(x.threeSixtyImage.PUSH_DOWN_BY_LABEL)}else"none"===n.pullDirection&&(n.el.classList.add("panel-mobile-collapsed"),n.panelPullEl.setAttribute("aria-expanded",!1),n.panelBubbleEl.style.bottom=z,n.scroller.disableMobile(),T.trigger(x.threeSixtyImage.PUSH_UP_BY_LABEL));n.touchDown=!1,n.touchPull=!1,n.touchSwipe?setTimeout((function(){n.touchSwipe=!1,n.swipePanelNext=!1,n.swipePanelPrev=!1,n.hide(),n.panelBubbleEl.style.left=0,n.panelBubbleEl.style.bottom=z,n.pullDirection=null}),75):"down"===n.pullDirection&&setTimeout((function(){n.hide(),n.panelBubbleEl.style.bottom=z,n.pullDirection=null}),U)},this.onEditMode=function(t){n.setupInputElement(n.titleEl),n.setupInputElement(n.bodyEl)},this.onFocusIn=function(t){var e=t.currentTarget===n.bodyEl?t.currentTarget.parentNode:t.currentTarget;n.showSelectionBox(e,!0)},this.onContentPasted=function(t){t.preventDefault();var e=(t.clipboardData||window.clipboardData).getData("Text");t.currentTarget===n.titleEl&&(e=e.replace(/(\r\n|\n|\r)/gm," "));var i=document.getSelection(),r=i.getRangeAt(0);r.deleteContents();var o=document.createTextNode(e);r.insertNode(o),r.selectNodeContents(o),r.collapse(!1),i.removeAllRanges(),i.addRange(r),n.onContentChanged(t)},this.onContentChanged=function(t){n.updateTextData(n.data.title,n.titleEl),n.updateTextData(n.data.body,n.bodyEl),n.data.hasArrow&&n.bubbleArrowEl.classList.contains("panel-dir-left")&&(n.useAnchor=!0),n.clearWhitespace(t.currentTarget),n.positionGradient(!0),n.updateInteractableElements();var e=t.currentTarget===n.bodyEl?t.currentTarget.parentNode:t.currentTarget;n.showSelectionBox(e,!0),T.trigger(x.threeSixtyImage.MARKER_UPDATED,n.marker)},this.onEditorKeyDown=function(t){var e=66===t.which||85===t.which||73===t.which||67===t.which||88===t.which||86===t.which||90===t.which,i=13===t.which,r=t.currentTarget===n.titleEl;(t.ctrlKey&&e||i&&r)&&t.preventDefault(),t.currentTarget===n.mediaImageEl&&t.preventDefault()},this.onMediaModalKeydown=function(t){n.mediaShowing&&(9==t.which&&t.preventDefault())},this.onReleaseOutside=function(t){if(B(t)&&((!(!n.pano.editMode&&!S.isWithin(t.target,"slide-container"))||S.isWithin(t.target,"panel-media-overlay"))&&!t.target.dataset.isMediaAudio&&!t.target.dataset.isMediaVideo&&n.pano.mode!==s.SET_CROP_IMAGE_MEDIA&&!["panel-el","marker-el","panel-image-container","panel-video-container","hint","tooltip"].some((function(e){return S.isWithin(t.target,e)})))){var e=n.isMediaShowing(d),i=n.isMediaShowing(p);e||i?setTimeout((function(){n.hideMediaType(d),n.hideMediaType(p)}),300):n.hide()}},this.positionPanel=function(t,e,i){n.pano.calcSceneRect();var r=n.pano.sceneRect;w.isTablet&&(t=i,r.width=n.pano.newWidth,r.height=n.pano.newHeight,t.x*=n.pano.newWidth/2,t.y*=-n.pano.newHeight/2);var o=e.scale.x*r.width/2,s=e.scale.y*r.height/2,a=!1;if(n.marker.isHotspot()&&!n.marker.polyHotspot&&n.pano.editMode){var l=document.elementsFromPoint(S.mouseX,S.mouseY).find((function(t){return t.classList.contains("marker-bounds-rect")}));null==l||null==V.getPath(n,"marker.el")||n.marker.el.contains(l)||(o=s=0,a=!0)}var u=n.marker.isHotspot()&&!a?n.getHotspotSizeInfo():{width:o,height:s,x:t.x+r.width/2,y:t.y+r.height/2},c=u.x,h=u.y,d=u.width,p=u.height;n.useAnchor?(c=n.lastAnchor.x,h=n.lastAnchor.y):n.lastAnchor={x:c,y:h},(0===c||0===h||n.forcePlaceCenter)&&(c=t.x+r.width/2,h=t.y+r.height/2,n.forcePlaceCenter=!1),n.calcSmartScale(),n.calcPanelTransform(c,h,d,p)},this.onAccKeyDown=function(t){var e=DS.constants.keys,i=(e.UP,e.DOWN);t.target.id==="acc-"+n.marker.id&&(t.which===i?n.panelBodyContainerEl.scrollTop+=10:n.panelBodyContainerEl.scrollTop-=10,n.scroller.onMouseOver())},this.onAccKeyUp=function(t){t.target.id==="acc-"+n.marker.id&&(clearTimeout(n.hideAccScrollbar),n.hideAccScrollbar=setTimeout((function(){n.scroller.onMouseOut()}),200))},this.createOrUpdateImage=function(t){n.createOrUpdateMedia("destroyImage",(function(){return n.mediaImageEl}),(function(){return O(n,t)}))},this.createOrUpdateVideo=function(t){n.createOrUpdateMedia("destroyVideo",(function(){return n.mediaVideoPosterEl}),(function(){return M(n,t)}))},this.createOrUpdateAudio=function(t){n.createOrUpdateMedia("destroyAudio",(function(){return n.mediaAudioEl}),(function(){return k(n,t)}))},this.createOrUpdateMedia=function(t,e,i){n.pano.withoutOnSelectionChange((function(){var r=n[t],o=null!=r,s=o&&n.getSelectionBox(e()).shown;o&&r(),r=i(),n[t]=function(){r(),n[t]=null},s&&n.showSelectionBox(e(),!0),n.updateAfterMediaChange()}))},this.onLeftLink=function(){n.hide();var t=n.data.navigation,e=n.pano.getMarker(t.leftLink);n.pano.selectNextSprite=!0,n.pano.setCurrMarker(e.sprite),n.pano.panToMarker(t.leftLink)},this.onRightLink=function(){n.hide();var t=n.data.navigation,e=n.pano.getMarker(t.rightLink);n.pano.selectNextSprite=!0,n.pano.setCurrMarker(e.sprite),n.pano.panToMarker(t.rightLink)},this.updateScroll=function(){null!=n.selections&&n.selections.forEach((function(t){return t.update()}))},this.pano=i,this.marker=r,this.overlaysEl=this.pano.overlaysEl,this.editMode=i.editMode,this.shown=!1,this.scale=1,this.selectionBoxes=new WeakMap,this.isMediaTypeActive=new Map,this.showMedia=new Map,this.hideMedia=new Map,this.createdMediaCache=new Map,this.selections=[],this.disabled=a,this.createDefaults(),this.setData(o),this.createGraphics(),this.setupMobile(),this.el.addEventListener(c,this.onMouseUp),T.on(x.threeSixtyImage.EDIT_MODE_CHANGED,this.onEditMode)}return r(t,[{key:"setupMobile",value:function(){w.isPhone&&(this.lastPullDirection=this.pullDirection="none",this.el.classList.add("panel-mobile-collapsed"),this.el.addEventListener(l,this.onTouchStart),document.addEventListener(u,this.onTouchMove,{passive:!1}),document.addEventListener(c,this.onTouchEnd),A&&(document.addEventListener("mousemove",this.onTouchMove,{passive:!1}),this.el.addEventListener("mouseup",this.onTouchStart),this.el.addEventListener("click",this.onTouchEnd)),this.touchDown=!1)}},{key:"elementIsPullable",value:function(t){var e=["panel-bubble","panel-content","panel-content-grad-bottom","panel-head","panel-body-outer","panel-mobile-pull-hit"].some((function(e){return t.classList.contains(e)})),n=!1;S.parentNodesOf(t,(function(t){t.classList.contains("panel-video-poster")&&(n=!0)}));var i=!1;return t.classList.contains("panel-framed-image-thumb")&&this.el.classList.contains("panel-mobile-collapsed")&&(i=!0),e||n||i}},{key:"quickLabelSwipe",value:function(t){var e=!1,n=!1;return this.touchMoveCount<=10&&Math.abs(t)>3&&(t<0?n=!0:e=!0),{fastUp:e,fastDown:n}}},{key:"beginSwipeDirection",value:function(t){if(!t.target.classList.contains("panel-content")||this.el.classList.contains("panel-mobile-collapsed")){var e=j(t),n=e.pageX,i=e.pageY;if(null==this.initialDir&&n>30){var r=Math.abs(n-this.prevTouchX),o=Math.abs(i-this.prevTouchY);this.prevTouchX=n,this.prevTouchY=i,this.touchMoveCount>4&&(this.initialDir=o>=r?"vertical":"horizontal")}this.swipePanelNext=this.swipePanelPrev=this.swipeNoNav=!1,this.pano.isGuidedNav()||"horizonal"!==this.initialDir||(this.initialDir="vertical")}}},{key:"performHorizSwipe",value:function(t){if(this.pano.isGuidedNav()){var e=j(t).pageX-this.touchStartX;this.panelBubbleEl.style.left=e+"px",this.lastOffX=Math.abs(e),e<-5?this.swipePanelNext=!0:e>5&&(this.swipePanelPrev=!0),this.lastOffX<50&&(this.swipeNoNav=!0);var n=0===this.pano.markerIdxInView&&this.swipePanelPrev,i=!this.pano.canNavNextMarker()&&this.swipePanelNext;(n||i)&&(this.swipeNoNav=!0)}}},{key:"performVerticalPull",value:function(t){var e=this.touchOffY(),n=j(t).pageY,i=this.touchStartY-n,r=Math.min(0,i-e),o=r+e;this.panelBubbleEl.style.bottom=r+"px",this.panelBubbleEl.style.left=0,this.pullDirection="none";var s=this.quickLabelSwipe(o),a=s.fastUp,l=s.fastDown;this.scroller.disableMobile(),"none"===this.lastPullDirection&&(o>50||a?(this.pullDirection="up",this.touchedPullHit=!1):(o<-70||l)&&(this.pullDirection="down",this.touchedPullHit=!1))}},{key:"addSelectionBox",value:function(t){if(null==this.getSelectionBox(t.targetEl)){var e=new L(t);this.selections.push(e),this.selectionBoxes.set(t.targetEl,e)}}},{key:"removeSelectionBox",value:function(t){var e=this,n=this.getSelectionBox(t);null!=n&&this.pano.withOnSelectionChange((function(){e.selections=i.without(e.selections,n),e.selectionBoxes.delete(t),n.destroy()}))}},{key:"getSelectionBox",value:function(t){return null!=this.selectionBoxes?this.selectionBoxes.get(t):null}},{key:"showSelectionBox",value:function(t,e){var n=this,i=this.getSelectionBox(t);return this.pano.withOnSelectionChange((function(){null!=i&&i.show(),e&&null!=n.selections&&n.selections.forEach((function(t){t!=i&&t.hide()}))})),i}},{key:"isEmptyOrWhitespace",value:function(t){if(""===t.innerText.trim()){return!/\<(span|ol|ul|li|blockquote)\/?\>/i.test(t.innerHTML)}return!1}},{key:"clearWhitespace",value:function(t){this.isEmptyOrWhitespace(t)&&(t.innerHTML="")}},{key:"hideSelectionBox",value:function(t){var e=this.getSelectionBox(t);null!=e&&this.pano.withOnSelectionChange((function(){e.hide()}))}},{key:"hideSelectionBoxes",value:function(){var t=this;null!=this.selections&&this.pano.withOnSelectionChange((function(){t.selections.forEach((function(t){t.hide()}))}))}},{key:"destroySelectionBoxes",value:function(){var t=this;this.pano.withOnSelectionChange((function(){t.selections.forEach((function(t){return t.destroy()})),t.selections=null,t.selectionBoxes=null}))}},{key:"showPlaceholderSelectionBoxes",value:function(){var t=this;this.pano.withoutOnSelectionChange((function(){t.isEmptyOrWhitespace(t.titleEl)&&t.showSelectionBox(t.titleEl,!1),t.isEmptyOrWhitespace(t.bodyEl)&&t.showSelectionBox(t.bodyEl.parentNode,!1)}))}},{key:"inputElementEventListeners",value:function(){var t=function(t,e){return{eventName:t,eventHandler:e}};return[t("input",this.onContentChanged),t("keydown",this.onEditorKeyDown),t("paste",this.onContentPasted),t("formatMessage",this.onContentChanged),t("focusin",this.onFocusIn)]}},{key:"setupInputElement",value:function(t){t.contentEditable=!0,t.spellcheck=!0;var e=this.inputElementEventListeners(),n=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;t.addEventListener(a.eventName,a.eventHandler)}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}}},{key:"teardownInputElement",value:function(t){var e=this.inputElementEventListeners(),n=!0,i=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var a=o.value;t.removeEventListener(a.eventName,a.eventHandler)}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}}},{key:"remove",value:function(){var t=this,e=document.querySelector(".three-sixty-image-mobile-overlay");null!=this.panelButton&&this.panelButton.destroy(),null!=e&&e.parentNode.removeChild(e),this.pano.withoutOnSelectionChange((function(){null!=t.el.parentNode&&t.el.parentNode.removeChild(t.el),t.checkRemoveMedia(v,{cleanup:!0}),T.off(x.threeSixtyImage.EDIT_MODE_CHANGED,t.onEditMode),t.teardownInputElement(t.titleEl),t.teardownInputElement(t.bodyEl),t.destroySelectionBoxes()})),this.teardownMobile(),this.teardownAccScroll()}},{key:"teardownMobile",value:function(){this.el.removeEventListener(l,this.onTouchStart),document.removeEventListener(u,this.onTouchMove),document.removeEventListener(c,this.onTouchEnd)}},{key:"updateInteractableElements",value:function(){var t=this;this.pano.calcSceneRect(),this.scroller.update();!function(){var e,n;if(t.pano.editMode&&null!=t.selections)for(var i=0;i<t.selections.length;i++){var r=t.selections[i];r.targetEl===t.bodyEl&&(e=r,(n=r.targetEl.parentNode).scrollHeight!=n.clientHeight?(e.padding.bottom=0,e.update()):0===e.padding.bottom&&(e.padding.bottom=-15,e.update())),r.update()}}()}},{key:"refreshMobileScrollbar",value:function(){this.updatePanelHeight(),this.scroller.update(),y.isLandscape?(this.panelBubbleEl.style.left=null,T.trigger(x.threeSixtyImage.UN_PUSH_LABEL),this.scroller.enableMobile()):this.shown&&(this.panelBubbleEl.style.bottom===z&&this.scroller.disableMobile(),T.trigger(x.threeSixtyImage.PUSH_UP_BY_LABEL))}},{key:"resize",value:function(){var t=this;if(w.isPhone)return this.refreshMobileScrollbar(),void setTimeout((function(){t.updateTempMobileSvg()}),200);this.shown&&!w.isMobile&&this.hide()}},{key:"createDefaults",value:function(){this.defaults={}}},{key:"setData",value:function(t){this.data=i.merge(this.defaults,t)}},{key:"hideAllMedia",value:function(){var t=this;[f,p,d].forEach((function(e){return t.hideMediaType(e)}))}},{key:"hideMediaType",value:function(t){var e=this.hideMedia.get(t);null!=e&&e()}},{key:"showMediaType",value:function(t){var e=this.showMedia.get(t);null!=e&&e()}},{key:"isMediaShowing",value:function(t){return this.isMediaTypeActive.get(t)||!1}},{key:"setupMediaModal",value:function(t){var e=this.mediaShowing;if(e){var n=f;if(t!=d)return!1;if(![].concat(o(this.isMediaTypeActive.entries())).every((function(t){var e=!1===t[1],i=t[0]===n;return e||i})))return!1}return this.mediaShowing=!0,this.isMediaTypeActive.set(t,!0),e||document.addEventListener("keydown",this.onMediaModalKeydown),this.pano.onSelectionChange(),!0}},{key:"teardownMediaModal",value:function(t){this.isMediaTypeActive.set(t,!1),this.mediaShowing=[].concat(o(this.isMediaTypeActive.values())).some((function(t){return t})),this.mediaShowing||document.removeEventListener("keydown",this.onMediaModalKeydown),this.pano.onSelectionChange()}},{key:"verticalOffset",value:function(t){this.panelBubbleEl.style.top=t+"px",this.bubbleArrowEl.style.top="calc(50% - "+t+"px)"}},{key:"calcVerticalPos",value:function(){var t=this.el.parentNode.getBoundingClientRect(),e=this.el.getBoundingClientRect(),n=e.height/2-10;this.verticalOffset(.2*e.height);var i=t.bottom-20,r=t.top+20;if(e.bottom>i){var o=Math.min(n,e.bottom-i);this.verticalOffset(-o)}else if(e.top<r){var s=Math.min(n,r-e.top);this.verticalOffset(s)}}},{key:"getHotspotSizeInfo",value:function(){var t=this.pano.sceneRect,e=this.pano.mouseIntersect(this.marker.lastX,this.marker.lastY);this.shownByEditor&&(e=this.pano.mouseIntersect(100,100),this.shownByEditor=!1);var n=0,i=0;if(e.length>0){var r=t.width/2,o=t.height/2,s=e[0].point;s.project(this.pano.camera),s.x=s.x*r+r,s.y=-s.y*o+o,n=s.x,i=s.y}return{width:0,height:0,x:n,y:i}}},{key:"calcPanelTransform",value:function(t,e,n,i){t<this.pano.width/2?(t+=n/2+15*this.scale,this.el.style.transformOrigin="0 0",this.data.hasArrow&&this.bubbleArrowEl.classList.remove("panel-dir-left"),this.cornerScale=1.4*this.scale):(this.el.style.transformOrigin="100% 0",t-=n/2+15*this.scale+this.el.offsetWidth,this.data.hasArrow&&this.bubbleArrowEl.classList.add("panel-dir-left"),this.cornerScale=1.4*-this.scale),this.el.style.transform="translate("+t+"px, "+e+"px) scale("+this.scale+") translateY(-50%)",this.bubbleArrowEl.style.transform="translateY(-50%) scale("+Math.min(2,this.cornerScale)+")"}},{key:"calcSmartScale",value:function(){var t=.5*this.pano.sceneScale,e=.8*this.pano.sceneScale,n=.6*this.pano.sceneScale;if(this.marker.isHotspot())this.scale=.4+t;else{var i=Math.max(this.marker.props.scaleX,this.marker.props.scaleY),r=Math.min(i,150)/200;this.scale=t+r*e}this.scale<n&&(this.scale=n)}},{key:"update",value:function(t,e){w.isPhone||(null!=this.marker.polyHotspot&&"hotspot"===this.marker.props.type&&null!=e?this.calcPanelTransform(e.x,e.y,0,0):t||this.pano.projection(this.marker.sprite,this.positionPanel),this.updateInteractableElements())}},{key:"showMobile",value:function(){var t=this,e=void 0;y.isLandscape?(this.scroller.enableMobile(),T.trigger(x.threeSixtyImage.UN_PUSH_LABEL),this.panelBubbleEl.style.right="-100%",this.panelBubbleEl.style.transition="right 350ms ease-out",e=function(){t.panelBubbleEl.style.right=0},this.panelBubbleEl.style.bottom=null):(this.scroller.disableMobile(),this.pano.isGuidedNextShow?(this.panelBubbleEl.style.bottom=z,this.panelBubbleEl.style.left="100%",this.panelBubbleEl.style.transition="left 250ms ease-in-out",e=function(){t.panelBubbleEl.style.left=0,t.pano.isGuidedNextShow=!1}):this.pano.isGuidedPrevShow?(this.panelBubbleEl.style.bottom=z,this.panelBubbleEl.style.left="-100%",this.panelBubbleEl.style.transition="left 250ms ease-in-out",e=function(){t.panelBubbleEl.style.left=0,t.pano.isGuidedPrevShow=!1}):(this.panelBubbleEl.style.left=null,this.panelBubbleEl.style.bottom="-100%",this.panelBubbleEl.style.transition="bottom 250ms ease-in-out",e=function(){t.panelBubbleEl.style.bottom=z}),setTimeout((function(){t.el.focus()}),300),T.trigger(x.threeSixtyImage.PUSH_UP_BY_LABEL)),window.requestAnimationFrame((function(){e(),t.updatePanelHeight()}));var n=document.createElement("div");if(n.classList.add("three-sixty-image","three-sixty-image-mobile-overlay"),this.tempMobileOverlay=n,this.tempMobileSvg(),n.appendChild(this.el),DS.detection.theme.isUnified){var i=document.querySelector("#preso .caption-container"),r=document.getElementById(DS.constants.els.PRESO);n.style.zIndex=i.style.zIndex,r.insertBefore(n,i)}else n.style.zIndex=g-1,document.body.appendChild(n);this.closePanel=function(e){null!=t.tempMobileOverlay.parentNode&&t.tempMobileOverlay.parentNode.removeChild(t.tempMobileOverlay)}}},{key:"tempMobileSvg",value:function(){var t=this;this.tempMobileOverlay.style.pointerEvents="all",this.pano.navigation.type===E.GUIDED&&(this.guidedEls={guidedUi:document.querySelector(".three-guided"),textUi:document.querySelector(".three-guided-nav-text")},this.tempMobileOverlay.innerHTML='\n        <svg width="100%" height="100%" style="pointer-events:none">\n          <path\n            class="panel-overlay-path"\n            style="pointer-events:all"\n            fill-rule="evenodd"\n            d="M 0 0 L 0 0"\n            stroke="none"\n            fill="transparent"/>\n        </svg>\n      ',this.mobileOverlayPath=this.tempMobileOverlay.querySelector("path"),setTimeout((function(){t.updateTempMobileSvg(),null!=t.tempMobileOverlay&&(t.tempMobileOverlay.style.pointerEvents="none")}),200))}},{key:"updateTempMobileSvg",value:function(){if(this.pano.navigation.type===E.GUIDED&&null!=this.guidedEls){var t=this.guidedEls,e=t.guidedUi,n=t.textUi,i=e.getBoundingClientRect(),r=n.getBoundingClientRect(),o=H(i)+"\n        "+H(r)+"\n        "+H({left:0,top:0,right:window.innerWidth,bottom:window.innerHeight})+" 0 0z";this.mobileOverlayPath.setAttribute("d",o)}}},{key:"hideMobile",value:function(){this.overlaysEl.appendChild(this.el),null!=this.tempMobileOverlay&&(null!=this.tempMobileOverlay.parentNode&&this.tempMobileOverlay.parentNode.removeChild(this.tempMobileOverlay),this.tempMobileOverlay=null)}},{key:"show",value:function(e,n){if(e||!this.disabled&&this.marker.sprite.visible&&this.marker.props.hasPanel){if(w.isPhone){var i=document.querySelector("#wrapper"),r=V.getPath(this,"pano.navUi.threeGuidedLeftBtnEl"),o=V.getPath(this,"pano.navUi.threeGuidedRightBtnEl");null!=i&&i.setAttribute("aria-hidden",!0),null!=r&&r.setAttribute("aria-hidden",!0),null!=o&&o.setAttribute("aria-hidden",!0),this.showMobile()}t.hideLast(this),this.pano.lastActiveMarker=this.marker.sprite,this.scale=this.pano.sceneScale,this.el.style.visibility="visible",this.el.classList.add("panel-shown"),this.shown=!0,clearTimeout(this.hideTimeout),this.useAnchor=!1,this.update(!1,n),this.scroller.update(!0),this.marker.setState("active"),this.pano.editMode?this.showPlaceholderSelectionBoxes():this.marker.updateResume(),this.positionGradient(),this.marker.polyHotspot&&this.marker.isHotspot()&&(this.pano.hotspotLayer.currHotspot=this.marker.polyHotspot),t.last=this,document.addEventListener(l,this.onReleaseOutside),null!=this.marker.accChildEl&&(this.marker.accChildEl.setAttribute("aria-expanded",!0),this.accChildEl&&this.accChildEl.removeAttribute("aria-hidden"),this.pano.focusPanelOnShow&&this.pano.threeSixtyAcc.showPanel(this,0))}}},{key:"getAccVideoPoster",value:function(t){var e=C.getString("three_image_video"),n="";null!=V.getPath(this,"data.media.video")&&(n='<button\n          role="img"\n          data-marker-id="'+t+'"\n          data-is-media-video="true"\n          aria-label="'+e+", "+(V.getPath(this,"data.media.video.posterAltText")||"")+'"\n          class="acc-shadow-el acc-button acc-three-sixty-media-img">\n        </button>');return n}},{key:"getAccImage",value:function(t){var e="";null!=V.getPath(this,"data.media.image")&&(e='<button\n          role="img"\n          data-marker-id="'+t+'"\n          data-is-media-img="true"\n          aria-label="'+(V.getPath(this,"data.media.image.posterAltText")||"")+'"\n          class="acc-shadow-el acc-button acc-three-sixty-media-img">\n        </button>');return e}},{key:"getAccAudio",value:function(t){var e=C.getString("three_image_play_audio"),n=C.getString("three_image_pause_audio"),i=C.getString("three_image_progress_audio"),r=C.getString("three_image_audio"),o="";return null!=V.getPath(this,"data.media.audio")&&(o='\n          <button\n            role="button"\n            tabIndex="0"\n            data-marker-id="'+t+'"\n            data-is-media-audio="true"\n            data-is-playing="false"\n            data-pause-label="'+n+'"\n            aria-pressed="false"\n            data-play-label="'+e+'"\n            aria-label="'+e+'"\n            class="acc-shadow-el acc-button acc-three-sixty-media-play-audio">\n          </button>\n          <input type="range" role="slider"\n            tabIndex="0"\n            class="acc-shadow-el acc-slider acc-audio-slider"\n            data-is-media-audio="true"\n            min="0"\n            max="100"\n            value="0"\n            step="1"\n            aria-valuetext="'+i+'"\n            aria-label="'+r+'"\n          />\n        '),o}},{key:"getAccButton",value:function(t){return null!=this.panelButton?this.panelButton.getAccHtml(t):""}},{key:"initAccScroll",value:function(){null!=this.accChildEl&&(this.accChildEl.addEventListener("keydown",this.onAccKeyDown),this.accChildEl.addEventListener("keyup",this.onAccKeyUp))}},{key:"teardownAccScroll",value:function(){null!=this.accChildEl&&(this.accChildEl.removeEventListener("keydown",this.onAccKeyDown),this.accChildEl.removeEventListener("keyup",this.onAccKeyUp))}},{key:"getAccHtml",value:function(t){return'\n        <section\n          role="document"\n          aria-label="'+C.getString("three_image_label")+'"\n          id="acc-'+t+'"\n          tabIndex="-1"\n          aria-hidden="true"\n          class="acc-shadow-el acc-three-sixty-panel"\n          aria-labelledby="acc-m-'+this.id+'"\n          data-panel-id="'+t+'">\n            <div tabindex="-1" class="acc-panel-child panel-title panel-content">\n              '+this.data.title.innerHTML+"\n            </div>\n            "+this.getAccImage(t)+"\n            "+this.getAccVideoPoster(t)+'\n            <div\n              tabindex="-1"\n              class="acc-panel-child three-sixty-panel-body"\n            >\n            '+this.data.body.innerHTML+"\n          </div>\n          "+this.getAccAudio(t)+"\n          "+this.getAccButton(t)+"\n        </section>\n      "}},{key:"adjust",value:function(t){this.data=i.merge(this.data,t),this.updateStyles(),this.updateInteractableElements()}},{key:"updateStyles",value:function(){var t=this,e=this.data,n=e.borderRadius,r=e.boxShadow,o=e.fill,s=e.textColor,a=e.stroke,l=e.strokeWidth,u=e.width,c=e.hasArrow;null!=n&&(this.bubbleEl.style.borderRadius=n+"px"),null!=r&&(this.bubbleEl.style.boxShadow=r);var h=!1,g=this.bubbleEl.style.background;if(null!=o){if(w.isPhone)if(N(o).r<140){var m=this.el.querySelector(".panel-mobile-icon-close polygon");null!=m&&m.setAttribute("fill","white")}h=o!==g,this.bubbleEl.style.background=o,this.bubbleCornerRectEl.setAttribute("fill",o);var y=V.rgbify(o,0),b=w.isMobile?"-webkit-gradient(linear, 0% 0%, 0% 100%, from("+y+"), to("+o+"))":"linear-gradient(180deg, "+y+", "+o+")";this.panelContentGradBottomEl.style.background=b}null!=s&&(this.bubbleEl.style.color=s);var A=V.getPath(this.scroller,"scrollBar");null!=A&&(A.style.right="-23px"),null!=this.panelBodyHoverEl&&(this.panelBodyHoverEl.style.margin="0px -20px",this.panelBodyHoverEl.style.padding="0px 20px",null!=n&&(this.panelContentGradBottomEl.style.borderRadius="0px 0px "+n+"px "+n+"px")),null!=u&&(this.bubbleEl.style.width=u+"px"),null!=a&&null!=l&&(this.bubbleEl.style.border=l+"px solid "+a),null!=c&&(this.panelCornerEl.style.display=c?"block":"none"),this.updatePanelElementStyles(this.titleEl,this.data.title),this.updatePanelElementStyles(this.bodyEl,this.data.body);var E,S=void 0;this.runtimeMediaAttached||(this.containsMedia=!1,null==(E=this.data.media)||null==E.audio&&null==E.video&&null==E.image?(this.checkRemoveMedia(v),this.createdMediaCache.clear()):(this.containsMedia=!0,[f,p,d].forEach((function(e){var n=t.data.media[e];if(null!=n){var r=JSON.stringify(n);if(t.createdMediaCache.get(e)!==r||h&&e!==d)S=!0,(0,t["createOrUpdate"+i.capitalize(e)])(n),t.createdMediaCache.set(e,r)}else t.checkRemoveMedia(e),t.createdMediaCache.set(e,null)}))),this.pano.editMode||(this.runtimeMediaAttached=!0)),this.updatePanelButton(),this.disabled=!1,this.updatePanelHeight(),this.update(S)}},{key:"updatePanelButton",value:function(){var t=this.data.button;this.hasButton()?(null==this.panelButton&&(this.panelButton=new P({parentEl:this.bubbleEl,props:t,editMode:this.editMode,localizedText:this.pano.localizedText,marker:this.marker})),this.panelButton.update({props:t,editMode:this.editMode})):null!=this.panelButton&&(this.panelButton.destroy(),this.panelButton=null)}},{key:"showHotspotPanel",value:function(){if(this.marker.polyHotspot&&this.marker.isHotspot()){this.forcePlaceCenter=!0;var t=this.marker.polyHotspot,e=t.getCenterPoint(t.shapeMesh);this.show(!0,this.pano.vecToScreenPosition(e))}}},{key:"updatePanelElementStyles",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";null!=e&&null!=t&&(t.innerHTML=(0!==e.innerHTML.length||this.pano.editMode?e.innerHTML:"")+n,t.style.fontFamily="'"+e.style.fontFamily+"'",t.style.fontSize=e.style.fontSize*(w.isPhone?1.25:1)+"px",this.pano.editMode&&(t.style.fontWeight=e.style.fontWeight),t.dataset.fontThemeType=e.style.fontThemeType)}},{key:"updateAfterMediaChange",value:function(){var t=this;window.requestAnimationFrame((function(){t.positionGradient()}))}},{key:"checkRemoveMedia",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t!==d&&t!==v||null==this.mediaImageEl||this.destroyImage(e),t!==f&&t!==v||null==this.mediaAudioEl||this.destroyAudio(e),t!==p&&t!==v||null==this.mediaVideoPosterEl||this.destroyVideo(e),this.updateAfterMediaChange()}},{key:"hide",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.disabled&&(this.editMode&&this.shown&&window.getSelection().empty(),this.shown=!1,this.el.classList.remove("panel-shown"),clearTimeout(this.hideTimeout),e?this.el.style.visibility="hidden":this.hideTimeout=setTimeout((function(){t.el.style.visibility="hidden"}),100),this.marker.setState("normal"),w.isPhone&&this.hideMobile(),this.pano.editMode?this.hideSelectionBoxes():this.marker.updateResume(),this.hideAllMedia(),document.removeEventListener(l,this.onReleaseOutside),null!=this.marker.accChildEl&&(this.pano.threeSixtyAcc.panelOpen=!1,this.marker.accChildEl.setAttribute("aria-expanded",!1),null!=this.accChildEl&&this.accChildEl.setAttribute("aria-hidden",!0),w.isPhone))){var n=V.getPath(this,"pano.navUi.threeGuidedLeftBtnEl"),i=V.getPath(this,"pano.navUi.threeGuidedRightBtnEl");null!=n&&n.removeAttribute("aria-hidden"),null!=i&&i.removeAttribute("aria-hidden");var r=document.querySelector("#wrapper");null!=r&&r.removeAttribute("aria-hidden")}}},{key:"disable",value:function(){this.hide(),this.disabled=!0,this.el.style.display="none"}},{key:"enable",value:function(){this.disabled&&(this.disabled=!1,this.show(),this.el.style.display="block")}},{key:"getData",value:function(){return null!=this.panelButton&&(this.data.button=i.cloneDeep(this.panelButton.props)),this.data}},{key:"updateTextData",value:function(t,e){t.innerHTML=e.innerHTML,t.style.fontFamily=R(e.style.fontFamily),t.style.fontSize=parseFloat(e.style.fontSize),t.style.fontThemeType=D(e.dataset.fontThemeType)}},{key:"updatePanelHeight",value:function(){this.panelBodyContainerEl.style.maxHeight=this.getMaxPanelHeight()+"px"}},{key:"getMaxPanelHeight",value:function(){if(w.isPhone){var t=V.getPath(this,"panelBodyOuterEl.getBoundingClientRect",{top:15}).top-V.getPath(this,"panelBodyOuterEl.parentElement.getBoundingClientRect",{top:0}).top,e=this.hasAudioMedia()?60:0;return window.innerHeight*(y.isPortrait?.98:1)-t-e}return Math.min(.62*this.pano.origHeight,this.containsMedia?410:302)}},{key:"hasButton",value:function(){return!i.isEmpty(this.data.button)}},{key:"hasAudioMedia",value:function(){return null!=this.data.media&&null!=this.data.media.audio}},{key:"hasImageMedia",value:function(){return null!=this.data.media&&null!=this.data.media.image}},{key:"hasVideoMedia",value:function(){return null!=this.data.media&&null!=this.data.media.video}},{key:"hasTitleContent",value:function(){return 0!==this.data.title.innerHTML.length}},{key:"hasBodyContent",value:function(){return 0!==this.data.body.innerHTML.length}},{key:"positionGradient",value:function(t){if(this.scroller.canScroll()){if(this.panelContentGradBottomEl.style.top=this.panelBodyOuterEl.offsetTop+this.panelBodyOuterEl.offsetHeight-17+"px",!this.bottomPaddingAdded||t){var e=this.bodyEl.querySelector(".bottom-text-pad");null==e&&(e=document.createElement("div"),S.addClass(e,"bottom-text-pad"),e.style.height="1em",this.bodyEl.appendChild(e)),this.bottomPaddingAdded=!0}this.panelContentGradBottomEl.style.opacity=1}else{[].concat(o(this.bodyEl.querySelectorAll(".bottom-text-pad"))).forEach((function(t){return t.parentNode.removeChild(t)})),this.panelContentGradBottomEl.style.opacity=0}}},{key:"createGraphics",value:function(){var t=this,e=this.pano.localizedText||{title:"",body:""},n=this.pano.editMode||this.hasTitleContent()?"":"panel-no-title",i=this.pano.editMode||this.hasImageMedia()||this.hasVideoMedia()||this.hasBodyContent()?"":"panel-no-body",r=this.pano.editMode||this.hasBodyContent()?"":"panel-no-body";this.panelContent='\n      <div class="panel-bubble-arrow">\n      \n    <svg class="panel-corner" width="8" height="16">\n      <rect class="panel-corner-rect" x="4" y="1" width="11" height="11" fill="blue" transform="rotate(45, 7, 6) "></rect>\n    </svg>\n  \n      </div>\n      '+(w.isPhone?G:"")+'\n      <div class="panel-head '+n+'" tabindex="-1">\n        '+(w.isPhone?'<div class="panel-mobile-pull-btn"></div>':"")+'\n        <h2 class="panel-title panel-content" dir="auto" tabIndex="0" placeholder="'+e.title+'"></h2>\n      </div>\n      '+(w.isPhone?"":'<div class="panel-body-hover-wrapper">')+'\n        <div class="panel-body-outer '+i+'">\n          <div class="is-scrollable panel-body-container '+i+'" style="max-height:'+this.getMaxPanelHeight()+'px;">\n            <div class="panel-body-top"></div>\n            <div class="panel-body panel-content '+r+'" dir="auto" placeholder="'+e.body+'"></div>\n        </div>\n      '+(w.isPhone?"":"</div>")+"\n      "+(this.hasTitleContent()||this.hasBodyContent()||this.hasImageMedia()||this.hasVideoMedia()||this.hasAudioMedia()||this.hasButton()?"":'<div class="panel-empty"></div>')+'\n      <div class="panel-content-grad-bottom"></div>\n      </div>\n\n      '+(w.isPhone?'<div class="panel-mobile-pull-hit" role="button" tabIndex="0" aria-label="expand label"></div>':"")+"\n      ",this.el=document.createElement("div"),this.el.classList.add("panel-el"),this.el.innerHTML='\n        <div class="panel-bubble">\n          '+this.panelContent+"\n        </div>\n      ",this.panelBubbleEl=this.el.querySelector(".panel-bubble"),this.titleEl=this.el.querySelector(".panel-title"),this.panelPullEl=this.el.querySelector(".panel-mobile-pull-btn"),this.addSelectionBox({targetEl:this.titleEl,showCallback:function(){return t.titleEl.focus()},hideCallback:function(){return t.titleEl.blur()},panel:this,showPlaceholder:!0,shouldAutoHide:!0}),this.bodyEl=this.el.querySelector(".panel-body"),this.panelBodyContainerEl=this.el.querySelector(".panel-body-container"),this.bubbleEl=this.el.querySelector(".panel-bubble"),this.bubbleArrowEl=this.el.querySelector(".panel-bubble-arrow"),this.panelCornerEl=this.el.querySelector(".panel-corner"),this.bubbleCornerRectEl=this.el.querySelector(".panel-corner-rect"),this.panelBodyTopEl=this.el.querySelector(".panel-body-top"),this.panelBodyOuterEl=this.el.querySelector(".panel-body-outer"),this.panelContentEl=this.el.querySelector(".panel-content"),this.panelBodyHoverEl=this.el.querySelector(".panel-body-hover-wrapper"),this.panelContentGradBottomEl=this.el.querySelector(".panel-content-grad-bottom"),w.isPhone&&(this.el.setAttribute("tabIndex",-1),this.el.setAttribute("aria-model",!0),this.titleEl.setAttribute("tabIndex",0)),this.addSelectionBox({targetEl:this.panelBodyContainerEl,boundsEl:this.bodyEl,maskBounds:{bottomCalc:function(){return t.panelContentGradBottomEl.getBoundingClientRect().bottom+15},topCalc:function(){return t.panelBodyContainerEl.getBoundingClientRect().top}},showCallback:function(){return t.bodyEl.focus()},hideCallback:function(){return t.bodyEl.blur()},panel:this,showPlaceholder:!0,shouldAutoHide:!0}),this.el.style.visibility="hidden",this.overlaysEl.appendChild(this.el),this.scroller=new _(this.panelBodyContainerEl,this.marker.id,!1,0,!1),this.scroller.updateScroll=this.updateScroll,this.pano.editMode||0!==this.data.body.innerHTML.length||this.scroller.setEnabled(!1),this.panelBodyHoverEl&&b.isDesktop?this.scroller.setShowOnlyOnHover(this.panelBodyHoverEl):this.scroller.setShowOnlyWhenScrolling(),this.updateStyles(),this.editMode&&this.onEditMode()}}]),t}();return q.hideLast=function(t){null!=q.last&&q.last!=t&&q.last.shown&&(null!=t&&null!=t.pano.model&&(t.pano.model.updateLabelState(t.marker.idx,e.shown),t.pano.model.setVisitedMarkers()),q.last.hide())},q}.call(e,n,e,t))||(t.exports=i)},9777:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6486),i=n(1251),o=n(82),s=n(2816),a=n(7954).overlayColor,l=n(8579),u=n(5505),c=u.clickOrTouchEnd,h=u.clickOrTap,d={linkId:"",altText:"",style:{borderRadius:26,background:"#007CB2",boxShadow:"none"},body:{maxChars:35,innerHTML:"",style:{fontFamily:"Open Sans",fontThemeType:"body",fontSize:14,fontWeight:"normal"}}};return function(t){function n(t){var i=t.parentEl,r=t.props,o=t.editMode,s=t.localizedText,a=t.marker;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return l.parentEl=i,l.props=e.merge({},d,r),l.localizedText=s,l.marker=a,l.editMode=o,l.createEls(),l.addListeners(),l.updateStyles(),l.setEditMode(o),l.fixIEPositioning(),l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),r(n,[{key:"fixIEPositioning",value:function(){var t=this;if(l.browser.isIE11){!function e(){var n=t.el.getBoundingClientRect().height;0===n?window.requestAnimationFrame(e):t.el.style.height=n+"px"}()}}},{key:"getAccHtml",value:function(t){var n=o.getPath(this,"props.body.innerHTML"),i=o.getPath(this,"props.altText");return'\n        <button\n          tabIndex="0"\n          data-marker-id="'+t+'"\n          data-is-panel-button="true"\n          class="acc-shadow-el acc-button acc-three-sixty-media-panel-button">\n          '+(e.isEmpty(i)?n:i)+"\n        </button>\n      "}},{key:"addListeners",value:function(){e.bindAll(this,"onClick"),h(this.el,this.onClick)}},{key:"removeListeners",value:function(){this.el.removeEventListener("click",this.onClick),this.el.removeEventListener(c,this.onClick)}},{key:"onClick",value:function(){this.editMode||o.getPath(this,"marker.pano").triggerEvent("onlinkrelease",this.props.linkId)}},{key:"update",value:function(t){var n=t.props,i=t.editMode;for(this.props=e.merge(this.props,n),this.updateStyles();null!=this.el.nextSibling;)this.parentEl.insertBefore(this.el.nextSibling,this.el);this.setEditMode(i),this.fitText()}},{key:"fitText",value:function(){var t=o.getPath(this,"props.body.style.fontSize",14);if(this.contentEl.clientHeight<47){for(var e=parseInt(this.contentEl.style.fontSize);e<=t&&this.contentEl.clientHeight<47;)e+=.5,this.contentEl.style.fontSize=e+"px";e-=.5,this.contentEl.style.fontSize=e+"px"}else for(var n=t;n>1&&this.contentEl.clientHeight>47;)n-=.5,this.contentEl.style.fontSize=n+"px"}},{key:"createEls",value:function(){this.el=document.createElement("div"),this.el.tabIndex=0,i.addClass(this.el,"panel-button"),this.parentEl.appendChild(this.el);var t="";l.browser.isIE11&&(t="\n          <style>\n            .panel-button:hover { background: "+a("#000000",this.props.style.background,.2)+" !important; }\n          </style>\n        ");var e=this.editMode?'<div class="panel-button-text-selection"></div>':"",n=this.editMode?'<div class="panel-button-selection"></div>':"";this.el.style.cursor=this.editMode?"text":null,this.el.innerHTML="\n        "+t+"\n        "+n+'\n        <div class="panel-button-wrapper">\n          <div class="panel-button-content" placeholder="'+this.localizedText.button+'">'+this.props.body.innerHTML+"</div>\n          "+e+"\n        </div>\n      ",this.contentEl=this.el.querySelector(".panel-button-content"),this.textSelectionEl=this.el.querySelector(".panel-button-text-selection"),this.focusWhenCreated()}},{key:"focusWhenCreated",value:function(){var t=this;this.editMode&&o.getPath(this,"marker.panel.shown")&&window.requestAnimationFrame((function(){t.contentEl.focus()}))}},{key:"contentChangedHook",value:function(){this.fitText()}},{key:"updateStyles",value:function(){var t=this.props,e=t.style,n=t.body;Object.assign(this.el.style,{borderColor:e.borderColor,borderWidth:e.borderWidth+"px",borderRadius:e.borderRadius+"px",background:e.background,boxShadow:e.boxShadow}),Object.assign(this.contentEl.style,{fontFamily:'"'+n.style.fontFamily+'"',fontSize:n.style.fontSize+"px",color:e.textColor}),this.editMode&&(Object.assign(this.textSelectionEl.style,{borderRadius:e.borderRadius+"px"}),this.contentEl.style.fontWeight=n.style.fontWeight,this.contentEl.dataset.fontThemeType=n.style.fontThemeType)}}]),n}(s)}.call(e,n,e,t))||(t.exports=i)},1354:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){return function(){function t(e){var n=this,i=e.targetEl,r=e.boundsEl,o=e.showCallback,s=e.hideCallback,a=e.shouldAutoHide,l=e.panel,u=e.showPlaceholder,c=e.paddingOffsets,h=e.maskBounds;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onCheckHide=function(t){if(n.targetEl!=t.target&&!n.targetEl.contains(t.target)&&document.activeElement!==n.targetEl&&!n.targetEl.contains(document.activeElement)){if(n.panel.mediaShowing)return;n.panel.hideSelectionBox(n.targetEl)}},this.targetEl=i,this.boundsEl=r,this.showCallback=o,this.hideCallback=s,this.shouldAutoHide=a,this.boxEl=document.createElement("div"),this.boxEl.classList.add("panel-selection-box"),this.boxEl.style.display="none",this.panel=l,this.pano=l.pano,this.pano.overlaysEl.appendChild(this.boxEl),this.showPlaceholder=u,this.padding={left:0,top:0,bottom:0,right:0},Object.assign(this.padding,c||{}),this.maskBounds=h}return r(t,[{key:"update",value:function(){var t=this.targetEl,e=this.boundsEl,n=this.boxEl,i=this.pano,r=this.padding;if(this.shown){if(e&&(t=e),this.showPlaceholder){var o=this.panel.isEmptyOrWhitespace(t);o!=this.isPlaceholder&&(this.isPlaceholder=o)}var s=t.getBoundingClientRect();if(null!=this.maskBounds){var a={left:s.left,top:s.top,right:s.right,bottom:s.bottom};if(null!=this.maskBounds.bottomCalc){var l=this.maskBounds.bottomCalc();s.bottom>l&&(a.bottom=l-6)}if(null!=this.maskBounds.topCalc){var u=this.maskBounds.topCalc();s.top<u&&(a.top=u)}(s=a).width=s.right-s.left,s.height=s.bottom-s.top}var c=s.left-i.sceneRect.left-3-r.left,h=s.top-i.sceneRect.top-3-r.top,d=i.sceneRect.width-(c+s.width+6+r.right),p=i.sceneRect.height-(h+s.height+6+r.bottom);Object.assign(n.style,{left:c+"px",top:h+"px",right:d+"px",bottom:p+"px"}),n.clientHeight<3?n.style.visibility="hidden":n.style.visibility="visible"}}},{key:"show",value:function(){this.panel.shown&&!this.shown&&(this.shown=!0,this.update(),this.boxEl.style.display="block",this.boxEl.style.visibility="visible",null!=this.showCallback&&this.showCallback(),this.shouldAutoHide&&document.addEventListener("click",this.onCheckHide))}},{key:"hide",value:function(){if(this.panel.shown&&this.isPlaceholder)return null!=this.hideCallback&&this.hideCallback(),void(this.shouldAutoHide&&document.removeEventListener("click",this.onCheckHide));this.shown&&(this.shown=!1,this.boxEl.style.display="none",this.boxEl.style.visibility="hidden",null!=this.hideCallback&&this.hideCallback(),this.shouldAutoHide&&document.removeEventListener("click",this.onCheckHide))}},{key:"destroy",value:function(){document.removeEventListener("click",this.onCheckHide),this.pano.overlaysEl.removeChild(this.boxEl)}},{key:"isPlaceholder",set:function(t){this.placeHolder=t,this.boxEl.classList[t?"add":"remove"]("panel-selection-placeholder")},get:function(){return this.placeHolder}}]),t}()}.call(e,n,e,t))||(t.exports=i)},4706:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();void 0===(i=function(t){var e=n(6486),i=n(1251),o=n(9032),s=n(8880),a=n(8579),l=n(5505),u=l.downOrTouchStart,c=l.upOrTouchEnd,h=n(2816),d={panel:{borderColor:"transparent",borderWidth:0,background:"#000000",boxShadow:"0 0px 10px rgba(0, 0, 0, 0.25)",textColor:"#ffffff"},body:{maxChars:250,innerHTML:"",style:{fontFamily:"Open Sans",fontThemeType:"body",fontSize:13,fontWeight:"normal"}}};return function(t){function n(t){var i=t.parentEl,r=t.enabled,o=t.props,s=t.editMode,a=t.localizedText,l=t.marker,u=t.currMarkerId;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return c.parentEl=i,c.props=e.merge({},d,o),c.localizedText=a,c.marker=l,c.editMode=s,c.currMarkerId=u,e.bindAll(c,"onSelectedMarkerChanged","clickedOutsideMarker","clearMarkerHide"),c.createEls(),c.updateStyles(),c.enable(r),c.setEditMode(s),c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,t),r(n,[{key:"update",value:function(t){var n=t.enabled,i=t.props,r=t.editMode;this.props=e.merge(this.props,i),this.enable(n),this.updateStyles(),this.setEditMode(r);var o=this.lastPos&&this.lastPos.hasPanel===this.marker.props.hasPanel;this.updatePosition(o?this.lastPos.loc:null)}},{key:"takeFocus",value:function(){this.editMode&&e.isEmpty(this.props.body.innerHTML)&&this.contentEl.focus()}},{key:"updatePosition",value:function(t){var e=this.marker.getMetrics(t),n=e.x,r=e.y,o=e.width,s=e.height,a=e.scale,l=e.leftSide,u=3*a,c=this.marker.props.hasPanel&&this.editMode;c&&(l=!l),this.lastPos={loc:t,hasPanel:c},n+=l?o+u:-u,r+=s/2,Object.assign(this.el.style,{left:n+"px",top:r+"px"}),l?(i.addClass(this.bubbleEl,"left-arrow"),i.removeClass(this.bubbleEl,"right-arrow")):(i.addClass(this.bubbleEl,"right-arrow"),i.removeClass(this.bubbleEl,"left-arrow"))}},{key:"isShown",value:function(){return i.hasClass(this.el,"show")}},{key:"showEditMode",value:function(t){this.editMode&&this.enabled&&!this.isShown()&&(this.updatePosition(t),i.addClass(this.el,"show"))}},{key:"toggleEditMode",value:function(t,e){this.editMode&&(t||!this.isShown()?this.showEditMode(e):this.hide())}},{key:"createEls",value:function(){this.el=document.createElement("div"),i.addClass(this.el,"tooltip"),this.parentEl.appendChild(this.el),this.el.innerHTML='\n        <div class="tooltip-bubble">\n          <div class="tooltip-wrapper">\n            <div class="tooltip-arrow">\n              <svg preserveAspectRatio="none" viewBox="0 0 16 16" width="100%" height="100%">\n                <path d="M0,8 L8,16 16,8 8,0 0,8 Z">\n              </svg>\n            </div>\n            <div class="tooltip-content" dir="auto" placeholder="'+this.localizedText.tooltip+'">'+this.props.body.innerHTML+'</div>\n            <div class="tooltip-selection"></div>\n          </div>\n        </div>\n      ',this.contentEl=this.el.querySelector(".tooltip-content"),this.arrowEl=this.el.querySelector(".tooltip-arrow"),this.bubbleEl=this.el.querySelector(".tooltip-bubble"),this.wrapperEl=this.el.querySelector(".tooltip-wrapper")}},{key:"updateStyles",value:function(){var t=this.props,e=t.panel,n=t.body;Object.assign(this.contentEl.style,{borderWidth:e.borderWidth+"px",borderColor:e.borderColor,background:e.background,color:e.textColor,fontFamily:'"'+n.style.fontFamily+'"',fontSize:n.style.fontSize+"px"}),Object.assign(this.arrowEl.style,{fill:e.background}),Object.assign(this.wrapperEl.style,{boxShadow:e.boxShadow}),this.editMode&&(this.contentEl.style.fontWeight=n.style.fontWeight,this.contentEl.dataset.fontThemeType=n.style.fontThemeType)}},{key:"addListeners",value:function(){o.on(s.threeSixtyImage.SELECTED_MARKER_CHANGED,this.onSelectedMarkerChanged)}},{key:"removeListeners",value:function(){o.off(s.threeSixtyImage.SELECTED_MARKER_CHANGED,this.onSelectedMarkerChanged)}},{key:"onSelectedMarkerChanged",value:function(t){a.deviceView.isMobile||(this.currMarkerId=t,this.marker.id!==this.currMarkerId&&this.hide())}},{key:"clickedOutsideMarker",value:function(){document.removeEventListener(u,this.clickedOutsideMarker),this.stopClick=!0,document.addEventListener(c,this.clearMarkerHide),this.hide()}},{key:"clearMarkerHide",value:function(){document.removeEventListener(c,this.clearMarkerHide),this.stopClick=!1}},{key:"markerClicked",value:function(){a.deviceView.isMobile&&(this.stopClick||(this.isShown()?this.hide():(this.show(),document.addEventListener(u,this.clickedOutsideMarker))))}},{key:"mouseOver",value:function(t){a.deviceView.isMobile&&this.isShown()?this.hide():this.show(t)}},{key:"mouseOut",value:function(){this.hide()}},{key:"hide",value:function(){i.removeClass(this.el,"show")}},{key:"isPanelOpen",value:function(){return null!=this.marker.panel&&this.marker.panel.shown}},{key:"show",value:function(t){var e=null==this.marker.panel&&!this.marker.hasTrigger();a.deviceView.isMobile&&!e||!this.enabled||this.editMode||this.isPanelOpen()||(this.updatePosition(t),i.addClass(this.el,"show"),e&&this.marker.addToVisitedMarkers())}},{key:"enable",value:function(t){t!==this.enabled&&(this.enabled=t,this.enabled?(this.addListeners(),this.currMarkerId===this.marker.id&&this.showEditMode()):(this.removeListeners(),i.removeClass(this.el,"show")))}}]),n}(h)}.call(e,n,e,t))||(t.exports=i)},7545:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=512,r=n(7812).math,o=r.TWO_PI;r.HALF_PI,e.createBackSpriteCanvas=function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),s=new THREE.CanvasTexture(n);n.width=i,n.height=i;var a=n.width/4-50,l=n.width/2,u=n.height/2,c=function(){r.clearRect(0,0,i,i),r.shadowColor="rgba(0, 0, 0, 0.85)",r.shadowBlur=40,r.shadowOffsetY=10,r.shadowOffsetX=5,r.fillStyle="rgba(0, 0, 0, 1)",r.beginPath(),r.arc(l,u,a,0,o,!1),r.fill()};if("pulse"===t){var h=0,d=void 0,p=void 0,f=window.performance.now(),v=1;window.requestAnimationFrame((function t(e){c(),r.shadowColor="rgba(0, 0, 0, 0)",r.shadowBlur=0,r.shadowOffsetY=0,v=(e-f)/16,f=e,d=60+25*Math.sin(h),p=10*Math.sin(h+o),h+=.025*v,r.fillStyle="transparent",r.strokeStyle="rgba(255, 255, 255, 0.5)",r.lineWidth=35+p/2,r.beginPath(),r.arc(l,u,a+d,0,o,!1),r.stroke(),s.needsUpdate=!0,window.requestAnimationFrame(t)}))}else"empty"===t?r.clearRect(0,0,i,i):c();var g=new THREE.SpriteMaterial({map:s});return{canvas:n,tex:s,mat:g}}},9045:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatMessage=function(t,e){var n=e.cmd;"fontSize"===n?t.style.fontSize=e.val+"px":"fontFamily"===n?(t.style.fontFamily="'"+e.val+"'",t.dataset.fontThemeType=e.fontThemeType):(document.execCommand("styleWithCSS",!1,!0),document.execCommand(n,!1,e.val));t.dispatchEvent(new Event("formatMessage"))},e.getSpanStyle=function(t,e){var n={};function i(t){n[t]=function(e){return e["text-decoration-line"].includes(t)}}i(s.UNDERLINE_TEXT_DECORATION),i(s.STRIKEOUT_TEXT_DECORATION);var c=function(t,e,n){var i=document.createNodeIterator(t.commonAncestorContainer,NodeFilter.SHOW_TEXT),r={},o=!0,s=!1,c=void 0;try{for(var h,d=e[Symbol.iterator]();!(o=(h=d.next()).done);o=!0){r[h.value]=void 0}}catch(t){s=!0,c=t}finally{try{!o&&d.return&&d.return()}finally{if(s)throw c}}var p=void 0,f=!1;for(;i.nextNode();){if(!f){if(i.referenceNode!==t.startContainer)continue;f=!0}var v=window.getComputedStyle(i.referenceNode.parentElement);for(var g in r){var m=n.hasOwnProperty(g)?n[g](v):v[g];void 0===r[g]?r[g]=m:r[g]!=m&&(r[g]=null)}for(var y=!1,b=i.referenceNode.parentNode;null!=b&&!y;){if(b.nodeType===Node.ELEMENT_NODE){var w="OL",A="UL";b.nodeName===w?(void 0===p?p=l:p!==l&&(p=a),y=!0):b.nodeName===A&&(void 0===p?p=u:p!==u&&(p=a),y=!0)}b=b.parentNode}if(y||(p=a),i.referenceNode===t.endContainer)break}return r["list-type"]=p,r}(e,Object.values(s),n);function h(t,e){var n=c[t];return null==n?null:e(n)}var d=o(t.dataset.fontThemeType);if(e.collapsed){var p=window.getComputedStyle(t);return{fontFamily:r(p["font-family"]),fontThemeType:d,fontSize:parseFloat(p["font-size"]),fontIsBold:document.queryCommandState("bold"),fontIsItalic:document.queryCommandState("italic"),fontIsUnderline:document.queryCommandState("underline"),fontIsStrikeout:document.queryCommandState("strikeThrough"),underlineStyle:void 0,foregroundColor:c[s.FOREGROUND_COLOR],backgroundColor:c[s.BACKGROUND_COLOR],underlineColor:c[s.TEXT_DECORATION_COLOR],listType:c["list-type"]}}return{fontFamily:r(c[s.FONT_FAMILY]),fontThemeType:d,fontSize:h(s.FONT_SIZE,(function(t){return parseFloat(t)})),fontIsBold:h(s.FONT_WEIGHT,(function(t){return"700"===t})),fontIsItalic:h(s.FONT_STYLE,(function(t){return"italic"===t})),fontIsUnderline:h(s.UNDERLINE_TEXT_DECORATION,(function(t){return t})),fontIsStrikeout:h(s.STRIKEOUT_TEXT_DECORATION,(function(t){return t})),underlineStyle:void 0,foregroundColor:c[s.FOREGROUND_COLOR],backgroundColor:c[s.BACKGROUND_COLOR],underlineColor:c[s.TEXT_DECORATION_COLOR],listType:c["list-type"]}},e.bottomUi=function(t){var e=t.reset,n=t.cancel,i=t.done;return'\n    <div class="three-bottom-ui">\n      <style>\n        .three-bottom-ui {\n          position: fixed;\n          width: 100%;\n          min-height: 20px;\n          padding-top: 20px;\n          background: none;\n          pointer-events: all;\n        }\n\n        .three-bottom-btn {\n          display: inline;\n          color: white;\n          border-radius: 20px;\n          padding: 1em;\n          border: none;\n          background: #949da5;\n          margin-left: 1em;\n          cursor: pointer;\n          min-width: 75px;\n          text-transform: uppercase;\n        }\n\n        .three-bottom-btn:hover {\n          background: #aab4bc;\n        }\n\n        .three-bottom-blue {\n          background: #4e82c7;\n        }\n\n        .three-bottom-blue:hover {\n          background: #329ae0;\n        }\n\n        .three-bottom-middle {\n          text-align: right;\n          width: calc(100% - 150px);\n          float: right;\n        }\n\n        .three-bottom-ui-reset {\n          float:left;\n          margin-left: 0;\n        }\n\n      </style>\n\n      <button class="three-bottom-ui-reset three-bottom-btn" data-ref>\n        <span>'+e+'</span>\n      </button>\n      <div class="three-bottom-middle">\n        <button class="three-bottom-ui-cancel three-bottom-btn" data-ref>\n          '+n+'\n        </button>\n\n        <button class="three-bottom-ui-done three-bottom-btn three-bottom-blue" data-ref>\n          '+i+"\n        </button>\n      </div>\n    </div>\n    "},e.crosshairsSvg=function(){return'\n  <style>\n    .three-crosshairs {\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      width: 40%;\n    }\n    .three-crosshairs path {\n      vector-effect: non-scaling-stroke;\n    }\n\n    .three-lat-lon-pill {\n      position: absolute;\n      bottom: 30px;\n      left: 50%;\n      height: 32px;\n      padding: 0em;\n      border-radius: 500px;\n      transform: translateX(-50%);\n      background: rgba(0, 0, 0, 0.8);\n      color: white;\n      display: flex;\n      pointer-events: all;\n    }\n\n    .three-lat-lon-pill > div {\n      flex-grow: 1;\n      pointer-events: all;\n    }\n\n    .three-lat-lon-pill > div > div {\n      position: relative;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n\n    .three-lat-lon-text {\n      flex-grow: 100;\n      text-align: center;\n      font-family: sans-serif;\n      text-shadow: 2px 2px rgba(0, 0, 0, 0.3);\n      margin-left: 1.5em;\n      margin-right: 1.5em;\n    }\n  </style>\n  <div class="three-crosshairs" data-ref>\n    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" viewBox="0 0 218 150">\n      <g fill="none" fill-rule="evenodd">\n        <g stroke-linecap="square" transform="translate(-555 -428)">\n          <path d="M664 537c-18.777681 0-34-15.222319-34-34s15.222319-34 34-34 34 15.222319 34 34-15.222319 34-34 34zm0-11c12.702549 0 23-10.297451 23-23s-10.297451-23-23-23-23 10.297451-23 23 10.297451 23 23 23z"/>\n          <path stroke="#FFF" d="M664 537.5c-19.053824 0-34.5-15.446176-34.5-34.5s15.446176-34.5 34.5-34.5 34.5 15.446176 34.5 34.5-15.446176 34.5-34.5 34.5zm0-12c12.426407 0 22.5-10.073593 22.5-22.5s-10.073593-22.5-22.5-22.5-22.5 10.073593-22.5 22.5 10.073593 22.5 22.5 22.5z"/>\n          <path stroke="#000" stroke-linejoin="square" d="M664 536.5c18.501539 0 33.5-14.998461 33.5-33.5s-14.998461-33.5-33.5-33.5-33.5 14.998461-33.5 33.5 14.998461 33.5 33.5 33.5zm0-10c-12.978692 0-23.5-10.521308-23.5-23.5s10.521308-23.5 23.5-23.5 23.5 10.521308 23.5 23.5-10.521308 23.5-23.5 23.5z"/>\n        </g>\n        <g fill="#000" stroke="#FFF">\n          <path d="M3.5 3.5v28h-3V.5h31v3h-28zM214.5 3.5v28h3V.5h-31v3h28z"/>\n        </g>\n        <g fill="#000" stroke="#FFF">\n          <path d="M3.5 146.5v-28h-3v31h31v-3h-28zM214.5 146.5v-28h3v31h-31v-3h28z"/>\n        </g>\n        <path fill="#FFF" stroke="#000" d="M110.5 74.5h6v2h-6v6h-2v-6h-6v-2h6v-6h2v6z"/>\n      </g>\n    </svg>\n    </div>\n    <div class="three-lat-lon-pill" data-ref>\n      <div class="three-lat-lon-text" data-ref>\n        <div>Initial View: 0°, 0°</div>\n      </div>\n      <div class="three-lat-lon-line"></div>\n    </div>\n  '};var i=n(7954),r=i.parseFontFamily,o=i.parseFontThemeType,s=(e.modes={DEFAULT:"default",ADD_MARKER:"addMarker",DRAWING_HOTSPOT:"drawingHotspot",SET_INITIAL_CAMERA_ANGLE:"setInitialCameraAngle",SET_CROP_IMAGE_MEDIA:"setCropImageMedia"},{FONT_FAMILY:"font-family",FONT_SIZE:"font-size",FONT_WEIGHT:"font-weight",FONT_STYLE:"font-style",FOREGROUND_COLOR:"color",BACKGROUND_COLOR:"background-color",UNDERLINE_TEXT_DECORATION:"underline",STRIKEOUT_TEXT_DECORATION:"line-through",TEXT_DECORATION_COLOR:"text-decoration-color"}),a="none",l="ordered",u="unordered";e.BOTTOM_UI_HEIGHT=120},7954:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={},i={},r=e.imgBuffer=document.createElement("canvas");e.imgBufferCtx=r.getContext("2d");r.width=r.height=256;e.parseFontFamily=function(t){return null==t?null:t.split(",")[0].replace(/['"]+/g,"")},e.parseFontThemeType=function(t){return null==t?"none":t},e.svgHtmlIcon=function(t){var e=t;return i[e]||(i[e]=window.atob(t.replace("data:image/svg+xml;base64, ",""))),i[e]},e.svgImageIcon=function(t,e){var i=t;if(DS.detection.browser.isIE11)e(null);else if(n[i])e(n[i]);else{var r=new Image;r.crossOrigin="Anonymous",r.src=t,r.addEventListener("load",(function(){n[i]=r,e(r)}))}};var o=e.unpackHex=function(t){if("transparent"===t)return{r:0,g:0,b:0,a:0};if("white"===t)return{r:255,g:255,b:255,a:1};var e=parseInt(t.replace("#","0x"),16);return{r:e>>16&255,g:e>>8&255,b:255&e,a:1}},s=e.packRgb=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[t.r,t.g,t.b].map((function(t){return Math.round(t)}));return e?"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+t.a+")":"#"+(n=n.map((function(t){var e=t.toString(16);return 1===e.length&&(e="0"+e),e})))[0]+n[1]+n[2]},a=(e.overlayColor=function(t,e,n){var i=o(t),r=o(e);return s({r:n*i.r+(1-n)*r.r,g:n*i.g+(1-n)*r.g,b:n*i.b+(1-n)*r.b,a:n*i.a+(1-n)*r.a},!1)},e.easeColor=function(t,e){t.r+=(e.r-t.r)/6,t.g+=(e.g-t.g)/6,t.b+=(e.b-t.b)/6,t.a+=(e.a-t.a)/6;var n=Math.abs(t.r-e.r)<1&&Math.abs(t.g-e.g)<1&&Math.abs(t.b-e.b)<1&&Math.abs(t.a-e.a)<1;return n&&a(t,e),n},e.setColor=function(t,e){t.r=e.r,t.g=e.g,t.b=e.b,t.a=e.a});e.rectPath=function(t){return"M "+t.left+" "+t.top+"\n   L "+t.right+" "+t.top+"\n    "+t.right+" "+t.bottom+"\n    "+t.left+" "+t.bottom+"\n    "+t.left+" "+t.top+" "}},1815:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.freeNavigation=function(t,e){return"\n    <style>\n      .three-free {\n        position: absolute;\n        bottom: 30px;\n        left: 50%;\n        min-height: 40px;\n        padding: 0em;\n        border-radius: 500px;\n        transform: translateX(-50%);\n        background: "+e+";\n        color: "+t+';\n        display: flex;\n        pointer-events: none;\n        box-shadow: 0px 0px 4px 1px rgba(0, 0, 0, 0.15);\n        padding: 1em;\n      }\n      .three-free * {\n        pointer-events: none;\n      }\n    </style>\n    <div class="three-navigation three-free">\n      <div class="three-nav-content" data-ref>\n        1 of 5 viewed\n      </div>\n    </div>\n  '},e.guidedNavigtion=function(t,e,n){return"\n    <style>\n      .three-guided {\n        position: absolute;\n        bottom: 30px;\n        height: 44px;\n        left: 50%;\n        transform: translateX(-50%);\n        color: "+t+";\n        background: "+e+";\n        min-width: 135px;\n        border-radius: 500px;\n        box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15);\n        display: flex;\n        pointer-events: all;\n      }\n\n      .three-guided div {\n        flex-grow: 1;\n      }\n\n      .three-guided svg {\n        display: inline-block !important;\n        margin-top: 2px;\n      }\n\n      .three-guided div > div {\n        position: relative;\n        text-align:center;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n\n      .three-guided-left-btn svg {\n        transform: scale(-1);\n      }\n\n      .three-guided-left-btn,\n      .three-guided-right-btn {\n        min-width: 30px;\n        cursor: pointer;\n        pointer-events: all;\n      }\n\n      .three-guided-left-btn:hover svg,\n      .three-guided-right-btn:hover svg {\n        transition: transform 100ms ease-out;\n      }\n\n      .three-guided-left-btn:hover svg {\n        transform: scale(-1.2);\n      }\n\n      .three-guided-right-btn:hover svg {\n        transform: scale(1.2);\n      }\n\n      .three-guided-left-btn path,\n      .three-guided-right-btn path {\n        stroke: "+n+' !important;\n      }\n\n      .three-guided-disabled {\n        cursor: normal;\n        pointer-events: none;\n      }\n\n      .three-guided-disabled path {\n        cursor: normal;\n        pointer-events: none;\n        stroke: #777 !important;\n      }\n      /* roles maybe mobile only check the screen reader */\n    </style>\n    <div class="three-navigation three-guided" data-ref>\n      <div class="three-guided-left-btn" role="button" '+r()+" data-ref>\n        <div>"+o+'</div>\n      </div>\n      <div class="three-guided-nav-text">\n        <div class="three-nav-content" '+r()+' data-ref>1 of 5 viewed</div>\n      </div>\n      <div class="three-guided-right-btn" role="button" data-ref>\n        <div>'+o+"</div>\n      </div>\n    </div>\n  "};var i=n(8579),r=(e.navigation={FREE:"free",GUIDED:"guided",NONE:"none"},function(){return i.device.isMobile?'tabIndex="0"':""});var o='\n  <svg width="10" height="14" viewBox="0 0 10 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path opacity="0.9" d="M1.71347 12.2864 L7.28638 7.0 L1.71347 1.7136" stroke="#777" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>\n'},3684:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}void 0===(i=function(t){var e=n(1251),i=n(82),s=n(8579),a=n(9032),l=n(8880),u=n(118),c=(n(7812),n(1681)),h=n(3163),d=h.AUDIO_MEDIA_TYPE,p=h.IMAGE_MEDIA_TYPE,f=n(5505),v=f.clickOrTap,g=f.clickOrTouchEnd,m=f.enterOrTouchStart,y=f.leaveOrTouchEnd,b=f.downOrTouchStart,w=f.moveOrTouchMove,A=f.upOrTouchEnd;function E(t){var e=void 0,n=!1,r=!1,o=!1;function a(i){o||(t.pano.setupSuppressOnSelectionChange(),o=!0),e=t.panelAudioSeekEl.getBoundingClientRect(),n=!0,r=t.audioPlayer.playing,u(i)}function l(){r&&t.shown&&!t.audioPlayer.playing&&t.audioPlayer.play(),o&&(t.pano.teardownSuppressOnSelectionChange(),o=!1),n=!1,r=!1,t.panelAudioSeekHoverEl.classList.remove("audio-hover-is-shown")}function u(r){if(n){var o=function(t){return s.device.isMobile?t.touches[0]&&t.touches[0].clientX:t.clientX}(r);if(null!=o){var a=t.audioPlayer,l=(u=o,i.clamp(0,1,(u-e.left)/e.width)*a.model.getDuration());a.playing&&a.pause(!0),a.seek(l),a.onAudioTick(i.toSeconds(l)),t.panelAudioSeekHoverEl.classList.add("audio-hover-is-shown")}}var u}function c(){n||t.panelAudioSeekHoverEl.classList.add("audio-hover-is-shown")}function h(){n||t.panelAudioSeekHoverEl.classList.remove("audio-hover-is-shown")}return t.panelAudioSeekFillEl.addEventListener(m,c),t.panelAudioSeekFillEl.addEventListener(y,h),t.panelAudioSeekEl.addEventListener(b,a),document.addEventListener(w,u),document.addEventListener(A,l),function(){o&&(t.pano.teardownSuppressOnSelectionChange(),o=!1),t.panelAudioSeekFillEl.removeEventListener(m,c),t.panelAudioSeekFillEl.removeEventListener(y,h),t.panelAudioSeekEl.removeEventListener(b,a),document.removeEventListener(w,u),document.removeEventListener(A,l)}}var S=function(){function t(e){var n=this;o(this,t),this.destroy=function(){clearInterval(n.audioInterval)},this.panel=e,window.requestAnimationFrame((function(){n.onAudioTick()}))}return r(t,[{key:"play",value:function(){var t=this;if(!this.panel.pano.editMode||this.panel.setupMediaModal(d)){this.playing=!0,this.resetPlayButton();var e=this.getAudioPlayer();e.onActionPlay({},{}),clearInterval(this.audioInterval),this.audioInterval=setInterval((function(){e.state.isPlaying||t.pause(e.timelinePausedFromUI),t.onAudioTick()}),30)}}},{key:"pause",value:function(t){this.panel.teardownMediaModal(d),this.playing=!1;var e=this.getAudioPlayer();e.timelinePausedFromUI=t,e.onActionPause({},{}),this.resetPlayButton(),clearInterval(this.audioInterval)}},{key:"setVolume",value:function(t){t*=100,this.getAudioPlayer().onActionSetVolume({volume:t},{})}},{key:"isEnded",value:function(){return this.getAudioPlayer().ended()}},{key:"seek",value:function(t){var e=this.getAudioPlayer();e.seek(t),e.currentTime=i.toSeconds(t),this.onAudioTick()}}]),t}(),T=function(){function t(e){var n=this;o(this,t),this.onPlaying=function(){n.currentTime=n.audio.currentTime},this.onEnded=function(){n.state.soundComplete=!0},this.audio=new Audio(e),this.state={isPlaying:!1,soundComplete:!1},this.currentTime=0,this.audio.addEventListener("timeupdate",this.onPlaying),this.audio.addEventListener("ended",this.onEnded)}return r(t,[{key:"onActionPlay",value:function(){this.audio.play(),this.state.isPlaying=!0,this.state.soundComplete=!1}},{key:"onActionPause",value:function(){this.audio.pause(),this.state.isPlaying=!1}},{key:"onActionSetVolume",value:function(t){t.volume/=100,this.audio.volume=t.volume}},{key:"ended",value:function(){return!0===this.state.soundComplete}},{key:"seek",value:function(t){this.audio.currentTime=i.toSeconds(t),this.state.soundComplete=t>=this.getDuration()}},{key:"getDuration",value:function(){return i.toMilliseconds(this.audio.duration)}},{key:"destroy",value:function(){this.audio.removeEventListener("timeupdate",this.onPlaying),this.audio.removeEventListener("ended",this.onEnded)}}]),t}(),x=function(){function t(e,n){var i=this;o(this,t),this.onUpdate=function(){i.player.onAudioTick()},this.currView=new T(e),this.currView.audio.addEventListener("canplaythrough",this.onUpdate),this.isEditModeAudio=!0,this.player=n}return r(t,[{key:"getDuration",value:function(){return this.currView.getDuration()}},{key:"destroy",value:function(){this.currView.audio.removeEventListener("canplaythrough",this.onUpdate)}}]),t}();function C(t){return t.data.mediaAccent||t.pano.playerAccentColor}return function(t,n){var r=t.audioPlayer;null==r&&(r=t.audioPlayer=new S(t));var o,h=null==n.url?u.resolvePath(n.path,t.pano.model):new x(n.url,r);function f(o){var s=i.toSeconds(h.getDuration()),a=r.getAudioPlayer();if(a){var l=null!=o?o:a.currentTime;r.isEnded()&&null==o&&(l=s);var u=l/s*100;t.panelAudioSeekFillEl.style.width=u+"%",e.setAttributes(t.panelAudioSeekFillEl,{"aria-valuenow":l,"aria-valuemax":s});var c="NaN",d=s-l;d>0&&(c=i.formatSecondsAsTime(d));var p=i.formatSecondsAsTime(l);if(-1===c.indexOf("NaN")&&-1===p.indexOf("NaN")){var f=/^0+(\d)/,v="-"+c.replace(f,"$1"),g=""+p.replace(f,"$1");null!=g&&null!=t.pano.threeSixtyAcc&&t.pano.threeSixtyAcc.updateAudioTime(l),t.panelAudioTimeEl.innerHTML=v,t.panelAudioSeekHoverEl.innerHTML=g,n.timeRemaining=v}r.isEnded()&&b(!1)}}function m(){t.hideMedia.set(d,A),r.isEnded()&&r.seek(0);var e=.75;"low"==n.volume?e=.5:"high"==n.volume?e=1:"mute"==n.volume&&(e=0),r.setVolume(e),r.play();var i=y();t.pano.editMode||null==i||null==i.dataset||(i.dataset.isPlaying="true",i.setAttribute("aria-label",i.dataset.pauseLabel),i.setAttribute("aria-pressed",!0))}function y(){return s.deviceView.isMobile?t.panelAudioPlayEl:null!=t.accChildEl&&t.accChildEl.querySelector(".acc-three-sixty-media-play-audio")}function b(e){r.pause(e);var n=y();t.pano.editMode||null==n||(n.dataset.isPlaying="false",n.setAttribute("aria-label",n.dataset.playLabel),n.setAttribute("aria-pressed",!1))}function w(){t.shown&&(!r.playing?m():b(!0))}function A(){t.hideMedia.delete(d),b(!1)}function T(e){if(t.shown){var n=t.getSelectionBox(t.mediaAudioEl),i=null!=n&&n.shown;if(!t.pano.editMode||i){if(32==e.which){if(document.activeElement==t.panelAudioPlayEl)return;w()}if(27==e.which&&!t.pano.editMode){if(t.isMediaShowing(p))return;t.hideMediaType(d)}}}}if(r.model=h,t.onAudioTick=f,r.onAudioTick=f,r.getAudioPlayer=function(){return null!=h&&h.currView},r.resetPlayButton=function(){var n=t.panelAudioPlayEl.firstElementChild;!r.playing?e.removeClass(n,"audio-is-playing"):e.addClass(n,"audio-is-playing")},t.onClickPlayMedia=w,t.onPauseMedia=b,t.onPlayMedia=m,null==t.mediaAudioEl){t.mediaAudioEl=document.createElement("div"),t.mediaAudioEl.classList.add("panel-audio");var _=n.timeRemaining||"-0:00",k=c.getString("three_image_play_audio"),M=c.getString("three_image_pause_audio"),O=c.getString("three_image_progress_audio"),L=c.getString("three_image_audio"),P='\n        <div class="panel-audio-pill">\n          <button class="panel-audio-play"\n          data-ref tabIndex="0"\n          data-is-playing="false"\n          data-pause-label="'+M+'"\n          data-play-label="'+k+'"\n          aria-pressed="false"\n          role="button" aria-label="'+k+'">'+('\n    <svg class="panel-audio-play-icon" width="10" height="12" >\n      <path d="M9 5.705882L1 11V1z" fill="'+((o=C(t))||"#7d7d7d")+'" stroke="'+(o||"#7d7d7d")+'" stroke-width="2" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>\n      <rect x="0" y="0" width="4" height="11" fill="'+(o||"#7d7d7d")+'">\n      </rect>\n      <rect x="6" y="0" width="4" height="11" fill="'+(o||"#7d7d7d")+'">\n      </rect>\n    </svg>\n  </button>\n          <div class="panel-audio-seek" data-ref>\n            <div class="panel-audio-seek-fill"\n              tabIndex="0"\n              arial-label="')+L+'"\n              aria-valuetext="'+O+'"\n              role="slider"\n              aria-valuemin="0"\n              aria-valuenow="0"\n              aria-valuemax="0"\n              style="background:'+C(t)+'" data-ref>\n              <div class="panel-audio-seek-hover" data-ref>0:00</div>\n            </div>\n          </div>\n          <div class="panel-audio-time" data-ref tabIndex="0">'+_+'</div>\n        </div>\n        <style class="panel-audio-dot-style">\n          .panel-audio-seek-fill:after {\n            background: '+("#FFFFFF"===t.data.fill?C(t):"#ffffff")+" !important;\n            border: 1px solid "+t.data.fill+' !important;\n          }\n        </style>\n        <style class="panel-audio-seek-hover-style">\n          .panel-audio-seek-hover {\n            background: '+C(t)+' !important;\n          }\n        </style>\n        <style class="panel-audio-time-style">\n          .panel-audio-time {\n            color: '+("#FFFFFF"===t.data.fill?"#494949":"#b4b4b4")+';\n          }\n        </style>\n        <style class="panel-audio-pill-style">\n          .panel-audio-pill {\n            display: flex;\n            height: 36px;\n            border: 1px solid '+("#FFFFFF"===t.data.fill?"#d5d5d5":"#6c6c6c")+';\n            border-radius: 36px;\n          }\n          .panel-audio-pill > * {\n            flex-grow: 1;\n          }\n        </style>\n        <style class="panel-audio-seek-style">\n          .panel-audio-seek {\n            height: 3px;\n            background: '+("#FFFFFF"===t.data.fill?"#8e8f8e":"#6c6c6c")+";\n            flex-grow: 100;\n            position: relative;\n            top: calc(50% - 2px);\n            border-radius: 4px;\n            cursor: pointer;\n          }\n        </style>\n      ";t.mediaAudioEl.innerHTML=P,t.onClickAudioMedia=function(e){var n=t.getSelectionBox(e.currentTarget),i=null!=n&&n.shown;t.pano.editMode&&!i&&t.showSelectionBox(e.currentTarget,!0)},t.mediaAudioEl.style.cursor=t.pano.editMode?"pointer":"default",t.addSelectionBox({targetEl:t.mediaAudioEl,showCallback:function(){t.mediaAudioEl.style.cursor="default",t.panelAudioPlayEl.style.pointerEvents="all",t.panelAudioSeekEl.style.pointerEvents="all"},hideCallback:function(){t.mediaAudioEl.style.cursor="pointer",t.panelAudioPlayEl.style.pointerEvents="none",t.panelAudioSeekEl.style.pointerEvents="none",b(!1)},shouldAutoHide:!0,panel:t,showPlaceholder:!1,paddingOffsets:{bottom:2}}),t.mediaAudioEl.addEventListener(g,t.onClickAudioMedia),e.selectAllByRef(t,t.mediaAudioEl),t.showMedia.set(d,(function(){r.seek(0),m()})),t.destroySeek=E(t),v(t.panelAudioPlayEl,w),t.toggleMute=function(){t.shown&&DS.appState.onToggleVolume()},t.restartAudio=function(){t.shown&&(b(!1),r.seek(0),r.onAudioTick(0),m())},a.on(l.threeSixtyImage.MEDIA_TOGGLE_PLAY,w),a.on(l.threeSixtyImage.MEDIA_RESTART,t.restartAudio),a.on(l.threeSixtyImage.MEDIA_MUTE_TOGGLE,t.toggleMute),t.pano.editMode&&(window.addEventListener("keydown",T),t.panelAudioPlayEl.style.pointerEvents="none",t.panelAudioSeekEl.style.pointerEvents="none"),t.bubbleEl.appendChild(t.mediaAudioEl)}var I=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t.pano.editMode||n.cleanup)&&(t.hideMediaType(d),t.showMedia.delete(d),t.audioPlayer.destroy(),t.audioPlayer=null,h.isEditModeAudio&&h.destroy(),a.off(l.threeSixtyImage.MEDIA_TOGGLE_PLAY,w),a.off(l.threeSixtyImage.MEDIA_RESTART,t.restartAudio),a.off(l.threeSixtyImage.MEDIA_MUTE_TOGGLE,t.toggleMute),t.destroySeek(),t.panelAudioPlayEl.removeEventListener(g,w),s.os.isAndroid&&t.panelAudioPlayEl.removeEventListener("click",w),window.removeEventListener("keydown",T),null!=t.mediaAudioEl&&(t.mediaAudioEl.removeEventListener(g,t.onClickAudioMedia),t.bubbleEl.removeChild(t.mediaAudioEl),t.removeSelectionBox(t.mediaAudioEl),t.mediaAudioEl=null),a.off(l.slide.WILL_CHANGE,e))};return a.on(l.slide.WILL_CHANGE,I),I}}.call(e,n,e,t))||(t.exports=i)},7929:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(1251),i=(n(118),n(8579)),r=n(82),o=n(9032),s=n(8880),a=n(1681),l=n(6295),u=n(9045).modes,c=n(7812),h=n(3163).IMAGE_MEDIA_TYPE,d=n(5505),p=d.clickOrTouchEnd,f=d.downOrTouchStart,v=d.moveOrTouchMove,g=d.upOrTouchEnd,m=n(7536),y=m.Z_INDEX_MID,b=m.PAD_SCALE,w=i.browser.isIE11?"pointer":"zoom-in";function A(t,e,n,i){var r=e.naturalWidth,o=e.naturalHeight,s=t.marker.getEditorVar("imageMediaCropRectangle");n.setAttribute("width",r),n.setAttribute("height",o),null!=s?(i.setAttribute("width",s.width),i.setAttribute("height",s.height),i.setAttribute("viewBox",s.left+" "+s.top+" "+s.width+" "+s.height)):(i.setAttribute("width",r),i.setAttribute("height",o),i.setAttribute("viewBox","0 0 "+r+" "+o)),t.updateInteractableElements()}return function(t,n){var d=n.url||null!=t.pano.assetManager&&t.pano.assetManager.getAssetUrl(n.assetId),m=n.altText||"",E=void 0;if(null==t.mediaImageEl){t.mediaImageEl=document.createElement("div"),t.mediaImageEl.innerHTML='\n        <svg class="panel-image-thumb" data-ref\n          style="position:relative;width:100%;height:100%;overflow:hidden;" width="100%" height="100%">\n          <image style="pointer-events: auto;" class="panel-framed-image-thumb" aria-label="'+(r.getPath(t,"data.media.image.posterAltText")||"")+'" data-ref xlink:href="'+d+'" />\n        </svg>\n      ',e.selectAllByRef(t,t.mediaImageEl),t.panelImageThumbEl.style.cursor=t.pano.editMode?"pointer":w;var S=new Image;S.src=d,S.addEventListener("load",(function(){A(t,S,t.panelFramedImageThumbEl,t.panelImageThumbEl)})),t.mediaImageEl=t.mediaImageEl.firstElementChild,t.mediaImageEl.setAttribute("draggable",!1),t.panelBodyTopEl.appendChild(t.mediaImageEl),t.addSelectionBox({targetEl:t.mediaImageEl,maskBounds:{bottomCalc:function(){return t.panelContentGradBottomEl.getBoundingClientRect().bottom},topCalc:function(){return t.panelBodyContainerEl.getBoundingClientRect().top}},showCallback:function(){return t.mediaImageEl.style.cursor=w},hideCallback:function(){return t.mediaImageEl.style.cursor="pointer"},shouldAutoHide:!0,panel:t,showPlaceholder:!1})}else t.mediaImageEl.src=d;function T(e){e.which!==c.keys.ESCAPE||t.pano.editMode||x()}function x(){o.trigger(s.threeSixtyImage.MEDIA_CLOSED),window.requestAnimationFrame((function(){t.hideMedia.delete(h),t.mediaShowing&&(t.pano.mode===u.SET_CROP_IMAGE_MEDIA&&t.pano.cancelCropImageMedia(!0),t.overlayEl.parentNode.removeChild(t.overlayEl),t.teardownMediaModal(h),t.overlayEl.innerHTML="",t.panelMediaCloseEl.removeEventListener(p,x),i.os.isAndroid&&t.panelMediaCloseEl.removeEventListener("click",x),o.off(s.playbackControls.TIMELINE_CHANGED,x),window.removeEventListener("keyup",T),document.addEventListener(f,t.marker.onReleaseOutsideLabel),t.pano.editMode&&window.requestAnimationFrame((function(){t.showSelectionBox(t.mediaImageEl,!0)})))}))}function C(){A(t,t.panelImageEl,t.panelFramedImageEl,t.panelImageFrameEl),R()}var k={count:0,down:!1,tolerance:3};function M(){var n=k.count>k.tolerance;if(k.count=0,k.down=!1,!n){var l=t.getSelectionBox(t.mediaImageEl),u=null!=l&&l.shown;if(!t.pano.editMode||u){if(t.setupMediaModal(h)){var c=document.createElement("div");c.classList.add("three-sixty-image-media-panel-overlay"),e.setStyles(c,{position:"fixed",width:"100%",height:"100%",zIndex:y,top:0,left:0}),document.body.appendChild(c),t.overlayEl=c;var v=i.browser.isIE11?"":'role="dialog" aria-modal="true"',g=i.browser.isIE11?'role="region"':"";t.overlayEl.innerHTML='\n        <div class="panel-media-overlay" data-ref '+v+'>\n          <div class="panel-image-container" data-ref tabIndex="0" '+g+' aria-label="'+m+'"\n\n            data-next-el=".panel-media-close"\n            data-prev-el=".panel-media-close">\n              <svg class="panel-image-frame"\n                data-ref\n                style="position:absolute;width:100%;height:100%;overflow:hidden;" width="100%" height="100%">\n                <image class="panel-framed-image" '+(i.device.isMobile?'aria-label="'+m+'"':"")+' data-ref xlink:href="'+d+'" />\n              </svg>\n              <img class="panel-image" src="'+d+'" data-ref style="display:none"/>\n          </div>\n          <button tabIndex="0"\n            data-next-el=".panel-image-container"\n            data-prev-el=".panel-image-container"\n            type="button"\n            aria-label="'+a.getString("close")+'"\n            class="panel-media-close acc-button" data-ref>\n    <svg class="panel-media-icon-close" width="40" height="40" viewBox="0 0 81 81" focusable="false" data-ref="">\n      <circle cx="40.5" cy="40.5" r="40" fill="black" fill-opacity="0.5"></circle>\n      <polygon fill="white" points="58.5 25.33 55.67 22.5 40.5 37.67 25.33 22.5 22.5 25.33 37.67 40.5 22.5 55.67 25.33 58.5 40.5 43.33 55.67 58.5 58.5 55.67 43.33 40.5"></polygon>\n    </svg>\n  </button>\n        </div>\n      ',e.selectAllByRef(t,t.overlayEl),E=function(){var e=r.getPath(t,"pinchzoomable.pinch",{scale:1,zoomingOut:!1});1!==e.scale||e.zoomingOut||x()},t.panelImageFrameEl.addEventListener("click",E),t.pano.editMode||(setTimeout((function(){t.panelImageContainerEl.focus()}),i.os.isAndroid?500:0),t.pano.threeSixtyAcc.imageMediaOpen=!0),!t.pano.editMode&&i.device.isMobile&&(t.pinchzoomable=Object.assign({},DS.pinchZoomController),_.forOwn(t.pinchzoomable,(function(e,n){_.isFunction(t.pinchzoomable[n])&&(t.pinchzoomable[n]=t.pinchzoomable[n].bind(t.pinchzoomable))})),t.pinchzoomable.initZoomTarget(t.panelImageContainerEl),t.pinchzoomable.cssTransformOrigin="transformOrigin",t.pinchzoomable.cssTransform="transform"),document.removeEventListener(f,t.marker.onReleaseOutsideLabel),t.panelImageEl.addEventListener("load",C),t.hideMedia.set(h,x),t.panelMediaCloseEl.addEventListener(p,x),i.os.isAndroid&&t.panelMediaCloseEl.addEventListener("click",x),o.on(s.playbackControls.TIMELINE_CHANGED,x),window.addEventListener("keyup",T)}}else t.showSelectionBox(t.mediaImageEl,!0)}}function O(){k.count=0,k.down=!0}function L(){k.down=!1}function P(){k.down&&k.count++}t.showMedia.set(h,M),t.mediaImageEl.addEventListener(p,M),t.mediaImageEl.addEventListener(f,O),t.mediaImageEl.addEventListener(v,P),t.mediaImageEl.addEventListener(g,L);var I=void 0;function R(e){if(t.overlayEl){var n=window.innerWidth,i=window.innerHeight,r=t.panelMediaOverlayEl;r.style.width=n+"px",r.style.height=i+"px";var o=t.panelImageFrameEl.viewBox.baseVal;if(null!=o){var s=o.width,a=o.height;if(0!==s&&0!==a){var l=Math.min(parseFloat(n-40)/s,parseFloat(i-40-(t.pano.editMode?100:0))/a),u=t.pano.editMode?1:b,c=t.panelImageContainerEl,h=s*l*u,d=a*l*u,p=(n-h)/2,f=(i-d)/2;c.style.width=h+"px",c.style.height=d+"px",c.style.transform="translate("+p+"px, "+f+"px)",null!=t.pinchzoomable&&(t.pinchzoomable.offsetStart(p,f),t.pinchzoomable.resetPinch()),t.panelImageFrameEl.setAttribute("width",h),t.panelImageFrameEl.setAttribute("height",d),null!=t.pano.cropTool&&t.pano.cropTool.updateTransformControls(h/t.pano.cropTool.image.naturalWidth),null!=e&&(clearTimeout(I),I=setTimeout((function(){R()}),300))}}}}t.prepCrop=function(){var e=t.panelImageEl.naturalWidth,n=t.panelImageEl.naturalHeight;return t.panelFramedImageEl.setAttribute("width",e),t.panelFramedImageEl.setAttribute("height",n),t.panelImageFrameEl.setAttribute("viewBox","0 0 "+e+" "+n),t.panelImageFrameEl.setAttribute("width",e),t.panelImageFrameEl.setAttribute("height",n),R(),R},t.cancelCrop=function(){A(t,t.panelImageEl,t.panelFramedImageEl,t.panelImageFrameEl),R()},t.saveCrop=function(e){t.marker.setEditorVar("imageMediaCropRectangle",e),A(t,t.panelImageEl,t.panelFramedImageThumbEl,t.panelImageThumbEl);var n=t.panelImageFrameEl.viewBox.baseVal;l.to(n,.5,{x:e.left,y:e.top,width:e.width,height:e.height,ease:"power4.out",onUpdate:function(){var e=n.x,i=n.y,r=n.width,o=n.height;t.panelImageFrameEl.setAttribute("viewBox",e+" "+i+" "+r+" "+o),R()}})},window.addEventListener("resize",R);var D=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t.pano.editMode||n.cleanup)&&(window.removeEventListener("resize",R),null!=t.panelImageEl&&t.panelImageEl.removeEventListener("load",C),null!=t.panelImageFrameEl&&t.panelImageFrameEl.removeEventListener("click",E),o.off(s.playbackControls.TIMELINE_CHANGED,x),t.hideMediaType(h),t.showMedia.delete(h),null!=t.mediaImageEl&&(t.mediaImageEl.removeEventListener(p,M),t.mediaImageEl.removeEventListener(f,O),t.mediaImageEl.removeEventListener(v,P),t.mediaImageEl.removeEventListener(g,L),t.mediaImageEl.parentNode.removeChild(t.mediaImageEl),t.removeSelectionBox(t.mediaImageEl),t.mediaImageEl=null,t.marker.setEditorVar("imageMediaCropRectangle",null)),o.off(s.slide.WILL_CHANGE,e))};return o.on(s.slide.WILL_CHANGE,D),D}}.call(e,n,e,t))||(t.exports=i)},3163:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.IMAGE_MEDIA_TYPE="image",e.VIDEO_MEDIA_TYPE="video",e.AUDIO_MEDIA_TYPE="audio",e.ALL_MEDIA_TYPE="all",e.NO_MEDIA_TYPE="none",e.FOCUS_ON_TITLE="title",e.FOCUS_ON_BODY="body",e.FOCUS_ON_IMAGE="image",e.FOCUS_ON_VIDEO="video",e.FOCUS_ON_AUDIO="audio",e.FOCUS_ON_BUTTON="button",e.FOCUS_ON_NONE="none",e.FOCUS_ON_DESELECT="deselect"},133:function(t,e,n){"use strict";var i,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}void 0===(i=function(t){var e=n(1251),i=(n(118),n(8579)),a=n(82),l=n(9032),u=n(8880),c=n(8766),h=n(520),d=n(3511),p=n(7812),f=n(1681),v=n(3163).VIDEO_MEDIA_TYPE,g=n(7510).addWindowListener,m=n(5505),y=m.clickOrTap,b=m.clickOrTouchEnd,w=m.downOrTouchStart,A=m.moveOrTouchMove,E=m.upOrTouchEnd,S=n(7536),T=S.Z_INDEX_MID,x=S.Z_INDEX_TOP,C=S.PAD_SCALE,k=function(t){return"#FFFFFF"===t?"#494949":"#BABBBA"},M=function(t,e){var n=f.getString("three_image_video_volume"),r=function(t,e){var n=k(t);return"#FFFFFF"===t?{trackFill:"#8e8f8e",thumbFill:e,thumbStroke:"#ffffff",progressFill:e,iconFill:n,panelFill:t,panelStroke:n}:{trackFill:"#8e8f8e",thumbFill:"#ffffff",thumbStroke:t,progressFill:e,iconFill:n,panelFill:t,panelStroke:"#6a6a6a"}}(t,e),o=r.thumbFill,s=r.thumbStroke,a=r.trackFill,l=r.progressFill,u=r.iconFill,c=r.panelFill,h=r.panelStroke;return i.deviceView.isMobile?"":'\n      <div class=\'panel-video-volume\' data-ref>\n        <button class=\'panel-video-volume-button\' data-ref aria-hidden="true">\n          <svg class="panel-video-volume-icon" width="16px" height="14px" viewBox="0 0 16 14" focusable="false" fill="'+u+'">\n            <rect x="0" y="4" width="3" height="6"></rect>\n            <polygon points="4 4 9 0 9 14 4 10"></polygon>\n            <g transform="translate(10, 0)" stroke="'+u+'">\n              <mask id="panel-vol-mask" fill="white">\n                <rect x="0" y="0" width="8" height="14" fill="white"></rect>\n              </mask>\n              <circle class="panel-vol-circle-low" data-ref strokewidth="1.5" style="opacity: 1;" mask="url(#panel-vol-mask)" fill="none" cx="-1" cy="7" r="6.5"></circle>\n              <circle class="panel-vol-circle-high" data-ref strokewidth="1.5" style="opacity: 1;" mask="url(#panel-vol-mask)" fill="none" cx="-1" cy="7" r="3.5"></circle>\n            </g>\n          </svg>\n        </button>\n        <div class="panel-video-volume-slider" data-ref>\n          <svg class="panel-video-volume-slider-bg" xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' version=\'1.1\' width=\'46px\' height=\'108px\' viewBox=\'0 0 46 108\' >\n              <defs>\n                  <filter x=\'-41.7%\' y=\'-13.4%\' width=\'183.3%\' height=\'125.5%\' filterUnits=\'objectBoundingBox\' id=\'filter-2\'>\n                      <feMorphology radius=\'0.5\' operator=\'dilate\' in=\'SourceAlpha\' result=\'shadowSpreadOuter1\'></feMorphology>\n                      <feGaussianBlur stdDeviation=\'4\' in=\'shadowSpreadOuter1\' result=\'shadowBlurOuter1\'></feGaussianBlur>\n                      <feColorMatrix values=\'0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0\' type=\'matrix\' in=\'shadowBlurOuter1\' result=\'colorOuter\'></feColorMatrix>\n                      <feMerge>\n                          <feMergeNode in="colorOuter"/>\n                          <feMergeNode in="SourceGraphic"/>\n                      </feMerge>\n                  </filter>\n              </defs>\n              <g stroke=\''+h+"' stroke-width='1' fill='"+c+"' fill-rule='evenodd' filter='url(#filter-2)'>\n                  <path d='M11,8 L35,8 C36.66,8 38,9.34 38,11 L38,84.76 C38,85.55 37.68,86.32 37.12,86.88 L25.12,98.88 C23.95,100.05 22.05,100.05 20.88,98.88 L8.88,86.88 C8.32,86.32 8,85.55 8,84.76 L8,11 C8,9.34 9.34,8 11,8 Z'>\n                  </path>\n              </g>\n          </svg>\n          <input class=\"panel-video-volume-slider-range\"\n            data-prev-el=\".panel-video-seek-range\"\n            data-next-el=\".panel-video-captions, .panel-media-close-video\"\n            aria-label=\""+n+'"\n            tabIndex="0"\n            role="slider" type="range" min="0" max="10" step="1" value="8"\n            aria-valuenow="8"\n            aria-valuetext="80%"\n            ariav data-ref/>\n          <div class="panel-video-volume-slider-track" style="background: '+a+'"></div>\n          <div class="panel-video-volume-slider-progress" style="background: '+l+'" data-ref></div>\n          <div class="panel-video-volume-slider-thumb" style="background: '+o+"; border-color: "+s+'" data-ref></div>\n        </div>\n      </div>\n    '},O=function(t,e,n,r){var o=r.altText||"";return'\n    <div class="panel-video-player panel-media-overlay"\n      style="opacity: 0" data-ref '+(i.browser.isIE11?"":'role="dialog" aria-modal="true"')+' tabIndex="-1"\n      data-next-el=".panel-video-container">\n      <div\n        class="panel-video-container"\n        tabIndex="0"\n        data-prev-el=".panel-media-close-video"\n        data-next-el=".panel-video-play-button"\n        aria-label="'+o+'"\n\n        '+(i.browser.isIE11?'role="region"':'role="group"')+'\n        data-ref>\n        <video src="'+n+'"\n          class="panel-video" '+(i.device.isMobile?'aria-label="'+o+'"':"")+' data-ref playsinline preload="yes"></video>\n        <div class="panel-video-controls" style="background: '+t+'" data-ref>\n          '+function(t){var e=f.getString("three_image_play_video");return'\n    <button class="panel-video-play panel-video-play-button"\n      data-ref role="button" tabIndex="0"\n      aria-pressed="false"\n      data-prev-el=".panel-video-container"\n      data-next-el=".panel-video-seek-range"\n      data-play-label="'+e+'"\n      data-pause-label="'+f.getString("three_image_pause_video")+'"\n      aria-label="'+e+'"\n      >\n      '+function(t){return'\n    <svg class="panel-video-play-icon" width="10" height="12">\n      <path d="M9 5.705882L1 11V1z" fill="'+t+'" stroke="'+t+'" stroke-width="2" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>\n      <rect x="0" y="0" width="4" height="11" fill="'+t+'">\n      </rect>\n      <rect x="6" y="0" width="4" height="11" fill="'+t+'">\n      </rect>\n    </svg>\n  '}(k(t))+"\n    </button>\n  "}(t)+"\n          "+function(t,e){return'\n    <div class="panel-video-seek" data-ref>\n      <div class="panel-video-seek-fill"\n        style="background:'+(e||"#007CB2")+'" data-ref></div>\n      <input\n        class="panel-video-seek-range"\n        type="range"\n        role="slider"\n        tabIndex="0"\n        min="0"\n        value="0"\n        max="100"\n        data-prev-el=".panel-video-play-button"\n        data-next-el=".panel-video-volume-slider-range"\n        aria-label="'+f.getString("three_image_progress_video")+'"\n        data-ref\n      />\n    </div>\n  '}(0,e)+"\n          "+M(t,e)+"\n          "+function(t,e){return'\n    <button\n      id="panel-video-captions-btn"\n      role="button"\n      tabIndex="0"\n      data-prev-el=".panel-video-volume-slider-range"\n      data-next-el=".panel-media-close-video"\n      aria-label="'+f.getString("acc_closed_captions")+'"\n      aria-pressed="false"\n      class="panel-video-captions" data-ref>\n      <style>\n        #panel-video-captions-btn.captions-on:after {\n          background: '+e+";\n        }\n      </style>\n      "+function(t){return'\n  <svg class="panel-video-captions-icon" width="19px" height="16px" viewBox="0 0 19 16" focusable="false" >\n    <g>\n      <path fill="'+t+'" stroke="none" d="M 11.45 3.5 Q 10.8 3.75 10.35 4.25 9.9 4.75 9.7 5.4 9.45 6.1 9.45 6.9 9.45 7.75 9.7 8.45 9.95 9.15 10.4 9.65 10.85 10.1 11.4 10.35 12 10.6 12.7 10.6 13.05 10.6 13.45 10.55 13.8 10.5 14.2 10.35 14.55 10.2 14.9 10 15.2 9.75 15.5 9.4 L 15 8.8 Q 14.9 8.65 14.7 8.65 14.55 8.65 14.4 8.75 14.25 8.85 14.1 8.95 13.95 9.1 13.65 9.2 13.4 9.3 13 9.3 12.6 9.3 12.25 9.15 11.95 8.95 11.7 8.65 11.45 8.35 11.35 7.9 11.25 7.45 11.2 6.9 11.2 6.35 11.35 5.9 11.45 5.45 11.65 5.15 11.9 4.85 12.25 4.7 12.6 4.5 13.05 4.5 13.4 4.5 13.65 4.6 13.9 4.65 14.05 4.8 14.25 4.9 14.35 4.95 14.5 5.05 14.6 5.05 14.75 5.05 14.85 5 14.9 4.9 15 4.85 L 15.45 4.2 Q 14.95 3.7 14.35 3.45 13.75 3.2 12.95 3.2 12.1 3.2 11.45 3.5 M 5.6 4.7 Q 5.95 4.5 6.4 4.5 6.75 4.5 7 4.6 7.25 4.65 7.4 4.8 7.6 4.9 7.7 4.95 7.85 5.05 7.95 5.05 8.1 5.05 8.2 5 8.25 4.9 8.35 4.85 L 8.8 4.2 Q 8.3 3.7 7.7 3.45 7.1 3.2 6.3 3.2 5.45 3.2 4.8 3.5 4.15 3.75 3.7 4.25 3.25 4.75 3.05 5.4 2.8 6.1 2.8 6.9 2.8 7.75 3.05 8.45 3.3 9.15 3.75 9.65 4.2 10.1 4.75 10.35 5.35 10.6 6.05 10.6 6.4 10.6 6.8 10.55 7.15 10.5 7.55 10.35 7.9 10.2 8.25 10 8.55 9.75 8.85 9.4 L 8.35 8.8 Q 8.25 8.65 8.05 8.65 7.9 8.65 7.75 8.75 7.6 8.85 7.45 8.95 7.3 9.1 7 9.2 6.75 9.3 6.35 9.3 5.95 9.3 5.6 9.15 5.3 8.95 5.05 8.65 4.8 8.35 4.7 7.9 4.6 7.45 4.55 6.9 4.55 6.35 4.7 5.9 4.8 5.45 5 5.15 5.25 4.85 5.6 4.7 Z" />\n      <path fill="none" stroke="'+t+'" class="icon-stroke-only" stroke-width="1.5" stroke-linejoin="round" stroke-linecap="round" d="M 9.5 15.2 L 7.8 13.5 2 13.5 Q 1.35 13.5 0.95 13.05 0.5 12.65 0.5 12 L 0.5 2 Q 0.5 1.35 0.95 0.95 1.35 0.5 2 0.5 L 17 0.5 Q 17.65 0.5 18.05 0.95 18.5 1.35 18.5 2 L 18.5 12 Q 18.5 12.65 18.05 13.05 17.65 13.5 17 13.5 L 11.2 13.5 9.5 15.2 Z" />\n    </g>\n  </svg>\n  '}(k(t))+"\n    </button>\n  "}(t,e)+'\n        </div>\n      </div>\n      <button\n        class="panel-media-close panel-media-close-video"\n        data-prev-el=".panel-video-captions, .panel-video-volume-slider-range"\n        data-next-el=".panel-video-container"\n        tabIndex="0"\n        aria-label="'+f.getString("close")+'"\n        role="button" data-ref>\n    <svg class="panel-media-icon-close" width="40" height="40" viewBox="0 0 81 81" focusable="false" data-ref="">\n      <circle cx="40.5" cy="40.5" r="40" fill="black" fill-opacity="0.5"></circle>\n      <polygon fill="white" points="58.5 25.33 55.67 22.5 40.5 37.67 25.33 22.5 22.5 25.33 37.67 40.5 22.5 55.67 25.33 58.5 40.5 43.33 55.67 58.5 58.5 55.67 43.33 40.5"></polygon>\n    </svg>\n  </button>\n      <style class="panel-video-dot-style">\n        .panel-video-seek-fill:after {\n          background: '+("#FFFFFF"===t?e:"#ffffff")+" !important;\n          border: 1px solid "+t+' !important;\n        }\n      </style>\n      <style class="panel-video-seek-style">\n        .panel-video-seek {\n          height: 4px;\n          background: '+("#FFFFFF"===t?"#8e8f8e":"#6c6c6c")+";\n          flex-grow: 100;\n          position: relative;\n          top: calc(50% - 2px);\n          border-radius: 4px;\n          cursor: pointer;\n        }\n      </style>\n    </div>\n  "},L=function(){function t(e){s(this,t),this.panel=e,this.el=e.panelVideoVolumeEl,this.button=e.panelVideoVolumeButtonEl,this.sliderPanel=e.panelVideoVolumeSliderEl,this.progress=e.panelVideoVolumeSliderProgressEl,this.thumb=e.panelVideoVolumeSliderThumbEl,this.range=e.panelVideoVolumeSliderRangeEl,this.seek=e.panelVideoSeekFillEl,this.seekRange=e.panelVideoSeekRangeEl,_.bindAll(this,"onMouseOver","onMouseLeave","onInputChanged","onVolumeChanged","onFocusVol","onBlurVol"),this.panel.panelVideoVolumeSliderRangeEl.addEventListener("focusin",this.onFocusVol),this.panel.panelVideoVolumeSliderRangeEl.addEventListener("blur",this.onBlurVol),this.button.addEventListener("click",this.onClick),this.el.addEventListener("mouseover",this.onMouseOver),this.range.addEventListener("input",this.onInputChanged),DS.pubSub.on(DS.events.volume.CHANGED,this.onVolumeChanged),this.onVolumeChanged(DS.appState.currentVolume())}return r(t,[{key:"onBlurVol",value:function(t){e.removeClass(this.sliderPanel,"open")}},{key:"onFocusVol",value:function(t){e.addClass(this.sliderPanel,"open")}},{key:"onClick",value:function(){DS.appState.onToggleVolume()}},{key:"onVolumeChanged",value:function(t){var e=DS.utils.clamp(0,10,10*t);this.progress.style.width=60*t+"px",this.thumb.style.top="-"+60*t+"px",this.range.valueAsNumber!==e&&(this.range.value=e,this.range.setAttribute("aria-valuenow",e),this.range.setAttribute("aria-valuetext",10*e+"%"));var n=Math.min(1,e/5),i=Math.min(1,Math.max(0,e/5-.5));this.panel.panelVolCircleLowEl.style.opacity=i,this.panel.panelVolCircleHighEl.style.opacity=n}},{key:"onInputChanged",value:function(t){DS.appState.setVolume(t.target.valueAsNumber/10);var e=t.target.valueAsNumber;this.range.setAttribute("aria-valuenow",e),this.range.setAttribute("aria-valuetext",10*e+"%")}},{key:"onMouseOver",value:function(t){e.addClass(this.sliderPanel,"open"),this.el.addEventListener("mouseleave",this.onMouseLeave)}},{key:"onMouseLeave",value:function(t){e.removeClass(this.sliderPanel,"open"),this.el.removeEventListener("mouseleave",this.onMouseLeave)}},{key:"destroy",value:function(){this.panel.panelVideoVolumeSliderRangeEl.removeEventListener("focusin",this.onFocusVol),this.panel.panelVideoVolumeSliderRangeEl.removeEventListener("blur",this.onBlurVol),this.button.removeEventListener("click",this.onClick),this.el.removeEventListener("mouseover",this.onMouseOver),this.range.removeEventListener("input",this.onInputChanged),this.sliderPanel.removeEventListener("mouseleave",this.onMouseLeave),DS.pubSub.off(DS.events.volume.CHANGED,this.onVolumeChanged)}}]),t}(),P=function(){function t(e){var n=e.panel;s(this,t),this.panel=n,this.opacity=1,_.bindAll(this,"onAnyUserEvent"),i.device.isMobile||(this.volumeControl=new L(n))}return r(t,[{key:"destroy",value:function(){null!=this.volumeControl&&this.volumeControl.destroy(),this.addRemoveShowListeners(!1)}},{key:"show",value:function(t){this.setVisible(!0,t)}},{key:"onAnyUserEvent",value:function(t){this.show()}},{key:"addRemoveShowListeners",value:function(t){var e=this,n=t?"addEventListener":"removeEventListener";["mousemove","mousedown","touchstart","keydown","focusin","focusout"].forEach((function(t){document[n](t,e.onAnyUserEvent)}))}},{key:"hide",value:function(){this.panel.videoPlayer.isPlaying()&&this.setVisible(!1)}},{key:"tweenOpacityTo",value:function(t,e){var n=this,i=t<this.opacity;TweenLite.to(this,e,{opacity:t,ease:i?"power4.out":"power1.out",onComplete:function(){n.updateCaptionPosition()}})}},{key:"setVisibility",value:function(t){this.panel.panelVideoControlsEl.style.visibility=t?"visible":"hidden",this.updateCaptionPosition()}},{key:"updateCaptionPosition",value:function(){var t=a.getPath(this,"panel.captionsEl");null!=t&&e.setStyles(t,{height:0!==this.opacity?"calc(100% - 43px)":"100%"})}},{key:"setVisible",value:function(t,e){var n=this;null!=this.hideControlsTimer&&(clearTimeout(this.hideControlsTimer),this.hideControlsTimer=null);this.addRemoveShowListeners(!t),t?(this.setVisibility(!0),this.updateCaptionPosition(),this.tweenOpacityTo(1,.3),this.panel.videoPlayer.isPlaying()&&!e&&(this.hideControlsTimer=setTimeout((function(){return n.hide()}),3e3))):this.tweenOpacityTo(0,.3)}},{key:"isVisible",value:function(){return"visible"===this.panel.panelVideoControlsEl.style.visibility}},{key:"opacity",set:function(t){this.panel.panelVideoControlsEl.style.opacity=t},get:function(){return parseFloat(this.panel.panelVideoControlsEl.style.opacity)}}]),t}();function I(t,n,r){var o=void 0,s=!1,l=!1;function u(i){if(n.pause(),!t.pano.editMode){var r=t.pano.threeSixtyAcc.getReadableTime(i.target.value);e.setAttributes(t.panelVideoSeekRangeEl,{"aria-valuenow":i.target.value,"aria-valuetext":r,"aria-valuemax":t.panelVideoEl.duration,max:t.panelVideoEl.duration})}t.panelVideoEl.pause(),t.panelVideoEl.currentTime=i.target.value,n.updateSeek(i.target.value),null!=t.captionsConnector&&t.captionsConnector.clearCaptions()}function c(e){o=t.panelVideoSeekEl.getBoundingClientRect(),s=!0,l=n.isPlaying(),d(e)}function h(e){s&&(s=!1,l&&t.shown&&t.panelVideoEl.play(),r.show())}function d(e){if(s){var n=function(t){return i.device.isMobile?t.touches[0]&&t.touches[0].clientX:t.clientX}(e)+5;if(null!=n){var l=t.videoPlayer,u=(c=n,a.clamp(0,1,(c-o.left)/o.width)*t.panelVideoEl.duration);t.panelVideoEl.pause(),t.panelVideoEl.currentTime=u,l.updateSeek(u),null!=t.captionsConnector&&t.captionsConnector.clearCaptions(),r.show(!0)}}var c}return t.panelVideoSeekRangeEl.addEventListener("change",u),t.panelVideoSeekRangeEl.addEventListener("input",u),t.panelVideoSeekEl.addEventListener(w,c),document.addEventListener(A,d),document.addEventListener(E,h),function(){t.panelVideoSeekEl.removeEventListener(w,c),document.removeEventListener(A,d),document.removeEventListener(E,h),t.panelVideoSeekRangeEl.removeEventListener("change",u),t.panelVideoSeekRangeEl.removeEventListener("input",u)}}var R=void 0,D=void 0;function N(t,n,r){function o(){var t=function(){!R.isVisible()&&i.device.isMobile||n.toggleIsPlaying(),R.show()};clearTimeout(D),D=i.os.isAndroid?setTimeout(t,64):t()}function s(){null!=t.captionsConnector&&t.captionsConnector.toggleCaptioning()}function a(e){e.which!==p.keys.ESCAPE||t.pano.editMode||x()}function c(e){if(t.pano.editMode&&32==e.which){if(document.activeElement==t.panelVideoPlayEl)return;n.toggleIsPlaying(),R.show()}}function h(){t.panelVideoEl.pause(),t.panelVideoEl.currentTime=0,n.updateSeek(0),null!=R&&R.show()}function d(){DS.appState.onToggleVolume()}function f(){n.updateSeek(t.panelVideoEl.currentTime)}function m(){n.pause(),R.show(),null!=t.captionsConnector&&t.captionsConnector.clearCaptions()}function A(e){R.show(),t.panelVideoEl.volume=r*e}function E(e){R.show(),e?(t.panelVideoCaptionsEl.classList.add("captions-on"),t.panelVideoCaptionsEl.setAttribute("aria-pressed",!0)):(t.panelVideoCaptionsEl.classList.remove("captions-on"),t.panelVideoCaptionsEl.setAttribute("aria-pressed",!1))}t.videoOpenedWithAcc||(n.play(),t.videoOpenedWithAcc=!1),(R=new P({panel:t})).show(),null==t.captionsConnector||t.pano.editMode?t.panelVideoCaptionsEl.style.display="none":t.captionsConnector.isCaptionEnabled()&&(t.panelVideoCaptionsEl.classList.add("captions-on"),t.panelVideoCaptionsEl.setAttribute("aria-presssed",!0)),t.panelVideoCaptionsEl.addEventListener(b,s),y(t.panelVideoPlayEl,o),y(t.panelVideoEl,o),window.addEventListener("keydown",c),window.addEventListener("keyup",a),l.on(u.threeSixtyImage.MEDIA_TOGGLE_PLAY,o),l.on(u.threeSixtyImage.MEDIA_RESTART,h),l.on(u.threeSixtyImage.MEDIA_MUTE_TOGGLE,d),l.on(u.volume.CHANGED,A),l.on(u.captions.ENABLED,E),t.panelVideoEl.addEventListener("timeupdate",f),t.panelVideoEl.addEventListener("ended",m);var S=I(t,n,R),T=function(t){t.captionsEl=document.querySelector("#preso .caption-container");var n=function(){};return null!=t.captionsEl&&(i.deviceView.isClassicDesktop&&(t.oldCaptionParent=t.captionsEl.parentNode),t.panelVideoContainerEl.appendChild(t.captionsEl),t.oldCaptionStyles=t.captionsEl.getAttribute("style"),e.setStyles(t.captionsEl,{width:"100%",height:"calc(100% - 43px)",transform:""}),n=g("resize",(function(){null!=t.captionsEl&&e.setStyles(t.captionsEl,{width:"100%",height:"calc(100% - 43px)",transform:""})}),!1,"after")),function(){if(n(),null!=t.captionsEl){var e=document.getElementById("preso");null!=t.oldCaptionParent?t.oldCaptionParent.appendChild(t.captionsEl):e.insertBefore(t.captionsEl,document.getElementById("app-top")),t.captionsEl.setAttribute("style",t.oldCaptionStyles),t.captionsEl=null}}}(t);function x(e){t.videoOpenedWithAcc=!1,t.hideMedia.delete(v),l.trigger(u.threeSixtyImage.MEDIA_CLOSED),t.mediaShowing&&(null!=t.oldCaptionParent&&t.oldCaptionParent.appendChild(t.captionsEl),t.overlayEl.parentNode.removeChild(t.overlayEl),t.teardownMediaModal(v),n.pause(),t.panelVideoCaptionsEl.removeEventListener(b,s),t.panelVideoPlayEl.removeEventListener(b,o),t.panelVideoEl.removeEventListener(b,o),i.os.isAndroid&&(t.panelVideoPlayEl.removeEventListener("click",o),t.panelVideoEl.removeEventListener("click",o)),window.removeEventListener("keydown",c),window.removeEventListener("keyup",a),l.off(u.volume.CHANGED,A),l.off(u.captions.ENABLED,E),l.off(u.threeSixtyImage.MEDIA_TOGGLE_PLAY,o),l.off(u.threeSixtyImage.MEDIA_RESTART,h),l.off(u.threeSixtyImage.MEDIA_MUTE_TOGGLE,d),S(),T(),R.destroy(),null!=t.captionsConnector&&t.captionsConnector.destroy(),null!=t.panelVideoEl.parentNode&&t.panelVideoEl.parentNode.removeChild(t.panelVideoEl),t.overlayEl.innerHTML="",t.panelMediaCloseEl.removeEventListener(b,x),l.off(u.playbackControls.TIMELINE_CHANGED,x),i.os.isAndroid&&t.panelMediaCloseEl.removeEventListener("click",x),t.panelVideoEl.removeEventListener("timeupdate",f),t.panelVideoEl.removeEventListener("ended",m),document.addEventListener(w,t.marker.onReleaseOutsideLabel),t.pano.editMode&&window.requestAnimationFrame((function(){t.showSelectionBox(t.mediaVideoPosterEl,!0)})))}t.hideMedia.set(v,x),t.panelMediaCloseEl.addEventListener(b,x),i.os.isAndroid&&t.panelMediaCloseEl.addEventListener("click",x),l.on(u.slide.WILL_CHANGE,x)}function H(t){return t.data.mediaAccent||t.pano.playerAccentColor}return function(t,n){null==t.videoPlayer&&(t.videoPlayer={playing:!1});var r=t.videoPlayer,s=void 0,p=void 0;if(null!=n.url)p=n.url;else{s=t.pano.assetManager.getAsset(n.assetId),p=s.url();var f=c.getCaptions(n.assetId);if(null!=f){var g=t.pano.slideObject.props.parent.props.model.getSlide(),m=h.getCurrentWindowSlide().id;t.captionsConnector=new d({type:"video",slideId:m,assetId:n.assetId,slideOwner:g,captions:f,parentEl:t,mediaElName:"panelVideoEl",isMediaVisible:function(){return!0}})}}r.updateSeek=function(i){null!=t.captionsConnector&&(t.captionsConnector.setCurrentTime(i),t.captionsConnector.adjustCaptions());var r=t.panelVideoEl.duration,o=null!=i?i:t.panelVideoEl.currentTime;n.currentTime=o;var s=o/r*100;t.panelVideoSeekFillEl.style.width=s+"%",e.setAttributes(t.panelVideoSeekFillEl,{"aria-valuenow":o,"aria-valuemax":r}),t.pano.editMode||(t.panelVideoSeekRangeEl.value=o,e.setAttributes(t.panelVideoSeekRangeEl,{"aria-valuenow":o,"aria-valuetext":t.pano.threeSixtyAcc.getReadableTime(o),"aria-valuemax":r,max:r}))},r.isPlaying=function(){return r.playing},r.play=function(){r.playing=!0,r.onIsPlayingChanged()},r.pause=function(){r.playing=!1,r.onIsPlayingChanged()},r.toggleIsPlaying=function(){r.playing=!r.playing,r.onIsPlayingChanged()},r.onIsPlayingChanged=function(){var n=t.panelVideoPlayEl.firstElementChild;r.isPlaying()?(t.panelVideoEl.play(),e.addClass(n,"video-is-playing"),t.panelVideoPlayEl.setAttribute("aria-pressed",!0),t.panelVideoPlayEl.setAttribute("aria-label",t.panelVideoPlayEl.dataset.pauseLabel)):(t.panelVideoEl.pause(),e.removeClass(n,"video-is-playing"),t.panelVideoPlayEl.removeAttribute("aria-pressed"),t.panelVideoPlayEl.setAttribute("aria-label",t.panelVideoPlayEl.dataset.playLabel)),null!=R&&R.show()};var y=n.posterUrl||null!=t.pano.assetManager&&t.pano.assetManager.getAssetUrl(n.posterAssetId);if(null==t.mediaVideoPosterEl){var E=document.querySelector(".panel-video-play-icon-shadow");null==E&&((E=document.createElement("div")).classList.add="panel-video-play-icon-shadow",E.innerHTML='\n    <svg width="0" height="0" style="position:absolute;" focusable="false">\n      <defs>\n        <filter x="-25%" y="-25%" width="150%" height="150%" filterUnits="objectBoundingBox" id="panel-image-shadow">\n          <feOffset dy="2" in="SourceAlpha" result="shadowOffsetOuter1"/>\n          <feGaussianBlur stdDeviation="2" in="shadowOffsetOuter1" result="shadowBlurOuter1"/>\n          <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" in="shadowBlurOuter1" result="shadowMatrixOuter1"/>\n          <feMerge>\n            <feMergeNode in="shadowMatrixOuter1"/>\n            <feMergeNode in="SourceGraphic"/>\n          </feMerge>\n        </filter>\n      </defs>\n    </svg>\n  ',document.body.appendChild(E));var S='\n        <div class="panel-video-poster">\n          <img alt="" draggable="false" style="width:100%;height:100%;" />\n          '+('\n    <svg width="30%" height="30%" viewBox="0 0 56 56" class="panel-video-play" data-ref>\n      <g filter="url(#panel-image-shadow)" transform="translate(4 2)" fill="none" fill-rule="evenodd">\n        <circle fill="'+(H(t)||"#007CB2")+'" cx="24" cy="24" r="24"/>\n        <path stroke="#FFF" stroke-width="2.8" fill="#FFF" stroke-linecap="round" stroke-linejoin="round" d="M32 24l-13 9V16z"/>\n      </g>\n    </svg>\n  \n        </div>\n      ');t.mediaVideoPosterEl=document.createElement("div"),t.mediaVideoPosterEl.innerHTML=S,i.deviceView.isPhone&&(t.mediaVideoPosterEl.setAttribute("role","button"),t.mediaVideoPosterEl.setAttribute("tabindex","0"),t.mediaVideoPosterEl.setAttribute("aria-label",a.getPath(t,"data.media.video.posterAltText")||"")),t.mediaVideoPosterEl.style.cursor="pointer",t.mediaVideoPosterEl.querySelector("img").addEventListener("load",M),t.addSelectionBox({targetEl:t.mediaVideoPosterEl,showCallback:function(){return t.mediaVideoPosterEl.style.cursor="pointer"},hideCallback:function(){return t.mediaVideoPosterEl.style.cursor="pointer"},shouldAutoHide:!0,panel:t,showPlaceholder:!1,paddingOffsets:{bottom:-3}}),t.panelBodyTopEl.appendChild(t.mediaVideoPosterEl),t.mediaVideoPosterEl.querySelector("img").src=y}else t.mediaVideoPosterEl.querySelector("img").src=y;var _={count:0,down:!1,tolerance:3};function k(s){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=t.getSelectionBox(t.mediaVideoPosterEl),u=null!=l&&l.shown;if(!t.pano.editMode||u){if(!a&&_.count>_.tolerance)return _.count=0,void(_.down=!1);if(t.setupMediaModal(v)){var c=document.createElement("div");c.classList.add("three-sixty-image-media-panel-overlay"),e.setStyles(c,{position:"fixed",width:"100%",height:"100%",zIndex:T,top:0,left:0,background:i.deviceView.isMobile?"rgba(0, 0, 0, 0.85)":"transparent"}),document.body.appendChild(c),t.overlayEl=c,t.overlayEl.innerHTML=O(t.data.fill,H(t),p,n);var h=document.querySelector("body > .slide-loader");null!=h&&(Object.assign(h.style,{display:"block",opacity:1,zIndex:x}),h.classList.add("media-slide-loader"),[].concat(o(h.children)).forEach((function(t){t.style.backgroundColor="white"}))),e.selectAllByRef(t,t.overlayEl),document.removeEventListener(w,t.marker.onReleaseOutsideLabel),t.panelVideoEl.addEventListener("loadedmetadata",(function e(){L(),t.pano.editMode||(t.panelVideoContainerEl.focus(),t.pano.threeSixtyAcc.imageMediaOpen=!0),t.panelVideoPlayerEl.style.opacity=1,null!=h&&Object.assign(h.style,{opacity:0,display:"none"});var i=.75;"low"==n.volume?i=.5:"high"==n.volume?i=1:"mute"==n.volume&&(i=0),t.videoOpenedWithAcc||t.panelVideoEl.play();var o=DS.appState.currentVolume();t.panelVideoEl.volume=i*o,t.panelVideoEl.currentTime=t.pano.editMode?0:n.currentTime||0,N(t,r,i),r.updateSeek(t.panelVideoEl.currentTime),t.panelVideoEl.removeEventListener("canplay",e)}))}}else t.showSelectionBox(t.mediaVideoPosterEl,!0)}function M(e){t.updateInteractableElements()}function L(){if(t.overlayEl){var e={w:window.innerWidth,h:window.innerHeight},n=t.panelVideoPlayerEl;n.style.width=e.w+"px",n.style.height=e.h+"px";var i=t.panelVideoEl,r=Math.min(parseFloat(e.w)*C/i.videoWidth,parseFloat(e.h)*C/i.videoHeight),o=t.panelVideoContainerEl;o.style.width=i.videoWidth*r+"px",o.style.height=i.videoHeight*r+"px"}}t.showMedia.set(v,(function(){k({},!0)})),t.mediaVideoPosterEl.addEventListener(b,k),i.os.isAndroid&&t.mediaVideoPosterEl.addEventListener("click",k),t.mediaVideoPosterEl.addEventListener(w,(function(){_.count=0,_.down=!0})),t.mediaVideoPosterEl.addEventListener(A,(function(){_.down&&_.count++})),window.addEventListener("resize",L);var P=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t.pano.editMode||n.cleanup)&&(window.removeEventListener("resize",L),t.hideMediaType(v),t.showMedia.delete(v),t.captionsConnector=null,R=null,null!=t.mediaVideoPosterEl&&(t.mediaVideoPosterEl.removeEventListener(b,k),t.mediaVideoPosterEl.removeEventListener("load",M),t.mediaVideoPosterEl.parentNode.removeChild(t.mediaVideoPosterEl),t.removeSelectionBox(t.mediaVideoPosterEl),t.mediaVideoPosterEl=null),null!=t.overlayEl&&(t.overlayEl.innerHTML=""),l.off(u.slide.WILL_CHANGE,e))};return l.on(u.slide.WILL_CHANGE,P),P}}.call(e,n,e,t))||(t.exports=i)},9337:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(118),r=n(7812).math.TWO_PI,o=n(82),s=e.LEFT_MOUSE_BUTTON_INDEX=0,a=e.RIGHT_MOUSE_BUTTON_INDEX=2;e.angle=function(t,e,n,i){return Math.atan2(e-i,t-n)},e.angleDiff=function(t,e){for(var n=e-t;n<-Math.PI;)n+=r;for(;n>Math.PI;)n-=r;return n},e.getPinchDistance=function(t){var e=t.touches;return 1===e.length?1:o.dist(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY)},e.textureSettings=function(t,e,n){t.anisotropy=n,t.minfilter=THREE.LinearMipMapLinearFilter,t.magfilter=THREE.LinearFilter,e.transparent=!0,e.blending=THREE.CustomBlending,e.blendSrc=THREE.OneFactor,e.blendDst=THREE.OneMinusSrcAlphaFactor,e.depthTest=!1,e.depthWrite=!1},e.isPanelBody=function(t){return t.classList.contains("panel-body")},e.isPanelTitle=function(t){return t.classList.contains("panel-title")},e.isHintContent=function(t){return t.classList.contains("hint-content")},e.isTooltipContent=function(t){return t.classList.contains("tooltip-content")},e.isButtonContent=function(t){return t.classList.contains("panel-button-content")},e.adjustVariable=function(t,e,n){var r={operator:"set",value:{type:"number",value:e}},o=i.resolvePath(t);null!=o&&o.adjust(r,{context:n.model})},e.createBoundingBoxEl=function(){var t=document.createElement("div");return t.classList.add("three-sixty-image-bb"),Object.assign(t.style,{position:"absolute",left:0,top:0,width:"30px",height:"30px",border:"none",display:"none"}),t.innerHTML='\n    <div class="box-handle box-handle-tl"></div>\n    <div class="box-handle box-handle-tr"></div>\n    <div class="box-handle box-handle-br"></div>\n    <div class="box-handle box-handle-bl"></div>\n\n\n    <div class="box-handle non-uniform box-handle-l" data-axis="x"></div>\n    <div class="box-handle non-uniform box-handle-t" data-axis="y"></div>\n    <div class="box-handle non-uniform box-handle-r" data-axis="x"></div>\n    <div class="box-handle non-uniform box-handle-b" data-axis="y"></div>\n  ',t},e.touchify=function(t,e){var n=void 0,i=void 0,r=!1;return null!=t.touches&&t.touches.length>0?(n=t.touches[0].clientX,i=t.touches[0].clientY,t.touches.length>1&&(r=!0)):(n=t.clientX,i=t.clientY),null!=e&&null!=e.sceneRect&&(n-=e.sceneRect.left,i-=e.sceneRect.top,n*=window.innerWidth/e.sceneRect.width,i*=window.innerHeight/e.sceneRect.height),{pageX:n,pageY:i,gesture:r}},e.isLeftClickOrTouch=function(t){return null!=t.button&&t.button===s||null!=t.touches&&1===t.touches.length},e.isRightClick=function(t){return null!=t.button&&t.button===a}},7536:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PAD_SCALE=.8,e.Z_INDEX_MID=9998,e.Z_INDEX_TOP=99999,e.MOVE_THRESHOLD=10},5505:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(8579),i=e.device,r=i.isMobile,o=i.isTablet,s=e.os.isAndroid,a=void 0,l=void 0,u=void 0,c=void 0,h=void 0,d=void 0;return r?(a="touchend",l="touchstart",u="touchstart",c="touchmove",h="touchend",d="touchend"):(a="click",l="mousedown",u="mouseenter",c="mousemove",h="mouseup",d="mouseleave"),Object.freeze({clickOrTap:function(t,e){s?(t.addEventListener("click",e),o&&t.addEventListener(a,e)):t.addEventListener(a,e)},clickOrTouchEnd:a,downOrTouchStart:l,enterOrTouchStart:u,moveOrTouchMove:c,upOrTouchEnd:h,leaveOrTouchEnd:d})}.call(e,n,e,t))||(t.exports=i)},82:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(5626),r=n(7812),o=n(8579),s=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/,a=function(t,e){var n=w.slice(e);return n.unshift(t),i.formatSrcUrl(n.join("/"))},l=function(t){var n=e.tail(arguments);return function(){var i=e.toArray(arguments);return n[t]((function(t){return t.apply(null,i)}))}},u=function(t){return t+"."},c=function(t,e){return e.replace(t,"")},h=function(t,e){return t===e},d=function(t,e){return e.charAt(0)[t]()+e.slice(1)},p=function(t,e){return[t,e,t].join("")},f=function t(n,i,r){if(null==n||null==i)return r;if(0===i.length)return null!=n?n:r;var o,s,a=e.first(i),l=e.tail(i),u=e.isString(a),c=u&&"$"===a.charAt(0)?"prop":"get";return u&&a.indexOf("[")>-1&&(o=a.split("["),l.unshift(parseInt(o[1])),a=e.first(o)),t(a=null!=n[a]&&e.isFunction(n[a])?n[a]():null!=n[a]?n[a]:n[c]&&n[c]((s=a,"get"===c?s:s.slice(1))),l,r)},v=["","webkit","moz","ms"].find((function(t){return null!=document[e.camelCase(t+"ExitFullscreen")]})),g={supported:null!=v,exit:e.camelCase(v+"ExitFullscreen"),request:e.camelCase(v+"RequestFullscreen"),element:e.camelCase(v+"FullscreenElement"),change:v+"fullscreenchange"},m=new Map,y=function(t){return"{"===t.charAt(0)&&(t=JSON.parse(t)),t},b=function(t){return t.split("=").map(decodeURIComponent).map(y)},w={keys:{DASH:189,PERIOD:190,DELETE:8,ENTER:13},getPath:function(t,n,i){return f(t,e.isString(n)?n.split("."):n,i)},fix:function(t,e){return+t.toFixed(null!=e?e:5)},toSeconds:function(t){return t/1e3},toMilliseconds:function(t){return w.fix(1e3*t,0)},formatSecondsAsTime:function(t,e){var n,i=Math.floor(t/3600),r=Math.floor((t-3600*i)/60),o=Math.floor(t-3600*i-60*r),s=function(t){return t<10?"0"+t:t};if(n=[r=s(r),o=s(o)],i>=1)n.unshift(i);else if(e){return'<span class="transparent no-wid">00:</span>'+n.join(":")}return n.join(":")},hexify:function(t){return"#"+t.replace(/0x|#/,"")},opacify:function(t){return t/100},rgbify:function(t,e){var n=this.hexify(t).replace("#",""),i=parseInt(n,16),r=[i>>16&255,i>>8&255,255&i],o=null!=e,s="rgb"+(o?"a":"");return o&&r.push(e),[s,"(",r.join(","),")"].join("")},toRgba:function(t,e){return w.rgbify(t,w.opacify(e))},octToDec:function(t){return t/255},decToPct:function(t,e){var n=w.fix(100*t);return e?n+"%":n},stopPct:function(t){return w.decToPct(w.octToDec(t))},pctToDec:function(t,e){return w.fix(parseFloat(t)/100,e)},add:function(t,e){return(t||0)+(e||0)},sum:function(){return e.reduce(arguments,w.add,0)},upperCaseFirst:e.partial(d,"toUpperCase"),lowerCaseFirst:e.partial(d,"toLowerCase"),slice:e.bind(Array.prototype.slice.call,Array.prototype.slice),resolveAssetUrl:function(){return a(r.PRESENTATION_URL,arguments)},resolveDataUrl:function(){return a(r.PRESENTATION_DATA_URL,arguments)+".js"},clamp:function(t,e,n){return Math.max(Math.min(n,e),t)},areOverlapping:function(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top},getRectIntersection:function(t,e){var n=Math.max(t.top,e.top),i=Math.min(t.bottom,e.bottom),r=Math.max(t.left,e.left),o=Math.min(t.right,e.right);return w.areOverlapping(t,e)&&{top:n,left:r,bottom:i,right:o,width:o-r,height:i-n}},isWithinRange:function(t,e,n){return n>=t&&n<=e},hasProp:function(t,e){if(null==t)return!1;for(var n,i=t,r=e.split(".");n=r.shift();){if(null==i[n])return!1;i=i[n]}return!0},not:function(t){return function(){return!t.apply(this,arguments)}},take:function(t,n,i){return function(){return n.apply(i,e.take(arguments,t))}},invertPercent:function(t){return 1-t},andify:e.partial(l,"every"),orify:e.partial(l,"some"),is:h,isTrue:e.partial(h,!0),isFalse:e.partial(h,!1),alwaysTrue:function(){return!0},alwaysFalse:function(){return!1},buildDataStructure:function(t,e,n){return new t(n,e)},createSuper:function(t){return function(e){return t.prototype[e]}},cloneDeeply:function(t){return JSON.parse(JSON.stringify(t))},buildEventNamespace:function(t){return".ds"+(t||"")},namespaceEvent:function(t,e){return t+w.buildEventNamespace(e)},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},hypot:function(t,e){return Math.sqrt(t*t+e*e)},dist:function(t,e,n,i){var r=t-n,o=e-i;return this.hypot(r,o)},degToRad:function(t){return t*r.math.TO_RADIANS},radToDeg:function(t){return t*r.math.TO_DEGREES},normalizeDeg:function(t){for(var e=t;e<0;)e+=360;return e%360},stripTags:function(t,n,i){var r=document.createElement("div"),o=i?["<",i,">"].join(""):"",s=o.replace("<","</");return r.innerHTML=t,n?e(r.querySelectorAll(n)).map((function(t){return[o,t.innerHTML,s].join("")})).join(""):r.textContent},stripTagsMobile:function(t,e,n){return o.deviceView.isClassicMobile?w.stripTags(t,e,n):t},decodeHtml:function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value},camelCaseAttr:function(t,e){return(t=e?t:t.toLowerCase()).replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))},stripPlayer:e.partial(c,u(r.refs.PLAYER)),stripChoice:e.partial(c,u(r.refs.CHOICES)),stripStatement:e.partial(c,u(r.refs.STMTS)),prefixWithPlayer:function(t){return r.refs.PLAYER+"."+w.stripPlayer(t)},parseParams:function(t){return t=t||window.location.search.substr(1),e.fromPairs(t.split("&").map((function(t){return t.split("=")})))},applyMethod:function(t,n){var i=e.slice(arguments,2);return n=e.isArray(n)?n:[n],i.unshift(n,t),e.invokeMap.apply(e,i)},pxify:function(t){return[t,"px"].join("")},ptify:function(t){return[t,"pt"].join("")},shallowEqual:function(t,e){if(t===e)return!0;var n;for(n in t)if(t.hasOwnProperty(n)&&(!e.hasOwnProperty(n)||t[n]!==e[n]))return!1;for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0},doubleQuote:e.partial(p,'"'),quote:e.partial(p,"'"),toCssUrl:function(t){return["url(",this.quote(t),")"].join("")},getWindowSearch:function(){return window.location.search.replace(/^\?/,"")},queryStringToObj:function(){var t;return t=this.getWindowSearch().split("&"),e.fromPairs(t.map(b))},rotatePoint:function(t,e,n,i,r){r=w.degToRad(r);var o=t-n,s=e-i,a=Math.cos(r),l=Math.sin(r);return{x:a*o-l*s+n,y:l*o+a*s+i}},pointInRect:function(t,e,n){var i=n[0][0],r=n[0][1],o=n[1][0],s=n[1][1];return t>=i&&t<=o&&e>=r&&e<=s},showTimer:function(t,n){e(t.refs).pickBy((function(t,e){return 0===e.indexOf("timer")&&t!==n})).forOwn((function(t){t.onHide()}))},dateToString:function(t){if(null==t)return"";return[["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ",t.getDate(),", ",t.getFullYear()].join("")},timeToString:function(t){if(null==t)return"";var e=t.getHours(),n=t.getMinutes(),i="am";return n<10&&(n="0"+n),e>12&&(e-=12,i="pm"),[e,":",n," ",i].join("")},parseUrl:function(t){var n=document.createElement("a");return n.href=t,e.pick(n,["protocol","hostname","port","pathname","search","hash","host"])},isRtlText:function(t){return s.test(t)},ellipsize:function(t,e){return null==t||t.length<=e?t:[t.substr(0,e),"…"].join("")},generateHash:function(t){var e,n=0,i=t.length;for(e=0;e<i;e++)n=31*n+t.charCodeAt(e),n|=0;return n},multiply:e.curry((function(t,e){return t*e})),juxt:function(t){return function(){var e=arguments;return t.map((function(t){return t.apply(null,e)}))}},fullScreen:{isSupported:function(){return g.supported},addChangeListener:function(t){return document.addEventListener(g.change,t),m.set(t,t),function(){m.delete(t),document.removeEventListener(g.change,t)}},getEl:function(){return document[g.element]},request:function(t){var e=document[g.element];if(o.browser.isSafari&&null!=e&&t!==e)document[g.exit]();else{var n=function(){return m.forEach((function(t){return t()}))},i=t[g.request]();null!=i?i.catch(n):window.requestAnimationFrame((function(){document[g.element]!==t&&n()}))}},exit:function(){null!=document[g.element]&&document[g.exit]()}}};return w}.call(e,n,e,t))||(t.exports=i)},6194:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(3707),r=n(8579),o=n(8880),s=n(7097),a=n(6882),l=n(8766),u=n(1681),c=n(4811),h=n(82),d=n(9032),p=/[\r\n\t]|  +/g,f=r.browser.isIE&&!r.browser.isEdge,v={transformZ:"",feDropShadow:!0,tspanFilters:!0},g=function(t){t.style.display="inline-block",r.browser.isSafariMac&&(t.style.willChange=""),t.style.display="",r.browser.isSafariMac&&(t.style.willChange="contents")};r.browser.isWebKit&&(v.forceSingleRepaint=function(t){g(t)},v.forceRepaint=function(t,e){return i.to(t,e,{onUpdate:function(){g(t)},onComplete:function(){g(t)}})},v.fixTspan=function(t){var n=h.getPath(t,"x","").split(" ").length;return e.isString(t.y)||(t.y=e.times(n,e.constant(t.y)).join(" ")),t},v.handleWillChange=function(t){t.willChange="opacity"}),r.browser.isChrome&&(v.handleWillChange=function(t){t.willChange=""}),f&&(v.getDxAdjustment=function(t){return t.runs.reduce((function(t,n){return t+n.spans.reduce((function(t,n){return t+e.sum(n.dx)}),0)}),0)/2},v.fixFontFallbacks=function(t){t.splice(1,0,'"not a font name"')}),v.fixStyleString=f?function(t){return t.replace(p,"")}:function(t){return t},r.browser.isIE&&(v.tspanFilters=!1,v.feDropShadow=!1,v.forceSingleRepaint=function(t){g(t)},a.patchEvents(),v.mouseOver=function(){return"mouseover"},v.elementsFromPoint=function(t,n,i){return e(document.msElementsFromPoint(t,n)).filter(i).value()},v.forceLayoutLtr=function(t){t.direction="ltr",t.unicodeBidi="bidi-override"},v.removeCharPositions=function(t){return s.isTspanNode(t)&&(t.x=[e.first(t.x.split(" "))]),t},v.stopColorProps=function(t){return{stopColor:h.toRgba(t.rgb,t.alpha)}});return r.os.isIosPhoneBefore10&&(v.buildCaptionTracks=function(t,e){l.hasCaptions(e)&&function(t,e){var n,i;null!=e&&e.length>0&&((n=t.addTextTrack("captions",u.getString("closed_captions"),"")).mode=l.isCaptionEnabled()?"showing":"hidden",e.forEach((function(t){(i=new window.VTTCue(t.startTime,t.endTime,t.text.cueSource)).line=12,n.addCue(i)})))}(t,l.getCaptions(e))},v.onCaptionsEnabled=function(t){d.on(o.captions.ENABLE,t)},v.offCaptionsEnabled=function(t){d.off(o.captions.ENABLE,t)}),r.os.isAndroid&&(v.getAudioInitEvent=function(){return"click"}),r.os.isIOS&&(v.transformZ=" translateZ(0)",v.destroyAudioContext=e.noop,v.detectVisibilityChange=function(){var t,e=(new Date).getTime(),n=!1,i=!1;setInterval((function(){var r=(new Date).getTime(),s=r-e,a=n;e=r,n=s>=900,!a&&n?t=r:a&&n&&!i&&r-t>=2e3?(i=!0,d.trigger(o.detection.VISIBILITY_HIDDEN)):a&&!n&&(i=!1,d.trigger(o.detection.VISIBILITY_SHOWN))}),500)},v.onOpenWindow=function(t,e,n){var i=h.getPath(e,"eventType"),r=h.getPath(e,"context.currView.el");"onpress"===i&&null!=r?r.addEventListener("touchend",(function t(){n(),r.removeEventListener("touchend",t)})):n()},v.handleWillChange=function(t){t.willChange="unset"},r.browser.isUIWebView&&(v.registerAudioInitEvent=function(t,e,n,i){if(i.props.model.isKind("button"))return[{teardown:t(e,"click",(function(){return!0}),n)}]},v.getAudioInitEvent=function(){return"click"})),r.browser.isFF,(r.browser.isChrome||r.device.isMobile||r.browser.isSafariMac)&&(v.transformZ=" translateZ(0)"),v.moveHtmlTextOutOfSvg=function(t){var n=[],i=function(t){return"variableText"===t.nodeType||"accessibleText"===t.nodeType},r=function(t){return n=n.concat(function(t){return e.remove(t.children,i)}(t)),t};return r.afterFinish=function(t){if(0===n.length)return t;var e={nodeType:"div",className:"textlib-wrapper"};return e.children=n.slice(),e.children.push(t),e},s.transformNodeConfig(r,t)},v.unwrapForeignObjectVarText=function(t){return t.children[0]},null==document.fonts&&(v.loadFonts=function(t,n){return c.when.apply(c,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t.map((function(t){var i=c.Deferred(),r=Date.now(),o=e.times(3,(function(){var t=document.createElement("div");return e.extend(t.style,{display:"inline-block",fontSize:"40px",left:0,pointerEvents:"none",posistion:"absolute",top:0,visibility:"hidden",whiteSpace:"nowrap"}),t.setAttribute("aria-hidden","true"),t.innerText="BESbswy",document.body.appendChild(t),t}));o[0].style.fontFamily=t.name+", serif",o[1].style.fontFamily=t.name+", sans-serif",o[2].style.fontFamily=t.name+", monospace";return function n(){e.uniq(o.map(e.property("offsetWidth"))).length<=2?i.resolve():Date.now()-r>=1e3?i.reject('Timed out loading "'+t.name+'"'):setTimeout(n,50)}(),i.promise().always((function(){o.forEach((function(t){null!=t.parentNode&&t.parentNode.removeChild(t)}))})).catch(n("loadFonts"))}))))}),v}.call(e,n,e,t))||(t.exports=i)},4811:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e=n(6486),i=n(9140),r=n(82),o="pending",s="resolved",a="rejected",l=function(t,e){return e.state()===t},u={Deferred:function(){return new i},when:function(){var t=r.slice(arguments),e=new i,n=t.length;return t.forEach((function(t){t.then((function(){0==--n&&e.resolve()})).catch((function(){--n>=0&&(e.reject(),n=0)}))})),e.promise()},after:function(){var t=new i,e=r.slice(arguments),n=[],o=function(){return e.length===n.length},s=function(i){n.push(i),o()&&t.resolve.apply(t,e)};return e.length?e.forEach((function(t){t.always((function(){s(t)}))})):t.resolve(),t.promise()},isPending:e.partial(l,o),isResolved:e.partial(l,s),isRejected:e.partial(l,a),promiseToVow:function(t){var e=u.Deferred();return t.then(e.resolve).catch(e.reject),e.promise()}};return u}.call(e,n,e,t))||(t.exports=i)},7235:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r=n(6486),o=n(9229),s=n(8579),a=n(82),l=n(8939),u=n(8880),c=n(9032),h=n(4811),d=n(5173),p=h.Deferred(),f=l.throwError("webObjectHelper"),v=!1;c.once(u.data.INITIALIZED,(function(){v=!0})),p.catch((function(t){return t}));var g={setVolume:function(t){o.setVolume(t)},executeFilteredPlayerEvent:function(t){if(!v)throw new Error("data is not yet initialized");e.executeFilteredPlayerEvent(m(t),"onhostevent")}},m=function(t){return function(e){return e.eventname===t||e.eventName===t}},y=function(){return p.then((function(){return i.request("getResumeData").then((function(t){return t})).catch(f.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))}))},b=function(t){return i.request("setResumeData",t).catch(f.bind(this,"receiveResumeData","Cannot receive resume data from web object host"))};return{initialize:function(t){e=t,s.env.isWebObject?((i=new d(g,a.queryStringToObj().id)).ready().then(p.resolve),i.connect(window.parent)):p.reject()},tearDown:function(){null!=i&&i.tearDown()},triggerHostEvent:function(t){if(void 0===i)throw Error("triggerHostEvent - postMessaging has not been initialized");return i.request("triggerHostEvent",t)},getResumer:function(t){return r.extend({},t,{getItem:y,setItem:function(e,n){return b(n),t.setItem.apply(t,arguments)}})}}}.call(e,n,e,t))||(t.exports=i)},520:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i,r=n(6486),o=n(82),s=n(7812),a=n(5485),l=n(4427),u=n(6159),c=n(6334),h=n(8880),d=n(9032),p=n(9229),f=n(9447),v=n(8939),g=v.warn("windowManager"),m=function(t){return null!=t&&t.includes("MessageWnd")},y=function(t){return null!=t&&t.includes("Lightbox")},b="_current",w=r.extend({subscriptions:(i={},i[h.window.CLOSING]="onCloseWindowById",i[h.request.NEXT_SLIDE]="onRequestingNextSlide",i[h.request.PREV_SLIDE]="onRequestingPrevSlide",i[h.request.NEXT_DRAW_SLIDE]="onRequestingNextDrawSlide",i[h.request.PREV_HISTORY_GROUP]="onRequestingPrevHistoryGroup",i[h.window.STACKING_CHANGED]="onTopMostWindowChanged",i),initialize:function(){e=DS.presentation.display(),this.addSubscriptions(),this.windows=[],this.windows.push(this.getOrCreateWindow(s.refs.FRAME)),l.setWindowManager(this),d.trigger(h.window.MAIN_CREATED,this.getMainWindow())},getCurrentWindow:function(){return r.last(this.windows)},getCurrentWindowId:function(){return w.getCurrentWindow().getId()},getMainWindow:function(){return r.first(this.windows)},getCurrentWindowSlide:function(){var t=this.getCurrentWindow();return t&&t.state.currentSlide},removeWindow:function(t){return this.windows=r.without(this.windows,t),this},removeAllButMainWindow:function(){this.windows.forEach((function(t){var e=t.getId();e!==s.refs.FRAME&&d.trigger(h.window.CLOSING,e)}))},addWindow:function(t){return this.removeWindow(t),this.windows.push(t),this},getOrCreateWindow:function(t,n){var i=this.getCurrentWindow();t=t===b?i.getId():t;var r=this.findWindowById(t);if(r)return r!==i&&r.frame.moveToTop(),r;if(i){var o=i.getCurrentSlide();o&&o.onPauseTimeline()}var a,l=DS.frame.createWindow(t),u={id:t,model:e.getWindowById(t),isMainWindow:t===s.refs.FRAME,lightboxed:y(t),skipResume:"PrintWindow"===t,hasControls:(a=t,null!=a&&a.includes("Controls")),onPinchZoom:l.onPinchZoom,getPinchZoomBounds:l.getPinchZoomBounds,getWinScale:l.getWinScale},c=DS.renderEngine.createWindowFor(l.el,m(t),u,l.captionEl);return c.frame=l,c},findWindowById:function(t){return t===b||null==t?this.getCurrentWindow():this.windows.find((function(e){return e.getId()===t}))},isLightBoxActive:function(){return this.getCurrentWindow()!==this.getMainWindow()},moveSlideToOtherWindow:function(t,e){var n=e.props.model.windowId;t.replaceSlideWith(e);var i=function(e){var r=this.findWindowById(n);e===t&&(null!=r&&r.rebuildCurSlide(),d.off(h.window.CLOSED,i))}.bind(this);return d.on(h.window.CLOSED,i),this},isMultiWindowSlide:function(t){return r.initial(this.windows).some((function(e){return(e.getCurrentSlide()||{}).absoluteId===t.absoluteId}))},onMainWindowCreated:function(t){this.addWindow(t),l.setWindowManager(this)},onCloseWindowById:function(t){var e,n,i=this.findWindowById(t);i&&(i.el&&(e=i.el.parentNode)&&(e.classList.remove("opaque"),DS.renderEngine.closeWindow(e,i.frame.captionEl),i.frame.close()),this.removeWindow(i),d.trigger(h.window.CLOSED,i),null!=(n=this.getCurrentWindowSlide())&&(n.onPlayTimeline(),d.trigger(h.slide.STARTED,n.absoluteId,n,this.getCurrentWindowId())),this.updatePrevHistoryVar(),l.savePresentationData())},onTopMostWindowChanged:function(t){this.topMostWindow=t,this.trigger(h.windowManager.TOP_MOST_CHANGED)},getTopMostWindowId:function(){return this.topMostWindow},loadSlide:function(t,e,n){DS.connection.useConnectionMessages&&(DS.connection.lastSlideLoaded=function(){return w.loadSlide(t,e,n)});var i=r.isString(t)?t:t.absoluteId,s=f.loadSlide(t,this.getCurrentWindowSlide());return s.then(e.bind(this)),d.trigger(h.slide.HAS_CHANGED,o.stripPlayer(i),n),s},onRequestingPrevSlide:function(){var t=this.getCurrentWindow().getPrevSlide();null!=t&&this.onRequestingSlide(t.absoluteId,null,"pop")},onRequestingPrevHistoryGroup:function(){var t=this.getCurrentWindow().getPrevHistoryGroup();null!=t&&this.onRequestingSlide(t.absoluteId,null,"popGroup")},onRequestingNextDrawSlide:function(){var t,e=this.getCurrentWindowSlide(),n=e.getSlideDraw();n&&((t=n.getNextSlideId(e))?this.onRequestingNextSlide(t):n.performExitAction())},onRequestingNextSlide:function(t,e){var n=this.getCurrentWindowSlide();n||(t=t||f.getEntrypoint()),t?this.onRequestingSlide(t,e,"push"):n.executePlayerEvent("onnextslide")},isNewLightBox:function(t,e){return null!=t&&!(m(t)||!y(t)||t===e.displayName)},onRequestingSlide:function(t,n,i){var r,s,a,u,c=this,p=this.getCurrentWindowSlide(),y=this.getCurrentWindow(),w=this.isNewLightBox(n,y);if(null!=y&&y.forceTransition(),null==(u=f.getSlide(t,this.getCurrentWindowSlide()))){if(e.parent.isPreview())return void d.trigger(h.preview.NOTIFY,"PREVIEW_SLIDE_MISSING");g("onRequestingSlide","could not resolve slide",v.backtick(t),"so defaulting to entry point"),u=f.getSlide(f.getEntrypoint())}if((a=null!=p&&p.absoluteId===u.absoluteId||o.getPath(this.findWindowById(n),"getCurrentSlide")===u)&&!w)u.restart();else{if(null!=p&&!function(t,e,n){var i,r={_ActTargetSlideId:e.absoluteId,_ActTargetSlideNavIndex:DS.utils.getPath(e,"navIndex")};return t.executePlayerEvent("onbeforeslidejump",r),(i=!r.cancel)&&d.trigger(h.slide.WILL_CHANGE,t,e,n),i}(p,u,w||m(n)))return;if(null!=p&&!p.slideReady)return this.findWindowById(n)===this.getCurrentWindow()&&(p.destroyed=!0),void d.once(h.slide.READY,(function(){c.onRequestingSlide(t,n,i)}));r=this.getOrCreateWindow(n||b,u),this.addWindow(r),s=this.loadSlide(u,(function(t){c.updateWindowHistory(r,"push"===i?t:null,"popGroup"===i)})),a&&w&&d.trigger(h.loader.HIDE),r.setSlideLoading(s),null!=p&&r!==y&&(null!=p.currView&&(p.lastFocusedItem=p.currView.getCurrentShadowFocus()),s.then((function(){l.savePresentationData()})))}},updateWindowHistory:function(t,e,n){var i,r=!!e;i=null!=(e=e||t[n?"getPrevHistoryGroup":"getPrevSlide"]())&&this.isMultiWindowSlide(e)&&null!==e.currView,t.prepareToUpdateSlide(i),r?t.pushHistory(e):t[n?"popHistoryGroup":"popHistory"](),this.updatePrevHistoryVar(),i&&(e.onPlayTimeline(),this.moveSlideToOtherWindow(t,e.currView))},updatePrevHistoryVar:function(){DS.presentation.playerVars().variables().get("hasPrevHistory").value(null!=this.getCurrentWindow().getPrevSlide())},getResumeData:function(){return this.windows.reduce((function(t,e){return o.getPath(e,"props.skipResume")?t:t+u.create(e.getResumeData())}),"")},setResumeData:function(t){var e=new u({fullString:t}),n=e.encodedString();for(this.resumeWindowQueue=[];n.length;)this.setWindowAndHistory(n),n=(e=e.reChunk()).encodedString()},setWindowAndHistory:function(t){var e=new u({fullString:t}),n=e.getUnsignedValue(),i=this.resolveSlideFromResumeData(e.remainder()),r=new u({fullString:i.data}),o=this.createSlideHistoryArray(r.encodedString());0===o.length&&o.push(i.slide),this.restoreOrQueueWindow(n,o)},restoreOrQueueWindow:function(t,e){this.restoringWindow?this.resumeWindowQueue.push({idx:t,history:e}):(this.restoringWindow=!0,this.setLoadedWindow(t,e))},setLoadedWindow:function(t,e){var n=this.getWindowFromIndex(t,e),i=e.pop(),r=this.loadSlide(i.absoluteId,(function(t){var i;n.setPreviousHistory(e),this.updateWindowHistory(n,t),this.restoringWindow=this.resumeWindowQueue.length>0,this.restoringWindow&&(t.pauseForResume=!0,i=this.resumeWindowQueue.shift(),this.setLoadedWindow(i.idx,i.history))}));n.setSlideLoading(r)},getWindowFromIndex:function(t,n){var i,r;return 0===t?i=this.getMainWindow():(r=e.windows().at(t-1).id,i=this.getOrCreateWindow(r),this.addWindow(i)),i},createSlideHistoryArray:function(t){for(var e,n=[];t.length;)e=this.resolveSlideFromResumeData(t),n.push(e.slide),t=e.data;return n},resolveSlideFromResumeData:function(t){return this["1"===t.charAt(0)?"getDrawFromResumeData":"getSlideFromResumeData"](t.slice(1))},getSlideFromResumeData:function(t){var e=new u({fullString:t}),n=e.reChunk(),i=e.getUnsignedValue(),r=n.getUnsignedValue();return{slide:f.getSlideFromIndices(r,i),data:n.remainder()}},getDrawFromResumeData:function(t){var e=new u({fullString:t}),n=e.reChunk(),i=n.reChunk(),r=e.getUnsignedValue(),o=n.getUnsignedValue(),s=i.getUnsignedValue();return{slide:f.getDrawFromIndices(s,o,r),data:i.remainder()}}},a.Events,c);return p.windowManager=w,w}.call(e,n,e,t))||(t.exports=i)},7300:function(t,e,n){"use strict";var i;void 0===(i=function(t){var e,i=n(6486),r=(n(5485),n(8880)),o=n(9032),s=n(6194),a=n(7812);return i.extend({initialize:function(t){e=t,o.on(r.window.OPEN_EXTERNAL,this.onOpenWindow.bind(this))},onOpenWindow:function(t,e){var n=this.openWindowByAction.bind(this,t),i=n;null!=s.onOpenWindow&&(i=s.onOpenWindow.bind(s,t,e,n)),i()},openWindowByAction:function(t){var e={},n=t.windowsize,i="open_video"===t.kind;switch(n){case"fullscreen":e.width=window.screen.availWidth,e.height=window.screen.availHeight;break;case"custom":e.width=t.width,e.height=t.height}t.usedefaultcontrols||"default"===n||(e.status=+t.status,e.toolbar=+t.toolbar,e.location=+t.location,e.menubar=+t.menubar,e.scrollbars=+t.scrollbars,e.resizable=+t.resizable),this.open({url:i?a.STORY_CONTENT_URL+t.url:t.url,window:t.window,specs:e,previewNotification:i?"PREVIEW_OPEN_VIDEO":"PREVIEW_OPEN_URL"})},open:function(t){var n,s={previewNotification:"PREVIEW_OPEN_URL",specs:{},window:"_blank"};i.extend(s,t),e.isPreview()?o.trigger(r.preview.NOTIFY,s.previewNotification):window.open(s.url,s.window,(n=s.specs,i.toPairs(n).map((function(t){return t.join("=")})).join(", ")))}})}.call(e,n,e,t))||(t.exports=i)},8087:function(t,e,n){!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){return r(e[s][1][t]||t)}),u,u.exports,t,e,n,i)}return n[s].exports}for(var o=void 0,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,i){(function(e){"use strict";function n(t,e,n){t[e]||Object[i](t,e,{writable:!0,configurable:!0,value:n})}if(t(327),t(328),t(2),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var i="defineProperty";n(String.prototype,"padLeft","".padStart),n(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(t){[][t]&&n(Array,t,Function.call.bind([][t]))}))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,327:327,328:328}],2:[function(t,e,n){t(130),e.exports=t(23).RegExp.escape},{130:130,23:23}],3:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],4:[function(t,e,n){var i=t(18);e.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},{18:18}],5:[function(t,e,n){var i=t(128)("unscopables"),r=Array.prototype;null==r[i]&&t(42)(r,i,{}),e.exports=function(t){r[i][t]=!0}},{128:128,42:42}],6:[function(t,e,n){e.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},{}],7:[function(t,e,n){var i=t(51);e.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},{51:51}],8:[function(t,e,n){"use strict";var i=t(119),r=t(114),o=t(118);e.exports=[].copyWithin||function(t,e){var n=i(this),s=o(n.length),a=r(t,s),l=r(e,s),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?s:r(u,s))-l,s-a),h=1;for(l<a&&a<l+c&&(h=-1,l+=c-1,a+=c-1);c-- >0;)l in n?n[a]=n[l]:delete n[a],a+=h,l+=h;return n}},{114:114,118:118,119:119}],9:[function(t,e,n){"use strict";var i=t(119),r=t(114),o=t(118);e.exports=function(t){for(var e=i(this),n=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);u>a;)e[a++]=t;return e}},{114:114,118:118,119:119}],10:[function(t,e,n){var i=t(39);e.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},{39:39}],11:[function(t,e,n){var i=t(117),r=t(118),o=t(114);e.exports=function(t){return function(e,n,s){var a,l=i(e),u=r(l.length),c=o(s,u);if(t&&n!=n){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},{114:114,117:117,118:118}],12:[function(t,e,n){var i=t(25),r=t(47),o=t(119),s=t(118),a=t(15);e.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,h=6==t,d=5==t||h,p=e||a;return function(e,a,f){for(var v,g,m=o(e),y=r(m),b=i(a,f,3),w=s(y.length),A=0,E=n?p(e,w):l?p(e,0):void 0;w>A;A++)if((d||A in y)&&(g=b(v=y[A],A,m),t))if(n)E[A]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return A;case 2:E.push(v)}else if(c)return!1;return h?-1:u||c?c:E}}},{118:118,119:119,15:15,25:25,47:47}],13:[function(t,e,n){var i=t(3),r=t(119),o=t(47),s=t(118);e.exports=function(t,e,n,a,l){i(e);var u=r(t),c=o(u),h=s(u.length),d=l?h-1:0,p=l?-1:1;if(n<2)for(;;){if(d in c){a=c[d],d+=p;break}if(d+=p,l?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;l?d>=0:h>d;d+=p)d in c&&(a=e(a,c[d],d,u));return a}},{118:118,119:119,3:3,47:47}],14:[function(t,e,n){var i=t(51),r=t(49),o=t(128)("species");e.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},{128:128,49:49,51:51}],15:[function(t,e,n){var i=t(14);e.exports=function(t,e){return new(i(t))(e)}},{14:14}],16:[function(t,e,n){"use strict";var i=t(3),r=t(51),o=t(46),s=[].slice,a={},l=function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,n)};e.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),a=function(){var i=n.concat(s.call(arguments));return this instanceof a?l(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(a.prototype=e.prototype),a}},{3:3,46:46,51:51}],17:[function(t,e,n){var i=t(18),r=t(128)("toStringTag"),o="Arguments"==i(function(){return arguments}());e.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},{128:128,18:18}],18:[function(t,e,n){var i={}.toString;e.exports=function(t){return i.call(t).slice(8,-1)}},{}],19:[function(t,e,n){"use strict";var i=t(72).f,r=t(71),o=t(93),s=t(25),a=t(6),l=t(39),u=t(55),c=t(57),h=t(100),d=t(29),p=t(66).fastKey,f=t(125),v=d?"_s":"size",g=function(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};e.exports={getConstructor:function(t,e,n,u){var c=t((function(t,i){a(t,c,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[v]=0,null!=i&&l(i,n,t[u],t)}));return o(c.prototype,{clear:function(){for(var t=f(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=f(this,e),i=g(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[v]--}return!!i},forEach:function(t){f(this,e);for(var n,i=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(f(this,e),t)}}),d&&i(c.prototype,"size",{get:function(){return f(this,e)[v]}}),c},def:function(t,e,n){var i,r,o=g(t,e);return o?o.v=n:(t._l=o={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[v]++,"F"!==r&&(t._i[r]=o)),t},getEntry:g,setStrong:function(t,e,n){u(t,e,(function(t,n){this._t=f(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?c(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,c(1))}),n?"entries":"values",!n,!0),h(e)}}},{100:100,125:125,25:25,29:29,39:39,55:55,57:57,6:6,66:66,71:71,72:72,93:93}],20:[function(t,e,n){var i=t(17),r=t(10);e.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},{10:10,17:17}],21:[function(t,e,n){"use strict";var i=t(93),r=t(66).getWeak,o=t(7),s=t(51),a=t(6),l=t(39),u=t(12),c=t(41),h=t(125),d=u(5),p=u(6),f=0,v=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},m=function(t,e){return d(t.a,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=p(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(t,e,n,o){var u=t((function(t,i){a(t,u,e,"_i"),t._t=e,t._i=f++,t._l=void 0,null!=i&&l(i,n,t[o],t)}));return i(u.prototype,{delete:function(t){if(!s(t))return!1;var n=r(t);return!0===n?v(h(this,e)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function(t){if(!s(t))return!1;var n=r(t);return!0===n?v(h(this,e)).has(t):n&&c(n,this._i)}}),u},def:function(t,e,n){var i=r(o(e),!0);return!0===i?v(t).set(e,n):i[t._i]=n,t},ufstore:v}},{12:12,125:125,39:39,41:41,51:51,6:6,66:66,7:7,93:93}],22:[function(t,e,n){"use strict";var i=t(40),r=t(33),o=t(94),s=t(93),a=t(66),l=t(39),u=t(6),c=t(51),h=t(35),d=t(56),p=t(101),f=t(45);e.exports=function(t,e,n,v,g,m){var y=i[t],b=y,w=g?"set":"add",A=b&&b.prototype,E={},S=function(t){var e=A[t];o(A,t,"delete"==t||"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(m||A.forEach&&!h((function(){(new b).entries().next()})))){var T=new b,x=T[w](m?{}:-0,1)!=T,C=h((function(){T.has(1)})),_=d((function(t){new b(t)})),k=!m&&h((function(){for(var t=new b,e=5;e--;)t[w](e,e);return!t.has(-0)}));_||((b=e((function(e,n){u(e,b,t);var i=f(new y,e,b);return null!=n&&l(n,g,i[w],i),i}))).prototype=A,A.constructor=b),(C||k)&&(S("delete"),S("has"),g&&S("get")),(k||x)&&S(w),m&&A.clear&&delete A.clear}else b=v.getConstructor(e,t,g,w),s(b.prototype,n),a.NEED=!0;return p(b,t),E[t]=b,r(r.G+r.W+r.F*(b!=y),E),m||v.setStrong(b,t,g),b}},{101:101,33:33,35:35,39:39,40:40,45:45,51:51,56:56,6:6,66:66,93:93,94:94}],23:[function(t,e,n){var i=e.exports={version:"2.5.0"};"number"==typeof __e&&(__e=i)},{}],24:[function(t,e,n){"use strict";var i=t(72),r=t(92);e.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},{72:72,92:92}],25:[function(t,e,n){var i=t(3);e.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},{3:3}],26:[function(t,e,n){"use strict";var i=t(35),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-50000000000001))}))||!i((function(){o.call(new Date(NaN))}))?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(n>99?n:"0"+s(n))+"Z"}:o},{35:35}],27:[function(t,e,n){"use strict";var i=t(7),r=t(120);e.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},{120:120,7:7}],28:[function(t,e,n){e.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},{}],29:[function(t,e,n){e.exports=!t(35)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{35:35}],30:[function(t,e,n){var i=t(51),r=t(40).document,o=i(r)&&i(r.createElement);e.exports=function(t){return o?r.createElement(t):{}}},{40:40,51:51}],31:[function(t,e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],32:[function(t,e,n){var i=t(81),r=t(78),o=t(82);e.exports=function(t){var e=i(t),n=r.f;if(n)for(var s,a=n(t),l=o.f,u=0;a.length>u;)l.call(t,s=a[u++])&&e.push(s);return e}},{78:78,81:81,82:82}],33:[function(t,e,n){var i=t(40),r=t(23),o=t(42),s=t(94),a=t(25),l=function(t,e,n){var u,c,h,d,p=t&l.F,f=t&l.G,v=t&l.S,g=t&l.P,m=t&l.B,y=f?i:v?i[e]||(i[e]={}):(i[e]||{}).prototype,b=f?r:r[e]||(r[e]={}),w=b.prototype||(b.prototype={});for(u in f&&(n=e),n)h=((c=!p&&y&&void 0!==y[u])?y:n)[u],d=m&&c?a(h,i):g&&"function"==typeof h?a(Function.call,h):h,y&&s(y,u,h,t&l.U),b[u]!=h&&o(b,u,d),g&&w[u]!=h&&(w[u]=h)};i.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},{23:23,25:25,40:40,42:42,94:94}],34:[function(t,e,n){var i=t(128)("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},{128:128}],35:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],36:[function(t,e,n){"use strict";var i=t(42),r=t(94),o=t(35),s=t(28),a=t(128);e.exports=function(t,e,n){var l=a(t),u=n(s,l,""[t]),c=u[0],h=u[1];o((function(){var e={};return e[l]=function(){return 7},7!=""[t](e)}))&&(r(String.prototype,t,c),i(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},{128:128,28:28,35:35,42:42,94:94}],37:[function(t,e,n){"use strict";var i=t(7);e.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{7:7}],38:[function(t,e,n){"use strict";var i=t(49),r=t(51),o=t(118),s=t(25),a=t(128)("isConcatSpreadable");e.exports=function t(e,n,l,u,c,h,d,p){for(var f,v,g=c,m=0,y=!!d&&s(d,p,3);m<u;){if(m in l){if(f=y?y(l[m],m,n):l[m],v=!1,r(f)&&(v=void 0!==(v=f[a])?!!v:i(f)),v&&h>0)g=t(e,n,f,o(f.length),g,h-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=f}g++}m++}return g}},{118:118,128:128,25:25,49:49,51:51}],39:[function(t,e,n){var i=t(25),r=t(53),o=t(48),s=t(7),a=t(118),l=t(129),u={},c={};(n=e.exports=function(t,e,n,h,d){var p,f,v,g,m=d?function(){return t}:l(t),y=i(n,h,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(p=a(t.length);p>b;b++)if((g=e?y(s(f=t[b])[0],f[1]):y(t[b]))===u||g===c)return g}else for(v=m.call(t);!(f=v.next()).done;)if((g=r(v,y,f.value,e))===u||g===c)return g}).BREAK=u,n.RETURN=c},{118:118,129:129,25:25,48:48,53:53,7:7}],40:[function(t,e,n){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],41:[function(t,e,n){var i={}.hasOwnProperty;e.exports=function(t,e){return i.call(t,e)}},{}],42:[function(t,e,n){var i=t(72),r=t(92);e.exports=t(29)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},{29:29,72:72,92:92}],43:[function(t,e,n){var i=t(40).document;e.exports=i&&i.documentElement},{40:40}],44:[function(t,e,n){e.exports=!t(29)&&!t(35)((function(){return 7!=Object.defineProperty(t(30)("div"),"a",{get:function(){return 7}}).a}))},{29:29,30:30,35:35}],45:[function(t,e,n){var i=t(51),r=t(99).set;e.exports=function(t,e,n){var o,s=e.constructor;return s!==n&&"function"==typeof s&&(o=s.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},{51:51,99:99}],46:[function(t,e,n){e.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],47:[function(t,e,n){var i=t(18);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},{18:18}],48:[function(t,e,n){var i=t(58),r=t(128)("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},{128:128,58:58}],49:[function(t,e,n){var i=t(18);e.exports=Array.isArray||function(t){return"Array"==i(t)}},{18:18}],50:[function(t,e,n){var i=t(51),r=Math.floor;e.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},{51:51}],51:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],52:[function(t,e,n){var i=t(51),r=t(18),o=t(128)("match");e.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},{128:128,18:18,51:51}],53:[function(t,e,n){var i=t(7);e.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&i(o.call(t)),e}}},{7:7}],54:[function(t,e,n){"use strict";var i=t(71),r=t(92),o=t(101),s={};t(42)(s,t(128)("iterator"),(function(){return this})),e.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},{101:101,128:128,42:42,71:71,92:92}],55:[function(t,e,n){"use strict";var i=t(60),r=t(33),o=t(94),s=t(42),a=t(41),l=t(58),u=t(54),c=t(101),h=t(79),d=t(128)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(t,e,n,v,g,m,y){u(n,e,v);var b,w,A,E=function(t){if(!p&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",T="values"==g,x=!1,C=t.prototype,_=C[d]||C["@@iterator"]||g&&C[g],k=_||E(g),M=g?T?E("entries"):k:void 0,O="Array"==e&&C.entries||_;if(O&&(A=h(O.call(new t)))!==Object.prototype&&A.next&&(c(A,S,!0),i||a(A,d)||s(A,d,f)),T&&_&&"values"!==_.name&&(x=!0,k=function(){return _.call(this)}),i&&!y||!p&&!x&&C[d]||s(C,d,k),l[e]=k,l[S]=f,g)if(b={values:T?k:E("values"),keys:m?k:E("keys"),entries:M},y)for(w in b)w in C||o(C,w,b[w]);else r(r.P+r.F*(p||x),e,b);return b}},{101:101,128:128,33:33,41:41,42:42,54:54,58:58,60:60,79:79,94:94}],56:[function(t,e,n){var i=t(128)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,(function(){throw 2}))}catch(t){}e.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(t){}return n}},{128:128}],57:[function(t,e,n){e.exports=function(t,e){return{value:e,done:!!t}}},{}],58:[function(t,e,n){e.exports={}},{}],59:[function(t,e,n){var i=t(81),r=t(117);e.exports=function(t,e){for(var n,o=r(t),s=i(o),a=s.length,l=0;a>l;)if(o[n=s[l++]]===e)return n}},{117:117,81:81}],60:[function(t,e,n){e.exports=!1},{}],61:[function(t,e,n){var i=Math.expm1;e.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},{}],62:[function(t,e,n){var i=t(65),r=Math.pow,o=r(2,-52),s=r(2,-23),a=r(2,127)*(2-s),l=r(2,-126);e.exports=Math.fround||function(t){var e,n,r=Math.abs(t),u=i(t);return r<l?u*function(t){return t+1/o-1/o}(r/l/s)*l*s:(n=(e=(1+s/o)*r)-(e-r))>a||n!=n?u*(1/0):u*n}},{65:65}],63:[function(t,e,n){e.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],64:[function(t,e,n){e.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},{}],65:[function(t,e,n){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],66:[function(t,e,n){var i=t(124)("meta"),r=t(51),o=t(41),s=t(72).f,a=0,l=Object.isExtensible||function(){return!0},u=!t(35)((function(){return l(Object.preventExtensions({}))})),c=function(t){s(t,i,{value:{i:"O"+ ++a,w:{}}})},h=e.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[i].i},getWeak:function(t,e){if(!o(t,i)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[i].w},onFreeze:function(t){return u&&h.NEED&&l(t)&&!o(t,i)&&c(t),t}}},{124:124,35:35,41:41,51:51,72:72}],67:[function(t,e,n){var i=t(160),r=t(33),o=t(103)("metadata"),s=o.store||(o.store=new(t(266))),a=function(t,e,n){var r=s.get(t);if(!r){if(!n)return;s.set(t,r=new i)}var o=r.get(e);if(!o){if(!n)return;r.set(e,o=new i)}return o};e.exports={store:s,map:a,has:function(t,e,n){var i=a(e,n,!1);return void 0!==i&&i.has(t)},get:function(t,e,n){var i=a(e,n,!1);return void 0===i?void 0:i.get(t)},set:function(t,e,n,i){a(n,i,!0).set(t,e)},keys:function(t,e){var n=a(t,e,!1),i=[];return n&&n.forEach((function(t,e){i.push(e)})),i},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},{103:103,160:160,266:266,33:33}],68:[function(t,e,n){var i=t(40),r=t(113).set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,a=i.Promise,l="process"==t(18)(s);e.exports=function(){var t,e,n,u=function(){var i,r;for(l&&(i=s.domain)&&i.exit();t;){r=t.fn,t=t.next;try{r()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){s.nextTick(u)};else if(o){var c=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=c=!c}}else if(a&&a.resolve){var d=a.resolve();n=function(){d.then(u)}}else n=function(){r.call(i,u)};return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},{113:113,18:18,40:40}],69:[function(t,e,n){"use strict";function i(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=r(e),this.reject=r(n)}var r=t(3);e.exports.f=function(t){return new i(t)}},{3:3}],70:[function(t,e,n){"use strict";var i=t(81),r=t(78),o=t(82),s=t(119),a=t(47),l=Object.assign;e.exports=!l||t(35)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=i}))?function(t,e){for(var n=s(t),l=arguments.length,u=1,c=r.f,h=o.f;l>u;)for(var d,p=a(arguments[u++]),f=c?i(p).concat(c(p)):i(p),v=f.length,g=0;v>g;)h.call(p,d=f[g++])&&(n[d]=p[d]);return n}:l},{119:119,35:35,47:47,78:78,81:81,82:82}],71:[function(t,e,n){var i=t(7),r=t(73),o=t(31),s=t(102)("IE_PROTO"),a=function(){},l=function(){var e,n=t(30)("iframe"),i=o.length;for(n.style.display="none",t(43).appendChild(n),n.src="javascript:",(e=n.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;i--;)delete l.prototype[o[i]];return l()};e.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[s]=t):n=l(),void 0===e?n:r(n,e)}},{102:102,30:30,31:31,43:43,7:7,73:73}],72:[function(t,e,n){var i=t(7),r=t(44),o=t(120),s=Object.defineProperty;n.f=t(29)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{120:120,29:29,44:44,7:7}],73:[function(t,e,n){var i=t(72),r=t(7),o=t(81);e.exports=t(29)?Object.defineProperties:function(t,e){r(t);for(var n,s=o(e),a=s.length,l=0;a>l;)i.f(t,n=s[l++],e[n]);return t}},{29:29,7:7,72:72,81:81}],74:[function(t,e,n){"use strict";e.exports=t(60)||!t(35)((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete t(40)[e]}))},{35:35,40:40,60:60}],75:[function(t,e,n){var i=t(82),r=t(92),o=t(117),s=t(120),a=t(41),l=t(44),u=Object.getOwnPropertyDescriptor;n.f=t(29)?u:function(t,e){if(t=o(t),e=s(e,!0),l)try{return u(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},{117:117,120:120,29:29,41:41,44:44,82:82,92:92}],76:[function(t,e,n){var i=t(117),r=t(77).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},{117:117,77:77}],77:[function(t,e,n){var i=t(80),r=t(31).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},{31:31,80:80}],78:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],79:[function(t,e,n){var i=t(41),r=t(119),o=t(102)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{102:102,119:119,41:41}],80:[function(t,e,n){var i=t(41),r=t(117),o=t(11)(!1),s=t(102)("IE_PROTO");e.exports=function(t,e){var n,a=r(t),l=0,u=[];for(n in a)n!=s&&i(a,n)&&u.push(n);for(;e.length>l;)i(a,n=e[l++])&&(~o(u,n)||u.push(n));return u}},{102:102,11:11,117:117,41:41}],81:[function(t,e,n){var i=t(80),r=t(31);e.exports=Object.keys||function(t){return i(t,r)}},{31:31,80:80}],82:[function(t,e,n){n.f={}.propertyIsEnumerable},{}],83:[function(t,e,n){var i=t(33),r=t(23),o=t(35);e.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],s={};s[t]=e(n),i(i.S+i.F*o((function(){n(1)})),"Object",s)}},{23:23,33:33,35:35}],84:[function(t,e,n){var i=t(81),r=t(117),o=t(82).f;e.exports=function(t){return function(e){for(var n,s=r(e),a=i(s),l=a.length,u=0,c=[];l>u;)o.call(s,n=a[u++])&&c.push(t?[n,s[n]]:s[n]);return c}}},{117:117,81:81,82:82}],85:[function(t,e,n){var i=t(77),r=t(78),o=t(7),s=t(40).Reflect;e.exports=s&&s.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},{40:40,7:7,77:77,78:78}],86:[function(t,e,n){var i=t(40).parseFloat,r=t(111).trim;e.exports=1/i(t(112)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},{111:111,112:112,40:40}],87:[function(t,e,n){var i=t(40).parseInt,r=t(111).trim,o=t(112),s=/^[-+]?0[xX]/;e.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},{111:111,112:112,40:40}],88:[function(t,e,n){"use strict";var i=t(89),r=t(46),o=t(3);e.exports=function(){for(var t=o(this),e=arguments.length,n=Array(e),s=0,a=i._,l=!1;e>s;)(n[s]=arguments[s++])===a&&(l=!0);return function(){var i,o=this,s=arguments.length,u=0,c=0;if(!l&&!s)return r(t,n,o);if(i=n.slice(),l)for(;e>u;u++)i[u]===a&&(i[u]=arguments[c++]);for(;s>c;)i.push(arguments[c++]);return r(t,i,o)}}},{3:3,46:46,89:89}],89:[function(t,e,n){e.exports=t(40)},{40:40}],90:[function(t,e,n){e.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],91:[function(t,e,n){var i=t(69);e.exports=function(t,e){var n=i.f(t);return(0,n.resolve)(e),n.promise}},{69:69}],92:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],93:[function(t,e,n){var i=t(94);e.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},{94:94}],94:[function(t,e,n){var i=t(40),r=t(42),o=t(41),s=t(124)("src"),a=Function.toString,l=(""+a).split("toString");t(23).inspectSource=function(t){return a.call(t)},(e.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||r(n,s,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[s]||a.call(this)}))},{124:124,23:23,40:40,41:41,42:42}],95:[function(t,e,n){e.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},{}],96:[function(t,e,n){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},{}],97:[function(t,e,n){"use strict";var i=t(33),r=t(3),o=t(25),s=t(39);e.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,a,l=arguments[1];return r(this),(e=void 0!==l)&&r(l),null==t?new this:(n=[],e?(i=0,a=o(l,arguments[2],2),s(t,!1,(function(t){n.push(a(t,i++))}))):s(t,!1,n.push,n),new this(n))}})}},{25:25,3:3,33:33,39:39}],98:[function(t,e,n){"use strict";var i=t(33);e.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},{33:33}],99:[function(t,e,n){var i=t(51),r=t(7),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,i){try{(i=t(25)(Function.call,t(75).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:o}},{25:25,51:51,7:7,75:75}],100:[function(t,e,n){"use strict";var i=t(40),r=t(72),o=t(29),s=t(128)("species");e.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},{128:128,29:29,40:40,72:72}],101:[function(t,e,n){var i=t(72).f,r=t(41),o=t(128)("toStringTag");e.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},{128:128,41:41,72:72}],102:[function(t,e,n){var i=t(103)("keys"),r=t(124);e.exports=function(t){return i[t]||(i[t]=r(t))}},{103:103,124:124}],103:[function(t,e,n){var i=t(40),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(t){return r[t]||(r[t]={})}},{40:40}],104:[function(t,e,n){var i=t(7),r=t(3),o=t(128)("species");e.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||null==(n=i(s)[o])?e:r(n)}},{128:128,3:3,7:7}],105:[function(t,e,n){"use strict";var i=t(35);e.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},{35:35}],106:[function(t,e,n){var i=t(116),r=t(28);e.exports=function(t){return function(e,n){var o,s,a=String(r(e)),l=i(n),u=a.length;return l<0||l>=u?t?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):o:t?a.slice(l,l+2):s-56320+(o-55296<<10)+65536}}},{116:116,28:28}],107:[function(t,e,n){var i=t(52),r=t(28);e.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},{28:28,52:52}],108:[function(t,e,n){var i=t(33),r=t(35),o=t(28),s=/"/g,a=function(t,e,n,i){var r=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),a+">"+r+"</"+e+">"};e.exports=function(t,e){var n={};n[t]=e(a),i(i.P+i.F*r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},{28:28,33:33,35:35}],109:[function(t,e,n){var i=t(118),r=t(110),o=t(28);e.exports=function(t,e,n,s){var a=String(o(t)),l=a.length,u=void 0===n?" ":String(n),c=i(e);if(c<=l||""==u)return a;var h=c-l,d=r.call(u,Math.ceil(h/u.length));return d.length>h&&(d=d.slice(0,h)),s?d+a:a+d}},{110:110,118:118,28:28}],110:[function(t,e,n){"use strict";var i=t(116),r=t(28);e.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},{116:116,28:28}],111:[function(t,e,n){var i=t(33),r=t(28),o=t(35),s=t(112),a="["+s+"]",l=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),c=function(t,e,n){var r={},a=o((function(){return!!s[t]()||"​"!="​"[t]()})),l=r[t]=a?e(h):s[t];n&&(r[n]=l),i(i.P+i.F*a,"String",r)},h=c.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};e.exports=c},{112:112,28:28,33:33,35:35}],112:[function(t,e,n){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],113:[function(t,e,n){var i,r,o,s=t(25),a=t(46),l=t(43),u=t(30),c=t(40),h=c.process,d=c.setImmediate,p=c.clearImmediate,f=c.MessageChannel,v=c.Dispatch,g=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){y.call(t.data)};d&&p||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++g]=function(){a("function"==typeof t?t:Function(t),e)},i(g),g},p=function(t){delete m[t]},"process"==t(18)(h)?i=function(t){h.nextTick(s(y,t,1))}:v&&v.now?i=function(t){v.now(s(y,t,1))}:f?(o=(r=new f).port2,r.port1.onmessage=b,i=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):i="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),e.exports={set:d,clear:p}},{18:18,25:25,30:30,40:40,43:43,46:46}],114:[function(t,e,n){var i=t(116),r=Math.max,o=Math.min;e.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},{116:116}],115:[function(t,e,n){var i=t(116),r=t(118);e.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},{116:116,118:118}],116:[function(t,e,n){var i=Math.ceil,r=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},{}],117:[function(t,e,n){var i=t(47),r=t(28);e.exports=function(t){return i(r(t))}},{28:28,47:47}],118:[function(t,e,n){var i=t(116),r=Math.min;e.exports=function(t){return t>0?r(i(t),9007199254740991):0}},{116:116}],119:[function(t,e,n){var i=t(28);e.exports=function(t){return Object(i(t))}},{28:28}],120:[function(t,e,n){var i=t(51);e.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{51:51}],121:[function(t,e,n){"use strict";if(t(29)){var i=t(60),r=t(40),o=t(35),s=t(33),a=t(123),l=t(122),u=t(25),c=t(6),h=t(92),d=t(42),p=t(93),f=t(116),v=t(118),g=t(115),m=t(114),y=t(120),b=t(41),w=t(17),A=t(51),E=t(119),S=t(48),T=t(71),x=t(79),C=t(77).f,_=t(129),k=t(124),M=t(128),O=t(12),L=t(11),P=t(104),I=t(141),R=t(58),D=t(56),N=t(100),H=t(9),V=t(8),F=t(72),B=t(75),j=F.f,U=B.f,z=r.RangeError,W=r.TypeError,G=r.Uint8Array,q=Array.prototype,Y=l.ArrayBuffer,X=l.DataView,K=O(0),J=O(2),Z=O(3),$=O(4),Q=O(5),tt=O(6),et=L(!0),nt=L(!1),it=I.values,rt=I.keys,ot=I.entries,st=q.lastIndexOf,at=q.reduce,lt=q.reduceRight,ut=q.join,ct=q.sort,ht=q.slice,dt=q.toString,pt=q.toLocaleString,ft=M("iterator"),vt=M("toStringTag"),gt=k("typed_constructor"),mt=k("def_constructor"),yt=a.CONSTR,bt=a.TYPED,wt=a.VIEW,At=O(1,(function(t,e){return Ct(P(t,t[mt]),e)})),Et=o((function(){return 1===new G(new Uint16Array([1]).buffer)[0]})),St=!!G&&!!G.prototype.set&&o((function(){new G(1).set({})})),Tt=function(t,e){var n=f(t);if(n<0||n%e)throw z("Wrong offset!");return n},xt=function(t){if(A(t)&&bt in t)return t;throw W(t+" is not a typed array!")},Ct=function(t,e){if(!A(t)||!(gt in t))throw W("It is not a typed array constructor!");return new t(e)},_t=function(t,e){return kt(P(t,t[mt]),e)},kt=function(t,e){for(var n=0,i=e.length,r=Ct(t,i);i>n;)r[n]=e[n++];return r},Mt=function(t,e,n){j(t,e,{get:function(){return this._d[n]}})},Ot=function(t){var e,n,i,r,o,s,a=E(t),l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,d=_(a);if(null!=d&&!S(d)){for(s=d.call(a),i=[],e=0;!(o=s.next()).done;e++)i.push(o.value);a=i}for(h&&l>2&&(c=u(c,arguments[2],2)),e=0,n=v(a.length),r=Ct(this,n);n>e;e++)r[e]=h?c(a[e],e):a[e];return r},Lt=function(){for(var t=0,e=arguments.length,n=Ct(this,e);e>t;)n[t]=arguments[t++];return n},Pt=!!G&&o((function(){pt.call(new G(1))})),It=function(){return pt.apply(Pt?ht.call(xt(this)):xt(this),arguments)},Rt={copyWithin:function(t,e){return V.call(xt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return $(xt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return H.apply(xt(this),arguments)},filter:function(t){return _t(this,J(xt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Q(xt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(xt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(xt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(xt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(xt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ut.apply(xt(this),arguments)},lastIndexOf:function(t){return st.apply(xt(this),arguments)},map:function(t){return At(xt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return at.apply(xt(this),arguments)},reduceRight:function(t){return lt.apply(xt(this),arguments)},reverse:function(){for(var t,e=this,n=xt(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return Z(xt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return ct.call(xt(this),t)},subarray:function(t,e){var n=xt(this),i=n.length,r=m(t,i);return new(P(n,n[mt]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,v((void 0===e?i:m(e,i))-r))}},Dt=function(t,e){return _t(this,ht.call(xt(this),t,e))},Nt=function(t){xt(this);var e=Tt(arguments[1],1),n=this.length,i=E(t),r=v(i.length),o=0;if(r+e>n)throw z("Wrong length!");for(;o<r;)this[e+o]=i[o++]},Ht={entries:function(){return ot.call(xt(this))},keys:function(){return rt.call(xt(this))},values:function(){return it.call(xt(this))}},Vt=function(t,e){return A(t)&&t[bt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ft=function(t,e){return Vt(t,e=y(e,!0))?h(2,t[e]):U(t,e)},Bt=function(t,e,n){return!(Vt(t,e=y(e,!0))&&A(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?j(t,e,n):(t[e]=n.value,t)};yt||(B.f=Ft,F.f=Bt),s(s.S+s.F*!yt,"Object",{getOwnPropertyDescriptor:Ft,defineProperty:Bt}),o((function(){dt.call({})}))&&(dt=pt=function(){return ut.call(this)});var jt=p({},Rt);p(jt,Ht),d(jt,ft,Ht.values),p(jt,{slice:Dt,set:Nt,constructor:function(){},toString:dt,toLocaleString:It}),Mt(jt,"buffer","b"),Mt(jt,"byteOffset","o"),Mt(jt,"byteLength","l"),Mt(jt,"length","e"),j(jt,vt,{get:function(){return this[bt]}}),e.exports=function(t,e,n,l){var u=t+((l=!!l)?"Clamped":"")+"Array",h="get"+t,p="set"+t,f=r[u],m=f||{},y=f&&x(f),b=!f||!a.ABV,E={},S=f&&f.prototype,_=function(t,n){var i=t._d;return i.v[h](n*e+i.o,Et)},k=function(t,n,i){var r=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[p](n*e+r.o,i,Et)},M=function(t,e){j(t,e,{get:function(){return _(this,e)},set:function(t){return k(this,e,t)},enumerable:!0})};b?(f=n((function(t,n,i,r){c(t,f,u,"_d");var o,s,a,l,h=0,p=0;if(A(n)){if(!(n instanceof Y||"ArrayBuffer"==(l=w(n))||"SharedArrayBuffer"==l))return bt in n?kt(f,n):Ot.call(f,n);o=n,p=Tt(i,e);var m=n.byteLength;if(void 0===r){if(m%e)throw z("Wrong length!");if((s=m-p)<0)throw z("Wrong length!")}else if((s=v(r)*e)+p>m)throw z("Wrong length!");a=s/e}else a=g(n),o=new Y(s=a*e);for(d(t,"_d",{b:o,o:p,l:s,e:a,v:new X(o)});h<a;)M(t,h++)})),S=f.prototype=T(jt),d(S,"constructor",f)):o((function(){f(1)}))&&o((function(){new f(-1)}))&&D((function(t){new f,new f(null),new f(1.5),new f(t)}),!0)||(f=n((function(t,n,i,r){var o;return c(t,f,u),A(n)?n instanceof Y||"ArrayBuffer"==(o=w(n))||"SharedArrayBuffer"==o?void 0!==r?new m(n,Tt(i,e),r):void 0!==i?new m(n,Tt(i,e)):new m(n):bt in n?kt(f,n):Ot.call(f,n):new m(g(n))})),K(y!==Function.prototype?C(m).concat(C(y)):C(m),(function(t){t in f||d(f,t,m[t])})),f.prototype=S,i||(S.constructor=f));var O=S[ft],L=!!O&&("values"==O.name||null==O.name),P=Ht.values;d(f,gt,!0),d(S,bt,u),d(S,wt,!0),d(S,mt,f),(l?new f(1)[vt]==u:vt in S)||j(S,vt,{get:function(){return u}}),E[u]=f,s(s.G+s.W+s.F*(f!=m),E),s(s.S,u,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o((function(){m.of.call(f,1)})),u,{from:Ot,of:Lt}),"BYTES_PER_ELEMENT"in S||d(S,"BYTES_PER_ELEMENT",e),s(s.P,u,Rt),N(u),s(s.P+s.F*St,u,{set:Nt}),s(s.P+s.F*!L,u,Ht),i||S.toString==dt||(S.toString=dt),s(s.P+s.F*o((function(){new f(1).slice()})),u,{slice:Dt}),s(s.P+s.F*(o((function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()}))||!o((function(){S.toLocaleString.call([1,2])}))),u,{toLocaleString:It}),R[u]=L?O:P,i||L||d(S,ft,P)}}else e.exports=function(){}},{100:100,104:104,11:11,114:114,115:115,116:116,118:118,119:119,12:12,120:120,122:122,123:123,124:124,128:128,129:129,141:141,17:17,25:25,29:29,33:33,35:35,40:40,41:41,42:42,48:48,51:51,56:56,58:58,6:6,60:60,71:71,72:72,75:75,77:77,79:79,8:8,9:9,92:92,93:93}],122:[function(t,e,n){"use strict";function i(t,e,n){var i,r,o,s=Array(n),a=8*n-e-1,l=(1<<a)-1,u=l>>1,c=23===e?V(2,-24)-V(2,-77):0,h=0,d=t<0||0===t&&1/t<0?1:0;for((t=H(t))!=t||t===D?(r=t!=t?1:0,i=l):(i=F(B(t)/j),t*(o=V(2,-i))<1&&(i--,o*=2),(t+=i+u>=1?c/o:c*V(2,1-u))*o>=2&&(i++,o/=2),i+u>=l?(r=0,i=l):i+u>=1?(r=(t*o-1)*V(2,e),i+=u):(r=t*V(2,u-1)*V(2,e),i=0));e>=8;s[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;a>0;s[h++]=255&i,i/=256,a-=8);return s[--h]|=128*d,s}function r(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,l=n-1,u=t[l--],c=127&u;for(u>>=7;a>0;c=256*c+t[l],l--,a-=8);for(i=c&(1<<-a)-1,c>>=-a,a+=e;a>0;i=256*i+t[l],l--,a-=8);if(0===c)c=1-s;else{if(c===o)return i?NaN:u?-D:D;i+=V(2,e),c-=s}return(u?-1:1)*i*V(2,c-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return[255&t]}function a(t){return[255&t,t>>8&255]}function l(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function u(t){return i(t,52,8)}function c(t){return i(t,23,4)}function h(t,e,n){C(t[M],e,{get:function(){return this[n]}})}function d(t,e,n,i){var r=T(+n);if(r+e>t[z])throw R(O);var o=t[U]._b,s=r+t[W],a=o.slice(s,s+e);return i?a:a.reverse()}function p(t,e,n,i,r,o){var s=T(+n);if(s+e>t[z])throw R(O);for(var a=t[U]._b,l=s+t[W],u=i(+r),c=0;c<e;c++)a[l+c]=u[o?c:e-c-1]}var f=t(40),v=t(29),g=t(60),m=t(123),y=t(42),b=t(93),w=t(35),A=t(6),E=t(116),S=t(118),T=t(115),x=t(77).f,C=t(72).f,_=t(9),k=t(101),M="prototype",O="Wrong index!",L=f.ArrayBuffer,P=f.DataView,I=f.Math,R=f.RangeError,D=f.Infinity,N=L,H=I.abs,V=I.pow,F=I.floor,B=I.log,j=I.LN2,U=v?"_b":"buffer",z=v?"_l":"byteLength",W=v?"_o":"byteOffset";if(m.ABV){if(!w((function(){L(1)}))||!w((function(){new L(-1)}))||w((function(){return new L,new L(1.5),new L(NaN),"ArrayBuffer"!=L.name}))){for(var G,q=(L=function(t){return A(this,L),new N(T(t))})[M]=N[M],Y=x(N),X=0;Y.length>X;)(G=Y[X++])in L||y(L,G,N[G]);g||(q.constructor=L)}var K=new P(new L(2)),J=P[M].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||b(P[M],{setInt8:function(t,e){J.call(this,t,e<<24>>24)},setUint8:function(t,e){J.call(this,t,e<<24>>24)}},!0)}else L=function(t){A(this,L,"ArrayBuffer");var e=T(t);this._b=_.call(Array(e),0),this[z]=e},P=function(t,e,n){A(this,P,"DataView"),A(t,L,"DataView");var i=t[z],r=E(e);if(r<0||r>i)throw R("Wrong offset!");if(r+(n=void 0===n?i-r:S(n))>i)throw R("Wrong length!");this[U]=t,this[W]=r,this[z]=n},v&&(h(L,"byteLength","_l"),h(P,"buffer","_b"),h(P,"byteLength","_l"),h(P,"byteOffset","_o")),b(P[M],{getInt8:function(t){return d(this,1,t)[0]<<24>>24},getUint8:function(t){return d(this,1,t)[0]},getInt16:function(t){var e=d(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=d(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(d(this,4,t,arguments[1]))},getUint32:function(t){return o(d(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return r(d(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return r(d(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){p(this,1,t,s,e)},setUint8:function(t,e){p(this,1,t,s,e)},setInt16:function(t,e){p(this,2,t,a,e,arguments[2])},setUint16:function(t,e){p(this,2,t,a,e,arguments[2])},setInt32:function(t,e){p(this,4,t,l,e,arguments[2])},setUint32:function(t,e){p(this,4,t,l,e,arguments[2])},setFloat32:function(t,e){p(this,4,t,c,e,arguments[2])},setFloat64:function(t,e){p(this,8,t,u,e,arguments[2])}});k(L,"ArrayBuffer"),k(P,"DataView"),y(P[M],m.VIEW,!0),n.ArrayBuffer=L,n.DataView=P},{101:101,115:115,116:116,118:118,123:123,29:29,35:35,40:40,42:42,6:6,60:60,72:72,77:77,9:9,93:93}],123:[function(t,e,n){for(var i,r=t(40),o=t(42),s=t(124),a=s("typed_array"),l=s("view"),u=!(!r.ArrayBuffer||!r.DataView),c=u,h=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[d[h++]])?(o(i.prototype,a,!0),o(i.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:a,VIEW:l}},{124:124,40:40,42:42}],124:[function(t,e,n){var i=0,r=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},{}],125:[function(t,e,n){var i=t(51);e.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},{51:51}],126:[function(t,e,n){var i=t(40),r=t(23),o=t(60),s=t(127),a=t(72).f;e.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},{127:127,23:23,40:40,60:60,72:72}],127:[function(t,e,n){n.f=t(128)},{128:128}],128:[function(t,e,n){var i=t(103)("wks"),r=t(124),o=t(40).Symbol,s="function"==typeof o;(e.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},{103:103,124:124,40:40}],129:[function(t,e,n){var i=t(17),r=t(128)("iterator"),o=t(58);e.exports=t(23).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},{128:128,17:17,23:23,58:58}],130:[function(t,e,n){var i=t(33),r=t(95)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},{33:33,95:95}],131:[function(t,e,n){var i=t(33);i(i.P,"Array",{copyWithin:t(8)}),t(5)("copyWithin")},{33:33,5:5,8:8}],132:[function(t,e,n){"use strict";var i=t(33),r=t(12)(4);i(i.P+i.F*!t(105)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],133:[function(t,e,n){var i=t(33);i(i.P,"Array",{fill:t(9)}),t(5)("fill")},{33:33,5:5,9:9}],134:[function(t,e,n){"use strict";var i=t(33),r=t(12)(2);i(i.P+i.F*!t(105)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],135:[function(t,e,n){"use strict";var i=t(33),r=t(12)(6),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),i(i.P+i.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)(o)},{12:12,33:33,5:5}],136:[function(t,e,n){"use strict";var i=t(33),r=t(12)(5),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)("find")},{12:12,33:33,5:5}],137:[function(t,e,n){"use strict";var i=t(33),r=t(12)(0),o=t(105)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],138:[function(t,e,n){"use strict";var i=t(25),r=t(33),o=t(119),s=t(53),a=t(48),l=t(118),u=t(24),c=t(129);r(r.S+r.F*!t(56)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,h,d=o(t),p="function"==typeof this?this:Array,f=arguments.length,v=f>1?arguments[1]:void 0,g=void 0!==v,m=0,y=c(d);if(g&&(v=i(v,f>2?arguments[2]:void 0,2)),null==y||p==Array&&a(y))for(n=new p(e=l(d.length));e>m;m++)u(n,m,g?v(d[m],m):d[m]);else for(h=y.call(d),n=new p;!(r=h.next()).done;m++)u(n,m,g?s(h,v,[r.value,m],!0):r.value);return n.length=m,n}})},{118:118,119:119,129:129,24:24,25:25,33:33,48:48,53:53,56:56}],139:[function(t,e,n){"use strict";var i=t(33),r=t(11)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!t(105)(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},{105:105,11:11,33:33}],140:[function(t,e,n){var i=t(33);i(i.S,"Array",{isArray:t(49)})},{33:33,49:49}],141:[function(t,e,n){"use strict";var i=t(5),r=t(57),o=t(58),s=t(117);e.exports=t(55)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{117:117,5:5,55:55,57:57,58:58}],142:[function(t,e,n){"use strict";var i=t(33),r=t(117),o=[].join;i(i.P+i.F*(t(47)!=Object||!t(105)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},{105:105,117:117,33:33,47:47}],143:[function(t,e,n){"use strict";var i=t(33),r=t(117),o=t(116),s=t(118),a=[].lastIndexOf,l=!!a&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!t(105)(a)),"Array",{lastIndexOf:function(t){if(l)return a.apply(this,arguments)||0;var e=r(this),n=s(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,o(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},{105:105,116:116,117:117,118:118,33:33}],144:[function(t,e,n){"use strict";var i=t(33),r=t(12)(1);i(i.P+i.F*!t(105)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],145:[function(t,e,n){"use strict";var i=t(33),r=t(24);i(i.S+i.F*t(35)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},{24:24,33:33,35:35}],146:[function(t,e,n){"use strict";var i=t(33),r=t(13);i(i.P+i.F*!t(105)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},{105:105,13:13,33:33}],147:[function(t,e,n){"use strict";var i=t(33),r=t(13);i(i.P+i.F*!t(105)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},{105:105,13:13,33:33}],148:[function(t,e,n){"use strict";var i=t(33),r=t(43),o=t(18),s=t(114),a=t(118),l=[].slice;i(i.P+i.F*t(35)((function(){r&&l.call(r)})),"Array",{slice:function(t,e){var n=a(this.length),i=o(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var r=s(t,n),u=s(e,n),c=a(u-r),h=Array(c),d=0;d<c;d++)h[d]="String"==i?this.charAt(r+d):this[r+d];return h}})},{114:114,118:118,18:18,33:33,35:35,43:43}],149:[function(t,e,n){"use strict";var i=t(33),r=t(12)(3);i(i.P+i.F*!t(105)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},{105:105,12:12,33:33}],150:[function(t,e,n){"use strict";var i=t(33),r=t(3),o=t(119),s=t(35),a=[].sort,l=[1,2,3];i(i.P+i.F*(s((function(){l.sort(void 0)}))||!s((function(){l.sort(null)}))||!t(105)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},{105:105,119:119,3:3,33:33,35:35}],151:[function(t,e,n){t(100)("Array")},{100:100}],152:[function(t,e,n){var i=t(33);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},{33:33}],153:[function(t,e,n){var i=t(33),r=t(26);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},{26:26,33:33}],154:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(120);i(i.P+i.F*t(35)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},{119:119,120:120,33:33,35:35}],155:[function(t,e,n){var i=t(128)("toPrimitive"),r=Date.prototype;i in r||t(42)(r,i,t(27))},{128:128,27:27,42:42}],156:[function(t,e,n){var i=Date.prototype,r=i.toString,o=i.getTime;new Date(NaN)+""!="Invalid Date"&&t(94)(i,"toString",(function(){var t=o.call(this);return t==t?r.call(this):"Invalid Date"}))},{94:94}],157:[function(t,e,n){var i=t(33);i(i.P,"Function",{bind:t(16)})},{16:16,33:33}],158:[function(t,e,n){"use strict";var i=t(51),r=t(79),o=t(128)("hasInstance"),s=Function.prototype;o in s||t(72).f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},{128:128,51:51,72:72,79:79}],159:[function(t,e,n){var i=t(72).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||t(29)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},{29:29,72:72}],160:[function(t,e,n){"use strict";var i=t(19),r=t(125);e.exports=t(22)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},{125:125,19:19,22:22}],161:[function(t,e,n){var i=t(33),r=t(63),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},{33:33,63:63}],162:[function(t,e,n){var i=t(33),r=Math.asinh;i(i.S+i.F*!(r&&1/r(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},{33:33}],163:[function(t,e,n){var i=t(33),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{33:33}],164:[function(t,e,n){var i=t(33),r=t(65);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},{33:33,65:65}],165:[function(t,e,n){var i=t(33);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{33:33}],166:[function(t,e,n){var i=t(33),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},{33:33}],167:[function(t,e,n){var i=t(33),r=t(61);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},{33:33,61:61}],168:[function(t,e,n){var i=t(33);i(i.S,"Math",{fround:t(62)})},{33:33,62:62}],169:[function(t,e,n){var i=t(33),r=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,o=0,s=0,a=arguments.length,l=0;s<a;)l<(n=r(arguments[s++]))?(o=o*(i=l/n)*i+1,l=n):n>0?o+=(i=n/l)*i:o+=n;return l===1/0?1/0:l*Math.sqrt(o)}})},{33:33}],170:[function(t,e,n){var i=t(33),r=Math.imul;i(i.S+i.F*t(35)((function(){return-5!=r(4294967295,5)||2!=r.length})),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},{33:33,35:35}],171:[function(t,e,n){var i=t(33);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},{33:33}],172:[function(t,e,n){var i=t(33);i(i.S,"Math",{log1p:t(63)})},{33:33,63:63}],173:[function(t,e,n){var i=t(33);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{33:33}],174:[function(t,e,n){var i=t(33);i(i.S,"Math",{sign:t(65)})},{33:33,65:65}],175:[function(t,e,n){var i=t(33),r=t(61),o=Math.exp;i(i.S+i.F*t(35)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},{33:33,35:35,61:61}],176:[function(t,e,n){var i=t(33),r=t(61),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},{33:33,61:61}],177:[function(t,e,n){var i=t(33);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},{33:33}],178:[function(t,e,n){"use strict";var i=t(40),r=t(41),o=t(18),s=t(45),a=t(120),l=t(35),u=t(77).f,c=t(75).f,h=t(72).f,d=t(111).trim,p=i.Number,f=p,v=p.prototype,g="Number"==o(t(71)(v)),m="trim"in String.prototype,y=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){var n,i,r,o=(e=m?e.trim():d(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,l=e.slice(2),u=0,c=l.length;u<c;u++)if((s=l.charCodeAt(u))<48||s>r)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?l((function(){v.valueOf.call(n)})):"Number"!=o(n))?s(new f(y(e)),n,p):y(e)};for(var b,w=t(29)?u(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;w.length>A;A++)r(f,b=w[A])&&!r(p,b)&&h(p,b,c(f,b));p.prototype=v,v.constructor=p,t(94)(i,"Number",p)}},{111:111,120:120,18:18,29:29,35:35,40:40,41:41,45:45,71:71,72:72,75:75,77:77,94:94}],179:[function(t,e,n){var i=t(33);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},{33:33}],180:[function(t,e,n){var i=t(33),r=t(40).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},{33:33,40:40}],181:[function(t,e,n){var i=t(33);i(i.S,"Number",{isInteger:t(50)})},{33:33,50:50}],182:[function(t,e,n){var i=t(33);i(i.S,"Number",{isNaN:function(t){return t!=t}})},{33:33}],183:[function(t,e,n){var i=t(33),r=t(50),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},{33:33,50:50}],184:[function(t,e,n){var i=t(33);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{33:33}],185:[function(t,e,n){var i=t(33);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{33:33}],186:[function(t,e,n){var i=t(33),r=t(86);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},{33:33,86:86}],187:[function(t,e,n){var i=t(33),r=t(87);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},{33:33,87:87}],188:[function(t,e,n){"use strict";var i=t(33),r=t(116),o=t(4),s=t(110),a=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*u[n],u[n]=i%1e7,i=l(i/1e7)},d=function(t){for(var e=6,n=0;--e>=0;)n+=u[e],u[e]=l(n/t),n=n%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var n=String(u[t]);e=""===e?n:e+s.call("0",7-n.length)+n}return e},f=function(t,e,n){return 0===e?n:e%2==1?f(t,e-1,n*t):f(t*t,e/2,n)};i(i.P+i.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t(35)((function(){a.call({})}))),"Number",{toFixed:function(t){var e,n,i,a,l=o(this,c),u=r(t),v="",g="0";if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(l*f(2,69,1))-69,n=e<0?l*f(2,-e,1):l/f(2,e,1),n*=4503599627370496,(e=52-e)>0){for(h(0,n),i=u;i>=7;)h(1e7,0),i-=7;for(h(f(10,i,1),0),i=e-1;i>=23;)d(1<<23),i-=23;d(1<<i),h(1,1),d(2),g=p()}else h(0,n),h(1<<-e,0),g=p()+s.call("0",u);return u>0?g=v+((a=g.length)<=u?"0."+s.call("0",u-a)+g:g.slice(0,a-u)+"."+g.slice(a-u)):g=v+g,g}})},{110:110,116:116,33:33,35:35,4:4}],189:[function(t,e,n){"use strict";var i=t(33),r=t(35),o=t(4),s=1..toPrecision;i(i.P+i.F*(r((function(){return"1"!==s.call(1,void 0)}))||!r((function(){s.call({})}))),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},{33:33,35:35,4:4}],190:[function(t,e,n){var i=t(33);i(i.S+i.F,"Object",{assign:t(70)})},{33:33,70:70}],191:[function(t,e,n){var i=t(33);i(i.S,"Object",{create:t(71)})},{33:33,71:71}],192:[function(t,e,n){var i=t(33);i(i.S+i.F*!t(29),"Object",{defineProperties:t(73)})},{29:29,33:33,73:73}],193:[function(t,e,n){var i=t(33);i(i.S+i.F*!t(29),"Object",{defineProperty:t(72).f})},{29:29,33:33,72:72}],194:[function(t,e,n){var i=t(51),r=t(66).onFreeze;t(83)("freeze",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},{51:51,66:66,83:83}],195:[function(t,e,n){var i=t(117),r=t(75).f;t(83)("getOwnPropertyDescriptor",(function(){return function(t,e){return r(i(t),e)}}))},{117:117,75:75,83:83}],196:[function(t,e,n){t(83)("getOwnPropertyNames",(function(){return t(76).f}))},{76:76,83:83}],197:[function(t,e,n){var i=t(119),r=t(79);t(83)("getPrototypeOf",(function(){return function(t){return r(i(t))}}))},{119:119,79:79,83:83}],198:[function(t,e,n){var i=t(51);t(83)("isExtensible",(function(t){return function(e){return!!i(e)&&(!t||t(e))}}))},{51:51,83:83}],199:[function(t,e,n){var i=t(51);t(83)("isFrozen",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},{51:51,83:83}],200:[function(t,e,n){var i=t(51);t(83)("isSealed",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},{51:51,83:83}],201:[function(t,e,n){var i=t(33);i(i.S,"Object",{is:t(96)})},{33:33,96:96}],202:[function(t,e,n){var i=t(119),r=t(81);t(83)("keys",(function(){return function(t){return r(i(t))}}))},{119:119,81:81,83:83}],203:[function(t,e,n){var i=t(51),r=t(66).onFreeze;t(83)("preventExtensions",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},{51:51,66:66,83:83}],204:[function(t,e,n){var i=t(51),r=t(66).onFreeze;t(83)("seal",(function(t){return function(e){return t&&i(e)?t(r(e)):e}}))},{51:51,66:66,83:83}],205:[function(t,e,n){var i=t(33);i(i.S,"Object",{setPrototypeOf:t(99).set})},{33:33,99:99}],206:[function(t,e,n){"use strict";var i=t(17),r={};r[t(128)("toStringTag")]="z",r+""!="[object z]"&&t(94)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},{128:128,17:17,94:94}],207:[function(t,e,n){var i=t(33),r=t(86);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},{33:33,86:86}],208:[function(t,e,n){var i=t(33),r=t(87);i(i.G+i.F*(parseInt!=r),{parseInt:r})},{33:33,87:87}],209:[function(t,e,n){"use strict";var i,r,o,s,a=t(60),l=t(40),u=t(25),c=t(17),h=t(33),d=t(51),p=t(3),f=t(6),v=t(39),g=t(104),m=t(113).set,y=t(68)(),b=t(69),w=t(90),A=t(91),E=l.TypeError,S=l.process,T=l.Promise,x="process"==c(S),C=function(){},_=r=b.f,k=!!function(){try{var e=T.resolve(1),n=(e.constructor={})[t(128)("species")]=function(t){t(C,C)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(C)instanceof n}catch(t){}}(),M=a?function(t,e){return t===e||t===T&&e===s}:function(t,e){return t===e},O=function(t){var e;return!(!d(t)||"function"!=typeof(e=t.then))&&e},L=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var i=t._v,r=1==t._s,o=0;n.length>o;)!function(e){var n,o,s=r?e.ok:e.fail,a=e.resolve,l=e.reject,u=e.domain;try{s?(r||(2==t._h&&R(t),t._h=1),!0===s?n=i:(u&&u.enter(),n=s(i),u&&u.exit()),n===e.promise?l(E("Promise-chain cycle")):(o=O(n))?o.call(n,a,l):a(n)):l(i)}catch(t){l(t)}}(n[o++]);t._c=[],t._n=!1,e&&!t._h&&P(t)}))}},P=function(t){m.call(l,(function(){var e,n,i,r=t._v,o=I(t);if(o&&(e=w((function(){x?S.emit("unhandledRejection",r,t):(n=l.onunhandledrejection)?n({promise:t,reason:r}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",r)})),t._h=x||I(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},I=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,i=0;n.length>i;)if((e=n[i++]).fail||!I(e.promise))return!1;return!0},R=function(t){m.call(l,(function(){var e;x?S.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})}))},D=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),L(e,!0))},N=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(e=O(t))?y((function(){var i={_w:n,_d:!1};try{e.call(t,u(N,i,1),u(D,i,1))}catch(t){D.call(i,t)}})):(n._v=t,n._s=1,L(n,!1))}catch(t){D.call({_w:n,_d:!1},t)}}};k||(T=function(t){f(this,T,"Promise","_h"),p(t),i.call(this);try{t(u(N,this,1),u(D,this,1))}catch(t){D.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=t(93)(T.prototype,{then:function(t,e){var n=_(g(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=u(N,t,1),this.reject=u(D,t,1)},b.f=_=function(t){return M(T,t)?new o(t):r(t)}),h(h.G+h.W+h.F*!k,{Promise:T}),t(101)(T,"Promise"),t(100)("Promise"),s=t(23).Promise,h(h.S+h.F*!k,"Promise",{reject:function(t){var e=_(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!k),"Promise",{resolve:function(t){return t instanceof T&&M(t.constructor,this)?t:A(this,t)}}),h(h.S+h.F*!(k&&t(56)((function(t){T.all(t).catch(C)}))),"Promise",{all:function(t){var e=this,n=_(e),i=n.resolve,r=n.reject,o=w((function(){var n=[],o=0,s=1;v(t,!1,(function(t){var a=o++,l=!1;n.push(void 0),s++,e.resolve(t).then((function(t){l||(l=!0,n[a]=t,--s||i(n))}),r)})),--s||i(n)}));return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=_(e),i=n.reject,r=w((function(){v(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return r.e&&i(r.v),n.promise}})},{100:100,101:101,104:104,113:113,128:128,17:17,23:23,25:25,3:3,33:33,39:39,40:40,51:51,56:56,6:6,60:60,68:68,69:69,90:90,91:91,93:93}],210:[function(t,e,n){var i=t(33),r=t(3),o=t(7),s=(t(40).Reflect||{}).apply,a=Function.apply;i(i.S+i.F*!t(35)((function(){s((function(){}))})),"Reflect",{apply:function(t,e,n){var i=r(t),l=o(n);return s?s(i,e,l):a.call(i,e,l)}})},{3:3,33:33,35:35,40:40,7:7}],211:[function(t,e,n){var i=t(33),r=t(71),o=t(3),s=t(7),a=t(51),l=t(35),u=t(16),c=(t(40).Reflect||{}).construct,h=l((function(){function t(){}return!(c((function(){}),[],t)instanceof t)})),d=!l((function(){c((function(){}))}));i(i.S+i.F*(h||d),"Reflect",{construct:function(t,e){o(t),s(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!h)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(u.apply(t,i))}var l=n.prototype,p=r(a(l)?l:Object.prototype),f=Function.apply.call(t,p,e);return a(f)?f:p}})},{16:16,3:3,33:33,35:35,40:40,51:51,7:7,71:71}],212:[function(t,e,n){var i=t(72),r=t(33),o=t(7),s=t(120);r(r.S+r.F*t(35)((function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},{120:120,33:33,35:35,7:7,72:72}],213:[function(t,e,n){var i=t(33),r=t(75).f,o=t(7);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},{33:33,7:7,75:75}],214:[function(t,e,n){"use strict";var i=t(33),r=t(7),o=function(t){this._t=r(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};t(54)(o,"Object",(function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}})),i(i.S,"Reflect",{enumerate:function(t){return new o(t)}})},{33:33,54:54,7:7}],215:[function(t,e,n){var i=t(75),r=t(33),o=t(7);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},{33:33,7:7,75:75}],216:[function(t,e,n){var i=t(33),r=t(79),o=t(7);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},{33:33,7:7,79:79}],217:[function(t,e,n){var i=t(75),r=t(79),o=t(41),s=t(33),a=t(51),l=t(7);s(s.S,"Reflect",{get:function t(e,n){var s,u,c=arguments.length<3?e:arguments[2];return l(e)===c?e[n]:(s=i.f(e,n))?o(s,"value")?s.value:void 0!==s.get?s.get.call(c):void 0:a(u=r(e))?t(u,n,c):void 0}})},{33:33,41:41,51:51,7:7,75:75,79:79}],218:[function(t,e,n){var i=t(33);i(i.S,"Reflect",{has:function(t,e){return e in t}})},{33:33}],219:[function(t,e,n){var i=t(33),r=t(7),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},{33:33,7:7}],220:[function(t,e,n){var i=t(33);i(i.S,"Reflect",{ownKeys:t(85)})},{33:33,85:85}],221:[function(t,e,n){var i=t(33),r=t(7),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},{33:33,7:7}],222:[function(t,e,n){var i=t(33),r=t(99);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},{33:33,99:99}],223:[function(t,e,n){var i=t(72),r=t(75),o=t(79),s=t(41),a=t(33),l=t(92),u=t(7),c=t(51);a(a.S,"Reflect",{set:function t(e,n,a){var h,d,p=arguments.length<4?e:arguments[3],f=r.f(u(e),n);if(!f){if(c(d=o(e)))return t(d,n,a,p);f=l(0)}return s(f,"value")?!(!1===f.writable||!c(p)||(h=r.f(p,n)||l(0),h.value=a,i.f(p,n,h),0)):void 0!==f.set&&(f.set.call(p,a),!0)}})},{33:33,41:41,51:51,7:7,72:72,75:75,79:79,92:92}],224:[function(t,e,n){var i=t(40),r=t(45),o=t(72).f,s=t(77).f,a=t(52),l=t(37),u=i.RegExp,c=u,h=u.prototype,d=/a/g,p=/a/g,f=new u(d)!==d;if(t(29)&&(!f||t(35)((function(){return p[t(128)("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")})))){u=function(t,e){var n=this instanceof u,i=a(t),o=void 0===e;return!n&&i&&t.constructor===u&&o?t:r(f?new c(i&&!o?t.source:t,e):c((i=t instanceof u)?t.source:t,i&&o?l.call(t):e),n?this:h,u)};for(var v=s(c),g=0;v.length>g;)!function(t){t in u||o(u,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}(v[g++]);h.constructor=u,u.prototype=h,t(94)(i,"RegExp",u)}t(100)("RegExp")},{100:100,128:128,29:29,35:35,37:37,40:40,45:45,52:52,72:72,77:77,94:94}],225:[function(t,e,n){t(29)&&"g"!=/./g.flags&&t(72).f(RegExp.prototype,"flags",{configurable:!0,get:t(37)})},{29:29,37:37,72:72}],226:[function(t,e,n){t(36)("match",1,(function(t,e,n){return[function(n){"use strict";var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]}))},{36:36}],227:[function(t,e,n){t(36)("replace",2,(function(t,e,n){return[function(i,r){"use strict";var o=t(this),s=null==i?void 0:i[e];return void 0!==s?s.call(i,o,r):n.call(String(o),i,r)},n]}))},{36:36}],228:[function(t,e,n){t(36)("search",1,(function(t,e,n){return[function(n){"use strict";var i=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},n]}))},{36:36}],229:[function(t,e,n){t(36)("split",2,(function(e,n,i){"use strict";var r=t(52),o=i,s=[].push,a="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[a]||2!="ab".split(/(?:ab)*/)[a]||4!=".".split(/(.?)(.?)/)[a]||".".split(/()()/)[a]>1||"".split(/.?/)[a]){var l=void 0===/()??/.exec("")[1];i=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(n,t,e);var i,u,c,h,d,p=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,g=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,f+"g");for(l||(i=new RegExp("^"+m.source+"$(?!\\s)",f));(u=m.exec(n))&&!((c=u.index+u[0][a])>v&&(p.push(n.slice(v,u.index)),!l&&u[a]>1&&u[0].replace(i,(function(){for(d=1;d<arguments[a]-2;d++)void 0===arguments[d]&&(u[d]=void 0)})),u[a]>1&&u.index<n[a]&&s.apply(p,u.slice(1)),h=u[0][a],v=c,p[a]>=g));)m.lastIndex===u.index&&m.lastIndex++;return v===n[a]?!h&&m.test("")||p.push(""):p.push(n.slice(v)),p[a]>g?p.slice(0,g):p}}else"0".split(void 0,0)[a]&&(i=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(t,r){var o=e(this),s=null==t?void 0:t[n];return void 0!==s?s.call(t,o,r):i.call(String(o),t,r)},i]}))},{36:36,52:52}],230:[function(t,e,n){"use strict";t(225);var i=t(7),r=t(37),o=t(29),s=/./.toString,a=function(e){t(94)(RegExp.prototype,"toString",e,!0)};t(35)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?a((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)})):"toString"!=s.name&&a((function(){return s.call(this)}))},{225:225,29:29,35:35,37:37,7:7,94:94}],231:[function(t,e,n){"use strict";var i=t(19),r=t(125);e.exports=t(22)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},{125:125,19:19,22:22}],232:[function(t,e,n){"use strict";t(108)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},{108:108}],233:[function(t,e,n){"use strict";t(108)("big",(function(t){return function(){return t(this,"big","","")}}))},{108:108}],234:[function(t,e,n){"use strict";t(108)("blink",(function(t){return function(){return t(this,"blink","","")}}))},{108:108}],235:[function(t,e,n){"use strict";t(108)("bold",(function(t){return function(){return t(this,"b","","")}}))},{108:108}],236:[function(t,e,n){"use strict";var i=t(33),r=t(106)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},{106:106,33:33}],237:[function(t,e,n){"use strict";var i=t(33),r=t(118),o=t(107),s="".endsWith;i(i.P+i.F*t(34)("endsWith"),"String",{endsWith:function(t){var e=o(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(e.length),a=void 0===n?i:Math.min(r(n),i),l=String(t);return s?s.call(e,l,a):e.slice(a-l.length,a)===l}})},{107:107,118:118,33:33,34:34}],238:[function(t,e,n){"use strict";t(108)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},{108:108}],239:[function(t,e,n){"use strict";t(108)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},{108:108}],240:[function(t,e,n){"use strict";t(108)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},{108:108}],241:[function(t,e,n){var i=t(33),r=t(114),o=String.fromCharCode,s=String.fromCodePoint;i(i.S+i.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,s=0;i>s;){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},{114:114,33:33}],242:[function(t,e,n){"use strict";var i=t(33),r=t(107);i(i.P+i.F*t(34)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{107:107,33:33,34:34}],243:[function(t,e,n){"use strict";t(108)("italics",(function(t){return function(){return t(this,"i","","")}}))},{108:108}],244:[function(t,e,n){"use strict";var i=t(106)(!0);t(55)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},{106:106,55:55}],245:[function(t,e,n){"use strict";t(108)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},{108:108}],246:[function(t,e,n){var i=t(33),r=t(117),o=t(118);i(i.S,"String",{raw:function(t){for(var e=r(t.raw),n=o(e.length),i=arguments.length,s=[],a=0;n>a;)s.push(String(e[a++])),a<i&&s.push(String(arguments[a]));return s.join("")}})},{117:117,118:118,33:33}],247:[function(t,e,n){var i=t(33);i(i.P,"String",{repeat:t(110)})},{110:110,33:33}],248:[function(t,e,n){"use strict";t(108)("small",(function(t){return function(){return t(this,"small","","")}}))},{108:108}],249:[function(t,e,n){"use strict";var i=t(33),r=t(118),o=t(107),s="".startsWith;i(i.P+i.F*t(34)("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return s?s.call(e,i,n):e.slice(n,n+i.length)===i}})},{107:107,118:118,33:33,34:34}],250:[function(t,e,n){"use strict";t(108)("strike",(function(t){return function(){return t(this,"strike","","")}}))},{108:108}],251:[function(t,e,n){"use strict";t(108)("sub",(function(t){return function(){return t(this,"sub","","")}}))},{108:108}],252:[function(t,e,n){"use strict";t(108)("sup",(function(t){return function(){return t(this,"sup","","")}}))},{108:108}],253:[function(t,e,n){"use strict";t(111)("trim",(function(t){return function(){return t(this,3)}}))},{111:111}],254:[function(t,e,n){"use strict";var i=t(40),r=t(41),o=t(29),s=t(33),a=t(94),l=t(66).KEY,u=t(35),c=t(103),h=t(101),d=t(124),p=t(128),f=t(127),v=t(126),g=t(59),m=t(32),y=t(49),b=t(7),w=t(117),A=t(120),E=t(92),S=t(71),T=t(76),x=t(75),C=t(72),_=t(81),k=x.f,M=C.f,O=T.f,L=i.Symbol,P=i.JSON,I=P&&P.stringify,R=p("_hidden"),D=p("toPrimitive"),N={}.propertyIsEnumerable,H=c("symbol-registry"),V=c("symbols"),F=c("op-symbols"),B=Object.prototype,j="function"==typeof L,U=i.QObject,z=!U||!U.prototype||!U.prototype.findChild,W=o&&u((function(){return 7!=S(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=k(B,e);i&&delete B[e],M(t,e,n),i&&t!==B&&M(B,e,i)}:M,G=function(t){var e=V[t]=S(L.prototype);return e._k=t,e},q=j&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},Y=function(t,e,n){return t===B&&Y(F,e,n),b(t),e=A(e,!0),b(n),r(V,e)?(n.enumerable?(r(t,R)&&t[R][e]&&(t[R][e]=!1),n=S(n,{enumerable:E(0,!1)})):(r(t,R)||M(t,R,E(1,{})),t[R][e]=!0),W(t,e,n)):M(t,e,n)},X=function(t,e){b(t);for(var n,i=m(e=w(e)),r=0,o=i.length;o>r;)Y(t,n=i[r++],e[n]);return t},K=function(t){var e=N.call(this,t=A(t,!0));return!(this===B&&r(V,t)&&!r(F,t))&&(!(e||!r(this,t)||!r(V,t)||r(this,R)&&this[R][t])||e)},J=function(t,e){if(t=w(t),e=A(e,!0),t!==B||!r(V,e)||r(F,e)){var n=k(t,e);return!n||!r(V,e)||r(t,R)&&t[R][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=O(w(t)),i=[],o=0;n.length>o;)r(V,e=n[o++])||e==R||e==l||i.push(e);return i},$=function(t){for(var e,n=t===B,i=O(n?F:w(t)),o=[],s=0;i.length>s;)!r(V,e=i[s++])||n&&!r(B,e)||o.push(V[e]);return o};j||(a((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(F,n),r(this,R)&&r(this[R],t)&&(this[R][t]=!1),W(this,t,E(1,n))};return o&&z&&W(B,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",(function(){return this._k})),x.f=J,C.f=Y,t(77).f=T.f=Z,t(82).f=K,t(78).f=$,o&&!t(60)&&a(B,"propertyIsEnumerable",K,!0),f.f=function(t){return G(p(t))}),s(s.G+s.W+s.F*!j,{Symbol:L});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)p(Q[tt++]);for(var et=_(p.store),nt=0;et.length>nt;)v(et[nt++]);s(s.S+s.F*!j,"Symbol",{for:function(t){return r(H,t+="")?H[t]:H[t]=L(t)},keyFor:function(t){if(q(t))return g(H,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!j,"Object",{create:function(t,e){return void 0===e?S(t):X(S(t),e)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:$}),P&&s(s.S+s.F*(!j||u((function(){var t=L();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))}))),"JSON",{stringify:function(t){if(void 0!==t&&!q(t)){for(var e,n,i=[t],r=1;arguments.length>r;)i.push(arguments[r++]);return"function"==typeof(e=i[1])&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!q(e))return e}),i[1]=e,I.apply(P,i)}}}),L.prototype[D]||t(42)(L.prototype,D,L.prototype.valueOf),h(L,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},{101:101,103:103,117:117,120:120,124:124,126:126,127:127,128:128,29:29,32:32,33:33,35:35,40:40,41:41,42:42,49:49,59:59,60:60,66:66,7:7,71:71,72:72,75:75,76:76,77:77,78:78,81:81,82:82,92:92,94:94}],255:[function(t,e,n){"use strict";var i=t(33),r=t(123),o=t(122),s=t(7),a=t(114),l=t(118),u=t(51),c=t(40).ArrayBuffer,h=t(104),d=o.ArrayBuffer,p=o.DataView,f=r.ABV&&c.isView,v=d.prototype.slice,g=r.VIEW;i(i.G+i.W+i.F*(c!==d),{ArrayBuffer:d}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(t){return f&&f(t)||u(t)&&g in t}}),i(i.P+i.U+i.F*t(35)((function(){return!new d(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,e){if(void 0!==v&&void 0===e)return v.call(s(this),t);for(var n=s(this).byteLength,i=a(t,n),r=a(void 0===e?n:e,n),o=new(h(this,d))(l(r-i)),u=new p(this),c=new p(o),f=0;i<r;)c.setUint8(f++,u.getUint8(i++));return o}}),t(100)("ArrayBuffer")},{100:100,104:104,114:114,118:118,122:122,123:123,33:33,35:35,40:40,51:51,7:7}],256:[function(t,e,n){var i=t(33);i(i.G+i.W+i.F*!t(123).ABV,{DataView:t(122).DataView})},{122:122,123:123,33:33}],257:[function(t,e,n){t(121)("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],258:[function(t,e,n){t(121)("Float64",8,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],259:[function(t,e,n){t(121)("Int16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],260:[function(t,e,n){t(121)("Int32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],261:[function(t,e,n){t(121)("Int8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],262:[function(t,e,n){t(121)("Uint16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],263:[function(t,e,n){t(121)("Uint32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],264:[function(t,e,n){t(121)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},{121:121}],265:[function(t,e,n){t(121)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}),!0)},{121:121}],266:[function(t,e,n){"use strict";var i,r=t(12)(0),o=t(94),s=t(66),a=t(70),l=t(21),u=t(51),c=t(35),h=t(125),d=s.getWeak,p=Object.isExtensible,f=l.ufstore,v={},g=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},m={get:function(t){if(u(t)){var e=d(t);return!0===e?f(h(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(h(this,"WeakMap"),t,e)}},y=e.exports=t(22)("WeakMap",g,m,l,!0,!0);c((function(){return 7!=(new y).set((Object.freeze||Object)(v),7).get(v)}))&&(a((i=l.getConstructor(g,"WeakMap")).prototype,m),s.NEED=!0,r(["delete","has","get","set"],(function(t){var e=y.prototype,n=e[t];o(e,t,(function(e,r){if(u(e)&&!p(e)){this._f||(this._f=new i);var o=this._f[t](e,r);return"set"==t?this:o}return n.call(this,e,r)}))})))},{12:12,125:125,21:21,22:22,35:35,51:51,66:66,70:70,94:94}],267:[function(t,e,n){"use strict";var i=t(21),r=t(125);t(22)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},{125:125,21:21,22:22}],268:[function(t,e,n){"use strict";var i=t(33),r=t(38),o=t(119),s=t(118),a=t(3),l=t(15);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return a(t),e=s(i.length),n=l(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),t(5)("flatMap")},{118:118,119:119,15:15,3:3,33:33,38:38,5:5}],269:[function(t,e,n){"use strict";var i=t(33),r=t(38),o=t(119),s=t(118),a=t(116),l=t(15);i(i.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=s(e.length),i=l(e,0);return r(i,e,e,n,0,void 0===t?1:a(t)),i}}),t(5)("flatten")},{116:116,118:118,119:119,15:15,33:33,38:38,5:5}],270:[function(t,e,n){"use strict";var i=t(33),r=t(11)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t(5)("includes")},{11:11,33:33,5:5}],271:[function(t,e,n){var i=t(33),r=t(68)(),o=t(40).process,s="process"==t(18)(o);i(i.G,{asap:function(t){var e=s&&o.domain;r(e?e.bind(t):t)}})},{18:18,33:33,40:40,68:68}],272:[function(t,e,n){var i=t(33),r=t(18);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},{18:18,33:33}],273:[function(t,e,n){var i=t(33);i(i.G,{global:t(40)})},{33:33,40:40}],274:[function(t,e,n){t(97)("Map")},{97:97}],275:[function(t,e,n){t(98)("Map")},{98:98}],276:[function(t,e,n){var i=t(33);i(i.P+i.R,"Map",{toJSON:t(20)("Map")})},{20:20,33:33}],277:[function(t,e,n){var i=t(33);i(i.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},{33:33}],278:[function(t,e,n){var i=t(33);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},{33:33}],279:[function(t,e,n){var i=t(33),r=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*r}})},{33:33}],280:[function(t,e,n){var i=t(33),r=t(64),o=t(62);i(i.S,"Math",{fscale:function(t,e,n,i,s){return o(r(t,e,n,i,s))}})},{33:33,62:62,64:64}],281:[function(t,e,n){var i=t(33);i(i.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)+(i>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},{33:33}],282:[function(t,e,n){var i=t(33);i(i.S,"Math",{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,s=n>>16,a=i>>16,l=(s*o>>>0)+(r*o>>>16);return s*a+(l>>16)+((r*a>>>0)+(65535&l)>>16)}})},{33:33}],283:[function(t,e,n){var i=t(33);i(i.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)-(i>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},{33:33}],284:[function(t,e,n){var i=t(33);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},{33:33}],285:[function(t,e,n){var i=t(33),r=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*r}})},{33:33}],286:[function(t,e,n){var i=t(33);i(i.S,"Math",{scale:t(64)})},{33:33,64:64}],287:[function(t,e,n){var i=t(33);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},{33:33}],288:[function(t,e,n){var i=t(33);i(i.S,"Math",{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,s=n>>>16,a=i>>>16,l=(s*o>>>0)+(r*o>>>16);return s*a+(l>>>16)+((r*a>>>0)+(65535&l)>>>16)}})},{33:33}],289:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(3),s=t(72);t(29)&&i(i.P+t(74),"Object",{__defineGetter__:function(t,e){s.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],290:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(3),s=t(72);t(29)&&i(i.P+t(74),"Object",{__defineSetter__:function(t,e){s.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},{119:119,29:29,3:3,33:33,72:72,74:74}],291:[function(t,e,n){var i=t(33),r=t(84)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},{33:33,84:84}],292:[function(t,e,n){var i=t(33),r=t(85),o=t(117),s=t(75),a=t(24);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),l=s.f,u=r(i),c={},h=0;u.length>h;)void 0!==(n=l(i,e=u[h++]))&&a(c,e,n);return c}})},{117:117,24:24,33:33,75:75,85:85}],293:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(120),s=t(79),a=t(75).f;t(29)&&i(i.P+t(74),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.get}while(n=s(n))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],294:[function(t,e,n){"use strict";var i=t(33),r=t(119),o=t(120),s=t(79),a=t(75).f;t(29)&&i(i.P+t(74),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.set}while(n=s(n))}})},{119:119,120:120,29:29,33:33,74:74,75:75,79:79}],295:[function(t,e,n){var i=t(33),r=t(84)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},{33:33,84:84}],296:[function(t,e,n){"use strict";var i=t(33),r=t(40),o=t(23),s=t(68)(),a=t(128)("observable"),l=t(3),u=t(7),c=t(6),h=t(93),d=t(42),p=t(39),f=p.RETURN,v=function(t){return null==t?void 0:l(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},m=function(t){return void 0===t._o},y=function(t){m(t)||(t._o=void 0,g(t))},b=function(t,e){u(t),this._c=void 0,this._o=t,t=new w(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(e){return void t.error(e)}m(this)&&g(this)};b.prototype=h({},{unsubscribe:function(){y(this)}});var w=function(t){this._s=t};w.prototype=h({},{next:function(t){var e=this._s;if(!m(e)){var n=e._o;try{var i=v(n.next);if(i)return i.call(n,t)}catch(t){try{y(e)}finally{throw t}}}},error:function(t){var e=this._s;if(m(e))throw t;var n=e._o;e._o=void 0;try{var i=v(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!m(e)){var n=e._o;e._o=void 0;try{var i=v(n.complete);t=i?i.call(n,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var A=function(t){c(this,A,"Observable","_f")._f=l(t)};h(A.prototype,{subscribe:function(t){return new b(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)((function(n,i){l(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){i(t),r.unsubscribe()}},error:i,complete:n})}))}}),h(A,{from:function(t){var e="function"==typeof this?this:A,n=v(u(t)[a]);if(n){var i=u(n.call(t));return i.constructor===e?i:new e((function(t){return i.subscribe(t)}))}return new e((function(e){var n=!1;return s((function(){if(!n){try{if(p(t,!1,(function(t){if(e.next(t),n)return f}))===f)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}})),function(){n=!0}}))},of:function(){for(var t=0,e=arguments.length,n=Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:A)((function(t){var e=!1;return s((function(){if(!e){for(var i=0;i<n.length;++i)if(t.next(n[i]),e)return;t.complete()}})),function(){e=!0}}))}}),d(A.prototype,a,(function(){return this})),i(i.G,{Observable:A}),t(100)("Observable")},{100:100,128:128,23:23,3:3,33:33,39:39,40:40,42:42,6:6,68:68,7:7,93:93}],297:[function(t,e,n){"use strict";var i=t(33),r=t(23),o=t(40),s=t(104),a=t(91);i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},{104:104,23:23,33:33,40:40,91:91}],298:[function(t,e,n){"use strict";var i=t(33),r=t(69),o=t(90);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},{33:33,69:69,90:90}],299:[function(t,e,n){var i=t(67),r=t(7),o=i.key,s=i.set;i.exp({defineMetadata:function(t,e,n,i){s(t,e,r(n),o(i))}})},{67:67,7:7}],300:[function(t,e,n){var i=t(67),r=t(7),o=i.key,s=i.map,a=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),i=s(r(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var l=a.get(e);return l.delete(n),!!l.size||a.delete(e)}})},{67:67,7:7}],301:[function(t,e,n){var i=t(231),r=t(10),o=t(67),s=t(7),a=t(79),l=o.keys,u=o.key,c=function(t,e){var n=l(t,e),o=a(t);if(null===o)return n;var s=c(o,e);return s.length?n.length?r(new i(n.concat(s))):s:n};o.exp({getMetadataKeys:function(t){return c(s(t),arguments.length<2?void 0:u(arguments[1]))}})},{10:10,231:231,67:67,7:7,79:79}],302:[function(t,e,n){var i=t(67),r=t(7),o=t(79),s=i.has,a=i.get,l=i.key,u=function(t,e,n){if(s(t,e,n))return a(t,e,n);var i=o(e);return null!==i?u(t,i,n):void 0};i.exp({getMetadata:function(t,e){return u(t,r(e),arguments.length<3?void 0:l(arguments[2]))}})},{67:67,7:7,79:79}],303:[function(t,e,n){var i=t(67),r=t(7),o=i.keys,s=i.key;i.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:s(arguments[1]))}})},{67:67,7:7}],304:[function(t,e,n){var i=t(67),r=t(7),o=i.get,s=i.key;i.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},{67:67,7:7}],305:[function(t,e,n){var i=t(67),r=t(7),o=t(79),s=i.has,a=i.key,l=function(t,e,n){if(s(t,e,n))return!0;var i=o(e);return null!==i&&l(t,i,n)};i.exp({hasMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},{67:67,7:7,79:79}],306:[function(t,e,n){var i=t(67),r=t(7),o=i.has,s=i.key;i.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},{67:67,7:7}],307:[function(t,e,n){var i=t(67),r=t(7),o=t(3),s=i.key,a=i.set;i.exp({metadata:function(t,e){return function(n,i){a(t,e,(void 0!==i?r:o)(n),s(i))}}})},{3:3,67:67,7:7}],308:[function(t,e,n){t(97)("Set")},{97:97}],309:[function(t,e,n){t(98)("Set")},{98:98}],310:[function(t,e,n){var i=t(33);i(i.P+i.R,"Set",{toJSON:t(20)("Set")})},{20:20,33:33}],311:[function(t,e,n){"use strict";var i=t(33),r=t(106)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},{106:106,33:33}],312:[function(t,e,n){"use strict";var i=t(33),r=t(28),o=t(118),s=t(52),a=t(37),l=RegExp.prototype,u=function(t,e){this._r=t,this._s=e};t(54)(u,"RegExp String",(function(){var t=this._r.exec(this._s);return{value:t,done:null===t}})),i(i.P,"String",{matchAll:function(t){if(r(this),!s(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in l?String(t.flags):a.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=o(t.lastIndex),new u(i,e)}})},{118:118,28:28,33:33,37:37,52:52,54:54}],313:[function(t,e,n){"use strict";var i=t(33),r=t(109);i(i.P,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},{109:109,33:33}],314:[function(t,e,n){"use strict";var i=t(33),r=t(109);i(i.P,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},{109:109,33:33}],315:[function(t,e,n){"use strict";t(111)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},{111:111}],316:[function(t,e,n){"use strict";t(111)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},{111:111}],317:[function(t,e,n){t(126)("asyncIterator")},{126:126}],318:[function(t,e,n){t(126)("observable")},{126:126}],319:[function(t,e,n){var i=t(33);i(i.S,"System",{global:t(40)})},{33:33,40:40}],320:[function(t,e,n){t(97)("WeakMap")},{97:97}],321:[function(t,e,n){t(98)("WeakMap")},{98:98}],322:[function(t,e,n){t(97)("WeakSet")},{97:97}],323:[function(t,e,n){t(98)("WeakSet")},{98:98}],324:[function(t,e,n){for(var i=t(141),r=t(81),o=t(94),s=t(40),a=t(42),l=t(58),u=t(128),c=u("iterator"),h=u("toStringTag"),d=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),v=0;v<f.length;v++){var g,m=f[v],y=p[m],b=s[m],w=b&&b.prototype;if(w&&(w[c]||a(w,c,d),w[h]||a(w,h,m),l[m]=d,y))for(g in i)w[g]||o(w,g,i[g],!0)}},{128:128,141:141,40:40,42:42,58:58,81:81,94:94}],325:[function(t,e,n){var i=t(33),r=t(113);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},{113:113,33:33}],326:[function(t,e,n){var i=t(40),r=t(33),o=t(46),s=t(88),a=i.navigator,l=!!a&&/MSIE .\./.test(a.userAgent),u=function(t){return l?function(e,n){return t(o(s,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),n)}:t};r(r.G+r.B+r.F*l,{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},{33:33,40:40,46:46,88:88}],327:[function(t,e,n){t(254),t(191),t(193),t(192),t(195),t(197),t(202),t(196),t(194),t(204),t(203),t(199),t(200),t(198),t(190),t(201),t(205),t(206),t(157),t(159),t(158),t(208),t(207),t(178),t(188),t(189),t(179),t(180),t(181),t(182),t(183),t(184),t(185),t(186),t(187),t(161),t(162),t(163),t(164),t(165),t(166),t(167),t(168),t(169),t(170),t(171),t(172),t(173),t(174),t(175),t(176),t(177),t(241),t(246),t(253),t(244),t(236),t(237),t(242),t(247),t(249),t(232),t(233),t(234),t(235),t(238),t(239),t(240),t(243),t(245),t(248),t(250),t(251),t(252),t(152),t(154),t(153),t(156),t(155),t(140),t(138),t(145),t(142),t(148),t(150),t(137),t(144),t(134),t(149),t(132),t(147),t(146),t(139),t(143),t(131),t(133),t(136),t(135),t(151),t(141),t(224),t(230),t(225),t(226),t(227),t(228),t(229),t(209),t(160),t(231),t(266),t(267),t(255),t(256),t(261),t(264),t(265),t(259),t(262),t(260),t(263),t(257),t(258),t(210),t(211),t(212),t(213),t(214),t(217),t(215),t(216),t(218),t(219),t(220),t(221),t(223),t(222),t(270),t(268),t(269),t(311),t(314),t(313),t(315),t(316),t(312),t(317),t(318),t(292),t(295),t(291),t(289),t(290),t(293),t(294),t(276),t(310),t(275),t(309),t(321),t(323),t(274),t(308),t(320),t(322),t(273),t(319),t(272),t(277),t(278),t(279),t(280),t(281),t(283),t(282),t(284),t(285),t(286),t(288),t(287),t(297),t(298),t(299),t(300),t(302),t(301),t(304),t(303),t(305),t(306),t(307),t(271),t(296),t(326),t(325),t(324),e.exports=t(23)},{131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,23:23,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,268:268,269:269,270:270,271:271,272:272,273:273,274:274,275:275,276:276,277:277,278:278,279:279,280:280,281:281,282:282,283:283,284:284,285:285,286:286,287:287,288:288,289:289,290:290,291:291,292:292,293:293,294:294,295:295,296:296,297:297,298:298,299:299,300:300,301:301,302:302,303:303,304:304,305:305,306:306,307:307,308:308,309:309,310:310,311:311,312:312,313:313,314:314,315:315,316:316,317:317,318:318,319:319,320:320,321:321,322:322,323:323,324:324,325:325,326:326}],328:[function(t,e,i){(function(t){!function(t){"use strict";function n(t,e,n,o){var s=e&&e.prototype instanceof r?e:r,a=Object.create(s.prototype),l=new d(o||[]);return a._invoke=function(t,e,n){var r=T;return function(o,s){if(r===C)throw new Error("Generator is already running");if(r===_){if("throw"===o)throw s;return f()}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var l=u(a,n);if(l){if(l===k)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===T)throw r=_,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=C;var c=i(t,e,n);if("normal"===c.type){if(r=n.done?_:x,c.arg===k)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=_,n.method="throw",n.arg=c.arg)}}}(t,n,l),a}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function s(){}function a(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function l(e){function n(t,r,o,s){var a=i(e[t],e,r);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==typeof u&&m.call(u,"__await")?Promise.resolve(u.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):Promise.resolve(u).then((function(t){l.value=t,o(l)}),s)}s(a.arg)}var r;"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=function(t,e){function i(){return new Promise((function(i,r){n(t,e,i,r)}))}return r=r?r.then(i,i):i()}}function u(t,e){var n=t.iterator[e.method];if(n===v){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=v,u(t,e),"throw"===e.method))return k;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var r=i(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,k;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,k):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,k)}function c(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(c,this),this.reset(!0)}function p(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(m.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=v,e.done=!0,e};return i.next=i}}return{next:f}}function f(){return{value:v,done:!0}}var v,g=Object.prototype,m=g.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},b=y.iterator||"@@iterator",w=y.asyncIterator||"@@asyncIterator",A=y.toStringTag||"@@toStringTag",E="object"==typeof e,S=t.regeneratorRuntime;if(S)E&&(e.exports=S);else{(S=t.regeneratorRuntime=E?e.exports:{}).wrap=n;var T="suspendedStart",x="suspendedYield",C="executing",_="completed",k={},M={};M[b]=function(){return this};var O=Object.getPrototypeOf,L=O&&O(O(p([])));L&&L!==g&&m.call(L,b)&&(M=L);var P=s.prototype=r.prototype=Object.create(M);o.prototype=P.constructor=s,s.constructor=o,s[A]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,A in t||(t[A]="GeneratorFunction")),t.prototype=Object.create(P),t},S.awrap=function(t){return{__await:t}},a(l.prototype),l.prototype[w]=function(){return this},S.AsyncIterator=l,S.async=function(t,e,i,r){var o=new l(n(t,e,i,r));return S.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},a(P),P[A]="Generator",P[b]=function(){return this},P.toString=function(){return"[object Generator]"},S.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},S.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,i){return o.type="throw",o.arg=t,n.next=e,i&&(n.method="next",n.arg=v),!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var s=m.call(r,"catchLoc"),a=m.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&m.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,k):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),k},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),k}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;h(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=v),k}}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])},153:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){var t,e,n,i,r,o,s=(t=/^(?:application|text)\/xml/,e=/^application\/json/,n=function(n,i){return null==n&&(n=i.getResponseHeader("content-type")),t.test(n)?i.responseXML:e.test(n)&&""!==i.responseText?JSON.parse(i.responseText):i.responseText},i=function(t){return t.status>=200&&t.status<300||304===t.status||0===t.status&&"file:"===window.location.protocol},r=function(t,e,r,s,a){return function(){if(o(t,r),4===t.readyState){var l=t.status,u=n(e.headers&&e.headers.Accept,t);if(i(t))e.success&&e.success(u),s&&s(u);else{var c=new Error("Server responded with a status of "+l);e.error&&e.error(t,l,c),a&&a(t)}}}},o=function(t,e){if(e){for(var n=["readyState","status","statusText","responseText","responseXML","setRequestHeader","getAllResponseHeaders","getResponseHeader","statusCode","abort"],i=0;i<n.length;i++){var r=n[i];try{e[r]="function"==typeof t[r]?t[r].bind(t):t[r]}catch(t){console.log(t)}}return e}},function(t){if(null==t)throw new Error("You must provide options");null==t.type&&(t.type="GET");var e,n,i=new XMLHttpRequest,a=s.Promise||"undefined"!=typeof Promise&&Promise,l=a&&new a((function(t,i){e=t,n=i}));if(t.contentType&&(null==t.headers&&(t.headers={}),t.headers["Content-Type"]=t.contentType),"GET"===t.type&&"object"==typeof t.data){var u="",c=function(t,e){return null==e?"":"&"+encodeURIComponent(t)+"="+encodeURIComponent(e)};for(var h in t.data)u+=c(h,t.data[h]);if(u){var d=-1===t.url.indexOf("?")?"?":"&";t.url+=d+u.substring(1)}}if(i.onreadystatechange=r(i,t,l,e,n),i.open(t.type,t.url,!1!==t.async),!t.headers||!t.headers.Accept){var p="*/".concat("*"),f={"*":p,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"};i.setRequestHeader("Accept",t.dataType&&f[t.dataType]?f[t.dataType]+("*"!==t.dataType?", "+p+"; q=0.01":""):f["*"])}if(t.headers)for(var h in t.headers)i.setRequestHeader(h,t.headers[h]);return t.beforeSend&&t.beforeSend(i),i.send(t.data),t.originalXhr=i,o(i,l),l||i});return s})?i.call(e,n,e,t):i)||(t.exports=r)},5470:function(t,e,n){var i;i=function(){var t=!0;function e(e){function n(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function i(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var r,s=n(/(ipod|iphone|ipad)/i).toLowerCase(),a=!/like android/i.test(e)&&/android/i.test(e),l=/nexus\s*[0-6]\s*/i.test(e),u=!l&&/nexus\s*[0-9]+/i.test(e),c=/CrOS/.test(e),h=/silk/i.test(e),d=/sailfish/i.test(e),p=/tizen/i.test(e),f=/(web|hpw)(o|0)s/i.test(e),v=/windows phone/i.test(e),g=(/SamsungBrowser/i.test(e),!v&&/windows/i.test(e)),m=!s&&!h&&/macintosh/i.test(e),y=!a&&!d&&!p&&!f&&/linux/i.test(e),b=i(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),w=n(/version\/(\d+(\.\d+)?)/i),A=/tablet/i.test(e)&&!/tablet pc/i.test(e),E=!A&&/[^-]mobi/i.test(e),S=/xbox/i.test(e);/opera/i.test(e)?r={name:"Opera",opera:t,version:w||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?r={name:"Opera",opera:t,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||w}:/SamsungBrowser/i.test(e)?r={name:"Samsung Internet for Android",samsungBrowser:t,version:w||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(e)?r={name:"NAVER Whale browser",whale:t,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(e)?r={name:"MZ Browser",mzbrowser:t,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(e)?r={name:"Opera Coast",coast:t,version:w||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(e)?r={name:"Focus",focus:t,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:t,version:w||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?r={name:"UC Browser",ucbrowser:t,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?r={name:"Maxthon",maxthon:t,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?r={name:"Epiphany",epiphany:t,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?r={name:"Puffin",puffin:t,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?r={name:"Sleipnir",sleipnir:t,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?r={name:"K-Meleon",kMeleon:t,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:v?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},b?(r.msedge=t,r.version=b):(r.msie=t,r.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:t,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:c?r={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(e)?r={name:"Microsoft Edge",msedge:t,version:b}:/vivaldi/i.test(e)?r={name:"Vivaldi",vivaldi:t,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||w}:d?r={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:t,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(r={name:"Firefox",firefox:t,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=t,r.osname="Firefox OS")):h?r={name:"Amazon Silk",silk:t,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:t,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?r={name:"SlimerJS",slimer:t,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:w||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:f?(r={name:"WebOS",osname:"WebOS",webos:t,version:w||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=t)):/bada/i.test(e)?r={name:"Bada",osname:"Bada",bada:t,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:p?r={name:"Tizen",osname:"Tizen",tizen:t,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||w}:/qupzilla/i.test(e)?r={name:"QupZilla",qupzilla:t,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||w}:/chromium/i.test(e)?r={name:"Chromium",chromium:t,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||w}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:a?r={name:"Android",version:w}:/safari|applewebkit/i.test(e)?(r={name:"Safari",safari:t},w&&(r.version=w)):s?(r={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},w&&(r.version=w)):r=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:n(/googlebot\/(\d+(\.\d+))/i)||w}:{name:n(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(r.name=r.name||"Blink",r.blink=t):(r.name=r.name||"Webkit",r.webkit=t),!r.version&&w&&(r.version=w)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=t,r.version=r.version||n(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!a&&!r.silk?!r.windowsphone&&s?(r[s]=t,r.ios=t,r.osname="iOS"):m?(r.mac=t,r.osname="macOS"):S?(r.xbox=t,r.osname="Xbox"):g?(r.windows=t,r.osname="Windows"):y&&(r.linux=t,r.osname="Linux"):(r.android=t,r.osname="Android");var T="";r.windows?T=function(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?T=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?T=(T=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):s?T=(T=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):a?T=n(/android[ \/-](\d+(\.\d+)*)/i):r.webos?T=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?T=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?T=n(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(T=n(/tizen[\/\s](\d+(\.\d+)*)/i)),T&&(r.osversion=T);var x=!r.windows&&T.split(".")[0];return A||u||"ipad"==s||a&&(3==x||x>=4&&!E)||r.silk?r.tablet=t:(E||"iphone"==s||"ipod"==s||a||l||r.blackberry||r.webos||r.bada)&&(r.mobile=t),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.whale&&1===o([r.version,"1.0"])||r.mzbrowser&&1===o([r.version,"6.0"])||r.focus&&1===o([r.version,"1.0"])||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=t:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=t:r.x=t,r}var n=e("undefined"!=typeof navigator&&navigator.userAgent||"");function i(t){return t.split(".").length}function r(t,e){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)i.push(e(t[n]));return i}function o(t){for(var e=Math.max(i(t[0]),i(t[1])),n=r(t,(function(t){var n=e-i(t);return r((t+=new Array(n+1).join(".0")).split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));--e>=0;){if(n[0][e]>n[1][e])return 1;if(n[0][e]!==n[1][e])return-1;if(0===e)return 0}}function s(t,i,r){var s=n;"string"==typeof i&&(r=i,i=void 0),void 0===i&&(i=!1),r&&(s=e(r));var a=""+s.version;for(var l in t)if(t.hasOwnProperty(l)&&s[l]){if("string"!=typeof t[l])throw new Error("Browser version in the minVersion map should be a string: "+l+": "+String(t));return o([a,t[l]])<0}return i}return n.test=function(t){for(var e=0;e<t.length;++e){var i=t[e];if("string"==typeof i&&i in n)return!0}return!1},n.isUnsupportedBrowser=s,n.compareVersions=o,n.check=function(t,e,n){return!s(t,e,n)},n._detect=e,n.detect=e,n},t.exports?t.exports=i():n.amdD("bowser",i)},2753:function(){!function(){"use strict";var t=10,e=16,n=4.5,i=1.5,r=[0,0,0,.5],o=!1,s={};window.captionator=s,s.CaptionatorCueStructure=function(t,e){var n=this;this.isTimeDependent=!1,this.cueSource=t,this.options=e,this.processedCue=null,this.toString=function(i){if(!1!==e.processCueHTML){var r=function(t,e){if(null===n.processedCue){var o,s,a="";for(o in t)o.match(/^\d+$/)&&t.hasOwnProperty(o)&&((s=t[o])instanceof Object&&s.children&&s.children.length?"v"===s.token?a+='<q data-voice="'+s.voice.replace(/[\"]/g,"")+"\" class='voice speaker-"+s.voice.replace(/[^a-z0-9]+/gi,"-").toLowerCase()+" webvtt-span' title=\""+s.voice.replace(/[\"]/g,"")+'">'+r(s.children,e+1)+"</q>":"c"===s.token?a+="<span class='webvtt-span webvtt-class-span "+s.classes.join(" ")+"'>"+r(s.children,e+1)+"</span>":s.timeIn>0?null==i||i>0&&i>=s.timeIn?a+="<span class='webvtt-span webvtt-timestamp-span' data-timestamp='"+s.token+"' data-timestamp-seconds='"+s.timeIn+"'>"+r(s.children,e+1)+"</span>":i<s.timeIn&&(a+="<span class='webvtt-span webvtt-timestamp-span webvtt-cue-future' aria-hidden='true' style='opacity: 0;' data-timestamp='"+s.token+"' data-timestamp-seconds='"+s.timeIn+"'>"+r(s.children,e+1)+"</span>"):a+=s.rawToken+r(s.children,e+1)+"</"+s.token+">":(s instanceof String||"string"==typeof s||"number"==typeof s)&&(a+=s));return!n.isTimeDependent&&0===e&&(n.processedCue=a),a}return n.processedCue};return r(this,0)}return t},this.getPlain=function(n){if(!1!==e.processCueHTML){var i=function(t,e){var r,o,s="";for(r in t)r.match(/^\d+$/)&&t.hasOwnProperty(r)&&((o=t[r])instanceof Object&&o.children&&o.children.length?o.timeIn>0?(null==n||n>0&&n>=o.timeIn)&&(s+=i(o.children,e+1)):s+=i(o.children,e+1):(o instanceof String||"string"==typeof o||"number"==typeof o)&&(s+=o));return s};return i(this,0)}return t.replace(/<[^>]*>/gi,"")}},s.CaptionatorCueStructure.prototype=[],s.TextTrack=function(t,e,n,i,r,o){this.onload=function(){},this.onerror=function(){},this.oncuechange=function(){},this.id=t||"",this.internalMode=s.TextTrack.OFF,this.cues=new s.TextTrackCueList(this),this.activeCues=new s.ActiveTextTrackCueList(this.cues,this),this.kind=e||"subtitles",this.label=n||"",this.language=i||"",this.src=r||"",this.readyState=s.TextTrack.NONE,this.internalDefault=o||!1,this.getMode=function(){return this.internalMode},this.setMode=function(t){if(-1===[s.TextTrack.OFF,s.TextTrack.HIDDEN,s.TextTrack.SHOWING].indexOf(t))throw new Error("Illegal mode value for track: "+t);t!==this.internalMode&&(this.internalMode=t,this.readyState===s.TextTrack.NONE&&this.src.length>0&&t>s.TextTrack.OFF&&this.loadTrack(this.src,null),this.videoNode._captionator_dirtyBit=!0,s.rebuildCaptions(this.videoNode),t===s.TextTrack.OFF&&(this.cues.length=0,this.readyState=s.TextTrack.NONE))},this.getDefault=function(){return this.internalDefault},Object.prototype.__defineGetter__?(this.__defineGetter__("mode",this.getMode),this.__defineSetter__("mode",this.setMode),this.__defineGetter__("default",this.getDefault)):Object.defineProperty&&(Object.defineProperty(this,"mode",{get:this.getMode,set:this.setMode}),Object.defineProperty(this,"default",{get:this.getDefault})),this.loadTrack=function(t,e){var n,i=new XMLHttpRequest;if(this.readyState===s.TextTrack.LOADED)e instanceof Function&&e(n);else{this.src=t,this.readyState=s.TextTrack.LOADING;var r=this;i.open("GET",t,!0),i.onreadystatechange=function(t){if(4===i.readyState)if(200===i.status){var o=r.videoNode._captionatorOptions||{};"metadata"===r.kind&&(o.processCueHTML=!1,o.sanitiseCueHTML=!1),n=s.parseCaptions(i.responseText,o),r.readyState=s.TextTrack.LOADED,r.cues.loadCues(n),r.activeCues.refreshCues.apply(r.activeCues),r.videoNode._captionator_dirtyBit=!0,s.rebuildCaptions(r.videoNode),r.onload.call(this),e instanceof Function&&e.call(r,n)}else r.readyState=s.TextTrack.ERROR,r.onerror()};try{i.send(null)}catch(t){r.readyState=s.TextTrack.ERROR,r.onerror(t)}}},this.addCue=function(t){if(!(t&&t instanceof s.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");this.cues.addCue(t)},this.removeCue=function(){}},s.TextTrack.NONE=0,s.TextTrack.LOADING=1,s.TextTrack.LOADED=2,s.TextTrack.ERROR=3,s.TextTrack.OFF=0,s.TextTrack.HIDDEN=1,s.TextTrack.SHOWING=2,s.TextTrackCue=function(t,e,n,i,r,o,a){if(this.id=t,this.track=a instanceof s.TextTrack?a:null,this.startTime=parseFloat(e),this.endTime=parseFloat(n)>=this.startTime?parseFloat(n):this.startTime,this.text="string"==typeof i||i instanceof s.CaptionatorCueStructure?i:"",this.settings="string"==typeof r?r:"",this.intSettings={},this.pauseOnExit=!!o,this.wasActive=!1,this.direction="horizontal",this.snapToLines=!0,this.linePosition="auto",this.textPosition=50,this.size=0,this.alignment="middle",this.settings.length){var l=this.intSettings,u=this;(r=r.split(/\s+/).filter((function(t){return t.length>0})))instanceof Array&&r.forEach((function(t){var e={D:"direction",L:"linePosition",T:"textPosition",A:"alignment",S:"size"};e[(t=t.split(":"))[0]]&&(l[e[t[0]]]=t[1]),e[t[0]]in u&&(u[e[t[0]]]=t[1])}))}this.linePosition.match(/\%/)&&(this.snapToLines=!1),this.getCueAsSource=function(){return String(this.text)},this.getCueAsHTML=function(){var t=document.createDocumentFragment(),e=document.createElement("div");return e.innerHTML=String(this.text),Array.prototype.forEach.call(e.childNodes,(function(e){t.appendChild(e.cloneNode(!0))})),t},this.isActive=function(){var t=0;if(this.track instanceof s.TextTrack&&(this.track.mode===s.TextTrack.SHOWING||this.track.mode===s.TextTrack.HIDDEN)&&this.track.readyState===s.TextTrack.LOADED)try{if(t=this.track.videoNode.currentTime,this.startTime<=t&&this.endTime>=t)return this.wasActive||(this.wasActive=!0,this.onenter()),!0}catch(t){return!1}return this.wasActive&&(this.wasActive=!1,this.onexit()),!1},Object.prototype.__defineGetter__?this.__defineGetter__("active",this.isActive):Object.defineProperty&&Object.defineProperty(this,"active",{get:this.isActive}),this.toString=function(){return"TextTrackCue:"+this.id+"\n"+String(this.text)},this.onenter=function(){},this.onexit=function(){}},s.TextTrackCueList=function(t){this.track=t instanceof s.TextTrack?t:null,this.getCueById=function(t){return this.filter((function(e){return e.id===t}))[0]},this.loadCues=function(t){for(var e=0;e<t.length;e++)t[e].track=this.track,Array.prototype.push.call(this,t[e])},this.addCue=function(t){if(!(t&&t instanceof s.TextTrackCue))throw new Error("The argument is null or not an instance of TextTrackCue.");if(t.track!==this.track&&t.track)throw new Error("This cue is associated with a different track!");Array.prototype.push.call(this,t)},this.toString=function(){return"[TextTrackCueList]"}},s.TextTrackCueList.prototype=[],s.ActiveTextTrackCueList=function(t,e){this.refreshCues=function(){if(t.length){var n=this,i=!1,r=[].slice.call(this,0);if(this.length=0,t.forEach((function(t){t.active&&(n.push(t),n[n.length-1]!==r[n.length-1]&&(i=!0))})),i)try{e.oncuechange()}catch(t){}}},this.toString=function(){return"[ActiveTextTrackCueList]"},this.refreshCues()},s.ActiveTextTrackCueList.prototype=new s.TextTrackCueList(null);var a=function(t){this.targetObject=t,this.currentTime=0;this.addEventListener=function(t,e,n){"timeupdate"===t&&e instanceof Function&&(this.timeupdateEventHandler=e)},this.attachEvent=function(t,e){"timeupdate"===t&&e instanceof Function&&(this.timeupdateEventHandler=e)},this.updateTime=function(t){isNaN(t)||(this.currentTime=t)}};s.rebuildCaptions=function(t){var e,n=t.textTracks||[],i=(t._captionatorOptions instanceof Object&&t._captionatorOptions,t.currentTime),r=[],o=[];(n.forEach((function(t,e){t.mode===s.TextTrack.SHOWING&&t.readyState===s.TextTrack.LOADED&&(o=(o=[].slice.call(t.activeCues,0)).sort((function(t,e){return t.startTime>e.startTime?-1:1})),r=r.concat(o))})),e=r.map((function(t){return t.track.id+"."+t.id+":"+t.text.toString(i).length})),!s.compareArray(e,t._captionator_previousActiveCues)||t._captionator_dirtyBit)&&(t._captionator_dirtyBit=!1,t._captionator_availableCueArea=null,t._captionator_previousActiveCues=e,s.styleCueCanvas(t),[].slice.call(t._descriptionContainerObject.getElementsByTagName("div"),0).concat([].slice.call(t._containerObject.getElementsByTagName("div"),0)).forEach((function(t){t.cueObject&&!t.cueObject.active&&(t.cueObject.rendered=!1,t.cueObject.domNode=null,t.parentElement.removeChild(t))})),r.forEach((function(e){var n,r;"metadata"!==e.track.kind&&e.mode!==s.TextTrack.HIDDEN&&(e.rendered?(r=(n=e.domNode).getElementsByClassName("captionator-cue-inner")[0],e.text.toString(i)!==n.currentText&&(n.currentText=e.text.toString(i),r.innerHTML=n.currentText,r.spanified=!1)):(n=document.createElement("div"),(r=document.createElement("span")).className="captionator-cue-inner",n.id=String(e.id).length?e.id:s.generateID(),n.className="captionator-cue",n.appendChild(r),n.cueObject=e,e.domNode=n,n.setAttribute("lang",e.track.language),n.currentText=e.text.toString(i),r.innerHTML=n.currentText,e.rendered=!0,"descriptions"===e.track.kind?t._descriptionContainerObject.appendChild(n):t._containerObject.appendChild(n)),"descriptions"!==e.track.kind&&s.styleCue(n,e,t))})))},s.captionify=function(l,u,c){var h=[],d=0;if((c=c instanceof Object?c:{}).minimumFontSize&&"number"==typeof c.minimumFontSize&&(t=c.minimumFontSize),c.minimumLineHeight&&"number"==typeof c.minimumLineHeight&&(e=c.minimumLineHeight),c.fontSizeVerticalPercentage&&"number"==typeof c.fontSizeVerticalPercentage&&(n=c.fontSizeVerticalPercentage),c.lineHeightRatio&&"number"!=typeof c.lineHeightRatio&&(i=c.lineHeightRatio),c.cueBackgroundColour&&c.cueBackgroundColour instanceof Array&&(r=c.cueBackgroundColour),HTMLVideoElement||l instanceof a||c.forceCaptionify){if("function"!=typeof document.createElement("video").addTextTrack&&"function"!=typeof document.createElement("video").addTrack||c.forceCaptionify){if(!o&&c.exportObjects&&(window.TextTrack=s.TextTrack,window.TextTrackCueList=s.TextTrackCueList,window.ActiveTextTrackCueList=s.ActiveTextTrackCueList,window.TextTrackCue=s.TextTrackCue,o=!0),l&&!1!==l&&null!=l)if(l instanceof Array)for(d=0;d<l.length;d++)"string"==typeof l[d]?h=h.concat([].slice.call(document.querySelectorAll(l[d]),0)):l[d].constructor===HTMLVideoElement&&h.push(l[d]);else"string"==typeof l?h=[].slice.call(document.querySelectorAll(l),0):l.constructor===HTMLVideoElement&&h.push(l);else h=[].slice.call(document.getElementsByTagName("video"),0);return!!h.length&&(h.forEach((function(t){t.addTextTrack=function(e,n,i,r,o,a,l){var u,c=["subtitles","captions","descriptions","captions","metadata","chapters"];c.slice(0,7);if(e="string"==typeof e?e:"",i="string"==typeof i?i:"",r="string"==typeof r?r:"",l="boolean"==typeof l&&l,!c.filter((function(t){return n===t})).length)throw s.createDOMException(12,"DOMException 12: SYNTAX_ERR: You must use a valid kind when creating a TimedTextTrack.","SYNTAX_ERR");return!!(u=new s.TextTrack(e,n,i,r,o,null))&&(t.textTracks instanceof Array||(t.textTracks=[]),t.textTracks.push(u),u)},s.processVideoElement(h[d],u,c)})),!0)}return!1}return!1},s.parseCaptions=function(t,e){e=e instanceof Object?e:{};var n="",i=[],r="",o=[],a=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\,(\d{2})?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,l=/^(\d+)?:?(\d{2}):(\d{2})\.(\d+)\,(\d+)?:?(\d{2}):(\d{2})\.(\d+)\s*(.*)/,u=/^(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s+\-\-\>\s+(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)\s*(.*)/,c=/(\d{2})?:?(\d{2}):(\d{2})[\.\,](\d+)/,h=/^([\d\.]+)\s+\+([\d\.]+)\s*(.*)/,d=/^\[(\d{2})?:?(\d{2})\:(\d{2})\.(\d{2,3})\]\s*(.*?)$/,p=/^(DEFAULTS|DEFAULT)\s+\-\-\>\s+(.*)/g,f=/^(STYLE|STYLES)\s+\-\-\>\s*\n([\s\S]*)/g,v=/^(COMMENT|COMMENTS)\s+\-\-\>\s+(.*)/g,g=/^(\d{2})?:?(\d{2}):(\d{2})\.(\d+)/;if(t){var m=function(t){var n,i,r,o,a,l=new s.CaptionatorCueStructure(t,e),u=[],h=[],d=0,p=function(t){return!!t.replace(/[^a-z0-9]+/gi,"").length};for(n in r=l,u=t.split(/(<\/?[^>]+>)/gi))if(u.hasOwnProperty(n))if("<"===(i=u[n]).substr(0,1)){if("/"===i.substr(1,1)){var f=i.substr(2).split(/[\s>]+/g)[0];if(h.length>0){var v=0;for(d=h.length-1;d>=0;d--){if(v=d,h[d][h[d].length-1].token===f)break}r=h[v],h=h.slice(0,v)}}else if(i.substr(1).match(c)||i.match(/^<v\s+[^>]+>/i)||i.match(/^<c[a-z0-9\-\_\.]+>/)||i.match(/^<(b|i|u|ruby|rt)>/)||!1!==e.sanitiseCueHTML){var g={token:i.replace(/[<\/>]+/gi,"").split(/[\s\.]+/)[0],rawToken:i,children:[]};"v"===g.token?g.voice=i.match(/^<v\s*([^>]+)>/i)[1]:"c"===g.token?g.classes=i.replace(/[<\/>\s]+/gi,"").split(/[\.]+/gi).slice(1).filter(p):!(o=g.rawToken.match(c))||(l.isTimeDependent=!0,a=o.slice(1),g.timeIn=parseInt(60*(a[0]||0)*60,10)+parseInt(60*(a[1]||0),10)+parseInt(a[2]||0,10)+parseFloat("0."+(a[3]||0))),r.push(g),h.push(r),r=g.children}}else!1!==e.sanitiseCueHTML&&(i=i.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\&/g,"&amp;"),e.ignoreWhitespace||(i=i.replace(/\n+/g,"<br />"))),r.push(i);return l},y=function(t){var e,n=0;return"string"!=typeof t?0:((e=g.exec(t))&&(e=e.slice(1),n=parseInt(60*(e[0]||0)*60,10)+parseInt(60*(e[1]||0),10)+parseInt(e[2]||0,10)+parseFloat("0."+(e[3]||0))),n)};if(i=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),/<tt\s+xml/gi.exec(t)){var b=document.createElement("ttml");return b.innerHTML=t,[].slice.call(b.querySelectorAll("[begin],[end]"),0).map((function(t,n){var i,r,o,a=String(t.getAttribute("begin")),l=String(t.getAttribute("end")),u=t.getAttribute("id")||n;return r=y(a),o=y(l),i=!1===e.processCueHTML?t.innerHTML:m(t.innerHTML),new s.TextTrackCue(u,r,o,i,{},!1,null)}))}return t.split(/\n+/g).reduce((function(t,e,n,i){return t||!!d.exec(e)}),!1)?(i=i.split(/\n+/g),n="LRC"):i=i.split(/\n\n+/g),i=i.filter((function(t){return t.match(/^WEBVTT(\s*FILE)?/gi)?(n="WebVTT",!1):!!t.replace(/\s*/gi,"").length})).map((function(t,i){var c,g,y,b,w,A,E,S,T,x,C="";if(S=p.exec(t))return o=(o=S.slice(2).join("")).split(/\s+/g).filter((function(t){return t&&!!t.length})),null;if(S=f.exec(t))return r+=S[S.length-1],null;if(S=v.exec(t))return null;for(c="LRC"===n?[t.substr(0,t.indexOf("]")+1),t.substr(t.indexOf("]")+1)]:t.split(/\n/g);!c[0].replace(/\s+/gi,"").length&&c.length>0;)c.shift();for(E=c[0].match(/^\s*[a-z0-9\-]+\s*$/gi)?String(c.shift().replace(/\s*/gi,"")):i,A=0;A<c.length;A++){var _=c[A];(T=u.exec(_))||(T=a.exec(_))||(T=l.exec(_))?(w=T.slice(1),g=parseInt(60*(w[0]||0)*60,10)+parseInt(60*(w[1]||0),10)+parseInt(w[2]||0,10)+parseFloat("0."+(w[3]||0)),y=parseInt(60*(w[4]||0)*60,10)+parseInt(60*(w[5]||0),10)+parseInt(w[6]||0,10)+parseFloat("0."+(w[7]||0)),w[8]&&(C=w[8])):(T=h.exec(_))?(w=T.slice(1),y=(g=parseFloat(w[0]))+parseFloat(w[1]),w[2]&&(C=w[2])):!(T=d.exec(_))||(w=T.slice(1,T.length-1),y=g=parseInt(60*(w[0]||0)*60,10)+parseInt(60*(w[1]||0),10)+parseInt(w[2]||0,10)+parseFloat("0."+(w[3]||0))),c=c.slice(0,A).concat(c.slice(A+1));break}if(!g&&!y)return null;var k=o.reduce((function(t,e,n,i){return t[e.split(":")[0]]=e.split(":")[1],t}),{});for(var M in k=C.split(/\s+/g).filter((function(t){return t&&!!t.length})).reduce((function(t,e,n,i){return t[e.split(":")[0]]=e.split(":")[1],t}),k),C="",k)k.hasOwnProperty(M)&&(C+=C.length?" ":"",C+=M+":"+k[M]);return b=!1===e.processCueHTML?c.join("\n"):m(c.join("\n")),(x=new s.TextTrackCue(E,g,y,b,C,!1,null)).styleData=r,x})).filter((function(t){return null!==t})),"LRC"===n&&(i.forEach((function(t,e){var n,r=0;e>0&&(r=t.startTime,(n=i[--e]).endTime<r&&(n.endTime=r))})),i=i.filter((function(t){return t.text.toString().replace(/\s*/,"").length>0}))),i}throw new Error("Required parameter captionData not supplied.")},s.processVideoElement=function(t,e,n){var i=[],r=navigator.language||navigator.userLanguage;e||r.split("-")[0];if(n=n instanceof Object?n:{},!t.captioned){t._captionatorOptions=n,t.className+=(t.className.length?" ":"")+"captioned",t.captioned=!0,0===t.id.length&&(t.id=s.generateID());[].slice.call(t.querySelectorAll("track"),0).forEach((function(r){var o=null;o=r.querySelectorAll("source").length>0?r.querySelectorAll("source"):r.getAttribute("src");var a=t.addTextTrack(r.getAttribute("id")||s.generateID(),r.getAttribute("kind"),r.getAttribute("label"),r.getAttribute("srclang").split("-")[0],o,r.getAttribute("type"),r.hasAttribute("default"));r.track=a,a.trackNode=r,a.videoNode=t,i.push(a);var l=!1;("subtitles"===a.kind||"captions"===a.kind)&&e===a.language&&n.enableCaptionsByDefault&&(i.filter((function(t){return("captions"===t.kind||"subtitles"===t.kind)&&e===t.language&&t.mode===s.TextTrack.SHOWING})).length||(l=!0)),"chapters"===a.kind&&e===a.language&&(i.filter((function(t){return"chapters"===t.kind&&t.mode===s.TextTrack.SHOWING})).length||(l=!0)),"descriptions"===a.kind&&!0===n.enableDescriptionsByDefault&&e===a.language&&(i.filter((function(t){return"descriptions"===t.kind&&t.mode===s.TextTrack.SHOWING})).length||(l=!0)),!0===l&&i.forEach((function(t){t.trackNode.hasAttribute("default")&&t.mode===s.TextTrack.SHOWING&&(t.mode=s.TextTrack.HIDDEN)})),r.hasAttribute("default")&&(i.filter((function(t){return!(!t.trackNode.hasAttribute("default")||t.trackNode===r)})).length||(l=!0,a.internalDefault=!0)),!0===l&&(a.mode=s.TextTrack.SHOWING)})),t.addEventListener("timeupdate",(function(t){var e=t.target;try{e.textTracks.forEach((function(t){t.activeCues.refreshCues.apply(t.activeCues)}))}catch(t){}n.renderer instanceof Function?n.renderer.call(s,e):s.rebuildCaptions(e)}),!1),window.addEventListener("resize",(function(e){t._captionator_dirtyBit=!0,s.rebuildCaptions(t)}),!1),!0===n.enableHighResolution&&window.setInterval((function(){try{t.textTracks.forEach((function(t){t.activeCues.refreshCues.apply(t.activeCues)}))}catch(t){}n.renderer instanceof Function?n.renderer.call(s,t):s.rebuildCaptions(t)}),20)}return t},s.getNodeMetrics=function(t){var e,n,i=window.getComputedStyle(t,null),r=t,o=t.offsetTop,s=t.offsetLeft,a=0;for(e=parseInt(i.getPropertyValue("width"),10),n=parseInt(i.getPropertyValue("height"),10);r=r.offsetParent;)o+=r.offsetTop,s+=r.offsetLeft;if(t.hasAttribute("controls")){var l=navigator.userAgent.toLowerCase();-1!==l.indexOf("chrome")?a=32:-1!==l.indexOf("opera")?a=25:-1!==l.indexOf("firefox")?a=28:-1!==l.indexOf("ie 9")||-1!==l.indexOf("ipad")?a=44:-1!==l.indexOf("safari")&&(a=25)}else if(t._captionatorOptions){var u=t._captionatorOptions;u.controlHeight&&(a=parseInt(u.controlHeight,10))}return{left:s,top:o,width:e,height:n,controlHeight:a}},s.applyStyles=function(t,e){for(var n in e)({}).hasOwnProperty.call(e,n)&&(t.style[n]=e[n])},s.checkDirection=function(t){var e="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿",n="֑-߿יִ-﷽ﹰ-ﻼ",i=new RegExp("^[^"+n+"]*["+e+"]");return new RegExp("^[^"+e+"]*["+n+"]").test(t)?"rtl":i.test(t)?"ltr":""},s.styleCue=function(o,a,l){var u,c,h,d,p,f,v,g,m,y,b,w,A,E,S,T,x=0,C=0,_=0,k=0,M=0,O=0,L=0,P=0,I=0,R=0,D=0,N=l._captionatorOptions||{},H=50,V=0,F=0,B=!0,j="",U=(a.track.language,function(t){if(t.spanified)return t.characterCount;var e,n,i,r,o=function(t){return!!t.length},a="<span class='captionator-cue-character'>",l=0,u=function(t){l++,s.applyStyles(t,{display:"block",lineHeight:"auto",height:f+"px",width:w+"px",textAlign:"center"})};for(e in t.childNodes)t.childNodes.hasOwnProperty(e)&&!t.childNodes[e].nospan&&(3===(n=t.childNodes[e]).nodeType?(r=document.createDocumentFragment(),i=n.nodeValue,r.appendChild(document.createElement("span")),r.childNodes[0].innerHTML=a+i.split(/(.)/).filter(o).join("</span>"+a)+"</span>",[].slice.call(r.querySelectorAll("span.captionator-cue-character"),0).forEach(u),n.parentNode.replaceChild(r,n)):1===t.childNodes[e].nodeType&&(l+=U(t.childNodes[e])));return t.characterCount=l,t.spanified=!0,l});if(S=s.getNodeMetrics(l),l._captionator_availableCueArea||(l._captionator_availableCueArea={bottom:S.height-S.controlHeight,right:S.width,top:0,left:0,height:S.height-S.controlHeight,width:S.width}),"horizontal"===a.direction&&(s.applyStyles(o,{width:"auto",position:"static",display:"inline-block",padding:"1em"}),V=parseInt(o.offsetWidth,10),F=(F=Math.floor(V/l._captionator_availableCueArea.width*100))<=100?F:100),p=(p=S.height*(n/100)/96*72)>=t?p:t,f=Math.floor(p/72*96),v=(v=Math.floor(p*i))>e?v:e,b=Math.ceil(v/72*96),w=b,b*Math.floor(S.height/b)<S.height&&(b=Math.floor(S.height/Math.floor(S.height/b)),v=Math.ceil(b/96*72)),b*Math.floor(S.width/b)<S.width&&(w=Math.ceil(S.width/Math.floor(S.width/b))),m=Math.floor(l._captionator_availableCueArea.height/b),y=Math.floor(l._captionator_availableCueArea.width/w),0===parseFloat(String(a.size).replace(/[^\d\.]/gi,""))?!0===N.sizeCuesByTextBoundingBox?u=F:(u=100,B=!1):(B=!1,u=(u=parseFloat(String(a.size).replace(/[^\d\.]/gi,"")))<=100?u:100),h="horizontal"===a.direction?Math.floor(.01*S.width):0,d="horizontal"===a.direction?0:Math.floor(.01*S.height),"auto"===a.linePosition?a.linePosition="horizontal"===a.direction?m:y:String(a.linePosition).match(/\%/)&&(a.snapToLines=!1,a.linePosition=parseFloat(String(a.linePosition).replace(/\%/gi,""))),"horizontal"===a.direction)k=b,"auto"!==a.textPosition&&B&&(u-(H=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")))>F?u-=H:u=F),_=!0===a.snapToLines?l._captionator_availableCueArea.width*(u/100):S.width*(u/100),"auto"===a.textPosition?x=(l._captionator_availableCueArea.right-_)/2+l._captionator_availableCueArea.left:(H=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")),x=(l._captionator_availableCueArea.right-_)*(H/100)+l._captionator_availableCueArea.left),!0===a.snapToLines?C=(m-1)*b+l._captionator_availableCueArea.top:(g=S.controlHeight+b+2*d,C=(S.height-g)*(a.linePosition/100));else{if(C=l._captionator_availableCueArea.top,x=l._captionator_availableCueArea.right-w,_=w,k=l._captionator_availableCueArea.height*(u/100),O=U(o),L=[].slice.call(o.querySelectorAll("span.captionator-cue-character"),0),M=Math.floor((k-2*d)/f),_=Math.ceil(O/M)*w,P=Math.ceil(O/M),I=(O-M*(P-1))*f,!0===a.snapToLines)x="vertical-lr"===a.direction?l._captionator_availableCueArea.left:l._captionator_availableCueArea.right-_;else{var z=_+2*h;x="vertical-lr"===a.direction?(S.width-z)*(a.linePosition/100):S.width-z-(S.width-z)*(a.linePosition/100)}"auto"===a.textPosition?C=(l._captionator_availableCueArea.bottom-k)/2+l._captionator_availableCueArea.top:(a.textPosition=parseFloat(String(a.textPosition).replace(/[^\d\.]/gi,"")),C=(l._captionator_availableCueArea.bottom-k)*(a.textPosition/100)+l._captionator_availableCueArea.top),R=0,D=0,A=0,E=0,L.forEach((function(t,e){A="vertical-lr"===a.direction?w*R:_-w*(R+1),"start"===a.alignment||"start"!==a.alignment&&R<P-1?E=D*f+d:"end"===a.alignment?E=D*f-f+(k+2*d-I):"middle"===a.alignment&&(E=(k-2*d-I)/2+D*f),t.setAttribute("aria-hidden","true"),s.applyStyles(t,{position:"absolute",top:E+"px",left:A+"px"}),D>=M-1?(D=0,R++):D++})),o.accessified||(j=a.text.getPlain(l.currentTime),(T=document.createElement("div")).innerHTML=j,T.nospan=!0,o.appendChild(T),o.accessified=!0,s.applyStyles(T,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"}))}if("horizontal"===a.direction&&(c="rtl"===s.checkDirection(String(a.text))?{start:"right",middle:"center",end:"left"}[a.alignment]:{start:"left",middle:"center",end:"right"}[a.alignment]),s.applyStyles(o,{position:"absolute",overflow:"hidden",width:_+"px",height:k+"px",top:C+"px",left:x+"px",padding:d+"px "+h+"px",textAlign:c,backgroundColor:"rgba("+r.join(",")+")",direction:s.checkDirection(String(a.text)),lineHeight:v+"pt",boxSizing:"border-box"}),"vertical"===a.direction||"vertical-lr"===a.direction)x-l._captionator_availableCueArea.left-l._captionator_availableCueArea.left>=l._captionator_availableCueArea.right-(x+_)?l._captionator_availableCueArea.right=x:l._captionator_availableCueArea.left=x+_,l._captionator_availableCueArea.width=l._captionator_availableCueArea.right-l._captionator_availableCueArea.left;else{if(o.scrollHeight>1.2*o.offsetHeight)if(a.snapToLines){for(var W=0;o.scrollHeight>1.2*o.offsetHeight;)k+=b,o.style.height=k+"px",W++;C-=W*b,o.style.top=C+"px"}else{o.scrollHeight;k=o.scrollHeight+d,g=S.controlHeight+k+2*d,C=(S.height-g)*(a.linePosition/100),o.style.height=k+"px",o.style.top=C+"px"}C-l._captionator_availableCueArea.top-l._captionator_availableCueArea.top>=l._captionator_availableCueArea.bottom-(C+k)&&l._captionator_availableCueArea.bottom>C?l._captionator_availableCueArea.bottom=C:l._captionator_availableCueArea.top<C+k&&(l._captionator_availableCueArea.top=C+k),l._captionator_availableCueArea.height=l._captionator_availableCueArea.bottom-l._captionator_availableCueArea.top}},s.styleCueCanvas=function(r){var o,a,l,u,c,h,d=r._captionatorOptions instanceof Object?r._captionatorOptions:{};if(!(r instanceof HTMLVideoElement))throw new Error("Cannot style a cue canvas for a non-video node!");if(r._containerObject&&(c=(l=r._containerObject).id),r._descriptionContainerObject&&(h=(u=r._descriptionContainerObject).id),u?u.parentNode||document.body.appendChild(u):((u=document.createElement("div")).className="captionator-cue-descriptive-container",h=s.generateID(),u.id=h,r._descriptionContainerObject=u,u.setAttribute("aria-live","polite"),u.setAttribute("aria-atomic","true"),u.setAttribute("role","region"),document.body.appendChild(u),s.applyStyles(u,{position:"absolute",overflow:"hidden",width:"1px",height:"1px",opacity:"0",textIndent:"-999em"})),l)l.parentNode||document.body.appendChild(l);else{if((l=document.createElement("div")).className="captionator-cue-canvas",c=s.generateID(),l.id=c,d.appendCueCanvasTo){var p=null;if(d.appendCueCanvasTo instanceof HTMLElement)p=d.appendCueCanvasTo;else if("string"==typeof d.appendCueCanvasTo)try{var f=document.querySelectorAll(d.appendCueCanvasTo);if(!(f.length>0))throw null;p=f[0]}catch(t){p=document.body,d.appendCueCanvasTo=!1}else p=document.body,d.appendCueCanvasTo=!1;p.appendChild(l)}else document.body.appendChild(l);r._containerObject=l}var v=s.getNodeMetrics(r);o=(o=v.height*(n/100)/96*72)>=t?o:t,a=(a=Math.floor(o*i))>e?a:e,s.applyStyles(l,{position:"absolute",overflow:"hidden",zIndex:100,height:v.height-v.controlHeight+"px",width:v.width+"px",top:(d.appendCueCanvasTo?0:v.top)+"px",left:(d.appendCueCanvasTo?0:v.left)+"px",color:"white",fontFamily:"Verdana, Helvetica, Arial, sans-serif",fontSize:o+"pt",lineHeight:a+"pt",boxSizing:"border-box"})},s.createDOMException=function(t,e,n){try{document.querySelectorAll("div/[]")}catch(r){var i=function(t,e,n){this.code=t,this.message=e,this.name=n};return i.prototype=r,new i(t,e,n)}},s.compareArray=function(t,e){if(t instanceof Array&&e instanceof Array){if(t.length!==e.length)return!1;for(var n in t)if(t.hasOwnProperty(n)&&t[n]!==e[n])return!1;return!0}return!1},s.generateID=function(t){var e="";for(t=t||10;e.length<t;)e+=String.fromCharCode(65+Math.floor(26*Math.random()));return"captionator"+e}}()},8351:function(t,e){
/*!
 * CSSRulePlugin 3.10.4
 * https://greensock.com
 * 
 * @license Copyright 2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t){"use strict";function e(){return"undefined"!=typeof window}function n(){return r||e()&&(r=window.gsap)&&r.registerPlugin&&r}function i(){return o||(l(),a||console.warn("Please gsap.registerPlugin(CSSPlugin, CSSRulePlugin)")),o}var r,o,s,a,l=function(t){r=t||n(),e()&&(s=document),r&&(a=r.plugins.css)&&(o=1)},u={version:"3.10.4",name:"cssRule",init:function(t,e,n,r,o){if(!i()||void 0===t.cssText)return!1;var l=t._gsProxy=t._gsProxy||s.createElement("div");this.ss=t,this.style=l.style,l.style.cssText=t.cssText,a.prototype.init.call(this,l,e,n,r,o)},render:function(t,e){for(var n,i=e._pt,r=e.style,o=e.ss;i;)i.r(t,i.d),i=i._next;for(n=r.length;-1<--n;)o[r[n]]=r[r[n]]},getRule:function(t){i();var e,n,r,o,a=s.all?"rules":"cssRules",l=s.styleSheets,u=l.length,c=":"===t.charAt(0);for(t=(c?"":",")+t.split("::").join(":").toLowerCase()+",",c&&(o=[]);u--;){try{if(!(n=l[u][a]))continue;e=n.length}catch(t){console.warn(t);continue}for(;-1<--e;)if((r=n[e]).selectorText&&-1!==(","+r.selectorText.split("::").join(":").toLowerCase()+",").indexOf(t)){if(!c)return r.style;o.push(r.style)}}return o},register:l};n()&&r.registerPlugin(u),t.CSSRulePlugin=u,t.default=u,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}(e)},8467:function(t,e){
/*!
 * EasePack 3.10.4
 * https://greensock.com
 * 
 * @license Copyright 2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t){"use strict";function e(){return l||"undefined"!=typeof window&&(l=window.gsap)&&l.registerPlugin&&l}function n(t,e){return!!(void 0===t?e:t&&!~(t+"").indexOf("false"))}function i(t){if(l=t||e()){u=l.registerEase;var n,i=l.parseEase(),r=function(t){return function(e){var n=.5+e/2;t.config=function(e){return t(2*(1-e)*e*n+e*e)}}};for(n in i)i[n].config||r(i[n]);for(n in u("slow",c),u("expoScale",h),u("rough",d),p)"version"!==n&&l.core.globals(n,p[n])}}function r(t,e,i){var r=(t=Math.min(1,t||.7))<1?e||0===e?e:.7:0,o=(1-t)/2,s=o+t,a=n(i);return function(t){var e=t+(.5-t)*r;return t<o?a?1-(t=1-t/o)*t:e-(t=1-t/o)*t*t*t*e:s<t?a?1===t?0:1-(t=(t-s)/o)*t:e+(t-e)*(t=(t-s)/o)*t*t*t:a?1:e}}function o(t,e,n){var i=Math.log(e/t),r=e-t;return n=n&&l.parseEase(n),function(e){return(t*Math.exp(i*(n?n(e):e))-t)/r}}function s(t,e,n){this.t=t,this.v=e,n&&(((this.next=n).prev=this).c=n.v-e,this.gap=n.t-t)}function a(t){"object"!=typeof t&&(t={points:+t||20});for(var e,i,r,o,a,u,c,h=t.taper||"none",d=[],p=0,f=0|(+t.points||20),v=f,g=n(t.randomize,!0),m=n(t.clamp),y=l?l.parseEase(t.template):0,b=.4*(+t.strength||1);-1<--v;)e=g?Math.random():1/f*v,i=y?y(e):e,r="none"===h?b:"out"===h?(o=1-e)*o*b:"in"===h?e*e*b:e<.5?(o=2*e)*o*.5*b:(o=2*(1-e))*o*.5*b,g?i+=Math.random()*r-.5*r:v%2?i+=.5*r:i-=.5*r,m&&(1<i?i=1:i<0&&(i=0)),d[p++]={x:e,y:i};for(d.sort((function(t,e){return t.x-e.x})),u=new s(1,1,null),v=f;v--;)u=new s((a=d[v]).x,a.y,u);return c=new s(0,0,u.t?u:u.next),function(t){var e=c;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return(c=e).v+(t-e.t)/e.gap*e.c}}var l,u,c=r(.7);(c.ease=c).config=r;var h=o(1,2);h.config=o;var d=a();(d.ease=d).config=a;var p={SlowMo:c,RoughEase:d,ExpoScaleEase:h};for(var f in p)p[f].register=i,p[f].version="3.10.4";e()&&l.registerPlugin(c),t.EasePack=p,t.ExpoScaleEase=h,t.RoughEase=d,t.SlowMo=c,t.default=p,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}(e)},3707:function(t,e){
/*!
 * GSAP 3.10.4
 * https://greensock.com
 * 
 * @license Copyright 2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
 */
!function(t){"use strict";function e(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return"string"==typeof t}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return void 0===t}function a(t){return"object"==typeof t}function l(t){return!1!==t}function u(){return"undefined"!=typeof window}function c(t){return r(t)||i(t)}function h(t){return(At=ge(t,ae))&&bn}function d(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")}function p(t,e){return!e&&console.warn(t)}function f(t,e){return t&&(ae[t]=e)&&At&&(At[t]=e)||ae}function v(){return 0}function g(t){var e,n,i=t[0];if(a(i)||r(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(n=fe.length;n--&&!fe[n].targetTest(i););e=fe[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Be(t[n],e)))||t.splice(n,1);return t}function m(t){return t._gsap||g(Se(t))[0]._gsap}function y(t,e,n){return(n=t[e])&&r(n)?t[e]():s(n)&&t.getAttribute&&t.getAttribute(e)||n}function b(t,e){return(t=t.split(",")).forEach(e)||t}function w(t){return Math.round(1e5*t)/1e5||0}function A(t){return Math.round(1e7*t)/1e7||0}function E(t,e){var n=e.charAt(0),i=parseFloat(e.substr(2));return t=parseFloat(t),"+"===n?t+i:"-"===n?t-i:"*"===n?t*i:t/i}function S(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n}function T(){var t,e,n=ue.length,i=ue.slice(0);for(ce={},t=ue.length=0;t<n;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)}function x(t,e,n,i){ue.length&&T(),t.render(e,n,i),ue.length&&T()}function C(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(oe).length<2?e:i(t)?t.trim():t}function _(t){return t}function k(t,e){for(var n in e)n in t||(t[n]=e[n]);return t}function M(t,e){for(var n in e)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(t[n]=a(e[n])?M(t[n]||(t[n]={}),e[n]):e[n]);return t}function O(t,e){var n,i={};for(n in t)n in e||(i[n]=t[n]);return i}function L(t){var e=t.parent||mt,n=t.keyframes?function(t){return function(e,n){for(var i in n)i in e||"duration"===i&&t||"ease"===i||(e[i]=n[i])}}(Qt(t.keyframes)):k;if(l(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t}function P(t,e,n,i,r){void 0===n&&(n="_first"),void 0===i&&(i="_last");var o,s=t[i];if(r)for(o=e[r];s&&s[r]>o;)s=s._prev;return s?(e._next=s._next,s._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[i]=e,e._prev=s,e.parent=e._dp=t,e}function I(t,e,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=e._prev,o=e._next;r?r._next=o:t[n]===e&&(t[n]=o),o?o._prev=r:t[i]===e&&(t[i]=r),e._next=e._prev=e.parent=null}function R(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0}function D(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t}function N(t){return t._repeat?me(t._tTime,t=t.duration()+t._rDelay)*t:0}function H(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function V(t){return t._end=A(t._start+(t._tDur/Math.abs(t._ts||t._rts||Gt)||0))}function F(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=A(n._time-(0<t._ts?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),V(t),n._dirty||D(n,t)),t}function B(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=H(t.rawTime(),e),(!e._dur||Ae(0,e.totalDuration(),n)-e._tTime>Gt)&&e.render(n,!0)),D(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)0<=n.rawTime()&&n.totalTime(n._tTime),n=n._dp;t._zTime=-Gt}}function j(t,e,n,i){return e.parent&&R(e),e._start=A((o(n)?n:n||t!==mt?we(t,n,e):t._time)+e._delay),e._end=A(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),P(t,e,"_first","_last",t._sort?"_start":0),ye(e)||(t._recent=e),i||B(t,e),t}function U(t,e){return(ae.ScrollTrigger||d("scrollTrigger",e))&&ae.ScrollTrigger.create(e,t)}function z(t,e,n,i){return Ke(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&St!==Oe.frame?(ue.push(t),t._lazy=[e,i],1):void 0:1}function W(t,e,n,i){var r=t._repeat,o=A(e)||0,s=t._tTime/t._tDur;return s&&!i&&(t._time*=o/t._dur),t._dur=o,t._tDur=r?r<0?1e10:A(o*(r+1)+t._rDelay*r):o,0<s&&!i?F(t,t._tTime=t._tDur*s):t.parent&&V(t),n||D(t.parent,t),t}function G(t){return t instanceof ze?D(t):W(t,t._dur)}function q(t,e,n){var i,r,s=o(e[1]),a=(s?2:1)+(t<2?0:1),u=e[a];if(s&&(u.duration=e[1]),u.parent=n,t){for(i=u,r=n;r&&!("immediateRender"in i);)i=r.vars.defaults||{},r=l(r.vars.inherit)&&r.parent;u.immediateRender=l(i.immediateRender),t<2?u.runBackwards=1:u.startAt=e[a-1]}return new Qe(e[0],u,e[1+a])}function Y(t,e){return t||0===t?e(t):e}function X(t,e){return i(t)&&(e=se.exec(t))?e[1]:""}function K(t,e){return t&&a(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&a(t[0]))&&!t.nodeType&&t!==yt}function J(t){return t.sort((function(){return.5-Math.random()}))}function Z(t){if(r(t))return t;var e=a(t)?t:{each:t},n=Ne(e.ease),o=e.from||0,s=parseFloat(e.base)||0,l={},u=0<o&&o<1,c=isNaN(o)||u,h=e.axis,d=o,p=o;return i(o)?d=p={center:.5,edges:.5,end:1}[o]||0:!u&&c&&(d=o[0],p=o[1]),function(t,i,r){var a,u,f,v,g,m,y,b,w,E=(r||e).length,S=l[E];if(!S){if(!(w="auto"===e.grid?0:(e.grid||[1,Wt])[1])){for(y=-Wt;y<(y=r[w++].getBoundingClientRect().left)&&w<E;);w--}for(S=l[E]=[],a=c?Math.min(w,E)*d-.5:o%w,u=w===Wt?0:c?E*p/w-.5:o/w|0,b=Wt,m=y=0;m<E;m++)f=m%w-a,v=u-(m/w|0),S[m]=g=h?Math.abs("y"===h?v:f):Kt(f*f+v*v),y<g&&(y=g),g<b&&(b=g);"random"===o&&J(S),S.max=y-b,S.min=b,S.v=E=(parseFloat(e.amount)||parseFloat(e.each)*(E<w?E-1:h?"y"===h?E/w:w:Math.max(w,E/w))||0)*("edges"===o?-1:1),S.b=E<0?s-E:s,S.u=X(e.amount||e.each)||0,n=n&&E<0?De(n):n}return E=(S[t]-S.min)/S.max||0,A(S.b+(n?n(E):E)*S.v)+S.u}}function $(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var i=Math.round(parseFloat(n)/t)*t*e;return(i-i%1)/e+(o(n)?0:X(n))}}function Q(t,e){var n,i,s=Qt(t);return!s&&a(t)&&(n=s=t.radius||Wt,t.values?(t=Se(t.values),(i=!o(t[0]))&&(n*=n)):t=$(t.increment)),Y(e,s?r(t)?function(e){return i=t(e),Math.abs(i-e)<=n?i:e}:function(e){for(var r,s,a=parseFloat(i?e.x:e),l=parseFloat(i?e.y:0),u=Wt,c=0,h=t.length;h--;)(r=i?(r=t[h].x-a)*r+(s=t[h].y-l)*s:Math.abs(t[h]-a))<u&&(u=r,c=h);return c=!n||u<=n?t[c]:e,i||c===e||o(e)?c:c+X(e)}:$(t))}function tt(t,e,n,i){return Y(Qt(t)?!e:!0===n?!!(n=0):!i,(function(){return Qt(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*i)/i}))}function et(t,e,n){return Y(n,(function(n){return t[~~e(n)]}))}function nt(t){for(var e,n,i,r,o=0,s="";~(e=t.indexOf("random(",o));)i=t.indexOf(")",e),r="["===t.charAt(e+7),n=t.substr(e+7,i-e-7).match(r?oe:te),s+=t.substr(o,e-o)+tt(r?n:+n[0],r?0:+n[1],+n[2]||1e-5),o=i+1;return s+t.substr(o,t.length-o)}function it(t,e,n){var i,r,o,s=t.labels,a=Wt;for(i in s)(r=s[i]-e)<0==!!n&&r&&a>(r=Math.abs(r))&&(o=i,a=r);return o}function rt(t){return R(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&xe(t,"onInterrupt"),t}function ot(t,e,n){return(6*(t+=t<0?1:1<t?-1:0)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*Ce+.5|0}function st(t,e,n){var i,r,s,a,l,u,c,h,d,p,f=t?o(t)?[t>>16,t>>8&Ce,t&Ce]:0:_e.black;if(!f){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),_e[t])f=_e[t];else if("#"===t.charAt(0)){if(t.length<6&&(t="#"+(i=t.charAt(1))+i+(r=t.charAt(2))+r+(s=t.charAt(3))+s+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(f=parseInt(t.substr(1,6),16))>>16,f>>8&Ce,f&Ce,parseInt(t.substr(7),16)/255];f=[(t=parseInt(t.substr(1),16))>>16,t>>8&Ce,t&Ce]}else if("hsl"===t.substr(0,3))if(f=p=t.match(te),e){if(~t.indexOf("="))return f=t.match(ee),n&&f.length<4&&(f[3]=1),f}else a=+f[0]%360/360,l=f[1]/100,i=2*(u=f[2]/100)-(r=u<=.5?u*(l+1):u+l-u*l),3<f.length&&(f[3]*=1),f[0]=ot(a+1/3,i,r),f[1]=ot(a,i,r),f[2]=ot(a-1/3,i,r);else f=t.match(te)||_e.transparent;f=f.map(Number)}return e&&!p&&(i=f[0]/Ce,r=f[1]/Ce,s=f[2]/Ce,u=((c=Math.max(i,r,s))+(h=Math.min(i,r,s)))/2,c===h?a=l=0:(d=c-h,l=.5<u?d/(2-c-h):d/(c+h),a=c===i?(r-s)/d+(r<s?6:0):c===r?(s-i)/d+2:(i-r)/d+4,a*=60),f[0]=~~(a+.5),f[1]=~~(100*l+.5),f[2]=~~(100*u+.5)),n&&f.length<4&&(f[3]=1),f}function at(t){var e=[],n=[],i=-1;return t.split(ke).forEach((function(t){var r=t.match(ne)||[];e.push.apply(e,r),n.push(i+=r.length+1)})),e.c=n,e}function lt(t,e,n){var i,r,o,s,a="",l=(t+a).match(ke),u=e?"hsla(":"rgba(",c=0;if(!l)return t;if(l=l.map((function(t){return(t=st(t,e,1))&&u+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(o=at(t),(i=n.c).join(a)!==o.c.join(a)))for(s=(r=t.replace(ke,"1").split(ne)).length-1;c<s;c++)a+=r[c]+(~i.indexOf(c)?l.shift()||u+"0,0,0,0)":(o.length?o:l.length?l:n).shift());if(!r)for(s=(r=t.split(ke)).length-1;c<s;c++)a+=r[c]+l[c];return a+r[s]}function ut(t){var e,n=t.join(" ");if(ke.lastIndex=0,ke.test(n))return e=Me.test(n),t[1]=lt(t[1],e),t[0]=lt(t[0],e,at(t[1])),!0}function ct(t){var e=(t+"").split("("),n=Pe[e[0]];return n&&1<e.length&&n.config?n.config.apply(null,~t.indexOf("{")?[function(t){for(var e,n,i,r={},o=t.substr(1,t.length-3).split(":"),s=o[0],a=1,l=o.length;a<l;a++)n=o[a],e=a!==l-1?n.lastIndexOf(","):n.length,i=n.substr(0,e),r[s]=isNaN(i)?i.replace(Re,"").trim():+i,s=n.substr(e+1).trim();return r}(e[1])]:function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<n?t.indexOf(")",n+1):n)}(t).split(",").map(C)):Pe._CE&&Ie.test(t)?Pe._CE("",t):n}function ht(t,e){for(var n,i=t._first;i;)i instanceof ze?ht(i,e):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===e||(i.timeline?ht(i.timeline,e):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=e)),i=i._next}function dt(t,e,n,i){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,o={easeIn:e,easeOut:n,easeInOut:i};return b(t,(function(t){for(var e in Pe[t]=ae[t]=o,Pe[r=t.toLowerCase()]=n,o)Pe[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Pe[t+"."+e]=o[e]})),o}function pt(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}}function ft(t,e,n){function i(t){return 1===t?1:r*Math.pow(2,-10*t)*Zt((t-s)*o)+1}var r=1<=e?e:1,o=(n||(t?.3:.45))/(e<1?e:1),s=o/qt*(Math.asin(1/r)||0),a="out"===t?i:"in"===t?function(t){return 1-i(1-t)}:pt(i);return o=qt/o,a.config=function(e,n){return ft(t,e,n)},a}function vt(t,e){function n(t){return t?--t*t*((e+1)*t+e)+1:0}void 0===e&&(e=1.70158);var i="out"===t?n:"in"===t?function(t){return 1-n(1-t)}:pt(n);return i.config=function(e){return vt(t,e)},i}var gt,mt,yt,bt,wt,At,Et,St,Tt,xt,Ct,_t,kt,Mt,Ot,Lt,Pt,It,Rt,Dt,Nt,Ht,Vt,Ft,Bt,jt,Ut={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},zt={duration:.5,overwrite:!1,delay:0},Wt=1e8,Gt=1/Wt,qt=2*Math.PI,Yt=qt/4,Xt=0,Kt=Math.sqrt,Jt=Math.cos,Zt=Math.sin,$t="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Qt=Array.isArray,te=/(?:-?\.?\d|\.)+/gi,ee=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,ne=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ie=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,re=/[+-]=-?[.\d]+/,oe=/[^,'"\[\]\s]+/gi,se=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ae={},le={},ue=[],ce={},he={},de={},pe=30,fe=[],ve="",ge=function(t,e){for(var n in e)t[n]=e[n];return t},me=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},ye=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},be={_start:0,endTime:v,totalDuration:v},we=function t(e,n,r){var o,s,a,l=e.labels,u=e._recent||be,c=e.duration()>=Wt?u.endTime(!1):e._dur;return i(n)&&(isNaN(n)||n in l)?(s=n.charAt(0),a="%"===n.substr(-1),o=n.indexOf("="),"<"===s||">"===s?(0<=o&&(n=n.replace(/=/,"")),("<"===s?u._start:u.endTime(0<=u._repeat))+(parseFloat(n.substr(1))||0)*(a?(o<0?u:r).totalDuration()/100:1)):o<0?(n in l||(l[n]=c),l[n]):(s=parseFloat(n.charAt(o-1)+n.substr(o+1)),a&&r&&(s=s/100*(Qt(r)?r[0]:r).totalDuration()),1<o?t(e,n.substr(0,o-1),r)+s:c+s)):null==n?c:+n},Ae=function(t,e,n){return n<t?t:e<n?e:n},Ee=[].slice,Se=function(t,e,n){return!i(t)||n||!bt&&Le()?Qt(t)?function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){return i(t)&&!e||K(t,1)?n.push.apply(n,Se(t)):n.push(t)}))||n}(t,n):K(t)?Ee.call(t,0):t?[t]:[]:Ee.call((e||wt).querySelectorAll(t),0)},Te=function(t,e,n,i,r){var o=e-t,s=i-n;return Y(r,(function(e){return n+((e-t)/o*s||0)}))},xe=function(t,e,n){var i,r,o=t.vars,s=o[e];if(s)return i=o[e+"Params"],r=o.callbackScope||t,n&&ue.length&&T(),i?s.apply(r,i):s.call(r)},Ce=255,_e={aqua:[0,Ce,Ce],lime:[0,Ce,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ce],navy:[0,0,128],white:[Ce,Ce,Ce],olive:[128,128,0],yellow:[Ce,Ce,0],orange:[Ce,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ce,0,0],pink:[Ce,192,203],cyan:[0,Ce,Ce],transparent:[Ce,Ce,Ce,0]},ke=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in _e)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Me=/hsl[a]?\(/,Oe=(Pt=Date.now,It=500,Rt=33,Dt=Pt(),Nt=Dt,Vt=Ht=1e3/240,Mt={time:0,frame:0,tick:function(){He(!0)},deltaRatio:function(t){return Ot/(1e3/(t||60))},wake:function(){Et&&(!bt&&u()&&(yt=bt=window,wt=yt.document||{},ae.gsap=bn,(yt.gsapVersions||(yt.gsapVersions=[])).push(bn.version),h(At||yt.GreenSockGlobals||!yt.gsap&&yt||{}),kt=yt.requestAnimationFrame),Ct&&Mt.sleep(),_t=kt||function(t){return setTimeout(t,Vt-1e3*Mt.time+1|0)},xt=1,He(2))},sleep:function(){(kt?yt.cancelAnimationFrame:clearTimeout)(Ct),xt=0,_t=v},lagSmoothing:function(t,e){It=t||1e8,Rt=Math.min(e,It,0)},fps:function(t){Ht=1e3/(t||240),Vt=1e3*Mt.time+Ht},add:function(t,e,n){var i=e?function(e,n,r,o){t(e,n,r,o),Mt.remove(i)}:t;return Mt.remove(t),Ft[n?"unshift":"push"](i),Le(),i},remove:function(t,e){~(e=Ft.indexOf(t))&&Ft.splice(e,1)&&e<=Lt&&Lt--},_listeners:Ft=[]}),Le=function(){return!xt&&Oe.wake()},Pe={},Ie=/^[\d.\-M][\d.\-,\s]/,Re=/["']/g,De=function(t){return function(e){return 1-t(1-e)}},Ne=function(t,e){return t&&(r(t)?t:Pe[t]||ct(t))||e};function He(t){var e,n,i,r,o=Pt()-Nt,s=!0===t;if(It<o&&(Dt+=o-Rt),(0<(e=(i=(Nt+=o)-Dt)-Vt)||s)&&(r=++Mt.frame,Ot=i-1e3*Mt.time,Mt.time=i/=1e3,Vt+=e+(Ht<=e?4:Ht-e),n=1),s||(Ct=_t(He)),n)for(Lt=0;Lt<Ft.length;Lt++)Ft[Lt](i,Ot,r,t)}function Ve(t){return t<jt?Bt*t*t:t<.7272727272727273?Bt*Math.pow(t-1.5/2.75,2)+.75:t<.9090909090909092?Bt*(t-=2.25/2.75)*t+.9375:Bt*Math.pow(t-2.625/2.75,2)+.984375}b("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;dt(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Pe.Linear.easeNone=Pe.none=Pe.Linear.easeIn,dt("Elastic",ft("in"),ft("out"),ft()),Bt=7.5625,jt=1/2.75,dt("Bounce",(function(t){return 1-Ve(1-t)}),Ve),dt("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),dt("Circ",(function(t){return-(Kt(1-t*t)-1)})),dt("Sine",(function(t){return 1===t?1:1-Jt(t*Yt)})),dt("Back",vt("in"),vt("out"),vt()),Pe.SteppedEase=Pe.steps=ae.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,i=t+(e?0:1),r=e?1:0;return function(t){return((i*Ae(0,.99999999,t)|0)+r)*n}}},zt.ease=Pe["quad.out"],b("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return ve+=t+","+t+"Params,"}));var Fe,Be=function(t,e){this.id=Xt++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:y,this.set=e?e.getSetter:sn},je=((Fe=Ue.prototype).delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},Fe.duration=function(t){return arguments.length?this.totalDuration(0<this._repeat?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},Fe.totalDuration=function(t){return arguments.length?(this._dirty=0,W(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Fe.totalTime=function(t,e){if(Le(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(F(this,t),!n._dp||n.parent||B(n,this);n&&n.parent;)n.parent._time!==n._start+(0<=n._ts?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&t<this._tDur||this._ts<0&&0<t||!this._tDur&&!t)&&j(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Gt||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),x(this,t,e)),this},Fe.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+N(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},Fe.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},Fe.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+N(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},Fe.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?me(this._tTime,n)+1:1},Fe.timeScale=function(t){if(!arguments.length)return this._rts===-Gt?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?H(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-Gt?0:this._rts,this.totalTime(Ae(-this._delay,this._tDur,e),!0),V(this),function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t}(this)},Fe.paused=function(t){return arguments.length?(this._ps!==t&&((this._ps=t)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Le(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Gt&&(this._tTime-=Gt)))),this):this._ps},Fe.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return!e||!e._sort&&this.parent||j(e,this,t-this._delay),this}return this._start},Fe.endTime=function(t){return this._start+(l(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},Fe.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?H(e.rawTime(t),this):this._tTime:this._tTime},Fe.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(e._ts||1),e=e._dp;return n},Fe.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,G(this)):-2===this._repeat?1/0:this._repeat},Fe.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,G(this),e?this.time(e):this}return this._rDelay},Fe.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},Fe.seek=function(t,e){return this.totalTime(we(this,t),l(e))},Fe.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,l(e))},Fe.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},Fe.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},Fe.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},Fe.resume=function(){return this.paused(!1)},Fe.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-Gt:0)),this):this._rts<0},Fe.invalidate=function(){return this._initted=this._act=0,this._zTime=-Gt,this},Fe.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-Gt))},Fe.eventCallback=function(t,e,n){var i=this.vars;return 1<arguments.length?(e?(i[t]=e,n&&(i[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},Fe.then=function(t){var e=this;return new Promise((function(n){function i(){var t=e.then;e.then=null,r(o)&&(o=o(e))&&(o.then||o===e)&&(e.then=t),n(o),e.then=t}var o=r(t)?t:_;e._initted&&1===e.totalProgress()&&0<=e._ts||!e._tTime&&e._ts<0?i():e._prom=i}))},Fe.kill=function(){rt(this)},Ue);function Ue(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,W(this,+t.duration,1,1),this.data=t.data,xt||Oe.wake()}k(je.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Gt,_prom:0,_ps:!1,_rts:1});var ze=function(t){function s(e,i){var r;return void 0===e&&(e={}),(r=t.call(this,e)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=l(e.sortChildren),mt&&j(e.parent||mt,n(r),i),e.reversed&&r.reverse(),e.paused&&r.paused(!0),e.scrollTrigger&&U(n(r),e.scrollTrigger),r}e(s,t);var a=s.prototype;return a.to=function(t,e,n){return q(0,arguments,this),this},a.from=function(t,e,n){return q(1,arguments,this),this},a.fromTo=function(t,e,n,i){return q(2,arguments,this),this},a.set=function(t,e,n){return e.duration=0,e.parent=this,L(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Qe(t,e,we(this,n),1),this},a.call=function(t,e,n){return j(this,Qe.delayedCall(0,t,e),n)},a.staggerTo=function(t,e,n,i,r,o,s){return n.duration=e,n.stagger=n.stagger||i,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new Qe(t,n,we(this,r)),this},a.staggerFrom=function(t,e,n,i,r,o,s){return n.runBackwards=1,L(n).immediateRender=l(n.immediateRender),this.staggerTo(t,e,n,i,r,o,s)},a.staggerFromTo=function(t,e,n,i,r,o,s,a){return i.startAt=n,L(i).immediateRender=l(i.immediateRender),this.staggerTo(t,e,i,r,o,s,a)},a.render=function(t,e,n){var i,r,o,s,a,l,u,c,h,d,p,f,v=this._time,g=this._dirty?this.totalDuration():this._tDur,m=this._dur,y=t<=0?0:A(t),b=this._zTime<0!=t<0&&(this._initted||!m);if(this!==mt&&g<y&&0<=t&&(y=g),y!==this._tTime||n||b){if(v!==this._time&&m&&(y+=this._time-v,t+=this._time-v),i=y,h=this._start,l=!(c=this._ts),b&&(m||(v=this._zTime),!t&&e||(this._zTime=t)),this._repeat){if(p=this._yoyo,a=m+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*a+t,e,n);if(i=A(y%a),y===g?(s=this._repeat,i=m):((s=~~(y/a))&&s===y/a&&(i=m,s--),m<i&&(i=m)),d=me(this._tTime,a),!v&&this._tTime&&d!==s&&(d=s),p&&1&s&&(i=m-i,f=1),s!==d&&!this._lock){var w=p&&1&d,E=w===(p&&1&s);if(s<d&&(w=!w),v=w?0:m,this._lock=1,this.render(v||(f?0:A(s*a)),e,!m)._lock=0,this._tTime=y,!e&&this.parent&&xe(this,"onRepeat"),this.vars.repeatRefresh&&!f&&(this.invalidate()._lock=1),v&&v!==this._time||l!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(m=this._dur,g=this._tDur,E&&(this._lock=2,v=w?m:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!f&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;ht(this,f)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(t,e,n){var i;if(e<n)for(i=t._first;i&&i._start<=n;){if("isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=n;){if("isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,A(v),A(i)))&&(y-=i-(i=u._start)),this._tTime=y,this._time=i,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,v=0),!v&&i&&!e&&(xe(this,"onStart"),this._tTime!==y))return this;if(v<=i&&0<=t)for(r=this._first;r;){if(o=r._next,(r._act||i>=r._start)&&r._ts&&u!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(0<r._ts?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!l){u=0,o&&(y+=this._zTime=-Gt);break}}r=o}else{r=this._last;for(var S=t<0?t:i;r;){if(o=r._prev,(r._act||S<=r._end)&&r._ts&&u!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(0<r._ts?(S-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(S-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!l){u=0,o&&(y+=this._zTime=S?-Gt:Gt);break}}r=o}}if(u&&!e&&(this.pause(),u.render(v<=i?0:-Gt)._zTime=v<=i?1:-1,this._ts))return this._start=h,V(this),this.render(t,e,n);this._onUpdate&&!e&&xe(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&v)&&(h!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||(!t&&m||!(y===g&&0<this._ts||!y&&this._ts<0)||R(this,1),e||t<0&&!v||!y&&!v&&g||(xe(this,y===g&&0<=t?"onComplete":"onReverseComplete",!0),!this._prom||y<g&&0<this.timeScale()||this._prom())))}return this},a.add=function(t,e){var n=this;if(o(e)||(e=we(this,e,t)),!(t instanceof je)){if(Qt(t))return t.forEach((function(t){return n.add(t,e)})),this;if(i(t))return this.addLabel(t,e);if(!r(t))return this;t=Qe.delayedCall(0,t)}return this!==t?j(this,t,e):this},a.getChildren=function(t,e,n,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=-Wt);for(var r=[],o=this._first;o;)o._start>=i&&(o instanceof Qe?e&&r.push(o):(n&&r.push(o),t&&r.push.apply(r,o.getChildren(!0,e,n)))),o=o._next;return r},a.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},a.remove=function(t){return i(t)?this.removeLabel(t):r(t)?this.killTweensOf(t):(I(this,t),t===this._recent&&(this._recent=this._last),D(this))},a.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=A(Oe.time-(0<this._ts?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},a.addLabel=function(t,e){return this.labels[t]=we(this,e),this},a.removeLabel=function(t){return delete this.labels[t],this},a.addPause=function(t,e,n){var i=Qe.delayedCall(0,e||v,n);return i.data="isPause",this._hasPause=1,j(this,i,we(this,t))},a.removePause=function(t){var e=this._first;for(t=we(this,t);e;)e._start===t&&"isPause"===e.data&&R(e),e=e._next},a.killTweensOf=function(t,e,n){for(var i=this.getTweensOf(t,n),r=i.length;r--;)qe!==i[r]&&i[r].kill(t,e);return this},a.getTweensOf=function(t,e){for(var n,i=[],r=Se(t),s=this._first,a=o(e);s;)s instanceof Qe?S(s._targets,r)&&(a?(!qe||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&i.push(s):(n=s.getTweensOf(r,e)).length&&i.push.apply(i,n),s=s._next;return i},a.tweenTo=function(t,e){e=e||{};var n,i=this,r=we(i,t),o=e.startAt,s=e.onStart,a=e.onStartParams,l=e.immediateRender,u=Qe.to(i,k({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(o&&"time"in o?o.time:i._time))/i.timeScale())||Gt,onStart:function(){if(i.pause(),!n){var t=e.duration||Math.abs((r-(o&&"time"in o?o.time:i._time))/i.timeScale());u._dur!==t&&W(u,t,0,1).render(u._time,!0,!0),n=1}s&&s.apply(u,a||[])}},e));return l?u.render(0):u},a.tweenFromTo=function(t,e,n){return this.tweenTo(e,k({startAt:{time:we(this,t)}},n))},a.recent=function(){return this._recent},a.nextLabel=function(t){return void 0===t&&(t=this._time),it(this,we(this,t))},a.previousLabel=function(t){return void 0===t&&(t=this._time),it(this,we(this,t),1)},a.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Gt)},a.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var i,r=this._first,o=this.labels;r;)r._start>=n&&(r._start+=t,r._end+=t),r=r._next;if(e)for(i in o)o[i]>=n&&(o[i]+=t);return D(this)},a.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},a.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),D(this)},a.totalDuration=function(t){var e,n,i,r=0,o=this,s=o._last,a=Wt;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-t:t));if(o._dirty){for(i=o.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),a<(n=s._start)&&o._sort&&s._ts&&!o._lock?(o._lock=1,j(o,s,n-s._delay,1)._lock=0):a=n,n<0&&s._ts&&(r-=n,(!i&&!o._dp||i&&i.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-1/0),a=0),s._end>r&&s._ts&&(r=s._end),s=e;W(o,o===mt&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},s.updateRoot=function(t){if(mt._ts&&(x(mt,H(t,mt)),St=Oe.frame),Oe.frame>=pe){pe+=Ut.autoSleep||120;var e=mt._first;if((!e||!e._ts)&&Ut.autoSleep&&Oe._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Oe.sleep()}}},s}(je);function We(t,e,n,o,s,l){var u,c,h,d;if(he[t]&&!1!==(u=new he[t]).init(s,u.rawVars?e[t]:function(t,e,n,o,s){if(r(t)&&(t=Je(t,s,e,n,o)),!a(t)||t.style&&t.nodeType||Qt(t)||$t(t))return i(t)?Je(t,s,e,n,o):t;var l,u={};for(l in t)u[l]=Je(t[l],s,e,n,o);return u}(e[t],o,s,l,n),n,o,l)&&(n._pt=c=new fn(n._pt,s,t,0,1,u.render,u,0,u.priority),n!==Tt))for(h=n._ptLookup[n._targets.indexOf(s)],d=u._props.length;d--;)h[u._props[d]]=c;return u}function Ge(t,e,n,i){var r,o,s=e.ease||i||"power1.inOut";if(Qt(e))o=n[t]||(n[t]=[]),e.forEach((function(t,n){return o.push({t:n/(e.length-1)*100,v:t,e:s})}));else for(r in e)o=n[r]||(n[r]=[]),"ease"===r||o.push({t:parseFloat(t),v:e[r],e:s})}k(ze.prototype,{_lock:0,_hasPause:0,_forcing:0});var qe,Ye,Xe=function(t,e,n,o,s,a,l,u,c){r(o)&&(o=o(s||0,t,a));var h,p=t[e],f="get"!==n?n:r(p)?c?t[e.indexOf("set")||!r(t["get"+e.substr(3)])?e:"get"+e.substr(3)](c):t[e]():p,v=r(p)?c?on:rn:nn;if(i(o)&&(~o.indexOf("random(")&&(o=nt(o)),"="===o.charAt(1)&&(!(h=E(f,o)+(X(f)||0))&&0!==h||(o=h))),f!==o||Ye)return isNaN(f*o)||""===o?(p||e in t||d(e,o),function(t,e,n,i,r,o,s){var a,l,u,c,h,d,p,f,v=new fn(this._pt,t,e,0,1,un,null,r),g=0,m=0;for(v.b=n,v.e=i,n+="",(p=~(i+="").indexOf("random("))&&(i=nt(i)),o&&(o(f=[n,i],t,e),n=f[0],i=f[1]),l=n.match(ie)||[];a=ie.exec(i);)c=a[0],h=i.substring(g,a.index),u?u=(u+1)%5:"rgba("===h.substr(-5)&&(u=1),c!==l[m++]&&(d=parseFloat(l[m-1])||0,v._pt={_next:v._pt,p:h||1===m?h:",",s:d,c:"="===c.charAt(1)?E(d,c)-d:parseFloat(c)-d,m:u&&u<4?Math.round:0},g=ie.lastIndex);return v.c=g<i.length?i.substring(g,i.length):"",v.fp=s,(re.test(i)||p)&&(v.e=0),this._pt=v}.call(this,t,e,f,o,v,u||Ut.stringFilter,c)):(h=new fn(this._pt,t,e,+f||0,o-(f||0),"boolean"==typeof p?ln:an,0,v),c&&(h.fp=c),l&&h.modifier(l,this,t),this._pt=h)},Ke=function t(e,n){var i,r,o,s,a,u,c,h,d,p,f,v,y,b=e.vars,w=b.ease,A=b.startAt,E=b.immediateRender,S=b.lazy,x=b.onUpdate,C=b.onUpdateParams,_=b.callbackScope,M=b.runBackwards,L=b.yoyoEase,P=b.keyframes,I=b.autoRevert,D=e._dur,N=e._startAt,H=e._targets,V=e.parent,F=V&&"nested"===V.data?V.parent._targets:H,B="auto"===e._overwrite&&!gt,j=e.timeline;if(!j||P&&w||(w="none"),e._ease=Ne(w,zt.ease),e._yEase=L?De(Ne(!0===L?w:L,zt.ease)):0,L&&e._yoyo&&!e._repeat&&(L=e._yEase,e._yEase=e._ease,e._ease=L),e._from=!j&&!!b.runBackwards,!j||P&&!b.stagger){if(v=(h=H[0]?m(H[0]).harness:0)&&b[h.prop],i=O(b,le),N&&(R(N.render(-1,!0)),N._lazy=0),A)if(R(e._startAt=Qe.set(H,k({data:"isStart",overwrite:!1,parent:V,immediateRender:!0,lazy:l(S),startAt:null,delay:0,onUpdate:x,onUpdateParams:C,callbackScope:_,stagger:0},A))),n<0&&!E&&!I&&e._startAt.render(-1,!0),E){if(0<n&&!I&&(e._startAt=0),D&&n<=0)return void(n&&(e._zTime=n))}else!1===I&&(e._startAt=0);else if(M&&D)if(N)I||(e._startAt=0);else if(n&&(E=!1),o=k({overwrite:!1,data:"isFromStart",lazy:E&&l(S),immediateRender:E,stagger:0,parent:V},i),v&&(o[h.prop]=v),R(e._startAt=Qe.set(H,o)),n<0&&e._startAt.render(-1,!0),e._zTime=n,E){if(!n)return}else t(e._startAt,Gt);for(e._pt=e._ptCache=0,S=D&&l(S)||S&&!D,r=0;r<H.length;r++){if(c=(a=H[r])._gsap||g(H)[r]._gsap,e._ptLookup[r]=p={},ce[c.id]&&ue.length&&T(),f=F===H?r:F.indexOf(a),h&&!1!==(d=new h).init(a,v||i,e,f,F)&&(e._pt=s=new fn(e._pt,a,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(t){p[t]=s})),d.priority&&(u=1)),!h||v)for(o in i)he[o]&&(d=We(o,i,e,f,a,F))?d.priority&&(u=1):p[o]=s=Xe.call(e,a,o,"get",i[o],f,F,0,b.stringFilter);e._op&&e._op[r]&&e.kill(a,e._op[r]),B&&e._pt&&(qe=e,mt.killTweensOf(a,p,e.globalTime(n)),y=!e.parent,qe=0),e._pt&&S&&(ce[c.id]=1)}u&&pn(e),e._onInit&&e._onInit(e)}e._onUpdate=x,e._initted=(!e._op||e._pt)&&!y,P&&n<=0&&j.render(Wt,!0,!0)},Je=function(t,e,n,o,s){return r(t)?t.call(e,n,o,s):i(t)&&~t.indexOf("random(")?nt(t):t},Ze=ve+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",$e={};b(Ze+",id,stagger,delay,duration,paused,scrollTrigger",(function(t){return $e[t]=1}));var Qe=function(t){function r(e,i,r,s){var u;"number"==typeof i&&(r.duration=i,i=r,r=null);var h,d,f,v,m,y,b,w,E=(u=t.call(this,s?i:L(i))||this).vars,S=E.duration,T=E.delay,x=E.immediateRender,C=E.stagger,_=E.overwrite,M=E.keyframes,P=E.defaults,I=E.scrollTrigger,R=E.yoyoEase,D=i.parent||mt,N=(Qt(e)||$t(e)?o(e[0]):"length"in i)?[e]:Se(e);if(u._targets=N.length?g(N):p("GSAP target "+e+" not found. https://greensock.com",!Ut.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=_,M||C||c(S)||c(T)){if(i=u.vars,(h=u.timeline=new ze({data:"nested",defaults:P||{}})).kill(),h.parent=h._dp=n(u),h._start=0,C||c(S)||c(T)){if(v=N.length,b=C&&Z(C),a(C))for(m in C)~Ze.indexOf(m)&&((w=w||{})[m]=C[m]);for(d=0;d<v;d++)(f=O(i,$e)).stagger=0,R&&(f.yoyoEase=R),w&&ge(f,w),y=N[d],f.duration=+Je(S,n(u),d,y,N),f.delay=(+Je(T,n(u),d,y,N)||0)-u._delay,!C&&1===v&&f.delay&&(u._delay=T=f.delay,u._start+=T,f.delay=0),h.to(y,f,b?b(d,y,N):0),h._ease=Pe.none;h.duration()?S=T=0:u.timeline=0}else if(M){L(k(h.vars.defaults,{ease:"none"})),h._ease=Ne(M.ease||i.ease||"none");var H,V,F,B=0;if(Qt(M))M.forEach((function(t){return h.to(N,t,">")}));else{for(m in f={},M)"ease"===m||"easeEach"===m||Ge(m,M[m],f,M.easeEach);for(m in f)for(H=f[m].sort((function(t,e){return t.t-e.t})),d=B=0;d<H.length;d++)(F={ease:(V=H[d]).e,duration:(V.t-(d?H[d-1].t:0))/100*S})[m]=V.v,h.to(N,F,B),B+=F.duration;h.duration()<S&&h.to({},{duration:S-h.duration()})}}S||u.duration(S=h.duration())}else u.timeline=0;return!0!==_||gt||(qe=n(u),mt.killTweensOf(N),qe=0),j(D,n(u),r),i.reversed&&u.reverse(),i.paused&&u.paused(!0),(x||!S&&!M&&u._start===A(D._time)&&l(x)&&function t(e){return!e||e._ts&&t(e.parent)}(n(u))&&"nested"!==D.data)&&(u._tTime=-Gt,u.render(Math.max(0,-T))),I&&U(n(u),I),u}e(r,t);var s=r.prototype;return s.render=function(t,e,n){var i,r,o,s,a,l,u,c,h,d=this._time,p=this._tDur,f=this._dur,v=p-Gt<t&&0<=t?p:t<Gt?0:t;if(f){if(v!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(i=v,c=this.timeline,this._repeat){if(s=f+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*s+t,e,n);if(i=A(v%s),v===p?(o=this._repeat,i=f):((o=~~(v/s))&&o===v/s&&(i=f,o--),f<i&&(i=f)),(l=this._yoyo&&1&o)&&(h=this._yEase,i=f-i),a=me(this._tTime,s),i===d&&!n&&this._initted)return this._tTime=v,this;o!==a&&(c&&this._yEase&&ht(c,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=n=1,this.render(A(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(z(this,t<0?t:i,n,e))return this._tTime=0,this;if(d!==this._time)return this;if(f!==this._dur)return this.render(t,e,n)}if(this._tTime=v,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(h||this._ease)(i/f),this._from&&(this.ratio=u=1-u),i&&!d&&!e&&(xe(this,"onStart"),this._tTime!==v))return this;for(r=this._pt;r;)r.r(u,r.d),r=r._next;c&&c.render(t<0?t:!i&&l?-Gt:c._dur*c._ease(i/this._dur),e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),xe(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!e&&this.parent&&xe(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),!t&&f||!(v===this._tDur&&0<this._ts||!v&&this._ts<0)||R(this,1),e||t<0&&!d||!v&&!d||(xe(this,v===p?"onComplete":"onReverseComplete",!0),!this._prom||v<p&&0<this.timeScale()||this._prom()))}}else!function(t,e,n,i){var r,o,s,a=t.ratio,l=e<0||!e&&(!t._start&&function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))}(t)&&(t._initted||!ye(t))||(t._ts<0||t._dp._ts<0)&&!ye(t))?0:1,u=t._rDelay,c=0;if(u&&t._repeat&&(c=Ae(0,t._tDur,e),o=me(c,u),t._yoyo&&1&o&&(l=1-l),o!==me(t._tTime,u)&&(a=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==a||i||t._zTime===Gt||!e&&t._zTime){if(!t._initted&&z(t,e,i,n))return;for(s=t._zTime,t._zTime=e||(n?Gt:0),n=n||e&&!s,t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=c,r=t._pt;r;)r.r(l,r.d),r=r._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!n&&xe(t,"onUpdate"),c&&t._repeat&&!n&&t.parent&&xe(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&R(t,1),n||(xe(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},s.targets=function(){return this._targets},s.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},s.resetTo=function(t,e,n,i){xt||Oe.wake(),this._ts||this.play();var r=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||Ke(this,r),function(t,e,n,i,r,o,s){var a,l,u,c=(t._pt&&t._ptCache||(t._ptCache={}))[e];if(!c)for(c=t._ptCache[e]=[],l=t._ptLookup,u=t._targets.length;u--;){if((a=l[u][e])&&a.d&&a.d._pt)for(a=a.d._pt;a&&a.p!==e;)a=a._next;if(!a)return Ye=1,t.vars[e]="+=0",Ke(t,s),Ye=0,1;c.push(a)}for(u=c.length;u--;)(a=c[u]).s=!i&&0!==i||r?a.s+(i||0)+o*a.c:i,a.c=n-a.s,a.e&&(a.e=w(n)+X(a.e)),a.b&&(a.b=a.s+X(a.b))}(this,t,e,n,i,this._ease(r/this._dur),r)?this.resetTo(t,e,n,i):(F(this,0),this.parent||P(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},s.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?rt(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,qe&&!0!==qe.vars.overwrite)._first||rt(this),this.parent&&n!==this.timeline.totalDuration()&&W(this,this._dur*this.timeline._tDur/n,0,1),this}var r,o,s,a,l,u,c,h=this._targets,d=t?Se(t):h,p=this._ptLookup,f=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,i=n===e.length;i&&n--&&t[n]===e[n];);return n<0}(h,d))return"all"===e&&(this._pt=0),rt(this);for(r=this._op=this._op||[],"all"!==e&&(i(e)&&(l={},b(e,(function(t){return l[t]=1})),e=l),e=function(t,e){var n,i,r,o,s=t[0]?m(t[0]).harness:0,a=s&&s.aliases;if(!a)return e;for(i in n=ge({},e),a)if(i in n)for(r=(o=a[i].split(",")).length;r--;)n[o[r]]=n[i];return n}(h,e)),c=h.length;c--;)if(~d.indexOf(h[c]))for(l in o=p[c],"all"===e?(r[c]=e,a=o,s={}):(s=r[c]=r[c]||{},a=e),a)(u=o&&o[l])&&("kill"in u.d&&!0!==u.d.kill(l)||I(this,u,"_pt"),delete o[l]),"all"!==s&&(s[l]=1);return this._initted&&!this._pt&&f&&rt(this),this},r.to=function(t,e,n){return new r(t,e,n)},r.from=function(t,e){return q(1,arguments)},r.delayedCall=function(t,e,n,i){return new r(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:i})},r.fromTo=function(t,e,n){return q(2,arguments)},r.set=function(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new r(t,e)},r.killTweensOf=function(t,e,n){return mt.killTweensOf(t,e,n)},r}(je);function tn(t,e,n){return t.setAttribute(e,n)}function en(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)}k(Qe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),b("staggerTo,staggerFrom,staggerFromTo",(function(t){Qe[t]=function(){var e=new ze,n=Ee.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var nn=function(t,e,n){return t[e]=n},rn=function(t,e,n){return t[e](n)},on=function(t,e,n,i){return t[e](i.fp,n)},sn=function(t,e){return r(t[e])?rn:s(t[e])&&t.setAttribute?tn:nn},an=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},ln=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},un=function(t,e){var n=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+i,n=n._next;i+=e.c}e.set(e.t,e.p,i,e)},cn=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},hn=function(t,e,n,i){for(var r,o=this._pt;o;)r=o._next,o.p===i&&o.modifier(t,e,n),o=r},dn=function(t){for(var e,n,i=this._pt;i;)n=i._next,i.p===t&&!i.op||i.op===t?I(this,i,"_pt"):i.dep||(e=1),i=n;return!e},pn=function(t){for(var e,n,i,r,o=t._pt;o;){for(e=o._next,n=i;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:r)?o._prev._next=o:i=o,(o._next=n)?n._prev=o:r=o,o=e}t._pt=i},fn=(vn.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=en,this.m=t,this.mt=n,this.tween=e},vn);function vn(t,e,n,i,r,o,s,a,l){this.t=e,this.s=i,this.c=r,this.p=n,this.r=o||an,this.d=s||this,this.set=a||nn,this.pr=l||0,(this._next=t)&&(t._prev=this)}b(ve+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return le[t]=1})),ae.TweenMax=ae.TweenLite=Qe,ae.TimelineLite=ae.TimelineMax=ze,mt=new ze({sortChildren:!1,defaults:zt,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Ut.stringFilter=ut;var gn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return function(t){var e=(t=!t.name&&t.default||t).name,n=r(t),i=e&&!n&&t.init?function(){this._props=[]}:t,o={init:v,render:cn,add:Xe,kill:dn,modifier:hn,rawVars:0},s={targetTest:0,get:0,getSetter:sn,aliases:{},register:0};if(Le(),t!==i){if(he[e])return;k(i,k(O(t,o),s)),ge(i.prototype,ge(o,O(t,s))),he[i.prop=e]=i,t.targetTest&&(fe.push(i),le[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}f(e,i),t.register&&t.register(bn,i,fn)}(t)}))},timeline:function(t){return new ze(t)},getTweensOf:function(t,e){return mt.getTweensOf(t,e)},getProperty:function(t,e,n,r){i(t)&&(t=Se(t)[0]);var o=m(t||{}).get,s=n?_:C;return"native"===n&&(n=""),t?e?s((he[e]&&he[e].get||o)(t,e,n,r)):function(e,n,i){return s((he[e]&&he[e].get||o)(t,e,n,i))}:t},quickSetter:function(t,e,n){if(1<(t=Se(t)).length){var i=t.map((function(t){return bn.quickSetter(t,e,n)})),r=i.length;return function(t){for(var e=r;e--;)i[e](t)}}t=t[0]||{};var o=he[e],s=m(t),a=s.harness&&(s.harness.aliases||{})[e]||e,l=o?function(e){var i=new o;Tt._pt=0,i.init(t,n?e+n:e,Tt,0,[t]),i.render(1,i),Tt._pt&&cn(1,Tt)}:s.set(t,a);return o?l:function(e){return l(t,a,n?e+n:e,s,1)}},quickTo:function(t,e,n){function i(t,n,i){return o.resetTo(e,t,n,i)}var r,o=bn.to(t,ge(((r={})[e]="+=0.1",r.paused=!0,r),n||{}));return i.tween=o,i},isTweening:function(t){return 0<mt.getTweensOf(t,!0).length},defaults:function(t){return t&&t.ease&&(t.ease=Ne(t.ease,zt.ease)),M(zt,t||{})},config:function(t){return M(Ut,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,i=t.plugins,r=t.defaults,o=t.extendTimeline;(i||"").split(",").forEach((function(t){return t&&!he[t]&&!ae[t]&&p(e+" effect requires "+t+" plugin.")})),de[e]=function(t,e,i){return n(Se(t),k(e||{},r),i)},o&&(ze.prototype[e]=function(t,n,i){return this.add(de[e](t,a(n)?n:(i=n)&&{},this),i)})},registerEase:function(t,e){Pe[t]=Ne(e)},parseEase:function(t,e){return arguments.length?Ne(t,e):Pe},getById:function(t){return mt.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,i,r=new ze(t);for(r.smoothChildTiming=l(t.smoothChildTiming),mt.remove(r),r._dp=0,r._time=r._tTime=mt._time,n=mt._first;n;)i=n._next,!e&&!n._dur&&n instanceof Qe&&n.vars.onComplete===n._targets[0]||j(r,n,n._start-n._delay),n=i;return j(mt,r,0),r},utils:{wrap:function t(e,n,i){var r=n-e;return Qt(e)?et(e,t(0,e.length),n):Y(i,(function(t){return(r+(t-e)%r)%r+e}))},wrapYoyo:function t(e,n,i){var r=n-e,o=2*r;return Qt(e)?et(e,t(0,e.length-1),n):Y(i,(function(t){return e+(r<(t=(o+(t-e)%o)%o||0)?o-t:t)}))},distribute:Z,random:tt,snap:Q,normalize:function(t,e,n){return Te(t,e,0,1,n)},getUnit:X,clamp:function(t,e,n){return Y(n,(function(n){return Ae(t,e,n)}))},splitColor:st,toArray:Se,selector:function(t){return t=Se(t)[0]||p("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return Se(e,n.querySelectorAll?n:n===t?p("Invalid scope")||wt.createElement("div"):t)}},mapRange:Te,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||X(n))}},interpolate:function t(e,n,r,o){var s=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!s){var a,l,u,c,h,d=i(e),p={};if(!0===r&&(o=1)&&(r=null),d)e={p:e},n={p:n};else if(Qt(e)&&!Qt(n)){for(u=[],c=e.length,h=c-2,l=1;l<c;l++)u.push(t(e[l-1],e[l]));c--,s=function(t){t*=c;var e=Math.min(h,~~t);return u[e](t-e)},r=n}else o||(e=ge(Qt(e)?[]:{},e));if(!u){for(a in n)Xe.call(p,e,a,"get",n[a]);s=function(t){return cn(t,p)||(d?e.p:e)}}}return Y(r,s)},shuffle:J},install:h,effects:de,ticker:Oe,updateRoot:ze.updateRoot,plugins:he,globalTimeline:mt,core:{PropTween:fn,globals:f,Tween:Qe,Timeline:ze,Animation:je,getCache:m,_removeLinkedListItem:I,suppressOverwrites:function(t){return gt=t}}};function mn(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n}function yn(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,o;if(i(n)&&(r={},b(n,(function(t){return r[t]=1})),n=r),e){for(o in r={},n)r[o]=e(n[o]);n=r}!function(t,e){var n,i,r,o=t._targets;for(n in e)for(i=o.length;i--;)(r=(r=t._ptLookup[i][n])&&r.d)&&(r._pt&&(r=mn(r,n)),r&&r.modifier&&r.modifier(e[n],t,o[i],n))}(t,n)}}}}b("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return gn[t]=Qe[t]})),Oe.add(ze.updateRoot),Tt=gn.to({},{duration:0});var bn=gn.registerPlugin({name:"attr",init:function(t,e,n,i,r){var o,s;for(o in e)(s=this.add(t,"setAttribute",(t.getAttribute(o)||0)+"",e[o],i,r,0,0,o))&&(s.op=o),this._props.push(o)}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n])}},yn("roundProps",$),yn("modifiers"),yn("snap",Q))||gn;function wn(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function An(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function En(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function Sn(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)}function Tn(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function xn(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function Cn(t,e,n){return t.style[e]=n}function _n(t,e,n){return t.style.setProperty(e,n)}function kn(t,e,n){return t._gsap[e]=n}function Mn(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n}function On(t,e,n,i,r){var o=t._gsap;o.scaleX=o.scaleY=n,o.renderTransform(r,o)}function Ln(t,e,n,i,r){var o=t._gsap;o[e]=n,o.renderTransform(r,o)}function Pn(t,e){var n=ei.createElementNS?ei.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):ei.createElement(t);return n.style?n:ei.createElement(t)}function In(t,e,n){var i=getComputedStyle(t);return i[e]||i.getPropertyValue(e.replace(Mi,"-$1").toLowerCase())||i.getPropertyValue(e)||!n&&In(t,Ni(e)||e,1)||""}function Rn(){"undefined"!=typeof window&&window.document&&(ti=window,ei=ti.document,ni=ei.documentElement,ri=Pn("div")||{style:{}},Pn("div"),Ii=Ni(Ii),Ri=Ii+"Origin",ri.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",si=!!Ni("perspective"),ii=1)}function Dn(t){var e,n=Pn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(ni.appendChild(n),n.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=Dn}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),ni.removeChild(n),this.style.cssText=o,e}function Nn(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])}function Hn(t){var e;try{e=t.getBBox()}catch(n){e=Dn.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===Dn||(e=Dn.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+Nn(t,["x","cx","x1"])||0,y:+Nn(t,["y","cy","y1"])||0,width:0,height:0}}function Vn(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Hn(t))}function Fn(t,e){if(e){var n=t.style;e in xi&&e!==Ri&&(e=Ii),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(Mi,"-$1").toLowerCase())):n.removeAttribute(e)}}function Bn(t,e,n,i,r,o){var s=new fn(t._pt,e,n,0,1,o?xn:Tn);return(t._pt=s).b=i,s.e=r,t._props.push(n),s}function jn(t,e,n,i){var r,o,s,a,l=parseFloat(n)||0,u=(n+"").trim().substr((l+"").length)||"px",c=ri.style,h=Oi.test(e),d="svg"===t.tagName.toLowerCase(),p=(d?"client":"offset")+(h?"Width":"Height"),f="px"===i,v="%"===i;return i===u||!l||Hi[i]||Hi[u]?l:("px"===u||f||(l=jn(t,e,n,"px")),a=t.getCTM&&Vn(t),!v&&"%"!==u||!xi[e]&&!~e.indexOf("adius")?(c[h?"width":"height"]=100+(f?u:i),o=~e.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,a&&(o=(t.ownerSVGElement||{}).parentNode),o&&o!==ei&&o.appendChild||(o=ei.body),(s=o._gsap)&&v&&s.width&&h&&s.time===Oe.time?w(l/s.width*100):(!v&&"%"!==u||(c.position=In(t,"position")),o===t&&(c.position="static"),o.appendChild(ri),r=ri[p],o.removeChild(ri),c.position="absolute",h&&v&&((s=m(o)).time=Oe.time,s.width=o[p]),w(f?r*l/100:r&&l?100/r*l:0))):(r=a?t.getBBox()[h?"width":"height"]:t[p],w(v?l/r*100:l/100*r)))}function Un(t,e,n,i){var r;return ii||Rn(),e in Pi&&"transform"!==e&&~(e=Pi[e]).indexOf(",")&&(e=e.split(",")[0]),xi[e]&&"transform"!==e?(r=Ui(t,i),r="transformOrigin"!==e?r[e]:r.svg?r.origin:zi(In(t,Ri))+" "+r.zOrigin+"px"):(r=t.style[e])&&"auto"!==r&&!i&&!~(r+"").indexOf("calc(")||(r=Fi[e]&&Fi[e](t,e,n)||In(t,e)||y(t,e)||("opacity"===e?1:0)),n&&!~(r+"").trim().indexOf(" ")?jn(t,e,r,n)+n:r}function zn(t,e,n,i){if(!n||"none"===n){var r=Ni(e,t,1),o=r&&In(t,r,1);o&&o!==n?(e=r,n=o):"borderColor"===e&&(n=In(t,"borderTopColor"))}var s,a,l,u,c,h,d,p,f,v,g,m=new fn(this._pt,t.style,e,0,1,un),y=0,b=0;if(m.b=n,m.e=i,n+="","auto"==(i+="")&&(t.style[e]=i,i=In(t,e)||i,t.style[e]=n),ut(s=[n,i]),i=s[1],l=(n=s[0]).match(ne)||[],(i.match(ne)||[]).length){for(;a=ne.exec(i);)d=a[0],f=i.substring(y,a.index),c?c=(c+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(c=1),d!==(h=l[b++]||"")&&(u=parseFloat(h)||0,g=h.substr((u+"").length),"="===d.charAt(1)&&(d=E(u,d)+g),p=parseFloat(d),v=d.substr((p+"").length),y=ne.lastIndex-v.length,v||(v=v||Ut.units[e]||g,y===i.length&&(i+=v,m.e+=v)),g!==v&&(u=jn(t,e,h,v)||0),m._pt={_next:m._pt,p:f||1===b?f:",",s:u,c:p-u,m:c&&c<4||"zIndex"===e?Math.round:0});m.c=y<i.length?i.substring(y,i.length):""}else m.r="display"===e&&"none"===i?xn:Tn;return re.test(i)&&(m.e=0),this._pt=m}function Wn(t){var e=t.split(" "),n=e[0],i=e[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==i&&"right"!==i||(t=n,n=i,i=t),e[0]=Vi[n]||n,e[1]=Vi[i]||i,e.join(" ")}function Gn(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,i,r,o=e.t,s=o.style,a=e.u,l=o._gsap;if("all"===a||!0===a)s.cssText="",i=1;else for(r=(a=a.split(",")).length;-1<--r;)n=a[r],xi[n]&&(i=1,n="transformOrigin"===n?Ri:Ii),Fn(o,n);i&&(Fn(o,Ii),l&&(l.svg&&o.removeAttribute("transform"),Ui(o,1),l.uncache=1))}}function qn(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function Yn(t){var e=In(t,Ii);return qn(e)?Bi:e.substr(7).match(ee).map(w)}function Xn(t,e){var n,i,r,o,s=t._gsap||m(t),a=t.style,l=Yn(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?Bi:l:(l!==Bi||t.offsetParent||t===ni||s.svg||(r=a.display,a.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,i=t.nextSibling,ni.appendChild(t)),l=Yn(t),r?a.display=r:Fn(t,"display"),o&&(i?n.insertBefore(t,i):n?n.appendChild(t):ni.removeChild(t))),e&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)}function Kn(t,e,n,i,r,o){var s,a,l,u=t._gsap,c=r||Xn(t,!0),h=u.xOrigin||0,d=u.yOrigin||0,p=u.xOffset||0,f=u.yOffset||0,v=c[0],g=c[1],m=c[2],y=c[3],b=c[4],w=c[5],A=e.split(" "),E=parseFloat(A[0])||0,S=parseFloat(A[1])||0;n?c!==Bi&&(a=v*y-g*m)&&(l=E*(-g/a)+S*(v/a)-(v*w-g*b)/a,E=E*(y/a)+S*(-m/a)+(m*w-y*b)/a,S=l):(E=(s=Hn(t)).x+(~A[0].indexOf("%")?E/100*s.width:E),S=s.y+(~(A[1]||A[0]).indexOf("%")?S/100*s.height:S)),i||!1!==i&&u.smooth?(b=E-h,w=S-d,u.xOffset=p+(b*v+w*m)-b,u.yOffset=f+(b*g+w*y)-w):u.xOffset=u.yOffset=0,u.xOrigin=E,u.yOrigin=S,u.smooth=!!i,u.origin=e,u.originIsAbsolute=!!n,t.style[Ri]="0px 0px",o&&(Bn(o,u,"xOrigin",h,E),Bn(o,u,"yOrigin",d,S),Bn(o,u,"xOffset",p,u.xOffset),Bn(o,u,"yOffset",f,u.yOffset)),t.setAttribute("data-svg-origin",E+" "+S)}function Jn(t,e,n){var i=X(e);return w(parseFloat(e)+parseFloat(jn(t,"x",n+"px",i)))+i}function Zn(t,e,n,r,o){var s,a,l=360,u=i(o),c=parseFloat(o)*(u&&~o.indexOf("rad")?Ci:1)-r,h=r+c+"deg";return u&&("short"===(s=o.split("_")[1])&&(c%=l)!=c%180&&(c+=c<0?l:-l),"cw"===s&&c<0?c=(c+36e9)%l-~~(c/l)*l:"ccw"===s&&0<c&&(c=(c-36e9)%l-~~(c/l)*l)),t._pt=a=new fn(t._pt,e,n,r,c,An),a.e=h,a.u="deg",t._props.push(n),a}function $n(t,e){for(var n in e)t[n]=e[n];return t}function Qn(t,e,n){var i,r,o,s,a,l,u,c=$n({},n._gsap),h=n.style;for(r in c.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),h[Ii]=e,i=Ui(n,1),Fn(n,Ii),n.setAttribute("transform",o)):(o=getComputedStyle(n)[Ii],h[Ii]=e,i=Ui(n,1),h[Ii]=o),xi)(o=c[r])!==(s=i[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(a=X(o)!==(u=X(s))?jn(n,r,o,u):parseFloat(o),l=parseFloat(s),t._pt=new fn(t._pt,i,r,a,l-a,wn),t._pt.u=u||0,t._props.push(r));$n(i,c)}Qe.version=ze.version=bn.version="3.10.4",Et=1,u()&&Le();var ti,ei,ni,ii,ri,oi,si,ai=Pe.Power0,li=Pe.Power1,ui=Pe.Power2,ci=Pe.Power3,hi=Pe.Power4,di=Pe.Linear,pi=Pe.Quad,fi=Pe.Cubic,vi=Pe.Quart,gi=Pe.Quint,mi=Pe.Strong,yi=Pe.Elastic,bi=Pe.Back,wi=Pe.SteppedEase,Ai=Pe.Bounce,Ei=Pe.Sine,Si=Pe.Expo,Ti=Pe.Circ,xi={},Ci=180/Math.PI,_i=Math.PI/180,ki=Math.atan2,Mi=/([A-Z])/g,Oi=/(left|right|width|margin|padding|x)/i,Li=/[\s,\(]\S/,Pi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ii="transform",Ri=Ii+"Origin",Di="O,Moz,ms,Ms,Webkit".split(","),Ni=function(t,e,n){var i=(e||ri).style,r=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(Di[r]+t in i););return r<0?null:(3===r?"ms":0<=r?Di[r]:"")+t},Hi={deg:1,rad:1,turn:1},Vi={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Fi={clearProps:function(t,e,n,i,r){if("isFromStart"!==r.data){var o=t._pt=new fn(t._pt,e,n,0,0,Gn);return o.u=i,o.pr=-10,o.tween=r,t._props.push(n),1}}},Bi=[1,0,0,1,0,0],ji={},Ui=function(t,e){var n=t._gsap||new Be(t);if("x"in n&&!e&&!n.uncache)return n;var i,r,o,s,a,l,u,c,h,d,p,f,v,g,m,y,b,A,E,S,T,x,C,_,k,M,O,L,P,I,R,D,N=t.style,H=n.scaleX<0,V="deg",F=In(t,Ri)||"0";return i=r=o=l=u=c=h=d=p=0,s=a=1,n.svg=!(!t.getCTM||!Vn(t)),g=Xn(t,n.svg),n.svg&&(_=(!n.uncache||"0px 0px"===F)&&!e&&t.getAttribute("data-svg-origin"),Kn(t,_||F,!!_||n.originIsAbsolute,!1!==n.smooth,g)),f=n.xOrigin||0,v=n.yOrigin||0,g!==Bi&&(A=g[0],E=g[1],S=g[2],T=g[3],i=x=g[4],r=C=g[5],6===g.length?(s=Math.sqrt(A*A+E*E),a=Math.sqrt(T*T+S*S),l=A||E?ki(E,A)*Ci:0,(h=S||T?ki(S,T)*Ci+l:0)&&(a*=Math.abs(Math.cos(h*_i))),n.svg&&(i-=f-(f*A+v*S),r-=v-(f*E+v*T))):(D=g[6],I=g[7],O=g[8],L=g[9],P=g[10],R=g[11],i=g[12],r=g[13],o=g[14],u=(m=ki(D,P))*Ci,m&&(_=x*(y=Math.cos(-m))+O*(b=Math.sin(-m)),k=C*y+L*b,M=D*y+P*b,O=x*-b+O*y,L=C*-b+L*y,P=D*-b+P*y,R=I*-b+R*y,x=_,C=k,D=M),c=(m=ki(-S,P))*Ci,m&&(y=Math.cos(-m),R=T*(b=Math.sin(-m))+R*y,A=_=A*y-O*b,E=k=E*y-L*b,S=M=S*y-P*b),l=(m=ki(E,A))*Ci,m&&(_=A*(y=Math.cos(m))+E*(b=Math.sin(m)),k=x*y+C*b,E=E*y-A*b,C=C*y-x*b,A=_,x=k),u&&359.9<Math.abs(u)+Math.abs(l)&&(u=l=0,c=180-c),s=w(Math.sqrt(A*A+E*E+S*S)),a=w(Math.sqrt(C*C+D*D)),m=ki(x,C),h=2e-4<Math.abs(m)?m*Ci:0,p=R?1/(R<0?-R:R):0),n.svg&&(_=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!qn(In(t,Ii)),_&&t.setAttribute("transform",_))),90<Math.abs(h)&&Math.abs(h)<270&&(H?(s*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),e=e||n.uncache,n.x=i-((n.xPercent=i&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+"px",n.y=r-((n.yPercent=r&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+"px",n.z=o+"px",n.scaleX=w(s),n.scaleY=w(a),n.rotation=w(l)+V,n.rotationX=w(u)+V,n.rotationY=w(c)+V,n.skewX=h+V,n.skewY=d+V,n.transformPerspective=p+"px",(n.zOrigin=parseFloat(F.split(" ")[2])||0)&&(N[Ri]=zi(F)),n.xOffset=n.yOffset=0,n.force3D=Ut.force3D,n.renderTransform=n.svg?Ki:si?Xi:Wi,n.uncache=0,n},zi=function(t){return(t=t.split(" "))[0]+" "+t[1]},Wi=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Xi(t,e)},Gi="0deg",qi="0px",Yi=") ",Xi=function(t,e){var n=e||this,i=n.xPercent,r=n.yPercent,o=n.x,s=n.y,a=n.z,l=n.rotation,u=n.rotationY,c=n.rotationX,h=n.skewX,d=n.skewY,p=n.scaleX,f=n.scaleY,v=n.transformPerspective,g=n.force3D,m=n.target,y=n.zOrigin,b="",w="auto"===g&&t&&1!==t||!0===g;if(y&&(c!==Gi||u!==Gi)){var A,E=parseFloat(u)*_i,S=Math.sin(E),T=Math.cos(E);E=parseFloat(c)*_i,o=Jn(m,o,S*(A=Math.cos(E))*-y),s=Jn(m,s,-Math.sin(E)*-y),a=Jn(m,a,T*A*-y+y)}v!==qi&&(b+="perspective("+v+Yi),(i||r)&&(b+="translate("+i+"%, "+r+"%) "),!w&&o===qi&&s===qi&&a===qi||(b+=a!==qi||w?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+Yi),l!==Gi&&(b+="rotate("+l+Yi),u!==Gi&&(b+="rotateY("+u+Yi),c!==Gi&&(b+="rotateX("+c+Yi),h===Gi&&d===Gi||(b+="skew("+h+", "+d+Yi),1===p&&1===f||(b+="scale("+p+", "+f+Yi),m.style[Ii]=b||"translate(0, 0)"},Ki=function(t,e){var n,i,r,o,s,a=e||this,l=a.xPercent,u=a.yPercent,c=a.x,h=a.y,d=a.rotation,p=a.skewX,f=a.skewY,v=a.scaleX,g=a.scaleY,m=a.target,y=a.xOrigin,b=a.yOrigin,A=a.xOffset,E=a.yOffset,S=a.forceCSS,T=parseFloat(c),x=parseFloat(h);d=parseFloat(d),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),d+=f),d||p?(d*=_i,p*=_i,n=Math.cos(d)*v,i=Math.sin(d)*v,r=Math.sin(d-p)*-g,o=Math.cos(d-p)*g,p&&(f*=_i,s=Math.tan(p-f),r*=s=Math.sqrt(1+s*s),o*=s,f&&(s=Math.tan(f),n*=s=Math.sqrt(1+s*s),i*=s)),n=w(n),i=w(i),r=w(r),o=w(o)):(n=v,o=g,i=r=0),(T&&!~(c+"").indexOf("px")||x&&!~(h+"").indexOf("px"))&&(T=jn(m,"x",c,"px"),x=jn(m,"y",h,"px")),(y||b||A||E)&&(T=w(T+y-(y*n+b*r)+A),x=w(x+b-(y*i+b*o)+E)),(l||u)&&(T=w(T+l/100*(s=m.getBBox()).width),x=w(x+u/100*s.height)),s="matrix("+n+","+i+","+r+","+o+","+T+","+x+")",m.setAttribute("transform",s),S&&(m.style[Ii]=s)};b("padding,margin,Width,Radius",(function(t,e){var n="Right",i="Bottom",r="Left",o=(e<3?["Top",n,i,r]:["Top"+r,"Top"+n,i+n,i+r]).map((function(n){return e<2?t+n:"border"+n+t}));Fi[1<e?"border"+t:t]=function(t,e,n,i,r){var s,a;if(arguments.length<4)return s=o.map((function(e){return Un(t,e,n)})),5===(a=s.join(" ")).split(s[0]).length?s[0]:a;s=(i+"").split(" "),a={},o.forEach((function(t,e){return a[t]=s[e]=s[e]||s[(e-1)/2|0]})),t.init(e,a,r)}}));var Ji,Zi,$i,Qi={name:"css",register:Rn,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,r,o){var s,a,l,u,c,h,p,f,v,g,m,y,b,w,A,S=this._props,T=t.style,x=n.vars.startAt;for(p in ii||Rn(),e)if("autoRound"!==p&&(a=e[p],!he[p]||!We(p,e,n,r,t,o)))if(c=typeof a,h=Fi[p],"function"===c&&(c=typeof(a=a.call(n,r,t,o))),"string"===c&&~a.indexOf("random(")&&(a=nt(a)),h)h(this,t,p,a,n)&&(A=1);else if("--"===p.substr(0,2))s=(getComputedStyle(t).getPropertyValue(p)+"").trim(),a+="",ke.lastIndex=0,ke.test(s)||(f=X(s),v=X(a)),v?f!==v&&(s=jn(t,p,s,v)+v):f&&(a+=f),this.add(T,"setProperty",s,a,r,o,0,0,p),S.push(p);else if("undefined"!==c){if(x&&p in x?(i(s="function"==typeof x[p]?x[p].call(n,r,t,o):x[p])&&~s.indexOf("random(")&&(s=nt(s)),X(s+"")||(s+=Ut.units[p]||X(Un(t,p))||""),"="===(s+"").charAt(1)&&(s=Un(t,p))):s=Un(t,p),u=parseFloat(s),(g="string"===c&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),l=parseFloat(a),p in Pi&&("autoAlpha"===p&&(1===u&&"hidden"===Un(t,"visibility")&&l&&(u=0),Bn(this,T,"visibility",u?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==p&&"transform"!==p&&~(p=Pi[p]).indexOf(",")&&(p=p.split(",")[0])),m=p in xi)if(y||((b=t._gsap).renderTransform&&!e.parseTransform||Ui(t,e.parseTransform),w=!1!==e.smoothOrigin&&b.smooth,(y=this._pt=new fn(this._pt,T,Ii,0,1,b.renderTransform,b,0,-1)).dep=1),"scale"===p)this._pt=new fn(this._pt,b,"scaleY",b.scaleY,(g?E(b.scaleY,g+l):l)-b.scaleY||0),S.push("scaleY",p),p+="X";else{if("transformOrigin"===p){a=Wn(a),b.svg?Kn(t,a,0,w,0,this):((v=parseFloat(a.split(" ")[2])||0)!==b.zOrigin&&Bn(this,b,"zOrigin",b.zOrigin,v),Bn(this,T,p,zi(s),zi(a)));continue}if("svgOrigin"===p){Kn(t,a,1,w,0,this);continue}if(p in ji){Zn(this,b,p,u,g?E(u,g+a):a);continue}if("smoothOrigin"===p){Bn(this,b,"smooth",b.smooth,a);continue}if("force3D"===p){b[p]=a;continue}if("transform"===p){Qn(this,a,t);continue}}else p in T||(p=Ni(p)||p);if(m||(l||0===l)&&(u||0===u)&&!Li.test(a)&&p in T)l=l||0,(f=(s+"").substr((u+"").length))!==(v=X(a)||(p in Ut.units?Ut.units[p]:f))&&(u=jn(t,p,s,v)),this._pt=new fn(this._pt,m?b:T,p,u,(g?E(u,g+l):l)-u,m||"px"!==v&&"zIndex"!==p||!1===e.autoRound?wn:Sn),this._pt.u=v||0,f!==v&&"%"!==v&&(this._pt.b=s,this._pt.r=En);else if(p in T)zn.call(this,t,p,s,g?g+a:a);else{if(!(p in t)){d(p,a);continue}this.add(t,p,s||t[p],g?g+a:a,r,o)}S.push(p)}A&&pn(this)},get:Un,aliases:Pi,getSetter:function(t,e,n){var i=Pi[e];return i&&i.indexOf(",")<0&&(e=i),e in xi&&e!==Ri&&(t._gsap.x||Un(t,"x"))?n&&oi===n?"scale"===e?Mn:kn:(oi=n||{})&&("scale"===e?On:Ln):t.style&&!s(t.style[e])?Cn:~e.indexOf("-")?_n:sn(t,e)},core:{_removeProperty:Fn,_getMatrix:Xn}};bn.utils.checkPrefix=Ni,$i=b((Ji="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(Zi="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){xi[t]=1})),b(Zi,(function(t){Ut.units[t]="deg",ji[t]=1})),Pi[$i[13]]=Ji+","+Zi,b("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");Pi[e[1]]=$i[e[0]]})),b("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){Ut.units[t]="px"})),bn.registerPlugin(Qi);var tr=bn.registerPlugin(Qi)||bn,er=tr.core.Tween;t.Back=bi,t.Bounce=Ai,t.CSSPlugin=Qi,t.Circ=Ti,t.Cubic=fi,t.Elastic=yi,t.Expo=Si,t.Linear=di,t.Power0=ai,t.Power1=li,t.Power2=ui,t.Power3=ci,t.Power4=hi,t.Quad=pi,t.Quart=vi,t.Quint=gi,t.Sine=Ei,t.SteppedEase=wi,t.Strong=mi,t.TimelineLite=ze,t.TimelineMax=ze,t.TweenLite=Qe,t.TweenMax=er,t.default=tr,t.gsap=tr,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete t.default}(e)},5485:function(t,e,n){!function(t,i){var r=n(1311);i(t,e,r)}(this,(function(t,e,n,i){var r=t.Backbone,o=[],s=o.slice;e.VERSION="1.1.2",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={on:function(t,e,n){return u(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,i){if(!u(this,"once",t,[e,i])||!e)return this;var r=this,o=n.once((function(){r.off(t,o),e.apply(this,arguments)}));return o._callback=e,this.on(t,o,i)},off:function(t,e,i){var r,o,s,a,l,c,h,d;if(!this._events||!u(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events=void 0,this;for(l=0,c=(a=t?[t]:n.keys(this._events)).length;l<c;l++)if(t=a[l],s=this._events[t]){if(this._events[t]=r=[],e||i)for(h=0,d=s.length;h<d;h++)o=s[h],(e&&e!==o.callback&&e!==o.callback._callback||i&&i!==o.context)&&r.push(o);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!u(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&c(n,e),i&&c(i,arguments),this},stopListening:function(t,e,i){var r=this._listeningTo;if(!r)return this;var o=!e&&!i;for(var s in i||"object"!=typeof e||(i=this),t&&((r={})[t._listenId]=t),r)(t=r[s]).off(e,i,this),(o||n.isEmpty(t._events))&&delete this._listeningTo[s];return this}},l=/\s+/,u=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var o=n.split(l),s=0,a=o.length;s<a;s++)t[e].apply(t,[o[s]].concat(i));return!1}return!0},c=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};n.each({listenTo:"on",listenToOnce:"once"},(function(t,e){a[e]=function(e,i,r){return(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=n.uniqueId("l"))]=e,r||"object"!=typeof i||(r=this),e[t](i,r,this),this}})),a.bind=a.on,a.unbind=a.off,n.extend(e,a);var h=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(h.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var r,o,s,a,l,u,c,h;if(null==t)return this;if("object"==typeof t?(o=t,i=e):(o={})[t]=e,i||(i={}),!this._validate(o,i))return!1;for(r in s=i.unset,l=i.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]),o)e=o[r],n.isEqual(h[r],e)||a.push(r),n.isEqual(c[r],e)?delete this.changed[r]:this.changed[r]=e,s?delete h[r]:h[r]=e;if(!l){a.length&&(this._pending=i);for(var d=0,p=a.length;d<p;d++)this.trigger("change:"+a[d],this,h[a[d]],i)}if(u)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(r[o],e=t[o])||((i||(i={}))[o]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){void 0===(t=t?n.clone(t):{}).parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){if(!e.set(e.parse(n,t),t))return!1;i&&i(e,n,t),e.trigger("sync",e,n,t)},P(this,t),this.sync("read",this,t)},save:function(t,e,i){var r,o,s,a=this.attributes;if(null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},a,r)),void 0===i.parse&&(i.parse=!0);var l=this,u=i.success;return i.success=function(t){l.attributes=a;var e=l.parse(t,i);if(i.wait&&(e=n.extend(r||{},e)),n.isObject(e)&&!l.set(e,i))return!1;u&&u(l,t,i),l.trigger("sync",l,t,i)},P(this,i),"patch"===(o=this.isNew()?"create":i.patch?"patch":"update")&&(i.attrs=r),s=this.sync(o,this,i),r&&i.wait&&(this.attributes=a),s},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&r(),i&&i(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;P(this,t);var o=this.sync("delete",this,t);return t.wait||r(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||L();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}});n.each(["keys","values","pairs","invert","pick","omit"],(function(t){h.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}}));var d=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},p={add:!0,remove:!0,merge:!0},f={add:!0,remove:!1};n.extend(d.prototype,a,{model:h,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,f))},remove:function(t,e){var i,r,o,s,a=!n.isArray(t);for(e||(e={}),i=0,r=(t=a?[t]:n.clone(t)).length;i<r;i++)(s=t[i]=this.get(t[i]))&&(delete this._byId[s.id],delete this._byId[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,e.silent||(e.index=o,s.trigger("remove",s,this,e)),this._removeReference(s,e));return a?t[0]:t},set:function(t,e){(e=n.defaults({},e,p)).parse&&(t=this.parse(t,e));var i,r,o,s,a,l,u,c=!n.isArray(t);t=c?t?[t]:[]:n.clone(t);var d=e.at,f=this.model,v=this.comparator&&null==d&&!1!==e.sort,g=n.isString(this.comparator)?this.comparator:null,m=[],y=[],b={},w=e.add,A=e.merge,E=e.remove,S=!(v||!w||!E)&&[];for(i=0,r=t.length;i<r;i++){if(o=(a=t[i]||{})instanceof h?s=a:a[f.prototype.idAttribute||"id"],l=this.get(o))E&&(b[l.cid]=!0),A&&(a=a===s?s.attributes:a,e.parse&&(a=l.parse(a,e)),l.set(a,e),v&&!u&&l.hasChanged(g)&&(u=!0)),t[i]=l;else if(w){if(!(s=t[i]=this._prepareModel(a,e)))continue;m.push(s),this._addReference(s,e)}s=l||s,!S||!s.isNew()&&b[s.id]||S.push(s),b[s.id]=!0}if(E){for(i=0,r=this.length;i<r;++i)b[(s=this.models[i]).cid]||y.push(s);y.length&&this.remove(y,e)}if(m.length||S&&S.length)if(v&&(u=!0),this.length+=m.length,null!=d)for(i=0,r=m.length;i<r;i++)this.models.splice(d+i,0,m[i]);else{S&&(this.models.length=0);var T=S||m;for(i=0,r=T.length;i<r;i++)this.models.push(T[i])}if(u&&this.sort({silent:!0}),!e.silent){for(i=0,r=m.length;i<r;i++)(s=m[i]).trigger("add",s,this,e);(u||S&&S.length)&&this.trigger("sort",this,e)}return c?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,r=this.models.length;i<r;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"]((function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0}))},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){void 0===(t=t?n.clone(t):{}).parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},P(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,r=e.success;return e.success=function(t,n){e.wait&&i.add(t,e),r&&r(t,n,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof h)return t;(e=e?n.clone(e):{}).collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_addReference:function(t,e){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});n.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],(function(t){d.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}}));n.each(["groupBy","countBy","sortBy","indexBy"],(function(t){d.prototype[t]=function(e,i){var r=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,r,i)}}));var v=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,m)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},g=/^(\S+)\s*(.*)$/,m=["model","collection","el","id","attributes","className","tagName","events"];n.extend(v.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],!1!==n&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(n.isFunction(i)||(i=this[t[e]]),i){var r=e.match(g),o=r[1],s=r[2];i=n.bind(i,this),o+=".delegateEvents"+this.cid,""===s?this.$el.on(o,i):this.$el.on(o,s,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className"));var i=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(i,!1)}}}),e.sync=function(t,i,r){var o=b[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||L()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1),"PATCH"===s.type&&y&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=r.xhr=e.ajax(n.extend(s,r));return i.trigger("request",i,l,r),l};var y=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),b={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var w=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,S=/\*\w+/g,T=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(w.prototype,a,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,(function(n){var s=o._extractParameters(t,n);o.execute(r,s),o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),e.history.trigger("route",o,i,s)})),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(T,"\\$&").replace(A,"(?:$1)?").replace(E,(function(t,e){return e?t:"([^/?]+)"})).replace(S,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,(function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null}))}});var x=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},C=/^[#\/]|\s+$/g,_=/^\/+|\/+$/g,k=/msie [\w.]+/,M=/\/$/,O=/#.*$/;x.started=!1,n.extend(x.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(M,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(C,"")},start:function(t){if(x.started)throw new Error("Backbone.history has already been started");x.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,o=k.exec(navigator.userAgent.toLowerCase())&&(!r||r<=7);if(this.root=("/"+this.root+"/").replace(_,"/"),o&&this._wantsHashChange){var s=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(C,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),x.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!x.started)return!1;e&&!0!==e||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(O,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new x;h.extend=d.extend=w.extend=v.extend=x.extend=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};var L=function(){throw new Error('A "url" property or function must be specified')},P=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}};return e}))},6486:function(t,e,n){var i;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */t=n.nmd(t),function(){var r,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",l=16,u=32,c=64,h=128,d=256,p=1/0,f=9007199254740991,v=NaN,g=4294967295,m=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",d]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",A="[object Date]",E="[object Error]",S="[object Function]",T="[object GeneratorFunction]",x="[object Map]",C="[object Number]",_="[object Object]",k="[object Promise]",M="[object RegExp]",O="[object Set]",L="[object String]",P="[object Symbol]",I="[object WeakMap]",R="[object ArrayBuffer]",D="[object DataView]",N="[object Float32Array]",H="[object Float64Array]",V="[object Int8Array]",F="[object Int16Array]",B="[object Int32Array]",j="[object Uint8Array]",U="[object Uint8ClampedArray]",z="[object Uint16Array]",W="[object Uint32Array]",G=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,J=RegExp(X.source),Z=RegExp(K.source),$=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(rt.source),st=/^\s+/,at=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,dt=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,ft=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,mt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,At=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,St=/['\n\r\u2028\u2029\\]/g,Tt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="\\u2700-\\u27bf",Ct="a-z\\xdf-\\xf6\\xf8-\\xff",_t="A-Z\\xc0-\\xd6\\xd8-\\xde",kt="\\ufe0e\\ufe0f",Mt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ot="['’]",Lt="[\\ud800-\\udfff]",Pt="["+Mt+"]",It="["+Tt+"]",Rt="\\d+",Dt="[\\u2700-\\u27bf]",Nt="["+Ct+"]",Ht="[^\\ud800-\\udfff"+Mt+Rt+xt+Ct+_t+"]",Vt="\\ud83c[\\udffb-\\udfff]",Ft="[^\\ud800-\\udfff]",Bt="(?:\\ud83c[\\udde6-\\uddff]){2}",jt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ut="["+_t+"]",zt="(?:"+Nt+"|"+Ht+")",Wt="(?:"+Ut+"|"+Ht+")",Gt="(?:['’](?:d|ll|m|re|s|t|ve))?",qt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+It+"|"+Vt+")"+"?",Xt="[\\ufe0e\\ufe0f]?",Kt=Xt+Yt+("(?:\\u200d(?:"+[Ft,Bt,jt].join("|")+")"+Xt+Yt+")*"),Jt="(?:"+[Dt,Bt,jt].join("|")+")"+Kt,Zt="(?:"+[Ft+It+"?",It,Bt,jt,Lt].join("|")+")",$t=RegExp(Ot,"g"),Qt=RegExp(It,"g"),te=RegExp(Vt+"(?="+Vt+")|"+Zt+Kt,"g"),ee=RegExp([Ut+"?"+Nt+"+"+Gt+"(?="+[Pt,Ut,"$"].join("|")+")",Wt+"+"+qt+"(?="+[Pt,Ut+zt,"$"].join("|")+")",Ut+"?"+zt+"+"+Gt,Ut+"+"+qt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rt,Jt].join("|"),"g"),ne=RegExp("[\\u200d\\ud800-\\udfff"+Tt+kt+"]"),ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,re=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oe=-1,se={};se[N]=se[H]=se[V]=se[F]=se[B]=se[j]=se[U]=se[z]=se[W]=!0,se[y]=se[b]=se[R]=se[w]=se[D]=se[A]=se[E]=se[S]=se[x]=se[C]=se[_]=se[M]=se[O]=se[L]=se[I]=!1;var ae={};ae[y]=ae[b]=ae[R]=ae[D]=ae[w]=ae[A]=ae[N]=ae[H]=ae[V]=ae[F]=ae[B]=ae[x]=ae[C]=ae[_]=ae[M]=ae[O]=ae[L]=ae[P]=ae[j]=ae[U]=ae[z]=ae[W]=!0,ae[E]=ae[S]=ae[I]=!1;var le={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ue=parseFloat,ce=parseInt,he="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,de="object"==typeof self&&self&&self.Object===Object&&self,pe=he||de||Function("return this")(),fe=e&&!e.nodeType&&e,ve=fe&&t&&!t.nodeType&&t,ge=ve&&ve.exports===fe,me=ge&&he.process,ye=function(){try{var t=ve&&ve.require&&ve.require("util").types;return t||me&&me.binding&&me.binding("util")}catch(t){}}(),be=ye&&ye.isArrayBuffer,we=ye&&ye.isDate,Ae=ye&&ye.isMap,Ee=ye&&ye.isRegExp,Se=ye&&ye.isSet,Te=ye&&ye.isTypedArray;function xe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ce(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function _e(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function ke(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Me(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Oe(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function Le(t,e){return!!(null==t?0:t.length)&&je(t,e,0)>-1}function Pe(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Ie(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function Re(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function De(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function Ne(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function He(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var Ve=Ge("length");function Fe(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function Be(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function je(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):Be(t,ze,n)}function Ue(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function ze(t){return t!=t}function We(t,e){var n=null==t?0:t.length;return n?Xe(t,e)/n:v}function Ge(t){return function(e){return null==e?r:e[t]}}function qe(t){return function(e){return null==t?r:t[e]}}function Ye(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function Xe(t,e){for(var n,i=-1,o=t.length;++i<o;){var s=e(t[i]);s!==r&&(n=n===r?s:n+s)}return n}function Ke(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Je(t){return t?t.slice(0,vn(t)+1).replace(st,""):t}function Ze(t){return function(e){return t(e)}}function $e(t,e){return Ie(e,(function(e){return t[e]}))}function Qe(t,e){return t.has(e)}function tn(t,e){for(var n=-1,i=t.length;++n<i&&je(e,t[n],0)>-1;);return n}function en(t,e){for(var n=t.length;n--&&je(e,t[n],0)>-1;);return n}function nn(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var rn=qe({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),on=qe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+le[t]}function an(t){return ne.test(t)}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function un(t,e){return function(n){return t(e(n))}}function cn(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[r++]=n)}return o}function hn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function pn(t){return an(t)?function(t){var e=te.lastIndex=0;for(;te.test(t);)++e;return e}(t):Ve(t)}function fn(t){return an(t)?function(t){return t.match(te)||[]}(t):function(t){return t.split("")}(t)}function vn(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var gn=qe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function t(e){var n,i=(e=null==e?pe:mn.defaults(pe.Object(),e,mn.pick(pe,re))).Array,at=e.Date,Tt=e.Error,xt=e.Function,Ct=e.Math,_t=e.Object,kt=e.RegExp,Mt=e.String,Ot=e.TypeError,Lt=i.prototype,Pt=xt.prototype,It=_t.prototype,Rt=e["__core-js_shared__"],Dt=Pt.toString,Nt=It.hasOwnProperty,Ht=0,Vt=(n=/[^.]+$/.exec(Rt&&Rt.keys&&Rt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ft=It.toString,Bt=Dt.call(_t),jt=pe._,Ut=kt("^"+Dt.call(Nt).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=ge?e.Buffer:r,Wt=e.Symbol,Gt=e.Uint8Array,qt=zt?zt.allocUnsafe:r,Yt=un(_t.getPrototypeOf,_t),Xt=_t.create,Kt=It.propertyIsEnumerable,Jt=Lt.splice,Zt=Wt?Wt.isConcatSpreadable:r,te=Wt?Wt.iterator:r,ne=Wt?Wt.toStringTag:r,le=function(){try{var t=fo(_t,"defineProperty");return t({},"",{}),t}catch(t){}}(),he=e.clearTimeout!==pe.clearTimeout&&e.clearTimeout,de=at&&at.now!==pe.Date.now&&at.now,fe=e.setTimeout!==pe.setTimeout&&e.setTimeout,ve=Ct.ceil,me=Ct.floor,ye=_t.getOwnPropertySymbols,Ve=zt?zt.isBuffer:r,qe=e.isFinite,yn=Lt.join,bn=un(_t.keys,_t),wn=Ct.max,An=Ct.min,En=at.now,Sn=e.parseInt,Tn=Ct.random,xn=Lt.reverse,Cn=fo(e,"DataView"),_n=fo(e,"Map"),kn=fo(e,"Promise"),Mn=fo(e,"Set"),On=fo(e,"WeakMap"),Ln=fo(_t,"create"),Pn=On&&new On,In={},Rn=jo(Cn),Dn=jo(_n),Nn=jo(kn),Hn=jo(Mn),Vn=jo(On),Fn=Wt?Wt.prototype:r,Bn=Fn?Fn.valueOf:r,jn=Fn?Fn.toString:r;function Un(t){if(ra(t)&&!Ys(t)&&!(t instanceof qn)){if(t instanceof Gn)return t;if(Nt.call(t,"__wrapped__"))return Uo(t)}return new Gn(t)}var zn=function(){function t(){}return function(e){if(!ia(e))return{};if(Xt)return Xt(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Wn(){}function Gn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function qn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Xn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Jn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Kn;++e<n;)this.add(t[e])}function Zn(t){var e=this.__data__=new Xn(t);this.size=e.size}function $n(t,e){var n=Ys(t),i=!n&&qs(t),r=!n&&!i&&Zs(t),o=!n&&!i&&!r&&da(t),s=n||i||r||o,a=s?Ke(t.length,Mt):[],l=a.length;for(var u in t)!e&&!Nt.call(t,u)||s&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ao(u,l))||a.push(u);return a}function Qn(t){var e=t.length;return e?t[Ji(0,e-1)]:r}function ti(t,e){return Vo(Lr(t),ui(e,0,t.length))}function ei(t){return Vo(Lr(t))}function ni(t,e,n){(n!==r&&!zs(t[e],n)||n===r&&!(e in t))&&ai(t,e,n)}function ii(t,e,n){var i=t[e];Nt.call(t,e)&&zs(i,n)&&(n!==r||e in t)||ai(t,e,n)}function ri(t,e){for(var n=t.length;n--;)if(zs(t[n][0],e))return n;return-1}function oi(t,e,n,i){return fi(t,(function(t,r,o){e(i,t,n(t),o)})),i}function si(t,e){return t&&Pr(e,Ra(e),t)}function ai(t,e,n){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function li(t,e){for(var n=-1,o=e.length,s=i(o),a=null==t;++n<o;)s[n]=a?r:Ma(t,e[n]);return s}function ui(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function ci(t,e,n,i,o,s){var a,l=1&e,u=2&e,c=4&e;if(n&&(a=o?n(t,i,o,s):n(t)),a!==r)return a;if(!ia(t))return t;var h=Ys(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Nt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!l)return Lr(t,a)}else{var d=mo(t),p=d==S||d==T;if(Zs(t))return xr(t,l);if(d==_||d==y||p&&!o){if(a=u||p?{}:bo(t),!l)return u?function(t,e){return Pr(t,go(t),e)}(t,function(t,e){return t&&Pr(e,Da(e),t)}(a,t)):function(t,e){return Pr(t,vo(t),e)}(t,si(a,t))}else{if(!ae[d])return o?t:{};a=function(t,e,n){var i=t.constructor;switch(e){case R:return Cr(t);case w:case A:return new i(+t);case D:return function(t,e){var n=e?Cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case N:case H:case V:case F:case B:case j:case U:case z:case W:return _r(t,n);case x:return new i;case C:case L:return new i(t);case M:return function(t){var e=new t.constructor(t.source,vt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new i;case P:return r=t,Bn?_t(Bn.call(r)):{}}var r}(t,d,l)}}s||(s=new Zn);var f=s.get(t);if(f)return f;s.set(t,a),ua(t)?t.forEach((function(i){a.add(ci(i,e,n,i,t,s))})):oa(t)&&t.forEach((function(i,r){a.set(r,ci(i,e,n,r,t,s))}));var v=h?r:(c?u?so:oo:u?Da:Ra)(t);return _e(v||t,(function(i,r){v&&(i=t[r=i]),ii(a,r,ci(i,e,n,r,t,s))})),a}function hi(t,e,n){var i=n.length;if(null==t)return!i;for(t=_t(t);i--;){var o=n[i],s=e[o],a=t[o];if(a===r&&!(o in t)||!s(a))return!1}return!0}function di(t,e,n){if("function"!=typeof t)throw new Ot(o);return Ro((function(){t.apply(r,n)}),e)}function pi(t,e,n,i){var r=-1,o=Le,s=!0,a=t.length,l=[],u=e.length;if(!a)return l;n&&(e=Ie(e,Ze(n))),i?(o=Pe,s=!1):e.length>=200&&(o=Qe,s=!1,e=new Jn(e));t:for(;++r<a;){var c=t[r],h=null==n?c:n(c);if(c=i||0!==c?c:0,s&&h==h){for(var d=u;d--;)if(e[d]===h)continue t;l.push(c)}else o(e,h,i)||l.push(c)}return l}Un.templateSettings={escape:$,evaluate:Q,interpolate:tt,variable:"",imports:{_:Un}},Un.prototype=Wn.prototype,Un.prototype.constructor=Un,Gn.prototype=zn(Wn.prototype),Gn.prototype.constructor=Gn,qn.prototype=zn(Wn.prototype),qn.prototype.constructor=qn,Yn.prototype.clear=function(){this.__data__=Ln?Ln(null):{},this.size=0},Yn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Yn.prototype.get=function(t){var e=this.__data__;if(Ln){var n=e[t];return n===s?r:n}return Nt.call(e,t)?e[t]:r},Yn.prototype.has=function(t){var e=this.__data__;return Ln?e[t]!==r:Nt.call(e,t)},Yn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ln&&e===r?s:e,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(t){var e=this.__data__,n=ri(e,t);return!(n<0)&&(n==e.length-1?e.pop():Jt.call(e,n,1),--this.size,!0)},Xn.prototype.get=function(t){var e=this.__data__,n=ri(e,t);return n<0?r:e[n][1]},Xn.prototype.has=function(t){return ri(this.__data__,t)>-1},Xn.prototype.set=function(t,e){var n=this.__data__,i=ri(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new Yn,map:new(_n||Xn),string:new Yn}},Kn.prototype.delete=function(t){var e=ho(this,t).delete(t);return this.size-=e?1:0,e},Kn.prototype.get=function(t){return ho(this,t).get(t)},Kn.prototype.has=function(t){return ho(this,t).has(t)},Kn.prototype.set=function(t,e){var n=ho(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Jn.prototype.add=Jn.prototype.push=function(t){return this.__data__.set(t,s),this},Jn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Zn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Zn.prototype.get=function(t){return this.__data__.get(t)},Zn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Xn){var i=n.__data__;if(!_n||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Kn(i)}return n.set(t,e),this.size=n.size,this};var fi=Dr(Ei),vi=Dr(Si,!0);function gi(t,e){var n=!0;return fi(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function mi(t,e,n){for(var i=-1,o=t.length;++i<o;){var s=t[i],a=e(s);if(null!=a&&(l===r?a==a&&!ha(a):n(a,l)))var l=a,u=s}return u}function yi(t,e){var n=[];return fi(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function bi(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=wo),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?bi(a,e-1,n,i,r):Re(r,a):i||(r[r.length]=a)}return r}var wi=Nr(),Ai=Nr(!0);function Ei(t,e){return t&&wi(t,e,Ra)}function Si(t,e){return t&&Ai(t,e,Ra)}function Ti(t,e){return Oe(e,(function(e){return ta(t[e])}))}function xi(t,e){for(var n=0,i=(e=Ar(e,t)).length;null!=t&&n<i;)t=t[Bo(e[n++])];return n&&n==i?t:r}function Ci(t,e,n){var i=e(t);return Ys(t)?i:Re(i,n(t))}function _i(t){return null==t?t===r?"[object Undefined]":"[object Null]":ne&&ne in _t(t)?function(t){var e=Nt.call(t,ne),n=t[ne];try{t[ne]=r;var i=!0}catch(t){}var o=Ft.call(t);i&&(e?t[ne]=n:delete t[ne]);return o}(t):function(t){return Ft.call(t)}(t)}function ki(t,e){return t>e}function Mi(t,e){return null!=t&&Nt.call(t,e)}function Oi(t,e){return null!=t&&e in _t(t)}function Li(t,e,n){for(var o=n?Pe:Le,s=t[0].length,a=t.length,l=a,u=i(a),c=1/0,h=[];l--;){var d=t[l];l&&e&&(d=Ie(d,Ze(e))),c=An(d.length,c),u[l]=!n&&(e||s>=120&&d.length>=120)?new Jn(l&&d):r}d=t[0];var p=-1,f=u[0];t:for(;++p<s&&h.length<c;){var v=d[p],g=e?e(v):v;if(v=n||0!==v?v:0,!(f?Qe(f,g):o(h,g,n))){for(l=a;--l;){var m=u[l];if(!(m?Qe(m,g):o(t[l],g,n)))continue t}f&&f.push(g),h.push(v)}}return h}function Pi(t,e,n){var i=null==(t=Oo(t,e=Ar(e,t)))?t:t[Bo(Qo(e))];return null==i?r:xe(i,t,n)}function Ii(t){return ra(t)&&_i(t)==y}function Ri(t,e,n,i,o){return t===e||(null==t||null==e||!ra(t)&&!ra(e)?t!=t&&e!=e:function(t,e,n,i,o,s){var a=Ys(t),l=Ys(e),u=a?b:mo(t),c=l?b:mo(e),h=(u=u==y?_:u)==_,d=(c=c==y?_:c)==_,p=u==c;if(p&&Zs(t)){if(!Zs(e))return!1;a=!0,h=!1}if(p&&!h)return s||(s=new Zn),a||da(t)?io(t,e,n,i,o,s):function(t,e,n,i,r,o,s){switch(n){case D:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case R:return!(t.byteLength!=e.byteLength||!o(new Gt(t),new Gt(e)));case w:case A:case C:return zs(+t,+e);case E:return t.name==e.name&&t.message==e.message;case M:case L:return t==e+"";case x:var a=ln;case O:var l=1&i;if(a||(a=hn),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;i|=2,s.set(t,e);var c=io(a(t),a(e),i,r,o,s);return s.delete(t),c;case P:if(Bn)return Bn.call(t)==Bn.call(e)}return!1}(t,e,u,n,i,o,s);if(!(1&n)){var f=h&&Nt.call(t,"__wrapped__"),v=d&&Nt.call(e,"__wrapped__");if(f||v){var g=f?t.value():t,m=v?e.value():e;return s||(s=new Zn),o(g,m,n,i,s)}}if(!p)return!1;return s||(s=new Zn),function(t,e,n,i,o,s){var a=1&n,l=oo(t),u=l.length,c=oo(e).length;if(u!=c&&!a)return!1;var h=u;for(;h--;){var d=l[h];if(!(a?d in e:Nt.call(e,d)))return!1}var p=s.get(t),f=s.get(e);if(p&&f)return p==e&&f==t;var v=!0;s.set(t,e),s.set(e,t);var g=a;for(;++h<u;){var m=t[d=l[h]],y=e[d];if(i)var b=a?i(y,m,d,e,t,s):i(m,y,d,t,e,s);if(!(b===r?m===y||o(m,y,n,i,s):b)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var w=t.constructor,A=e.constructor;w==A||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof A&&A instanceof A||(v=!1)}return s.delete(t),s.delete(e),v}(t,e,n,i,o,s)}(t,e,n,i,Ri,o))}function Di(t,e,n,i){var o=n.length,s=o,a=!i;if(null==t)return!s;for(t=_t(t);o--;){var l=n[o];if(a&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<s;){var u=(l=n[o])[0],c=t[u],h=l[1];if(a&&l[2]){if(c===r&&!(u in t))return!1}else{var d=new Zn;if(i)var p=i(c,h,u,t,e,d);if(!(p===r?Ri(h,c,3,i,d):p))return!1}}return!0}function Ni(t){return!(!ia(t)||(e=t,Vt&&Vt in e))&&(ta(t)?Ut:yt).test(jo(t));var e}function Hi(t){return"function"==typeof t?t:null==t?sl:"object"==typeof t?Ys(t)?zi(t[0],t[1]):Ui(t):vl(t)}function Vi(t){if(!Co(t))return bn(t);var e=[];for(var n in _t(t))Nt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Fi(t){if(!ia(t))return function(t){var e=[];if(null!=t)for(var n in _t(t))e.push(n);return e}(t);var e=Co(t),n=[];for(var i in t)("constructor"!=i||!e&&Nt.call(t,i))&&n.push(i);return n}function Bi(t,e){return t<e}function ji(t,e){var n=-1,r=Ks(t)?i(t.length):[];return fi(t,(function(t,i,o){r[++n]=e(t,i,o)})),r}function Ui(t){var e=po(t);return 1==e.length&&e[0][2]?ko(e[0][0],e[0][1]):function(n){return n===t||Di(n,t,e)}}function zi(t,e){return So(t)&&_o(e)?ko(Bo(t),e):function(n){var i=Ma(n,t);return i===r&&i===e?Oa(n,t):Ri(e,i,3)}}function Wi(t,e,n,i,o){t!==e&&wi(e,(function(s,a){if(o||(o=new Zn),ia(s))!function(t,e,n,i,o,s,a){var l=Po(t,n),u=Po(e,n),c=a.get(u);if(c)return void ni(t,n,c);var h=s?s(l,u,n+"",t,e,a):r,d=h===r;if(d){var p=Ys(u),f=!p&&Zs(u),v=!p&&!f&&da(u);h=u,p||f||v?Ys(l)?h=l:Js(l)?h=Lr(l):f?(d=!1,h=xr(u,!0)):v?(d=!1,h=_r(u,!0)):h=[]:aa(u)||qs(u)?(h=l,qs(l)?h=wa(l):ia(l)&&!ta(l)||(h=bo(u))):d=!1}d&&(a.set(u,h),o(h,u,i,s,a),a.delete(u));ni(t,n,h)}(t,e,a,n,Wi,i,o);else{var l=i?i(Po(t,a),s,a+"",t,e,o):r;l===r&&(l=s),ni(t,a,l)}}),Da)}function Gi(t,e){var n=t.length;if(n)return Ao(e+=e<0?n:0,n)?t[e]:r}function qi(t,e,n){e=e.length?Ie(e,(function(t){return Ys(t)?function(e){return xi(e,1===t.length?t[0]:t)}:t})):[sl];var i=-1;return e=Ie(e,Ze(co())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(ji(t,(function(t,n,r){return{criteria:Ie(e,(function(e){return e(t)})),index:++i,value:t}})),(function(t,e){return function(t,e,n){var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;for(;++i<s;){var l=kr(r[i],o[i]);if(l)return i>=a?l:l*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}))}function Yi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=xi(t,s);n(a,s)&&er(o,Ar(s,t),a)}return o}function Xi(t,e,n,i){var r=i?Ue:je,o=-1,s=e.length,a=t;for(t===e&&(e=Lr(e)),n&&(a=Ie(t,Ze(n)));++o<s;)for(var l=0,u=e[o],c=n?n(u):u;(l=r(a,c,l,i))>-1;)a!==t&&Jt.call(a,l,1),Jt.call(t,l,1);return t}function Ki(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Ao(r)?Jt.call(t,r,1):pr(t,r)}}return t}function Ji(t,e){return t+me(Tn()*(e-t+1))}function Zi(t,e){var n="";if(!t||e<1||e>f)return n;do{e%2&&(n+=t),(e=me(e/2))&&(t+=t)}while(e);return n}function $i(t,e){return Do(Mo(t,e,sl),t+"")}function Qi(t){return Qn(za(t))}function tr(t,e){var n=za(t);return Vo(n,ui(e,0,n.length))}function er(t,e,n,i){if(!ia(t))return t;for(var o=-1,s=(e=Ar(e,t)).length,a=s-1,l=t;null!=l&&++o<s;){var u=Bo(e[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=a){var h=l[u];(c=i?i(h,u,l):r)===r&&(c=ia(h)?h:Ao(e[o+1])?[]:{})}ii(l,u,c),l=l[u]}return t}var nr=Pn?function(t,e){return Pn.set(t,e),t}:sl,ir=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:il(e),writable:!0})}:sl;function rr(t){return Vo(za(t))}function or(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=i(o);++r<o;)s[r]=t[r+e];return s}function sr(t,e){var n;return fi(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function ar(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,s=t[o];null!==s&&!ha(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return lr(t,e,sl,n)}function lr(t,e,n,i){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,l=null===e,u=ha(e),c=e===r;o<s;){var h=me((o+s)/2),d=n(t[h]),p=d!==r,f=null===d,v=d==d,g=ha(d);if(a)var m=i||v;else m=c?v&&(i||p):l?v&&p&&(i||!f):u?v&&p&&!f&&(i||!g):!f&&!g&&(i?d<=e:d<e);m?o=h+1:s=h}return An(s,4294967294)}function ur(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!zs(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function cr(t){return"number"==typeof t?t:ha(t)?v:+t}function hr(t){if("string"==typeof t)return t;if(Ys(t))return Ie(t,hr)+"";if(ha(t))return jn?jn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function dr(t,e,n){var i=-1,r=Le,o=t.length,s=!0,a=[],l=a;if(n)s=!1,r=Pe;else if(o>=200){var u=e?null:Zr(t);if(u)return hn(u);s=!1,r=Qe,l=new Jn}else l=e?[]:a;t:for(;++i<o;){var c=t[i],h=e?e(c):c;if(c=n||0!==c?c:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),a.push(c)}else r(l,h,n)||(l!==a&&l.push(h),a.push(c))}return a}function pr(t,e){return null==(t=Oo(t,e=Ar(e,t)))||delete t[Bo(Qo(e))]}function fr(t,e,n,i){return er(t,e,n(xi(t,e)),i)}function vr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?or(t,i?0:o,i?o+1:r):or(t,i?o+1:0,i?r:o)}function gr(t,e){var n=t;return n instanceof qn&&(n=n.value()),De(e,(function(t,e){return e.func.apply(e.thisArg,Re([t],e.args))}),n)}function mr(t,e,n){var r=t.length;if(r<2)return r?dr(t[0]):[];for(var o=-1,s=i(r);++o<r;)for(var a=t[o],l=-1;++l<r;)l!=o&&(s[o]=pi(s[o]||a,t[l],e,n));return dr(bi(s,1),e,n)}function yr(t,e,n){for(var i=-1,o=t.length,s=e.length,a={};++i<o;){var l=i<s?e[i]:r;n(a,t[i],l)}return a}function br(t){return Js(t)?t:[]}function wr(t){return"function"==typeof t?t:sl}function Ar(t,e){return Ys(t)?t:So(t,e)?[t]:Fo(Aa(t))}var Er=$i;function Sr(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:or(t,e,n)}var Tr=he||function(t){return pe.clearTimeout(t)};function xr(t,e){if(e)return t.slice();var n=t.length,i=qt?qt(n):new t.constructor(n);return t.copy(i),i}function Cr(t){var e=new t.constructor(t.byteLength);return new Gt(e).set(new Gt(t)),e}function _r(t,e){var n=e?Cr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function kr(t,e){if(t!==e){var n=t!==r,i=null===t,o=t==t,s=ha(t),a=e!==r,l=null===e,u=e==e,c=ha(e);if(!l&&!c&&!s&&t>e||s&&a&&u&&!l&&!c||i&&a&&u||!n&&u||!o)return 1;if(!i&&!s&&!c&&t<e||c&&n&&o&&!i&&!s||l&&n&&o||!a&&o||!u)return-1}return 0}function Mr(t,e,n,r){for(var o=-1,s=t.length,a=n.length,l=-1,u=e.length,c=wn(s-a,0),h=i(u+c),d=!r;++l<u;)h[l]=e[l];for(;++o<a;)(d||o<s)&&(h[n[o]]=t[o]);for(;c--;)h[l++]=t[o++];return h}function Or(t,e,n,r){for(var o=-1,s=t.length,a=-1,l=n.length,u=-1,c=e.length,h=wn(s-l,0),d=i(h+c),p=!r;++o<h;)d[o]=t[o];for(var f=o;++u<c;)d[f+u]=e[u];for(;++a<l;)(p||o<s)&&(d[f+n[a]]=t[o++]);return d}function Lr(t,e){var n=-1,r=t.length;for(e||(e=i(r));++n<r;)e[n]=t[n];return e}function Pr(t,e,n,i){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var l=e[s],u=i?i(n[l],t[l],l,n,t):r;u===r&&(u=t[l]),o?ai(n,l,u):ii(n,l,u)}return n}function Ir(t,e){return function(n,i){var r=Ys(n)?Ce:oi,o=e?e():{};return r(n,t,co(i,2),o)}}function Rr(t){return $i((function(e,n){var i=-1,o=n.length,s=o>1?n[o-1]:r,a=o>2?n[2]:r;for(s=t.length>3&&"function"==typeof s?(o--,s):r,a&&Eo(n[0],n[1],a)&&(s=o<3?r:s,o=1),e=_t(e);++i<o;){var l=n[i];l&&t(e,l,i,s)}return e}))}function Dr(t,e){return function(n,i){if(null==n)return n;if(!Ks(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=_t(n);(e?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function Nr(t){return function(e,n,i){for(var r=-1,o=_t(e),s=i(e),a=s.length;a--;){var l=s[t?a:++r];if(!1===n(o[l],l,o))break}return e}}function Hr(t){return function(e){var n=an(e=Aa(e))?fn(e):r,i=n?n[0]:e.charAt(0),o=n?Sr(n,1).join(""):e.slice(1);return i[t]()+o}}function Vr(t){return function(e){return De(tl(qa(e).replace($t,"")),t,"")}}function Fr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=zn(t.prototype),i=t.apply(n,e);return ia(i)?i:n}}function Br(t){return function(e,n,i){var o=_t(e);if(!Ks(e)){var s=co(n,3);e=Ra(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,i);return a>-1?o[s?e[a]:a]:r}}function jr(t){return ro((function(e){var n=e.length,i=n,s=Gn.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new Ot(o);if(s&&!l&&"wrapper"==lo(a))var l=new Gn([],!0)}for(i=l?i:n;++i<n;){var u=lo(a=e[i]),c="wrapper"==u?ao(a):r;l=c&&To(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[lo(c[0])].apply(l,c[3]):1==a.length&&To(a)?l[u]():l.thru(a)}return function(){var t=arguments,i=t[0];if(l&&1==t.length&&Ys(i))return l.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}}))}function Ur(t,e,n,o,s,a,l,u,c,d){var p=e&h,f=1&e,v=2&e,g=24&e,m=512&e,y=v?r:Fr(t);return function r(){for(var h=arguments.length,b=i(h),w=h;w--;)b[w]=arguments[w];if(g)var A=uo(r),E=nn(b,A);if(o&&(b=Mr(b,o,s,g)),a&&(b=Or(b,a,l,g)),h-=E,g&&h<d){var S=cn(b,A);return Kr(t,e,Ur,r.placeholder,n,b,S,u,c,d-h)}var T=f?n:this,x=v?T[t]:t;return h=b.length,u?b=Lo(b,u):m&&h>1&&b.reverse(),p&&c<h&&(b.length=c),this&&this!==pe&&this instanceof r&&(x=y||Fr(x)),x.apply(T,b)}}function zr(t,e){return function(n,i){return function(t,e,n,i){return Ei(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function Wr(t,e){return function(n,i){var o;if(n===r&&i===r)return e;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=hr(n),i=hr(i)):(n=cr(n),i=cr(i)),o=t(n,i)}return o}}function Gr(t){return ro((function(e){return e=Ie(e,Ze(co())),$i((function(n){var i=this;return t(e,(function(t){return xe(t,i,n)}))}))}))}function qr(t,e){var n=(e=e===r?" ":hr(e)).length;if(n<2)return n?Zi(e,t):e;var i=Zi(e,ve(t/pn(e)));return an(e)?Sr(fn(i),0,t).join(""):i.slice(0,t)}function Yr(t){return function(e,n,o){return o&&"number"!=typeof o&&Eo(e,n,o)&&(n=o=r),e=ga(e),n===r?(n=e,e=0):n=ga(n),function(t,e,n,r){for(var o=-1,s=wn(ve((e-t)/(n||1)),0),a=i(s);s--;)a[r?s:++o]=t,t+=n;return a}(e,n,o=o===r?e<n?1:-1:ga(o),t)}}function Xr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ba(e),n=ba(n)),t(e,n)}}function Kr(t,e,n,i,o,s,a,l,h,d){var p=8&e;e|=p?u:c,4&(e&=~(p?c:u))||(e&=-4);var f=[t,e,o,p?s:r,p?a:r,p?r:s,p?r:a,l,h,d],v=n.apply(r,f);return To(t)&&Io(v,f),v.placeholder=i,No(v,t,e)}function Jr(t){var e=Ct[t];return function(t,n){if(t=ba(t),(n=null==n?0:An(ma(n),292))&&qe(t)){var i=(Aa(t)+"e").split("e");return+((i=(Aa(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Zr=Mn&&1/hn(new Mn([,-0]))[1]==p?function(t){return new Mn(t)}:hl;function $r(t){return function(e){var n=mo(e);return n==x?ln(e):n==O?dn(e):function(t,e){return Ie(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qr(t,e,n,s,p,f,v,g){var m=2&e;if(!m&&"function"!=typeof t)throw new Ot(o);var y=s?s.length:0;if(y||(e&=-97,s=p=r),v=v===r?v:wn(ma(v),0),g=g===r?g:ma(g),y-=p?p.length:0,e&c){var b=s,w=p;s=p=r}var A=m?r:ao(t),E=[t,e,n,s,p,b,w,f,v,g];if(A&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,s=i==h&&8==n||i==h&&n==d&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&i&&(t[2]=e[2],r|=1&n?0:4);var l=e[3];if(l){var u=t[3];t[3]=u?Mr(u,l,e[4]):l,t[4]=u?cn(t[3],a):e[4]}(l=e[5])&&(u=t[5],t[5]=u?Or(u,l,e[6]):l,t[6]=u?cn(t[5],a):e[6]);(l=e[7])&&(t[7]=l);i&h&&(t[8]=null==t[8]?e[8]:An(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(E,A),t=E[0],e=E[1],n=E[2],s=E[3],p=E[4],!(g=E[9]=E[9]===r?m?0:t.length:wn(E[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)S=8==e||e==l?function(t,e,n){var o=Fr(t);return function s(){for(var a=arguments.length,l=i(a),u=a,c=uo(s);u--;)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:cn(l,c);return(a-=h.length)<n?Kr(t,e,Ur,s.placeholder,r,l,h,r,r,n-a):xe(this&&this!==pe&&this instanceof s?o:t,this,l)}}(t,e,g):e!=u&&33!=e||p.length?Ur.apply(r,E):function(t,e,n,r){var o=1&e,s=Fr(t);return function e(){for(var a=-1,l=arguments.length,u=-1,c=r.length,h=i(c+l),d=this&&this!==pe&&this instanceof e?s:t;++u<c;)h[u]=r[u];for(;l--;)h[u++]=arguments[++a];return xe(d,o?n:this,h)}}(t,e,n,s);else var S=function(t,e,n){var i=1&e,r=Fr(t);return function e(){return(this&&this!==pe&&this instanceof e?r:t).apply(i?n:this,arguments)}}(t,e,n);return No((A?nr:Io)(S,E),t,e)}function to(t,e,n,i){return t===r||zs(t,It[n])&&!Nt.call(i,n)?e:t}function eo(t,e,n,i,o,s){return ia(t)&&ia(e)&&(s.set(e,t),Wi(t,e,r,eo,s),s.delete(e)),t}function no(t){return aa(t)?r:t}function io(t,e,n,i,o,s){var a=1&n,l=t.length,u=e.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var d=-1,p=!0,f=2&n?new Jn:r;for(s.set(t,e),s.set(e,t);++d<l;){var v=t[d],g=e[d];if(i)var m=a?i(g,v,d,e,t,s):i(v,g,d,t,e,s);if(m!==r){if(m)continue;p=!1;break}if(f){if(!He(e,(function(t,e){if(!Qe(f,e)&&(v===t||o(v,t,n,i,s)))return f.push(e)}))){p=!1;break}}else if(v!==g&&!o(v,g,n,i,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function ro(t){return Do(Mo(t,r,Xo),t+"")}function oo(t){return Ci(t,Ra,vo)}function so(t){return Ci(t,Da,go)}var ao=Pn?function(t){return Pn.get(t)}:hl;function lo(t){for(var e=t.name+"",n=In[e],i=Nt.call(In,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function uo(t){return(Nt.call(Un,"placeholder")?Un:t).placeholder}function co(){var t=Un.iteratee||al;return t=t===al?Hi:t,arguments.length?t(arguments[0],arguments[1]):t}function ho(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function po(t){for(var e=Ra(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,_o(r)]}return e}function fo(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Ni(n)?n:r}var vo=ye?function(t){return null==t?[]:(t=_t(t),Oe(ye(t),(function(e){return Kt.call(t,e)})))}:yl,go=ye?function(t){for(var e=[];t;)Re(e,vo(t)),t=Yt(t);return e}:yl,mo=_i;function yo(t,e,n){for(var i=-1,r=(e=Ar(e,t)).length,o=!1;++i<r;){var s=Bo(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&na(r)&&Ao(s,r)&&(Ys(t)||qs(t))}function bo(t){return"function"!=typeof t.constructor||Co(t)?{}:zn(Yt(t))}function wo(t){return Ys(t)||qs(t)||!!(Zt&&t&&t[Zt])}function Ao(t,e){var n=typeof t;return!!(e=null==e?f:e)&&("number"==n||"symbol"!=n&&wt.test(t))&&t>-1&&t%1==0&&t<e}function Eo(t,e,n){if(!ia(n))return!1;var i=typeof e;return!!("number"==i?Ks(n)&&Ao(e,n.length):"string"==i&&e in n)&&zs(n[e],t)}function So(t,e){if(Ys(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ha(t))||(nt.test(t)||!et.test(t)||null!=e&&t in _t(e))}function To(t){var e=lo(t),n=Un[e];if("function"!=typeof n||!(e in qn.prototype))return!1;if(t===n)return!0;var i=ao(n);return!!i&&t===i[0]}(Cn&&mo(new Cn(new ArrayBuffer(1)))!=D||_n&&mo(new _n)!=x||kn&&mo(kn.resolve())!=k||Mn&&mo(new Mn)!=O||On&&mo(new On)!=I)&&(mo=function(t){var e=_i(t),n=e==_?t.constructor:r,i=n?jo(n):"";if(i)switch(i){case Rn:return D;case Dn:return x;case Nn:return k;case Hn:return O;case Vn:return I}return e});var xo=Rt?ta:bl;function Co(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||It)}function _o(t){return t==t&&!ia(t)}function ko(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in _t(n)))}}function Mo(t,e,n){return e=wn(e===r?t.length-1:e,0),function(){for(var r=arguments,o=-1,s=wn(r.length-e,0),a=i(s);++o<s;)a[o]=r[e+o];o=-1;for(var l=i(e+1);++o<e;)l[o]=r[o];return l[e]=n(a),xe(t,this,l)}}function Oo(t,e){return e.length<2?t:xi(t,or(e,0,-1))}function Lo(t,e){for(var n=t.length,i=An(e.length,n),o=Lr(t);i--;){var s=e[i];t[i]=Ao(s,n)?o[s]:r}return t}function Po(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Io=Ho(nr),Ro=fe||function(t,e){return pe.setTimeout(t,e)},Do=Ho(ir);function No(t,e,n){var i=e+"";return Do(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return _e(m,(function(n){var i="_."+n[0];e&n[1]&&!Le(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(ut);return e?e[1].split(ct):[]}(i),n)))}function Ho(t){var e=0,n=0;return function(){var i=En(),o=16-(i-n);if(n=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Vo(t,e){var n=-1,i=t.length,o=i-1;for(e=e===r?i:e;++n<e;){var s=Ji(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Fo=function(t){var e=Hs(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(it,(function(t,n,i,r){e.push(i?r.replace(pt,"$1"):n||t)})),e}));function Bo(t){if("string"==typeof t||ha(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jo(t){if(null!=t){try{return Dt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Uo(t){if(t instanceof qn)return t.clone();var e=new Gn(t.__wrapped__,t.__chain__);return e.__actions__=Lr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var zo=$i((function(t,e){return Js(t)?pi(t,bi(e,1,Js,!0)):[]})),Wo=$i((function(t,e){var n=Qo(e);return Js(n)&&(n=r),Js(t)?pi(t,bi(e,1,Js,!0),co(n,2)):[]})),Go=$i((function(t,e){var n=Qo(e);return Js(n)&&(n=r),Js(t)?pi(t,bi(e,1,Js,!0),r,n):[]}));function qo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:ma(n);return r<0&&(r=wn(i+r,0)),Be(t,co(e,3),r)}function Yo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==r&&(o=ma(n),o=n<0?wn(i+o,0):An(o,i-1)),Be(t,co(e,3),o,!0)}function Xo(t){return(null==t?0:t.length)?bi(t,1):[]}function Ko(t){return t&&t.length?t[0]:r}var Jo=$i((function(t){var e=Ie(t,br);return e.length&&e[0]===t[0]?Li(e):[]})),Zo=$i((function(t){var e=Qo(t),n=Ie(t,br);return e===Qo(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Li(n,co(e,2)):[]})),$o=$i((function(t){var e=Qo(t),n=Ie(t,br);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?Li(n,r,e):[]}));function Qo(t){var e=null==t?0:t.length;return e?t[e-1]:r}var ts=$i(es);function es(t,e){return t&&t.length&&e&&e.length?Xi(t,e):t}var ns=ro((function(t,e){var n=null==t?0:t.length,i=li(t,e);return Ki(t,Ie(e,(function(t){return Ao(t,n)?+t:t})).sort(kr)),i}));function is(t){return null==t?t:xn.call(t)}var rs=$i((function(t){return dr(bi(t,1,Js,!0))})),os=$i((function(t){var e=Qo(t);return Js(e)&&(e=r),dr(bi(t,1,Js,!0),co(e,2))})),ss=$i((function(t){var e=Qo(t);return e="function"==typeof e?e:r,dr(bi(t,1,Js,!0),r,e)}));function as(t){if(!t||!t.length)return[];var e=0;return t=Oe(t,(function(t){if(Js(t))return e=wn(t.length,e),!0})),Ke(e,(function(e){return Ie(t,Ge(e))}))}function ls(t,e){if(!t||!t.length)return[];var n=as(t);return null==e?n:Ie(n,(function(t){return xe(e,r,t)}))}var us=$i((function(t,e){return Js(t)?pi(t,e):[]})),cs=$i((function(t){return mr(Oe(t,Js))})),hs=$i((function(t){var e=Qo(t);return Js(e)&&(e=r),mr(Oe(t,Js),co(e,2))})),ds=$i((function(t){var e=Qo(t);return e="function"==typeof e?e:r,mr(Oe(t,Js),r,e)})),ps=$i(as);var fs=$i((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,ls(t,n)}));function vs(t){var e=Un(t);return e.__chain__=!0,e}function gs(t,e){return e(t)}var ms=ro((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return li(e,t)};return!(e>1||this.__actions__.length)&&i instanceof qn&&Ao(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:gs,args:[o],thisArg:r}),new Gn(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(o)}));var ys=Ir((function(t,e,n){Nt.call(t,n)?++t[n]:ai(t,n,1)}));var bs=Br(qo),ws=Br(Yo);function As(t,e){return(Ys(t)?_e:fi)(t,co(e,3))}function Es(t,e){return(Ys(t)?ke:vi)(t,co(e,3))}var Ss=Ir((function(t,e,n){Nt.call(t,n)?t[n].push(e):ai(t,n,[e])}));var Ts=$i((function(t,e,n){var r=-1,o="function"==typeof e,s=Ks(t)?i(t.length):[];return fi(t,(function(t){s[++r]=o?xe(e,t,n):Pi(t,e,n)})),s})),xs=Ir((function(t,e,n){ai(t,n,e)}));function Cs(t,e){return(Ys(t)?Ie:ji)(t,co(e,3))}var _s=Ir((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var ks=$i((function(t,e){if(null==t)return[];var n=e.length;return n>1&&Eo(t,e[0],e[1])?e=[]:n>2&&Eo(e[0],e[1],e[2])&&(e=[e[0]]),qi(t,bi(e,1),[])})),Ms=de||function(){return pe.Date.now()};function Os(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,Qr(t,h,r,r,r,r,e)}function Ls(t,e){var n;if("function"!=typeof e)throw new Ot(o);return t=ma(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=r),n}}var Ps=$i((function(t,e,n){var i=1;if(n.length){var r=cn(n,uo(Ps));i|=u}return Qr(t,i,e,n,r)})),Is=$i((function(t,e,n){var i=3;if(n.length){var r=cn(n,uo(Is));i|=u}return Qr(e,i,t,n,r)}));function Rs(t,e,n){var i,s,a,l,u,c,h=0,d=!1,p=!1,f=!0;if("function"!=typeof t)throw new Ot(o);function v(e){var n=i,o=s;return i=s=r,h=e,l=t.apply(o,n)}function g(t){return h=t,u=Ro(y,e),d?v(t):l}function m(t){var n=t-c;return c===r||n>=e||n<0||p&&t-h>=a}function y(){var t=Ms();if(m(t))return b(t);u=Ro(y,function(t){var n=e-(t-c);return p?An(n,a-(t-h)):n}(t))}function b(t){return u=r,f&&i?v(t):(i=s=r,l)}function w(){var t=Ms(),n=m(t);if(i=arguments,s=this,c=t,n){if(u===r)return g(c);if(p)return Tr(u),u=Ro(y,e),v(c)}return u===r&&(u=Ro(y,e)),l}return e=ba(e)||0,ia(n)&&(d=!!n.leading,a=(p="maxWait"in n)?wn(ba(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),w.cancel=function(){u!==r&&Tr(u),h=0,i=c=s=u=r},w.flush=function(){return u===r?l:b(Ms())},w}var Ds=$i((function(t,e){return di(t,1,e)})),Ns=$i((function(t,e,n){return di(t,ba(e)||0,n)}));function Hs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(o);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(Hs.Cache||Kn),n}function Vs(t){if("function"!=typeof t)throw new Ot(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Hs.Cache=Kn;var Fs=Er((function(t,e){var n=(e=1==e.length&&Ys(e[0])?Ie(e[0],Ze(co())):Ie(bi(e,1),Ze(co()))).length;return $i((function(i){for(var r=-1,o=An(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return xe(t,this,i)}))})),Bs=$i((function(t,e){var n=cn(e,uo(Bs));return Qr(t,u,r,e,n)})),js=$i((function(t,e){var n=cn(e,uo(js));return Qr(t,c,r,e,n)})),Us=ro((function(t,e){return Qr(t,d,r,r,r,e)}));function zs(t,e){return t===e||t!=t&&e!=e}var Ws=Xr(ki),Gs=Xr((function(t,e){return t>=e})),qs=Ii(function(){return arguments}())?Ii:function(t){return ra(t)&&Nt.call(t,"callee")&&!Kt.call(t,"callee")},Ys=i.isArray,Xs=be?Ze(be):function(t){return ra(t)&&_i(t)==R};function Ks(t){return null!=t&&na(t.length)&&!ta(t)}function Js(t){return ra(t)&&Ks(t)}var Zs=Ve||bl,$s=we?Ze(we):function(t){return ra(t)&&_i(t)==A};function Qs(t){if(!ra(t))return!1;var e=_i(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!aa(t)}function ta(t){if(!ia(t))return!1;var e=_i(t);return e==S||e==T||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ea(t){return"number"==typeof t&&t==ma(t)}function na(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function ia(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ra(t){return null!=t&&"object"==typeof t}var oa=Ae?Ze(Ae):function(t){return ra(t)&&mo(t)==x};function sa(t){return"number"==typeof t||ra(t)&&_i(t)==C}function aa(t){if(!ra(t)||_i(t)!=_)return!1;var e=Yt(t);if(null===e)return!0;var n=Nt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Dt.call(n)==Bt}var la=Ee?Ze(Ee):function(t){return ra(t)&&_i(t)==M};var ua=Se?Ze(Se):function(t){return ra(t)&&mo(t)==O};function ca(t){return"string"==typeof t||!Ys(t)&&ra(t)&&_i(t)==L}function ha(t){return"symbol"==typeof t||ra(t)&&_i(t)==P}var da=Te?Ze(Te):function(t){return ra(t)&&na(t.length)&&!!se[_i(t)]};var pa=Xr(Bi),fa=Xr((function(t,e){return t<=e}));function va(t){if(!t)return[];if(Ks(t))return ca(t)?fn(t):Lr(t);if(te&&t[te])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[te]());var e=mo(t);return(e==x?ln:e==O?hn:za)(t)}function ga(t){return t?(t=ba(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ma(t){var e=ga(t),n=e%1;return e==e?n?e-n:e:0}function ya(t){return t?ui(ma(t),0,g):0}function ba(t){if("number"==typeof t)return t;if(ha(t))return v;if(ia(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ia(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Je(t);var n=mt.test(t);return n||bt.test(t)?ce(t.slice(2),n?2:8):gt.test(t)?v:+t}function wa(t){return Pr(t,Da(t))}function Aa(t){return null==t?"":hr(t)}var Ea=Rr((function(t,e){if(Co(e)||Ks(e))Pr(e,Ra(e),t);else for(var n in e)Nt.call(e,n)&&ii(t,n,e[n])})),Sa=Rr((function(t,e){Pr(e,Da(e),t)})),Ta=Rr((function(t,e,n,i){Pr(e,Da(e),t,i)})),xa=Rr((function(t,e,n,i){Pr(e,Ra(e),t,i)})),Ca=ro(li);var _a=$i((function(t,e){t=_t(t);var n=-1,i=e.length,o=i>2?e[2]:r;for(o&&Eo(e[0],e[1],o)&&(i=1);++n<i;)for(var s=e[n],a=Da(s),l=-1,u=a.length;++l<u;){var c=a[l],h=t[c];(h===r||zs(h,It[c])&&!Nt.call(t,c))&&(t[c]=s[c])}return t})),ka=$i((function(t){return t.push(r,eo),xe(Ha,r,t)}));function Ma(t,e,n){var i=null==t?r:xi(t,e);return i===r?n:i}function Oa(t,e){return null!=t&&yo(t,e,Oi)}var La=zr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),t[e]=n}),il(sl)),Pa=zr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ft.call(e)),Nt.call(t,e)?t[e].push(n):t[e]=[n]}),co),Ia=$i(Pi);function Ra(t){return Ks(t)?$n(t):Vi(t)}function Da(t){return Ks(t)?$n(t,!0):Fi(t)}var Na=Rr((function(t,e,n){Wi(t,e,n)})),Ha=Rr((function(t,e,n,i){Wi(t,e,n,i)})),Va=ro((function(t,e){var n={};if(null==t)return n;var i=!1;e=Ie(e,(function(e){return e=Ar(e,t),i||(i=e.length>1),e})),Pr(t,so(t),n),i&&(n=ci(n,7,no));for(var r=e.length;r--;)pr(n,e[r]);return n}));var Fa=ro((function(t,e){return null==t?{}:function(t,e){return Yi(t,e,(function(e,n){return Oa(t,n)}))}(t,e)}));function Ba(t,e){if(null==t)return{};var n=Ie(so(t),(function(t){return[t]}));return e=co(e),Yi(t,n,(function(t,n){return e(t,n[0])}))}var ja=$r(Ra),Ua=$r(Da);function za(t){return null==t?[]:$e(t,Ra(t))}var Wa=Vr((function(t,e,n){return e=e.toLowerCase(),t+(n?Ga(e):e)}));function Ga(t){return Qa(Aa(t).toLowerCase())}function qa(t){return(t=Aa(t))&&t.replace(At,rn).replace(Qt,"")}var Ya=Vr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Xa=Vr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ka=Hr("toLowerCase");var Ja=Vr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Za=Vr((function(t,e,n){return t+(n?" ":"")+Qa(e)}));var $a=Vr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Qa=Hr("toUpperCase");function tl(t,e,n){return t=Aa(t),(e=n?r:e)===r?function(t){return ie.test(t)}(t)?function(t){return t.match(ee)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var el=$i((function(t,e){try{return xe(t,r,e)}catch(t){return Qs(t)?t:new Tt(t)}})),nl=ro((function(t,e){return _e(e,(function(e){e=Bo(e),ai(t,e,Ps(t[e],t))})),t}));function il(t){return function(){return t}}var rl=jr(),ol=jr(!0);function sl(t){return t}function al(t){return Hi("function"==typeof t?t:ci(t,1))}var ll=$i((function(t,e){return function(n){return Pi(n,t,e)}})),ul=$i((function(t,e){return function(n){return Pi(t,n,e)}}));function cl(t,e,n){var i=Ra(e),r=Ti(e,i);null!=n||ia(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Ti(e,Ra(e)));var o=!(ia(n)&&"chain"in n&&!n.chain),s=ta(t);return _e(r,(function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=Lr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Re([this.value()],arguments))})})),t}function hl(){}var dl=Gr(Ie),pl=Gr(Me),fl=Gr(He);function vl(t){return So(t)?Ge(Bo(t)):function(t){return function(e){return xi(e,t)}}(t)}var gl=Yr(),ml=Yr(!0);function yl(){return[]}function bl(){return!1}var wl=Wr((function(t,e){return t+e}),0),Al=Jr("ceil"),El=Wr((function(t,e){return t/e}),1),Sl=Jr("floor");var Tl,xl=Wr((function(t,e){return t*e}),1),Cl=Jr("round"),_l=Wr((function(t,e){return t-e}),0);return Un.after=function(t,e){if("function"!=typeof e)throw new Ot(o);return t=ma(t),function(){if(--t<1)return e.apply(this,arguments)}},Un.ary=Os,Un.assign=Ea,Un.assignIn=Sa,Un.assignInWith=Ta,Un.assignWith=xa,Un.at=Ca,Un.before=Ls,Un.bind=Ps,Un.bindAll=nl,Un.bindKey=Is,Un.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ys(t)?t:[t]},Un.chain=vs,Un.chunk=function(t,e,n){e=(n?Eo(t,e,n):e===r)?1:wn(ma(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,l=i(ve(o/e));s<o;)l[a++]=or(t,s,s+=e);return l},Un.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},Un.concat=function(){var t=arguments.length;if(!t)return[];for(var e=i(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Re(Ys(n)?Lr(n):[n],bi(e,1))},Un.cond=function(t){var e=null==t?0:t.length,n=co();return t=e?Ie(t,(function(t){if("function"!=typeof t[1])throw new Ot(o);return[n(t[0]),t[1]]})):[],$i((function(n){for(var i=-1;++i<e;){var r=t[i];if(xe(r[0],this,n))return xe(r[1],this,n)}}))},Un.conforms=function(t){return function(t){var e=Ra(t);return function(n){return hi(n,t,e)}}(ci(t,1))},Un.constant=il,Un.countBy=ys,Un.create=function(t,e){var n=zn(t);return null==e?n:si(n,e)},Un.curry=function t(e,n,i){var o=Qr(e,8,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Un.curryRight=function t(e,n,i){var o=Qr(e,l,r,r,r,r,r,n=i?r:n);return o.placeholder=t.placeholder,o},Un.debounce=Rs,Un.defaults=_a,Un.defaultsDeep=ka,Un.defer=Ds,Un.delay=Ns,Un.difference=zo,Un.differenceBy=Wo,Un.differenceWith=Go,Un.drop=function(t,e,n){var i=null==t?0:t.length;return i?or(t,(e=n||e===r?1:ma(e))<0?0:e,i):[]},Un.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?or(t,0,(e=i-(e=n||e===r?1:ma(e)))<0?0:e):[]},Un.dropRightWhile=function(t,e){return t&&t.length?vr(t,co(e,3),!0,!0):[]},Un.dropWhile=function(t,e){return t&&t.length?vr(t,co(e,3),!0):[]},Un.fill=function(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Eo(t,e,n)&&(n=0,i=o),function(t,e,n,i){var o=t.length;for((n=ma(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:ma(i))<0&&(i+=o),i=n>i?0:ya(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},Un.filter=function(t,e){return(Ys(t)?Oe:yi)(t,co(e,3))},Un.flatMap=function(t,e){return bi(Cs(t,e),1)},Un.flatMapDeep=function(t,e){return bi(Cs(t,e),p)},Un.flatMapDepth=function(t,e,n){return n=n===r?1:ma(n),bi(Cs(t,e),n)},Un.flatten=Xo,Un.flattenDeep=function(t){return(null==t?0:t.length)?bi(t,p):[]},Un.flattenDepth=function(t,e){return(null==t?0:t.length)?bi(t,e=e===r?1:ma(e)):[]},Un.flip=function(t){return Qr(t,512)},Un.flow=rl,Un.flowRight=ol,Un.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Un.functions=function(t){return null==t?[]:Ti(t,Ra(t))},Un.functionsIn=function(t){return null==t?[]:Ti(t,Da(t))},Un.groupBy=Ss,Un.initial=function(t){return(null==t?0:t.length)?or(t,0,-1):[]},Un.intersection=Jo,Un.intersectionBy=Zo,Un.intersectionWith=$o,Un.invert=La,Un.invertBy=Pa,Un.invokeMap=Ts,Un.iteratee=al,Un.keyBy=xs,Un.keys=Ra,Un.keysIn=Da,Un.map=Cs,Un.mapKeys=function(t,e){var n={};return e=co(e,3),Ei(t,(function(t,i,r){ai(n,e(t,i,r),t)})),n},Un.mapValues=function(t,e){var n={};return e=co(e,3),Ei(t,(function(t,i,r){ai(n,i,e(t,i,r))})),n},Un.matches=function(t){return Ui(ci(t,1))},Un.matchesProperty=function(t,e){return zi(t,ci(e,1))},Un.memoize=Hs,Un.merge=Na,Un.mergeWith=Ha,Un.method=ll,Un.methodOf=ul,Un.mixin=cl,Un.negate=Vs,Un.nthArg=function(t){return t=ma(t),$i((function(e){return Gi(e,t)}))},Un.omit=Va,Un.omitBy=function(t,e){return Ba(t,Vs(co(e)))},Un.once=function(t){return Ls(2,t)},Un.orderBy=function(t,e,n,i){return null==t?[]:(Ys(e)||(e=null==e?[]:[e]),Ys(n=i?r:n)||(n=null==n?[]:[n]),qi(t,e,n))},Un.over=dl,Un.overArgs=Fs,Un.overEvery=pl,Un.overSome=fl,Un.partial=Bs,Un.partialRight=js,Un.partition=_s,Un.pick=Fa,Un.pickBy=Ba,Un.property=vl,Un.propertyOf=function(t){return function(e){return null==t?r:xi(t,e)}},Un.pull=ts,Un.pullAll=es,Un.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Xi(t,e,co(n,2)):t},Un.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Xi(t,e,r,n):t},Un.pullAt=ns,Un.range=gl,Un.rangeRight=ml,Un.rearg=Us,Un.reject=function(t,e){return(Ys(t)?Oe:yi)(t,Vs(co(e,3)))},Un.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=co(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return Ki(t,r),n},Un.rest=function(t,e){if("function"!=typeof t)throw new Ot(o);return $i(t,e=e===r?e:ma(e))},Un.reverse=is,Un.sampleSize=function(t,e,n){return e=(n?Eo(t,e,n):e===r)?1:ma(e),(Ys(t)?ti:tr)(t,e)},Un.set=function(t,e,n){return null==t?t:er(t,e,n)},Un.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:er(t,e,n,i)},Un.shuffle=function(t){return(Ys(t)?ei:rr)(t)},Un.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Eo(t,e,n)?(e=0,n=i):(e=null==e?0:ma(e),n=n===r?i:ma(n)),or(t,e,n)):[]},Un.sortBy=ks,Un.sortedUniq=function(t){return t&&t.length?ur(t):[]},Un.sortedUniqBy=function(t,e){return t&&t.length?ur(t,co(e,2)):[]},Un.split=function(t,e,n){return n&&"number"!=typeof n&&Eo(t,e,n)&&(e=n=r),(n=n===r?g:n>>>0)?(t=Aa(t))&&("string"==typeof e||null!=e&&!la(e))&&!(e=hr(e))&&an(t)?Sr(fn(t),0,n):t.split(e,n):[]},Un.spread=function(t,e){if("function"!=typeof t)throw new Ot(o);return e=null==e?0:wn(ma(e),0),$i((function(n){var i=n[e],r=Sr(n,0,e);return i&&Re(r,i),xe(t,this,r)}))},Un.tail=function(t){var e=null==t?0:t.length;return e?or(t,1,e):[]},Un.take=function(t,e,n){return t&&t.length?or(t,0,(e=n||e===r?1:ma(e))<0?0:e):[]},Un.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?or(t,(e=i-(e=n||e===r?1:ma(e)))<0?0:e,i):[]},Un.takeRightWhile=function(t,e){return t&&t.length?vr(t,co(e,3),!1,!0):[]},Un.takeWhile=function(t,e){return t&&t.length?vr(t,co(e,3)):[]},Un.tap=function(t,e){return e(t),t},Un.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Ot(o);return ia(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Rs(t,e,{leading:i,maxWait:e,trailing:r})},Un.thru=gs,Un.toArray=va,Un.toPairs=ja,Un.toPairsIn=Ua,Un.toPath=function(t){return Ys(t)?Ie(t,Bo):ha(t)?[t]:Lr(Fo(Aa(t)))},Un.toPlainObject=wa,Un.transform=function(t,e,n){var i=Ys(t),r=i||Zs(t)||da(t);if(e=co(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:ia(t)&&ta(o)?zn(Yt(t)):{}}return(r?_e:Ei)(t,(function(t,i,r){return e(n,t,i,r)})),n},Un.unary=function(t){return Os(t,1)},Un.union=rs,Un.unionBy=os,Un.unionWith=ss,Un.uniq=function(t){return t&&t.length?dr(t):[]},Un.uniqBy=function(t,e){return t&&t.length?dr(t,co(e,2)):[]},Un.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?dr(t,r,e):[]},Un.unset=function(t,e){return null==t||pr(t,e)},Un.unzip=as,Un.unzipWith=ls,Un.update=function(t,e,n){return null==t?t:fr(t,e,wr(n))},Un.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:fr(t,e,wr(n),i)},Un.values=za,Un.valuesIn=function(t){return null==t?[]:$e(t,Da(t))},Un.without=us,Un.words=tl,Un.wrap=function(t,e){return Bs(wr(e),t)},Un.xor=cs,Un.xorBy=hs,Un.xorWith=ds,Un.zip=ps,Un.zipObject=function(t,e){return yr(t||[],e||[],ii)},Un.zipObjectDeep=function(t,e){return yr(t||[],e||[],er)},Un.zipWith=fs,Un.entries=ja,Un.entriesIn=Ua,Un.extend=Sa,Un.extendWith=Ta,cl(Un,Un),Un.add=wl,Un.attempt=el,Un.camelCase=Wa,Un.capitalize=Ga,Un.ceil=Al,Un.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=ba(n))==n?n:0),e!==r&&(e=(e=ba(e))==e?e:0),ui(ba(t),e,n)},Un.clone=function(t){return ci(t,4)},Un.cloneDeep=function(t){return ci(t,5)},Un.cloneDeepWith=function(t,e){return ci(t,5,e="function"==typeof e?e:r)},Un.cloneWith=function(t,e){return ci(t,4,e="function"==typeof e?e:r)},Un.conformsTo=function(t,e){return null==e||hi(t,e,Ra(e))},Un.deburr=qa,Un.defaultTo=function(t,e){return null==t||t!=t?e:t},Un.divide=El,Un.endsWith=function(t,e,n){t=Aa(t),e=hr(e);var i=t.length,o=n=n===r?i:ui(ma(n),0,i);return(n-=e.length)>=0&&t.slice(n,o)==e},Un.eq=zs,Un.escape=function(t){return(t=Aa(t))&&Z.test(t)?t.replace(K,on):t},Un.escapeRegExp=function(t){return(t=Aa(t))&&ot.test(t)?t.replace(rt,"\\$&"):t},Un.every=function(t,e,n){var i=Ys(t)?Me:gi;return n&&Eo(t,e,n)&&(e=r),i(t,co(e,3))},Un.find=bs,Un.findIndex=qo,Un.findKey=function(t,e){return Fe(t,co(e,3),Ei)},Un.findLast=ws,Un.findLastIndex=Yo,Un.findLastKey=function(t,e){return Fe(t,co(e,3),Si)},Un.floor=Sl,Un.forEach=As,Un.forEachRight=Es,Un.forIn=function(t,e){return null==t?t:wi(t,co(e,3),Da)},Un.forInRight=function(t,e){return null==t?t:Ai(t,co(e,3),Da)},Un.forOwn=function(t,e){return t&&Ei(t,co(e,3))},Un.forOwnRight=function(t,e){return t&&Si(t,co(e,3))},Un.get=Ma,Un.gt=Ws,Un.gte=Gs,Un.has=function(t,e){return null!=t&&yo(t,e,Mi)},Un.hasIn=Oa,Un.head=Ko,Un.identity=sl,Un.includes=function(t,e,n,i){t=Ks(t)?t:za(t),n=n&&!i?ma(n):0;var r=t.length;return n<0&&(n=wn(r+n,0)),ca(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&je(t,e,n)>-1},Un.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:ma(n);return r<0&&(r=wn(i+r,0)),je(t,e,r)},Un.inRange=function(t,e,n){return e=ga(e),n===r?(n=e,e=0):n=ga(n),function(t,e,n){return t>=An(e,n)&&t<wn(e,n)}(t=ba(t),e,n)},Un.invoke=Ia,Un.isArguments=qs,Un.isArray=Ys,Un.isArrayBuffer=Xs,Un.isArrayLike=Ks,Un.isArrayLikeObject=Js,Un.isBoolean=function(t){return!0===t||!1===t||ra(t)&&_i(t)==w},Un.isBuffer=Zs,Un.isDate=$s,Un.isElement=function(t){return ra(t)&&1===t.nodeType&&!aa(t)},Un.isEmpty=function(t){if(null==t)return!0;if(Ks(t)&&(Ys(t)||"string"==typeof t||"function"==typeof t.splice||Zs(t)||da(t)||qs(t)))return!t.length;var e=mo(t);if(e==x||e==O)return!t.size;if(Co(t))return!Vi(t).length;for(var n in t)if(Nt.call(t,n))return!1;return!0},Un.isEqual=function(t,e){return Ri(t,e)},Un.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?Ri(t,e,r,n):!!i},Un.isError=Qs,Un.isFinite=function(t){return"number"==typeof t&&qe(t)},Un.isFunction=ta,Un.isInteger=ea,Un.isLength=na,Un.isMap=oa,Un.isMatch=function(t,e){return t===e||Di(t,e,po(e))},Un.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Di(t,e,po(e),n)},Un.isNaN=function(t){return sa(t)&&t!=+t},Un.isNative=function(t){if(xo(t))throw new Tt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ni(t)},Un.isNil=function(t){return null==t},Un.isNull=function(t){return null===t},Un.isNumber=sa,Un.isObject=ia,Un.isObjectLike=ra,Un.isPlainObject=aa,Un.isRegExp=la,Un.isSafeInteger=function(t){return ea(t)&&t>=-9007199254740991&&t<=f},Un.isSet=ua,Un.isString=ca,Un.isSymbol=ha,Un.isTypedArray=da,Un.isUndefined=function(t){return t===r},Un.isWeakMap=function(t){return ra(t)&&mo(t)==I},Un.isWeakSet=function(t){return ra(t)&&"[object WeakSet]"==_i(t)},Un.join=function(t,e){return null==t?"":yn.call(t,e)},Un.kebabCase=Ya,Un.last=Qo,Un.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=ma(n))<0?wn(i+o,0):An(o,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,o):Be(t,ze,o,!0)},Un.lowerCase=Xa,Un.lowerFirst=Ka,Un.lt=pa,Un.lte=fa,Un.max=function(t){return t&&t.length?mi(t,sl,ki):r},Un.maxBy=function(t,e){return t&&t.length?mi(t,co(e,2),ki):r},Un.mean=function(t){return We(t,sl)},Un.meanBy=function(t,e){return We(t,co(e,2))},Un.min=function(t){return t&&t.length?mi(t,sl,Bi):r},Un.minBy=function(t,e){return t&&t.length?mi(t,co(e,2),Bi):r},Un.stubArray=yl,Un.stubFalse=bl,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=xl,Un.nth=function(t,e){return t&&t.length?Gi(t,ma(e)):r},Un.noConflict=function(){return pe._===this&&(pe._=jt),this},Un.noop=hl,Un.now=Ms,Un.pad=function(t,e,n){t=Aa(t);var i=(e=ma(e))?pn(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return qr(me(r),n)+t+qr(ve(r),n)},Un.padEnd=function(t,e,n){t=Aa(t);var i=(e=ma(e))?pn(t):0;return e&&i<e?t+qr(e-i,n):t},Un.padStart=function(t,e,n){t=Aa(t);var i=(e=ma(e))?pn(t):0;return e&&i<e?qr(e-i,n)+t:t},Un.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Sn(Aa(t).replace(st,""),e||0)},Un.random=function(t,e,n){if(n&&"boolean"!=typeof n&&Eo(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=ga(t),e===r?(e=t,t=0):e=ga(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=Tn();return An(t+o*(e-t+ue("1e-"+((o+"").length-1))),e)}return Ji(t,e)},Un.reduce=function(t,e,n){var i=Ys(t)?De:Ye,r=arguments.length<3;return i(t,co(e,4),n,r,fi)},Un.reduceRight=function(t,e,n){var i=Ys(t)?Ne:Ye,r=arguments.length<3;return i(t,co(e,4),n,r,vi)},Un.repeat=function(t,e,n){return e=(n?Eo(t,e,n):e===r)?1:ma(e),Zi(Aa(t),e)},Un.replace=function(){var t=arguments,e=Aa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Un.result=function(t,e,n){var i=-1,o=(e=Ar(e,t)).length;for(o||(o=1,t=r);++i<o;){var s=null==t?r:t[Bo(e[i])];s===r&&(i=o,s=n),t=ta(s)?s.call(t):s}return t},Un.round=Cl,Un.runInContext=t,Un.sample=function(t){return(Ys(t)?Qn:Qi)(t)},Un.size=function(t){if(null==t)return 0;if(Ks(t))return ca(t)?pn(t):t.length;var e=mo(t);return e==x||e==O?t.size:Vi(t).length},Un.snakeCase=Ja,Un.some=function(t,e,n){var i=Ys(t)?He:sr;return n&&Eo(t,e,n)&&(e=r),i(t,co(e,3))},Un.sortedIndex=function(t,e){return ar(t,e)},Un.sortedIndexBy=function(t,e,n){return lr(t,e,co(n,2))},Un.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=ar(t,e);if(i<n&&zs(t[i],e))return i}return-1},Un.sortedLastIndex=function(t,e){return ar(t,e,!0)},Un.sortedLastIndexBy=function(t,e,n){return lr(t,e,co(n,2),!0)},Un.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ar(t,e,!0)-1;if(zs(t[n],e))return n}return-1},Un.startCase=Za,Un.startsWith=function(t,e,n){return t=Aa(t),n=null==n?0:ui(ma(n),0,t.length),e=hr(e),t.slice(n,n+e.length)==e},Un.subtract=_l,Un.sum=function(t){return t&&t.length?Xe(t,sl):0},Un.sumBy=function(t,e){return t&&t.length?Xe(t,co(e,2)):0},Un.template=function(t,e,n){var i=Un.templateSettings;n&&Eo(t,e,n)&&(e=r),t=Aa(t),e=Ta({},e,i,to);var o,s,a=Ta({},e.imports,i.imports,to),l=Ra(a),u=$e(a,l),c=0,h=e.interpolate||Et,d="__p += '",p=kt((e.escape||Et).source+"|"+h.source+"|"+(h===tt?ft:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),f="//# sourceURL="+(Nt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oe+"]")+"\n";t.replace(p,(function(e,n,i,r,a,l){return i||(i=r),d+=t.slice(c,l).replace(St,sn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e})),d+="';\n";var v=Nt.call(e,"variable")&&e.variable;if(v){if(dt.test(v))throw new Tt("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(G,""):d).replace(q,"$1").replace(Y,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=el((function(){return xt(l,f+"return "+d).apply(r,u)}));if(g.source=d,Qs(g))throw g;return g},Un.times=function(t,e){if((t=ma(t))<1||t>f)return[];var n=g,i=An(t,g);e=co(e),t-=g;for(var r=Ke(i,e);++n<t;)e(n);return r},Un.toFinite=ga,Un.toInteger=ma,Un.toLength=ya,Un.toLower=function(t){return Aa(t).toLowerCase()},Un.toNumber=ba,Un.toSafeInteger=function(t){return t?ui(ma(t),-9007199254740991,f):0===t?t:0},Un.toString=Aa,Un.toUpper=function(t){return Aa(t).toUpperCase()},Un.trim=function(t,e,n){if((t=Aa(t))&&(n||e===r))return Je(t);if(!t||!(e=hr(e)))return t;var i=fn(t),o=fn(e);return Sr(i,tn(i,o),en(i,o)+1).join("")},Un.trimEnd=function(t,e,n){if((t=Aa(t))&&(n||e===r))return t.slice(0,vn(t)+1);if(!t||!(e=hr(e)))return t;var i=fn(t);return Sr(i,0,en(i,fn(e))+1).join("")},Un.trimStart=function(t,e,n){if((t=Aa(t))&&(n||e===r))return t.replace(st,"");if(!t||!(e=hr(e)))return t;var i=fn(t);return Sr(i,tn(i,fn(e))).join("")},Un.truncate=function(t,e){var n=30,i="...";if(ia(e)){var o="separator"in e?e.separator:o;n="length"in e?ma(e.length):n,i="omission"in e?hr(e.omission):i}var s=(t=Aa(t)).length;if(an(t)){var a=fn(t);s=a.length}if(n>=s)return t;var l=n-pn(i);if(l<1)return i;var u=a?Sr(a,0,l).join(""):t.slice(0,l);if(o===r)return u+i;if(a&&(l+=u.length-l),la(o)){if(t.slice(l).search(o)){var c,h=u;for(o.global||(o=kt(o.source,Aa(vt.exec(o))+"g")),o.lastIndex=0;c=o.exec(h);)var d=c.index;u=u.slice(0,d===r?l:d)}}else if(t.indexOf(hr(o),l)!=l){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+i},Un.unescape=function(t){return(t=Aa(t))&&J.test(t)?t.replace(X,gn):t},Un.uniqueId=function(t){var e=++Ht;return Aa(t)+e},Un.upperCase=$a,Un.upperFirst=Qa,Un.each=As,Un.eachRight=Es,Un.first=Ko,cl(Un,(Tl={},Ei(Un,(function(t,e){Nt.call(Un.prototype,e)||(Tl[e]=t)})),Tl),{chain:!1}),Un.VERSION="4.17.21",_e(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Un[t].placeholder=Un})),_e(["drop","take"],(function(t,e){qn.prototype[t]=function(n){n=n===r?1:wn(ma(n),0);var i=this.__filtered__&&!e?new qn(this):this.clone();return i.__filtered__?i.__takeCount__=An(n,i.__takeCount__):i.__views__.push({size:An(n,g),type:t+(i.__dir__<0?"Right":"")}),i},qn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),_e(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;qn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:co(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),_e(["head","last"],(function(t,e){var n="take"+(e?"Right":"");qn.prototype[t]=function(){return this[n](1).value()[0]}})),_e(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");qn.prototype[t]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(sl)},qn.prototype.find=function(t){return this.filter(t).head()},qn.prototype.findLast=function(t){return this.reverse().find(t)},qn.prototype.invokeMap=$i((function(t,e){return"function"==typeof t?new qn(this):this.map((function(n){return Pi(n,t,e)}))})),qn.prototype.reject=function(t){return this.filter(Vs(co(t)))},qn.prototype.slice=function(t,e){t=ma(t);var n=this;return n.__filtered__&&(t>0||e<0)?new qn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=ma(e))<0?n.dropRight(-e):n.take(e-t)),n)},qn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},qn.prototype.toArray=function(){return this.take(g)},Ei(qn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=Un[i?"take"+("last"==e?"Right":""):e],s=i||/^find/.test(e);o&&(Un.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,l=e instanceof qn,u=a[0],c=l||Ys(e),h=function(t){var e=o.apply(Un,Re([t],a));return i&&d?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,p=!!this.__actions__.length,f=s&&!d,v=l&&!p;if(!s&&c){e=v?e:new qn(this);var g=t.apply(e,a);return g.__actions__.push({func:gs,args:[h],thisArg:r}),new Gn(g,d)}return f&&v?t.apply(this,a):(g=this.thru(h),f?i?g.value()[0]:g.value():g)})})),_e(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Lt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Un.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Ys(r)?r:[],t)}return this[n]((function(n){return e.apply(Ys(n)?n:[],t)}))}})),Ei(qn.prototype,(function(t,e){var n=Un[e];if(n){var i=n.name+"";Nt.call(In,i)||(In[i]=[]),In[i].push({name:e,func:n})}})),In[Ur(r,2).name]=[{name:"wrapper",func:r}],qn.prototype.clone=function(){var t=new qn(this.__wrapped__);return t.__actions__=Lr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Lr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Lr(this.__views__),t},qn.prototype.reverse=function(){if(this.__filtered__){var t=new qn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},qn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ys(t),i=e<0,r=n?t.length:0,o=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=An(e,t+s);break;case"takeRight":t=wn(t,e-s)}}return{start:t,end:e}}(0,r,this.__views__),s=o.start,a=o.end,l=a-s,u=i?a:s-1,c=this.__iteratees__,h=c.length,d=0,p=An(l,this.__takeCount__);if(!n||!i&&r==l&&p==l)return gr(t,this.__actions__);var f=[];t:for(;l--&&d<p;){for(var v=-1,g=t[u+=e];++v<h;){var m=c[v],y=m.iteratee,b=m.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue t;break t}}f[d++]=g}return f},Un.prototype.at=ms,Un.prototype.chain=function(){return vs(this)},Un.prototype.commit=function(){return new Gn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===r&&(this.__values__=va(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},Un.prototype.plant=function(t){for(var e,n=this;n instanceof Wn;){var i=Uo(n);i.__index__=0,i.__values__=r,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e},Un.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof qn){var e=t;return this.__actions__.length&&(e=new qn(this)),(e=e.reverse()).__actions__.push({func:gs,args:[is],thisArg:r}),new Gn(e,this.__chain__)}return this.thru(is)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return gr(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,te&&(Un.prototype[te]=function(){return this}),Un}();pe._=mn,(i=function(){return mn}.call(e,n,e,t))===r||(t.exports=i)}.call(this)},6511:function(){!function(){function t(t,e){return[].slice.call((e||document).querySelectorAll(t))}if(window.addEventListener){var e=window.StyleFix={link:function(t){try{if("stylesheet"!==t.rel||t.hasAttribute("data-noprefix"))return}catch(t){return}var n,i=t.href||t.getAttribute("data-href"),r=i.replace(/[^\/]+$/,""),o=(/^[a-z]{3,10}:/.exec(r)||[""])[0],s=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(r)||[""])[0],a=/^([^?]*)\??/.exec(i)[1],l=t.parentNode,u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&n()},n=function(){if((n=u.responseText)&&t.parentNode&&(!u.status||400>u.status||600<u.status)){if(n=e.fix(n,!0,t),r){var n=n.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,(function(t,e,n){return/^([a-z]{3,10}:|#)/i.test(n)?t:/^\/\//.test(n)?'url("'+o+n+'")':/^\//.test(n)?'url("'+s+n+'")':/^\?/.test(n)?'url("'+a+n+'")':'url("'+r+n+'")'})),i=r.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");n=n.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+i,"gi"),"$1")}(i=document.createElement("style")).textContent=n,i.media=t.media,i.disabled=t.disabled,i.setAttribute("data-href",t.getAttribute("href")),l.insertBefore(i,t),l.removeChild(t),i.media=t.media}};try{u.open("GET",i),u.send(null)}catch(t){"undefined"!=typeof XDomainRequest&&((u=new XDomainRequest).onerror=u.onprogress=function(){},u.onload=n,u.open("GET",i),u.send(null))}t.setAttribute("data-inprogress","")},styleElement:function(t){if(!t.hasAttribute("data-noprefix")){var n=t.disabled;t.textContent=e.fix(t.textContent,!0,t),t.disabled=n}},styleAttribute:function(t){var n=t.getAttribute("style");n=e.fix(n,!1,t);t.setAttribute("style",n)},process:function(){t('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),t("style").forEach(StyleFix.styleElement),t("[style]").forEach(StyleFix.styleAttribute)},register:function(t,n){(e.fixers=e.fixers||[]).splice(void 0===n?e.fixers.length:n,0,t)},fix:function(t,n,i){for(var r=0;r<e.fixers.length;r++)t=e.fixers[r](t,n,i)||t;return t},camelCase:function(t){return t.replace(/-([a-z])/g,(function(t,e){return e.toUpperCase()})).replace("-","")},deCamelCase:function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}))}};setTimeout((function(){t('link[rel="stylesheet"]').forEach(StyleFix.link)}),10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}}(),function(t){function e(t,e,i,r,o){return(t=n[t]).length&&(t=RegExp(e+"("+t.join("|")+")"+i,"gi"),o=o.replace(t,r)),o}if(window.StyleFix&&window.getComputedStyle){var n=window.PrefixFree={prefixCSS:function(t,i,r){var o=n.prefix;if(-1<n.functions.indexOf("linear-gradient")&&(t=t.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,(function(t,e,n,i){return e+(n||"")+"linear-gradient("+(90-i)+"deg"}))),t=e("functions","(\\s|:|,)","\\s*\\(","$1"+o+"$2(",t),t=e("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+o+"$2$3",t),t=e("properties","(^|\\{|\\s|;)","\\s*:","$1"+o+"$2:",t),n.properties.length){var s=RegExp("\\b("+n.properties.join("|")+")(?!:)","gi");t=e("valueProperties","\\b",":(.+?);",(function(t){return t.replace(s,o+"$1")}),t)}return i&&(t=e("selectors","","\\b",n.prefixSelector,t),t=e("atrules","@","\\b","@"+o+"$1",t)),(t=t.replace(RegExp("-"+o,"g"),"-")).replace(/-\*-(?=[a-z]+)/gi,n.prefix)},property:function(t){return(0<=n.properties.indexOf(t)?n.prefix:"")+t},value:function(t,i){return t=e("functions","(^|\\s|,)","\\s*\\(","$1"+n.prefix+"$2(",t),t=e("keywords","(^|\\s)","(\\s|$)","$1"+n.prefix+"$2$3",t),0<=n.valueProperties.indexOf(i)&&(t=e("properties","(^|\\s|,)","($|\\s|,)","$1"+n.prefix+"$2$3",t)),t},prefixSelector:function(t){return t.replace(/^:{1,2}/,(function(t){return t+n.prefix}))},prefixProperty:function(t,e){var i=n.prefix+t;return e?StyleFix.camelCase(i):i}};!function(){var t={},e=[],i=getComputedStyle(document.documentElement,null),r=document.createElement("div").style,o=function(n){if("-"===n.charAt(0)){e.push(n);var i=(n=n.split("-"))[1];for(t[i]=++t[i]||1;3<n.length;)n.pop(),i=n.join("-"),StyleFix.camelCase(i)in r&&-1===e.indexOf(i)&&e.push(i)}};if(0<i.length)for(var s=0;s<i.length;s++)o(i[s]);else for(var a in i)o(StyleFix.deCamelCase(a));var l,u;s=0;for(u in t)s<(i=t[u])&&(l=u,s=i);for(n.prefix="-"+l+"-",n.Prefix=StyleFix.camelCase(n.prefix),n.properties=[],s=0;s<e.length;s++)0===(a=e[s]).indexOf(n.prefix)&&(l=a.slice(n.prefix.length),StyleFix.camelCase(l)in r||n.properties.push(l));"Ms"==n.Prefix&&!("transform"in r)&&!("MsTransform"in r)&&"msTransform"in r&&n.properties.push("transform","transform-origin"),n.properties.sort()}(),function(){function t(t,e){return o[e]="",o[e]=t,!!o[e]}var e={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};e["repeating-linear-gradient"]=e["repeating-radial-gradient"]=e["radial-gradient"]=e["linear-gradient"];var i={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width"};n.functions=[],n.keywords=[];var r,o=document.createElement("div").style;for(r in e){var s,a=(s=e[r]).property;!t(s=r+"("+s.params+")",a)&&t(n.prefix+s,a)&&n.functions.push(r)}for(var l in i)!t(l,a=i[l])&&t(n.prefix+l,a)&&n.keywords.push(l)}(),function(){function e(t){return s.textContent=t+"{}",!!s.sheet.cssRules.length}var i={":read-only":null,":read-write":null,":any-link":null,"::selection":null},r={keyframes:"name",viewport:null,document:'regexp(".")'};n.selectors=[],n.atrules=[];var o,s=t.appendChild(document.createElement("style"));for(o in i){var a=o+(i[o]?"("+i[o]+")":"");!e(a)&&e(n.prefixSelector(a))&&n.selectors.push(o)}for(var l in r)!e("@"+(a=l+" "+(r[l]||"")))&&e("@"+n.prefix+a)&&n.atrules.push(l);t.removeChild(s)}(),n.valueProperties=["transition","transition-property"],t.className+=" "+n.prefix,StyleFix.register(n.prefixCSS)}}(document.documentElement)},5932:function(module){var CryptoJS=CryptoJS||function(t,e){var n={},i=n.lib={},r=i.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.$super.extend(this)}}}(),o=i.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;t=t.sigBytes;if(this.clamp(),i%4)for(var r=0;r<t;r++)e[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<t;r+=4)e[i+r>>>2]=n[r>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return o.create(n,e)}}),s=n.enc={},a=s.Hex={stringify:function(t){for(var e=t.words,n=(t=t.sigBytes,[]),i=0;i<t;i++){var r=e[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return o.create(n,e/2)}},l=s.Latin1={stringify:function(t){for(var e=t.words,n=(t=t.sigBytes,[]),i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return o.create(n,e)}},u=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},c=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=o.create(),this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,r=n.sigBytes,s=this.blockSize,a=r/(4*s);e=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,r=t.min(4*e,r);if(e){for(var l=0;l<e;l+=s)this._doProcessBlock(i,l);l=i.splice(0,e),n.sigBytes-=r}return o.create(l,r)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=c.extend({init:function(){this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize(),this._hash},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:16,_createHelper:function(t){return function(e,n){return t.create(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return h.HMAC.create(t,n).finalize(e)}}});var h=n.algo={};return n}(Math),i,p,m,h,n,C,WordArray,TinCan;i=CryptoJS,p=(m=i.lib).WordArray,m=m.Hasher,h=[],n=i.algo.SHA1=m.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=0;80>l;l++){if(16>l)h[l]=0|t[e+l];else{var u=h[l-3]^h[l-8]^h[l-14]^h[l-16];h[l]=u<<1|u>>>31}u=(i<<5|i>>>27)+a+h[l],u=20>l?u+(1518500249+(r&o|~r&s)):40>l?u+(1859775393+(r^o^s)):60>l?u+((r&o|r&s|o&s)-1894007588):u+((r^o^s)-899497514),a=s,s=o,o=r<<30|r>>>2,r=i,i=u}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[15+(i+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process()}}),i.SHA1=m._createHelper(n),i.HmacSHA1=m._createHmacHelper(n),C=CryptoJS,WordArray=C.lib.WordArray,C.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp();for(var r=[],o=0;o<n;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)r.push(i.charAt(s>>>6*(3-a)&63));var l=i.charAt(64);if(l)for(;r.length%4;)r.push(l);return r.join("")},parse:function(t){var e=(t=t.replace(/\s/g,"")).length,n=this._map,i=n.charAt(64);if(i){var r=t.indexOf(i);-1!=r&&(e=r)}for(var o=[],s=0,a=0;a<e;a++)if(a%4){var l=n.indexOf(t.charAt(a-1))<<a%4*2,u=n.indexOf(t.charAt(a))>>>6-a%4*2;o[s>>>2]|=(l|u)<<24-s%4*8,s++}return WordArray.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(){"use strict";var t={statementId:!0,voidedStatementId:!0,verb:!0,object:!0,registration:!0,context:!0,actor:!0,since:!0,until:!0,limit:!0,authoritative:!0,sparse:!0,instructor:!0,ascending:!0,continueToken:!0,agent:!0,activityId:!0,stateId:!0,profileId:!0,activity_platform:!0,grouping:!0,"Accept-Language":!0};(TinCan=function(t){this.log("constructor"),this.recordStores=[],this.actor=null,this.activity=null,this.registration=null,this.context=null,this.init(t)}).prototype={LOG_SRC:"TinCan",log:function(t,e){TinCan.DEBUG&&"undefined"!=typeof console&&console.log&&(e=e||this.LOG_SRC||"TinCan",console.log("TinCan."+e+": "+t))},init:function(t){var e;if(this.log("init"),(t=t||{}).hasOwnProperty("url")&&""!==t.url&&this._initFromQueryString(t.url),t.hasOwnProperty("recordStores")&&void 0!==t.recordStores)for(e=0;e<t.recordStores.length;e+=1)this.addRecordStore(t.recordStores[e]);t.hasOwnProperty("activity")&&(t.activity instanceof TinCan.Activity?this.activity=t.activity:this.activity=new TinCan.Activity(t.activity)),t.hasOwnProperty("actor")&&(t.actor instanceof TinCan.Agent?this.actor=t.actor:this.actor=new TinCan.Agent(t.actor)),t.hasOwnProperty("context")&&(t.context instanceof TinCan.Context?this.context=t.context:this.context=new TinCan.Context(t.context)),t.hasOwnProperty("registration")&&(this.registration=t.registration)},_initFromQueryString:function(e){this.log("_initFromQueryString");var n,i,r,o=TinCan.Utils.parseURL(e).params,s=["endpoint","auth"],a={},l=null;if(o.hasOwnProperty("actor")){this.log("_initFromQueryString - found actor: "+o.actor);try{this.actor=TinCan.Agent.fromJSON(o.actor),delete o.actor}catch(t){this.log("_initFromQueryString - failed to set actor: "+t)}}if(o.hasOwnProperty("activity_id")&&(this.activity=new TinCan.Activity({id:o.activity_id}),delete o.activity_id),(o.hasOwnProperty("activity_platform")||o.hasOwnProperty("registration")||o.hasOwnProperty("grouping"))&&(r={},o.hasOwnProperty("activity_platform")&&(r.platform=o.activity_platform,delete o.activity_platform),o.hasOwnProperty("registration")&&(r.registration=this.registration=o.registration,delete o.registration),o.hasOwnProperty("grouping")&&(r.contextActivities={},r.contextActivities.grouping=o.grouping,delete o.grouping),this.context=new TinCan.Context(r)),o.hasOwnProperty("endpoint")){for(n=0;n<s.length;n+=1)i=s[n],o.hasOwnProperty(i)&&(a[i]=o[i],delete o[i]);for(n in o)o.hasOwnProperty(n)&&(t.hasOwnProperty(n)?delete o[n]:(l=l||{})[n]=o[n]);null!==l&&(a.extended=l),a.allowFail=!1,this.addRecordStore(a)}},addRecordStore:function(t){var e;this.log("addRecordStore"),e=t instanceof TinCan.LRS?t:new TinCan.LRS(t),this.recordStores.push(e)},prepareStatement:function(t){return this.log("prepareStatement"),t instanceof TinCan.Statement||(t=new TinCan.Statement(t)),null===t.actor&&null!==this.actor&&(t.actor=this.actor),null===t.target&&null!==this.activity&&(t.target=this.activity),null!==this.context&&(null===t.context?t.context=this.context:(null===t.context.registration&&(t.context.registration=this.context.registration),null===t.context.platform&&(t.context.platform=this.context.platform),null!==this.context.contextActivities&&(null===t.context.contextActivities?t.context.contextActivities=this.context.contextActivities:(null!==this.context.contextActivities.grouping&&null===t.context.contextActivities.grouping&&(t.context.contextActivities.grouping=this.context.contextActivities.grouping),null!==this.context.contextActivities.parent&&null===t.context.contextActivities.parent&&(t.context.contextActivities.parent=this.context.contextActivities.parent),null!==this.context.contextActivities.other&&null===t.context.contextActivities.other&&(t.context.contextActivities.other=this.context.contextActivities.other))))),t},sendStatement:function(t,e){this.log("sendStatement");var n,i,r,o=this,s=this.prepareStatement(t),a=this.recordStores.length,l=[],u=[];if(a>0)for("function"==typeof e&&(r=function(t,n){var i;o.log("sendStatement - callbackWrapper: "+a),a>1?(a-=1,u.push({err:t,xhr:n})):1===a?(u.push({err:t,xhr:n}),i=[u,s],e.apply(this,i)):o.log("sendStatement - unexpected record store count: "+a)}),i=0;i<a;i+=1)n=this.recordStores[i],l.push(n.saveStatement(s,{callback:r}));else this.log("[warning] sendStatement: No LRSs added yet (statement not sent)"),"function"==typeof e&&e.apply(this,[null,s]);return{statement:s,results:l}},getStatement:function(t,e){if(this.log("getStatement"),this.recordStores.length>0)return this.recordStores[0].retrieveStatement(t,{callback:e});this.log("[warning] getStatement: No LRSs added yet (statement not retrieved)")},voidStatement:function(t,e,n){this.log("voidStatement");var i,r,o,s,a,l=this,u=this.recordStores.length,c=[],h=[];if(t instanceof TinCan.Statement&&(t=t.id),void 0!==n.actor?r=n.actor:null!==this.actor&&(r=this.actor),o=new TinCan.Statement({actor:r,verb:{id:"http://adlnet.gov/expapi/verbs/voided"},target:{objectType:"StatementRef",id:t}}),u>0)for("function"==typeof e&&(a=function(t,n){var i;l.log("voidStatement - callbackWrapper: "+u),u>1?(u-=1,h.push({err:t,xhr:n})):1===u?(h.push({err:t,xhr:n}),i=[h,o],e.apply(this,i)):l.log("voidStatement - unexpected record store count: "+u)}),s=0;s<u;s+=1)i=this.recordStores[s],c.push(i.saveStatement(o,{callback:a}));else this.log("[warning] voidStatement: No LRSs added yet (statement not sent)"),"function"==typeof e&&e.apply(this,[null,o]);return{statement:o,results:c}},getVoidedStatement:function(t,e){if(this.log("getVoidedStatement"),this.recordStores.length>0)return this.recordStores[0].retrieveVoidedStatement(t,{callback:e});this.log("[warning] getVoidedStatement: No LRSs added yet (statement not retrieved)")},sendStatements:function(t,e){this.log("sendStatements");var n,i,r,o=this,s=[],a=this.recordStores.length,l=[],u=[];if(0===t.length)"function"==typeof e&&e.apply(this,[null,s]);else{for(i=0;i<t.length;i+=1)s.push(this.prepareStatement(t[i]));if(a>0)for("function"==typeof e&&(r=function(t,n){var i;o.log("sendStatements - callbackWrapper: "+a),a>1?(a-=1,u.push({err:t,xhr:n})):1===a?(u.push({err:t,xhr:n}),i=[u,s],e.apply(this,i)):o.log("sendStatements - unexpected record store count: "+a)}),i=0;i<a;i+=1)n=this.recordStores[i],l.push(n.saveStatements(s,{callback:r}));else this.log("[warning] sendStatements: No LRSs added yet (statements not sent)"),"function"==typeof e&&e.apply(this,[null,s])}return{statements:s,results:l}},getStatements:function(t){this.log("getStatements");var e,n,i={};if(this.recordStores.length>0)return e=this.recordStores[0],n=(t=t||{}).params||{},t.sendActor&&null!==this.actor&&("0.9"===e.version||"0.95"===e.version?n.actor=this.actor:n.agent=this.actor),t.sendActivity&&null!==this.activity&&("0.9"===e.version||"0.95"===e.version?n.target=this.activity:n.activity=this.activity),void 0===n.registration&&null!==this.registration&&(n.registration=this.registration),i={params:n},void 0!==t.callback&&(i.callback=t.callback),e.queryStatements(i);this.log("[warning] getStatements: No LRSs added yet (statements not read)")},getState:function(t,e){var n,i;if(this.log("getState"),this.recordStores.length>0)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor,activity:void 0!==e.activity?e.activity:this.activity},void 0!==e.registration?n.registration=e.registration:null!==this.registration&&(n.registration=this.registration),void 0!==e.callback&&(n.callback=e.callback),i.retrieveState(t,n);this.log("[warning] getState: No LRSs added yet (state not retrieved)")},setState:function(t,e,n){var i,r;if(this.log("setState"),this.recordStores.length>0)return r=this.recordStores[0],i={agent:void 0!==(n=n||{}).agent?n.agent:this.actor,activity:void 0!==n.activity?n.activity:this.activity},void 0!==n.registration?i.registration=n.registration:null!==this.registration&&(i.registration=this.registration),void 0!==n.lastSHA1&&(i.lastSHA1=n.lastSHA1),void 0!==n.contentType&&(i.contentType=n.contentType,void 0!==n.overwriteJSON&&!n.overwriteJSON&&TinCan.Utils.isApplicationJSON(n.contentType)&&(i.method="POST")),void 0!==n.callback&&(i.callback=n.callback),r.saveState(t,e,i);this.log("[warning] setState: No LRSs added yet (state not saved)")},deleteState:function(t,e){var n,i;if(this.log("deleteState"),this.recordStores.length>0)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor,activity:void 0!==e.activity?e.activity:this.activity},void 0!==e.registration?n.registration=e.registration:null!==this.registration&&(n.registration=this.registration),void 0!==e.callback&&(n.callback=e.callback),i.dropState(t,n);this.log("[warning] deleteState: No LRSs added yet (state not deleted)")},getActivityProfile:function(t,e){var n,i;if(this.log("getActivityProfile"),this.recordStores.length>0)return i=this.recordStores[0],n={activity:void 0!==(e=e||{}).activity?e.activity:this.activity},void 0!==e.callback&&(n.callback=e.callback),i.retrieveActivityProfile(t,n);this.log("[warning] getActivityProfile: No LRSs added yet (activity profile not retrieved)")},setActivityProfile:function(t,e,n){var i,r;if(this.log("setActivityProfile"),this.recordStores.length>0)return r=this.recordStores[0],i={activity:void 0!==(n=n||{}).activity?n.activity:this.activity},void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&(i.lastSHA1=n.lastSHA1),void 0!==n.contentType&&(i.contentType=n.contentType,void 0!==n.overwriteJSON&&!n.overwriteJSON&&TinCan.Utils.isApplicationJSON(n.contentType)&&(i.method="POST")),r.saveActivityProfile(t,e,i);this.log("[warning] setActivityProfile: No LRSs added yet (activity profile not saved)")},deleteActivityProfile:function(t,e){var n,i;if(this.log("deleteActivityProfile"),this.recordStores.length>0)return i=this.recordStores[0],n={activity:void 0!==(e=e||{}).activity?e.activity:this.activity},void 0!==e.callback&&(n.callback=e.callback),i.dropActivityProfile(t,n);this.log("[warning] deleteActivityProfile: No LRSs added yet (activity profile not deleted)")},getAgentProfile:function(t,e){var n,i;if(this.log("getAgentProfile"),this.recordStores.length>0)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor},void 0!==e.callback&&(n.callback=e.callback),i.retrieveAgentProfile(t,n);this.log("[warning] getAgentProfile: No LRSs added yet (agent profile not retrieved)")},setAgentProfile:function(t,e,n){var i,r;if(this.log("setAgentProfile"),this.recordStores.length>0)return r=this.recordStores[0],i={agent:void 0!==(n=n||{}).agent?n.agent:this.actor},void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&(i.lastSHA1=n.lastSHA1),void 0!==n.contentType&&(i.contentType=n.contentType,void 0!==n.overwriteJSON&&!n.overwriteJSON&&TinCan.Utils.isApplicationJSON(n.contentType)&&(i.method="POST")),r.saveAgentProfile(t,e,i);this.log("[warning] setAgentProfile: No LRSs added yet (agent profile not saved)")},deleteAgentProfile:function(t,e){var n,i;if(this.log("deleteAgentProfile"),this.recordStores.length>0)return i=this.recordStores[0],n={agent:void 0!==(e=e||{}).agent?e.agent:this.actor},void 0!==e.callback&&(n.callback=e.callback),i.dropAgentProfile(t,n);this.log("[warning] deleteAgentProfile: No LRSs added yet (agent profile not deleted)")}},TinCan.DEBUG=!1,TinCan.enableDebug=function(){TinCan.DEBUG=!0},TinCan.disableDebug=function(){TinCan.DEBUG=!1},TinCan.versions=function(){return["1.0.1","1.0.0","0.95","0.9"]},module.exports=TinCan}(),function(){"use strict";TinCan.Utils={getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},getISODateString:function(t){function e(t,e){var n,i;for(null==t&&(t=0),null==e&&(e=2),n=Math.pow(10,e-1),i=t.toString();t<n&&n>1;)i="0"+i,n/=10;return i}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+e(t.getUTCMilliseconds(),3)+"Z"},convertISO8601DurationToMilliseconds:function(t){var e,n,i,r,o=t.indexOf("-")>=0,s=t.indexOf("T"),a=t.indexOf("H"),l=t.indexOf("M"),u=t.indexOf("S");if(-1===s||-1!==l&&l<s||-1!==t.indexOf("D")||-1!==t.indexOf("Y"))throw new Error("ISO 8601 timestamps including years, months and/or days are not currently supported");return-1===a?(a=s,e=0):e=parseInt(t.slice(s+1,a),10),-1===l?(l=s,n=0):n=parseInt(t.slice(a+1,l),10),i=parseFloat(t.slice(l+1,u)),r=parseInt(1e3*(60*(60*e+n)+i),10),isNaN(r)&&(r=0),o&&(r*=-1),r},convertMillisecondsToISO8601Duration:function(t){var e,n,i=parseInt(t,10),r="",o="";return i<0&&(r="-",i*=-1),o=r+"PT",(e=parseInt(i/36e5,10))>0&&(o+=e+"H"),(n=parseInt(i%36e5/6e4,10))>0&&(o+=n+"M"),o+=i%36e5%6e4/1e3+"S"},getSHA1String:function(t){return CryptoJS.SHA1(t).toString(CryptoJS.enc.Hex)},getBase64String:function(t){return CryptoJS.enc.Base64.stringify(CryptoJS.enc.Latin1.parse(t))},getLangDictionaryValue:function(t,e){var n,i=this[t];if(void 0!==e&&void 0!==i[e])return i[e];if(void 0!==i.und)return i.und;if(void 0!==i["en-US"])return i["en-US"];for(n in i)if(i.hasOwnProperty(n))return i[n];return""},parseURL:function(t){var e,n,i,r,o=/\+/g,s=/([^&=]+)=?([^&]*)/g,a=function(t){return decodeURIComponent(t.replace(o," "))};if(e=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),(i={protocol:(n=t.match(e))[1],host:n[2],hostname:n[3],port:n[4],pathname:n[5],search:n[6],hash:n[7],params:{}}).path=i.protocol+"//"+i.host+i.pathname,""!==i.search)for(;r=s.exec(i.search.substring(1));)i.params[a(r[1])]=a(r[2]);return i},getServerRoot:function(t){var e=t.split("/");return e[0]+"//"+e[2]},getContentTypeFromHeader:function(t){return String(t).split(";")[0]},isApplicationJSON:function(t){return 0===TinCan.Utils.getContentTypeFromHeader(t).toLowerCase().indexOf("application/json")}}}(),function(){"use strict";var t=TinCan.LRS=function(t){this.log("constructor"),this.endpoint=null,this.version=null,this.auth=null,this.allowFail=!0,this.extended=null,this.init(t)};t.prototype={LOG_SRC:"LRS",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=TinCan.versions(),i=!1;if((t=t||{}).hasOwnProperty("alertOnRequestFailure")&&this.log("'alertOnRequestFailure' is deprecated (alerts have been removed) no need to set it now"),!t.hasOwnProperty("endpoint")||null===t.endpoint||""===t.endpoint)throw this.log("[error] LRS invalid: no endpoint"),{code:3,mesg:"LRS invalid: no endpoint"};if(this.endpoint=String(t.endpoint),"/"!==this.endpoint.slice(-1)&&(this.log("adding trailing slash to endpoint"),this.endpoint+="/"),t.hasOwnProperty("allowFail")&&(this.allowFail=t.allowFail),t.hasOwnProperty("auth")?this.auth=t.auth:t.hasOwnProperty("username")&&t.hasOwnProperty("password")&&(this.auth="Basic "+TinCan.Utils.getBase64String(t.username+":"+t.password)),t.hasOwnProperty("extended")&&(this.extended=t.extended),this._initByEnvironment(t),void 0!==t.version){for(this.log("version: "+t.version),e=0;e<n.length;e+=1)if(n[e]===t.version){i=!0;break}if(!i)throw this.log("[error] LRS invalid: version not supported ("+t.version+")"),{code:5,mesg:"LRS invalid: version not supported ("+t.version+")"};this.version=t.version}else this.version=n[0]},_initByEnvironment:function(){this.log("_initByEnvironment not overloaded - no environment loaded?")},_makeRequest:function(){this.log("_makeRequest not overloaded - no environment loaded?")},_IEModeConversion:function(){this.log("_IEModeConversion not overloaded - browser environment not loaded.")},sendRequest:function(t){this.log("sendRequest");var e,n=this.endpoint+t.url,i={};if(0===t.url.indexOf("http")&&(n=t.url),null!==this.extended)for(e in t.params=t.params||{},this.extended)this.extended.hasOwnProperty(e)&&(t.params.hasOwnProperty(e)||null!==this.extended[e]&&(t.params[e]=this.extended[e]));for(e in i.Authorization=this.auth,"0.9"!==this.version&&(i["X-Experience-API-Version"]=this.version),t.headers)t.headers.hasOwnProperty(e)&&(i[e]=t.headers[e]);return this._makeRequest(n,i,t)},about:function(t){var e,n,i;if(this.log("about"),e={url:"about",method:"GET",params:{}},void 0!==(t=t||{}).callback&&(i=function(e,n){var i=n;null===e&&(i=TinCan.About.fromJSON(n.responseText)),t.callback(e,i)},e.callback=i),n=this.sendRequest(e),!i)return null===n.err&&(n.xhr=TinCan.About.fromJSON(n.xhr.responseText)),n},saveStatement:function(t,e){var n,i;this.log("saveStatement"),e=e||{};try{i=t.asVersion(this.version)}catch(t){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(t,null):{err:t,xhr:null})}return n={url:"statements",data:JSON.stringify(i),headers:{"Content-Type":"application/json"}},null!==t.id?(n.method="PUT",n.params={statementId:t.id}):n.method="POST",void 0!==e.callback&&(n.callback=e.callback),this.sendRequest(n)},retrieveStatement:function(t,e){var n,i,r;return this.log("retrieveStatement"),n={url:"statements",method:"GET",params:{statementId:t}},void 0!==(e=e||{}).callback&&(r=function(t,n){var i=n;null===t&&(i=TinCan.Statement.fromJSON(n.responseText)),e.callback(t,i)},n.callback=r),i=this.sendRequest(n),r||(i.statement=null,null===i.err&&(i.statement=TinCan.Statement.fromJSON(i.xhr.responseText))),i},retrieveVoidedStatement:function(t,e){var n,i,r;return this.log("retrieveVoidedStatement"),e=e||{},n={url:"statements",method:"GET",params:{}},"0.9"===this.version||"0.95"===this.version?n.params.statementId=t:n.params.voidedStatementId=t,void 0!==e.callback&&(r=function(t,n){var i=n;null===t&&(i=TinCan.Statement.fromJSON(n.responseText)),e.callback(t,i)},n.callback=r),i=this.sendRequest(n),r||(i.statement=null,null===i.err&&(i.statement=TinCan.Statement.fromJSON(i.xhr.responseText))),i},saveStatements:function(t,e){this.log("saveStatements");var n,i,r,o=[];if(e=e||{},0===t.length)return void 0!==e.callback?void e.callback(new Error("no statements"),null):{err:new Error("no statements"),xhr:null};for(r=0;r<t.length;r+=1){try{i=t[r].asVersion(this.version)}catch(t){return this.allowFail?(this.log("[warning] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(null,null):{err:null,xhr:null}):(this.log("[error] statement could not be serialized in version ("+this.version+"): "+t),void 0!==e.callback?void e.callback(t,null):{err:t,xhr:null})}o.push(i)}return n={url:"statements",method:"POST",data:JSON.stringify(o),headers:{"Content-Type":"application/json"}},void 0!==e.callback&&(n.callback=e.callback),this.sendRequest(n)},queryStatements:function(t){var e,n,i;this.log("queryStatements"),(t=t||{}).params=t.params||{};try{e=this._queryStatementsRequestCfg(t)}catch(e){return this.log("[error] Query statements failed - "+e),void 0!==t.callback&&t.callback(e,{}),{err:e,statementsResult:null}}return void 0!==t.callback&&(i=function(e,n){var i=n;null===e&&(i=TinCan.StatementsResult.fromJSON(n.responseText)),t.callback(e,i)},e.callback=i),(n=this.sendRequest(e)).config=e,i||(n.statementsResult=null,null===n.err&&(n.statementsResult=TinCan.StatementsResult.fromJSON(n.xhr.responseText))),n},_queryStatementsRequestCfg:function(t){this.log("_queryStatementsRequestCfg");var e,n,i={},r={url:"statements",method:"GET",params:i},o=["agent","actor","object","instructor"],s=["verb","activity"],a=["registration","context","since","until","limit","authoritative","sparse","ascending","related_activities","related_agents","format","attachments"],l={verb:!0,registration:!0,since:!0,until:!0,limit:!0,ascending:!0},u={.9:{supported:{actor:!0,instructor:!0,target:!0,object:!0,context:!0,authoritative:!0,sparse:!0}},"1.0.0":{supported:{agent:!0,activity:!0,related_activities:!0,related_agents:!0,format:!0,attachments:!0}}};for(n in u[.95]=u[.9],u["1.0.1"]=u["1.0.0"],t.params.hasOwnProperty("target")&&(t.params.object=t.params.target),t.params)if(t.params.hasOwnProperty(n)&&void 0===l[n]&&void 0===u[this.version].supported[n])throw"Unrecognized query parameter configured: "+n;for(e=0;e<o.length;e+=1)void 0!==t.params[o[e]]&&(i[o[e]]=JSON.stringify(t.params[o[e]].asVersion(this.version)));for(e=0;e<s.length;e+=1)void 0!==t.params[s[e]]&&(i[s[e]]=t.params[s[e]].id);for(e=0;e<a.length;e+=1)void 0!==t.params[a[e]]&&(i[a[e]]=t.params[a[e]]);return r},moreStatements:function(t){var e,n,i,r,o;return this.log("moreStatements: "+t.url),t=t||{},r=TinCan.Utils.parseURL(t.url),o=TinCan.Utils.getServerRoot(this.endpoint),0===r.path.indexOf("/statements")&&(r.path=this.endpoint.replace(o,"")+r.path,this.log("converting non-standard more URL to "+r.path)),0!==r.path.indexOf("/")&&(r.path="/"+r.path),e={method:"GET",url:o+r.path,params:r.params},void 0!==t.callback&&(i=function(e,n){var i=n;null===e&&(i=TinCan.StatementsResult.fromJSON(n.responseText)),t.callback(e,i)},e.callback=i),(n=this.sendRequest(e)).config=e,i||(n.statementsResult=null,null===n.err&&(n.statementsResult=TinCan.StatementsResult.fromJSON(n.xhr.responseText))),n},retrieveState:function(t,e){this.log("retrieveState");var n,i,r={},o={};if(r={stateId:t,activityId:e.activity.id},"0.9"===this.version?r.actor=JSON.stringify(e.agent.asVersion(this.version)):r.agent=JSON.stringify(e.agent.asVersion(this.version)),void 0!==e.registration&&null!==e.registration&&("0.9"===this.version?r.registrationId=e.registration:r.registration=e.registration),o={url:"activities/state",method:"GET",params:r,ignore404:!0},void 0!==e.callback&&(i=function(n,i){var r=i;if(null===n)if(404===i.status)r=null;else if(r=new TinCan.State({id:t,contents:i.responseText}),void 0!==i.getResponseHeader&&null!==i.getResponseHeader("ETag")&&""!==i.getResponseHeader("ETag")?r.etag=i.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(i.responseText),void 0!==i.contentType?r.contentType=i.contentType:void 0!==i.getResponseHeader&&null!==i.getResponseHeader("Content-Type")&&""!==i.getResponseHeader("Content-Type")&&(r.contentType=i.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(t){this.log("retrieveState - failed to deserialize JSON: "+t)}e.callback(n,r)},o.callback=i),n=this.sendRequest(o),!i&&(n.state=null,null===n.err&&404!==n.xhr.status&&(n.state=new TinCan.State({id:t,contents:n.xhr.responseText}),void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("ETag")&&""!==n.xhr.getResponseHeader("ETag")?n.state.etag=n.xhr.getResponseHeader("ETag"):n.state.etag=TinCan.Utils.getSHA1String(n.xhr.responseText),void 0!==n.xhr.contentType?n.state.contentType=n.xhr.contentType:void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("Content-Type")&&""!==n.xhr.getResponseHeader("Content-Type")&&(n.state.contentType=n.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(n.state.contentType))))try{n.state.contents=JSON.parse(n.state.contents)}catch(t){this.log("retrieveState - failed to deserialize JSON: "+t)}return n},saveState:function(t,e,n){var i,r;return this.log("saveState"),void 0===n.contentType&&(n.contentType="application/octet-stream"),"object"==typeof e&&TinCan.Utils.isApplicationJSON(n.contentType)&&(e=JSON.stringify(e)),void 0!==n.method&&"POST"===n.method||(n.method="PUT"),i={stateId:t,activityId:n.activity.id},"0.9"===this.version?i.actor=JSON.stringify(n.agent.asVersion(this.version)):i.agent=JSON.stringify(n.agent.asVersion(this.version)),void 0!==n.registration&&null!==n.registration&&("0.9"===this.version?i.registrationId=n.registration:i.registration=n.registration),r={url:"activities/state",method:n.method,params:i,data:e,headers:{"Content-Type":n.contentType}},void 0!==n.callback&&(r.callback=n.callback),void 0!==n.lastSHA1&&null!==n.lastSHA1&&(r.headers["If-Match"]=n.lastSHA1),this.sendRequest(r)},dropState:function(t,e){var n,i;return this.log("dropState"),n={activityId:e.activity.id},"0.9"===this.version?n.actor=JSON.stringify(e.agent.asVersion(this.version)):n.agent=JSON.stringify(e.agent.asVersion(this.version)),null!==t&&(n.stateId=t),void 0!==e.registration&&null!==e.registration&&("0.9"===this.version?n.registrationId=e.registration:n.registration=e.registration),i={url:"activities/state",method:"DELETE",params:n},void 0!==e.callback&&(i.callback=e.callback),this.sendRequest(i)},retrieveActivityProfile:function(t,e){this.log("retrieveActivityProfile");var n,i,r={};if(r={url:"activities/profile",method:"GET",params:{profileId:t,activityId:e.activity.id},ignore404:!0},void 0!==e.callback&&(i=function(n,i){var r=i;if(null===n)if(404===i.status)r=null;else if(r=new TinCan.ActivityProfile({id:t,activity:e.activity,contents:i.responseText}),void 0!==i.getResponseHeader&&null!==i.getResponseHeader("ETag")&&""!==i.getResponseHeader("ETag")?r.etag=i.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(i.responseText),void 0!==i.contentType?r.contentType=i.contentType:void 0!==i.getResponseHeader&&null!==i.getResponseHeader("Content-Type")&&""!==i.getResponseHeader("Content-Type")&&(r.contentType=i.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(t){this.log("retrieveActivityProfile - failed to deserialize JSON: "+t)}e.callback(n,r)},r.callback=i),n=this.sendRequest(r),!i&&(n.profile=null,null===n.err&&404!==n.xhr.status&&(n.profile=new TinCan.ActivityProfile({id:t,activity:e.activity,contents:n.xhr.responseText}),void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("ETag")&&""!==n.xhr.getResponseHeader("ETag")?n.profile.etag=n.xhr.getResponseHeader("ETag"):n.profile.etag=TinCan.Utils.getSHA1String(n.xhr.responseText),void 0!==n.xhr.contentType?n.profile.contentType=n.xhr.contentType:void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("Content-Type")&&""!==n.xhr.getResponseHeader("Content-Type")&&(n.profile.contentType=n.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(n.profile.contentType))))try{n.profile.contents=JSON.parse(n.profile.contents)}catch(t){this.log("retrieveActivityProfile - failed to deserialize JSON: "+t)}return n},saveActivityProfile:function(t,e,n){var i;return this.log("saveActivityProfile"),void 0===n.contentType&&(n.contentType="application/octet-stream"),void 0!==n.method&&"POST"===n.method||(n.method="PUT"),"object"==typeof e&&TinCan.Utils.isApplicationJSON(n.contentType)&&(e=JSON.stringify(e)),i={url:"activities/profile",method:n.method,params:{profileId:t,activityId:n.activity.id},data:e,headers:{"Content-Type":n.contentType}},void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&null!==n.lastSHA1?i.headers["If-Match"]=n.lastSHA1:i.headers["If-None-Match"]="*",this.sendRequest(i)},dropActivityProfile:function(t,e){var n;return this.log("dropActivityProfile"),n={url:"activities/profile",method:"DELETE",params:{profileId:t,activityId:e.activity.id}},void 0!==e.callback&&(n.callback=e.callback),this.sendRequest(n)},retrieveAgentProfile:function(t,e){this.log("retrieveAgentProfile");var n,i,r={};if(r={method:"GET",params:{profileId:t},ignore404:!0},"0.9"===this.version?(r.url="actors/profile",r.params.actor=JSON.stringify(e.agent.asVersion(this.version))):(r.url="agents/profile",r.params.agent=JSON.stringify(e.agent.asVersion(this.version))),void 0!==e.callback&&(i=function(n,i){var r=i;if(null===n)if(404===i.status)r=null;else if(r=new TinCan.AgentProfile({id:t,agent:e.agent,contents:i.responseText}),void 0!==i.getResponseHeader&&null!==i.getResponseHeader("ETag")&&""!==i.getResponseHeader("ETag")?r.etag=i.getResponseHeader("ETag"):r.etag=TinCan.Utils.getSHA1String(i.responseText),void 0!==i.contentType?r.contentType=i.contentType:void 0!==i.getResponseHeader&&null!==i.getResponseHeader("Content-Type")&&""!==i.getResponseHeader("Content-Type")&&(r.contentType=i.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(r.contentType))try{r.contents=JSON.parse(r.contents)}catch(t){this.log("retrieveAgentProfile - failed to deserialize JSON: "+t)}e.callback(n,r)},r.callback=i),n=this.sendRequest(r),!i&&(n.profile=null,null===n.err&&404!==n.xhr.status&&(n.profile=new TinCan.AgentProfile({id:t,agent:e.agent,contents:n.xhr.responseText}),void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("ETag")&&""!==n.xhr.getResponseHeader("ETag")?n.profile.etag=n.xhr.getResponseHeader("ETag"):n.profile.etag=TinCan.Utils.getSHA1String(n.xhr.responseText),void 0!==n.xhr.contentType?n.profile.contentType=n.xhr.contentType:void 0!==n.xhr.getResponseHeader&&null!==n.xhr.getResponseHeader("Content-Type")&&""!==n.xhr.getResponseHeader("Content-Type")&&(n.profile.contentType=n.xhr.getResponseHeader("Content-Type")),TinCan.Utils.isApplicationJSON(n.profile.contentType))))try{n.profile.contents=JSON.parse(n.profile.contents)}catch(t){this.log("retrieveAgentProfile - failed to deserialize JSON: "+t)}return n},saveAgentProfile:function(t,e,n){var i;return this.log("saveAgentProfile"),void 0===n.contentType&&(n.contentType="application/octet-stream"),void 0!==n.method&&"POST"===n.method||(n.method="PUT"),"object"==typeof e&&TinCan.Utils.isApplicationJSON(n.contentType)&&(e=JSON.stringify(e)),i={method:n.method,params:{profileId:t},data:e,headers:{"Content-Type":n.contentType}},"0.9"===this.version?(i.url="actors/profile",i.params.actor=JSON.stringify(n.agent.asVersion(this.version))):(i.url="agents/profile",i.params.agent=JSON.stringify(n.agent.asVersion(this.version))),void 0!==n.callback&&(i.callback=n.callback),void 0!==n.lastSHA1&&null!==n.lastSHA1?i.headers["If-Match"]=n.lastSHA1:i.headers["If-None-Match"]="*",this.sendRequest(i)},dropAgentProfile:function(t,e){var n,i;return this.log("dropAgentProfile"),i={method:"DELETE",params:n={profileId:t}},"0.9"===this.version?(i.url="actors/profile",n.actor=JSON.stringify(e.agent.asVersion(this.version))):(i.url="agents/profile",n.agent=JSON.stringify(e.agent.asVersion(this.version))),void 0!==e.callback&&(i.callback=e.callback),this.sendRequest(i)}},t.syncEnabled=null}(),function(){"use strict";var t=TinCan.AgentAccount=function(t){this.log("constructor"),this.homePage=null,this.name=null,this.init(t)};t.prototype={LOG_SRC:"AgentAccount",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["name","homePage"];for(void 0!==(t=t||{}).accountServiceHomePage&&(t.homePage=t.accountServiceHomePage),void 0!==t.accountName&&(t.name=t.accountName),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(){this.log("toString");var t="";return null!==this.name||null!==this.homePage?(t+=null!==this.name?this.name:"-",t+=":",t+=null!==this.homePage?this.homePage:"-"):t="AgentAccount: unidentified",t},asVersion:function(t){this.log("asVersion: "+t);var e={};return"0.9"===(t=t||TinCan.versions()[0])?(e.accountName=this.name,e.accountServiceHomePage=this.homePage):(e.name=this.name,e.homePage=this.homePage),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Agent=function(t){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.degraded=!1,this.init(t)};t.prototype={objectType:"Agent",LOG_SRC:"Agent",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i=["name","mbox","mbox_sha1sum","openid"];for(void 0!==(t=t||{}).lastName||void 0!==t.firstName?(t.name="",void 0!==t.firstName&&t.firstName.length>0&&(t.name=t.firstName[0],t.firstName.length>1&&(this.degraded=!0)),""!==t.name&&(t.name+=" "),void 0!==t.lastName&&t.lastName.length>0&&(t.name+=t.lastName[0],t.lastName.length>1&&(this.degraded=!0))):void 0===t.familyName&&void 0===t.givenName||(t.name="",void 0!==t.givenName&&t.givenName.length>0&&(t.name=t.givenName[0],t.givenName.length>1&&(this.degraded=!0)),""!==t.name&&(t.name+=" "),void 0!==t.familyName&&t.familyName.length>0&&(t.name+=t.familyName[0],t.familyName.length>1&&(this.degraded=!0))),"object"==typeof t.name&&null!==t.name&&(t.name.length>1&&(this.degraded=!0),t.name=t.name[0]),"object"==typeof t.mbox&&null!==t.mbox&&(t.mbox.length>1&&(this.degraded=!0),t.mbox=t.mbox[0]),"object"==typeof t.mbox_sha1sum&&null!==t.mbox_sha1sum&&(t.mbox_sha1sum.length>1&&(this.degraded=!0),t.mbox_sha1sum=t.mbox_sha1sum[0]),"object"==typeof t.openid&&null!==t.openid&&(t.openid.length>1&&(this.degraded=!0),t.openid=t.openid[0]),"object"==typeof t.account&&null!==t.account&&void 0===t.account.homePage&&void 0===t.account.name&&(0===t.account.length?delete t.account:(t.account.length>1&&(this.degraded=!0),t.account=t.account[0])),t.hasOwnProperty("account")&&(t.account instanceof TinCan.AgentAccount?this.account=t.account:this.account=new TinCan.AgentAccount(t.account)),e=0;e<i.length;e+=1)t.hasOwnProperty(i[e])&&null!==t[i[e]]&&(n=t[i[e]],"mbox"===i[e]&&-1===n.indexOf("mailto:")&&(n="mailto:"+n),this[i[e]]=n)},toString:function(){return this.log("toString"),null!==this.name?this.name:null!==this.mbox?this.mbox.replace("mailto:",""):null!==this.mbox_sha1sum?this.mbox_sha1sum:null!==this.openid?this.openid:null!==this.account?this.account.toString():this.objectType+": unidentified"},asVersion:function(t){this.log("asVersion: "+t);var e={objectType:this.objectType};return"0.9"===(t=t||TinCan.versions()[0])?(null!==this.mbox?e.mbox=[this.mbox]:null!==this.mbox_sha1sum?e.mbox_sha1sum=[this.mbox_sha1sum]:null!==this.openid?e.openid=[this.openid]:null!==this.account&&(e.account=[this.account.asVersion(t)]),null!==this.name&&(e.name=[this.name])):(null!==this.mbox?e.mbox=this.mbox:null!==this.mbox_sha1sum?e.mbox_sha1sum=this.mbox_sha1sum:null!==this.openid?e.openid=this.openid:null!==this.account&&(e.account=this.account.asVersion(t)),null!==this.name&&(e.name=this.name)),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Group=function(t){this.log("constructor"),this.name=null,this.mbox=null,this.mbox_sha1sum=null,this.openid=null,this.account=null,this.member=[],this.init(t)};t.prototype={objectType:"Group",LOG_SRC:"Group",log:TinCan.prototype.log,init:function(t){var e;if(this.log("init"),t=t||{},TinCan.Agent.prototype.init.call(this,t),void 0!==t.member)for(e=0;e<t.member.length;e+=1)t.member[e]instanceof TinCan.Agent?this.member.push(t.member[e]):this.member.push(new TinCan.Agent(t.member[e]))},toString:function(t){this.log("toString");var e=TinCan.Agent.prototype.toString.call(this,t);return e!==this.objectType+": unidentified"&&(e=this.objectType+": "+e),e},asVersion:function(t){var e,n;if(this.log("asVersion: "+t),t=t||TinCan.versions()[0],e=TinCan.Agent.prototype.asVersion.call(this,t),this.member.length>0)for(e.member=[],n=0;n<this.member.length;n+=1)e.member.push(this.member[n].asVersion(t));return e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t={"http://adlnet.gov/expapi/verbs/experienced":"experienced","http://adlnet.gov/expapi/verbs/attended":"attended","http://adlnet.gov/expapi/verbs/attempted":"attempted","http://adlnet.gov/expapi/verbs/completed":"completed","http://adlnet.gov/expapi/verbs/passed":"passed","http://adlnet.gov/expapi/verbs/failed":"failed","http://adlnet.gov/expapi/verbs/answered":"answered","http://adlnet.gov/expapi/verbs/interacted":"interacted","http://adlnet.gov/expapi/verbs/imported":"imported","http://adlnet.gov/expapi/verbs/created":"created","http://adlnet.gov/expapi/verbs/shared":"shared","http://adlnet.gov/expapi/verbs/voided":"voided"},e=TinCan.Verb=function(t){this.log("constructor"),this.id=null,this.display=null,this.init(t)};e.prototype={LOG_SRC:"Verb",log:TinCan.prototype.log,init:function(e){this.log("init");var n,i,r=["id","display"];if("string"==typeof e){for(i in this.id=e,this.display={und:this.id},t)if(t.hasOwnProperty(i)&&t[i]===e){this.id=i;break}}else{for(e=e||{},n=0;n<r.length;n+=1)e.hasOwnProperty(r[n])&&null!==e[r[n]]&&(this[r[n]]=e[r[n]]);null===this.display&&void 0!==t[this.id]&&(this.display={und:t[this.id]})}},toString:function(t){return this.log("toString"),null!==this.display?this.getLangDictionaryValue("display",t):this.id},asVersion:function(e){var n;return this.log("asVersion"),"0.9"===(e=e||TinCan.versions()[0])?n=t[this.id]:(n={id:this.id},null!==this.display&&(n.display=this.display)),n},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},e.fromJSON=function(t){e.prototype.log("fromJSON");var n=JSON.parse(t);return new e(n)}}(),function(){"use strict";var t=TinCan.Result=function(t){this.log("constructor"),this.score=null,this.success=null,this.completion=null,this.duration=null,this.response=null,this.extensions=null,this.init(t)};t.prototype={LOG_SRC:"Result",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["completion","duration","extensions","response","success"];for((t=t||{}).hasOwnProperty("score")&&null!==t.score&&(t.score instanceof TinCan.Score?this.score=t.score:this.score=new TinCan.Score(t.score)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);"Completed"===this.completion&&(this.completion=!0)},asVersion:function(t){this.log("asVersion");var e,n={},i=["success","duration","response","extensions"],r=["score"];for(t=t||TinCan.versions()[0],e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);for(e=0;e<r.length;e+=1)null!==this[r[e]]&&(n[r[e]]=this[r[e]].asVersion(t));return null!==this.completion&&("0.9"===t?this.completion&&(n.completion="Completed"):n.completion=this.completion),n}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Score=function(t){this.log("constructor"),this.scaled=null,this.raw=null,this.min=null,this.max=null,this.init(t)};t.prototype={LOG_SRC:"Score",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["scaled","raw","min","max"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},asVersion:function(t){this.log("asVersion");var e,n={},i=["scaled","raw","min","max"];for(t=t||TinCan.versions()[0],e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);return n}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.InteractionComponent=function(t){this.log("constructor"),this.id=null,this.description=null,this.init(t)};t.prototype={LOG_SRC:"InteractionComponent",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","description"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},asVersion:function(t){this.log("asVersion");var e,n,i={id:this.id},r=["description"];for(t=t||TinCan.versions()[0],e=0;e<r.length;e+=1)null!==this[n=r[e]]&&(i[n]=this[n]);return i},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t={"http://adlnet.gov/expapi/activities/course":"course","http://adlnet.gov/expapi/activities/module":"module","http://adlnet.gov/expapi/activities/meeting":"meeting","http://adlnet.gov/expapi/activities/media":"media","http://adlnet.gov/expapi/activities/performance":"performance","http://adlnet.gov/expapi/activities/simulation":"simulation","http://adlnet.gov/expapi/activities/assessment":"assessment","http://adlnet.gov/expapi/activities/interaction":"interaction","http://adlnet.gov/expapi/activities/cmi.interaction":"cmi.interaction","http://adlnet.gov/expapi/activities/question":"question","http://adlnet.gov/expapi/activities/objective":"objective","http://adlnet.gov/expapi/activities/link":"link"},e=TinCan.ActivityDefinition=function(t){this.log("constructor"),this.name=null,this.description=null,this.type=null,this.moreInfo=null,this.extensions=null,this.interactionType=null,this.correctResponsesPattern=null,this.choices=null,this.scale=null,this.source=null,this.target=null,this.steps=null,this.init(t)};e.prototype={LOG_SRC:"ActivityDefinition",log:TinCan.prototype.log,init:function(e){this.log("init");var n,i,r,o=["name","description","moreInfo","extensions","correctResponsesPattern"],s=[];if((e=e||{}).hasOwnProperty("type")&&null!==e.type){for(r in t)t.hasOwnProperty(r)&&t[r]===e.type&&(e.type=t[r]);this.type=e.type}if(e.hasOwnProperty("interactionType")&&null!==e.interactionType&&(this.interactionType=e.interactionType,"choice"===e.interactionType||"sequencing"===e.interactionType?s.push("choices"):"likert"===e.interactionType?s.push("scale"):"matching"===e.interactionType?(s.push("source"),s.push("target")):"performance"===e.interactionType&&s.push("steps"),s.length>0))for(n=0;n<s.length;n+=1)if(r=s[n],e.hasOwnProperty(r)&&null!==e[r])for(this[r]=[],i=0;i<e[r].length;i+=1)e[r][i]instanceof TinCan.InteractionComponent?this[r].push(e[r][i]):this[r].push(new TinCan.InteractionComponent(e[r][i]));for(n=0;n<o.length;n+=1)e.hasOwnProperty(o[n])&&null!==e[o[n]]&&(this[o[n]]=e[o[n]])},toString:function(t){return this.log("toString"),null!==this.name?this.getLangDictionaryValue("name",t):null!==this.description?this.getLangDictionaryValue("description",t):""},asVersion:function(e){this.log("asVersion");var n,i,r,o={},s=["name","description","interactionType","correctResponsesPattern","extensions"],a=["choices","scale","source","target","steps"];for(e=e||TinCan.versions()[0],null!==this.type&&(o.type="0.9"===e?t[this.type]:this.type),n=0;n<s.length;n+=1)null!==this[r=s[n]]&&(o[r]=this[r]);for(n=0;n<a.length;n+=1)if(null!==this[r=a[n]])for(o[r]=[],i=0;i<this[r].length;i+=1)o[r].push(this[r][i].asVersion(e));return 0!==e.indexOf("0.9")&&null!==this.moreInfo&&(o.moreInfo=this.moreInfo),o},getLangDictionaryValue:TinCan.Utils.getLangDictionaryValue},e.fromJSON=function(t){e.prototype.log("fromJSON");var n=JSON.parse(t);return new e(n)}}(),function(){"use strict";var t=TinCan.Activity=function(t){this.log("constructor"),this.objectType="Activity",this.id=null,this.definition=null,this.init(t)};t.prototype={LOG_SRC:"Activity",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id"];for((t=t||{}).hasOwnProperty("definition")&&(t.definition instanceof TinCan.ActivityDefinition?this.definition=t.definition:this.definition=new TinCan.ActivityDefinition(t.definition)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(t){this.log("toString");var e="";return null!==this.definition&&""!==(e=this.definition.toString(t))?e:null!==this.id?this.id:"Activity: unidentified"},asVersion:function(t){this.log("asVersion");var e={id:this.id,objectType:this.objectType};return t=t||TinCan.versions()[0],null!==this.definition&&(e.definition=this.definition.asVersion(t)),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.ContextActivities=function(t){this.log("constructor"),this.category=null,this.parent=null,this.grouping=null,this.other=null,this.init(t)};t.prototype={LOG_SRC:"ContextActivities",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i,r,o=["category","parent","grouping","other"];for(t=t||{},e=0;e<o.length;e+=1)if(i=o[e],t.hasOwnProperty(i)&&null!==t[i])if("[object Array]"===Object.prototype.toString.call(t[i]))for(n=0;n<t[i].length;n+=1)this.add(i,t[i][n]);else r=t[i],this.add(i,r)},add:function(t,e){if("category"===t||"parent"===t||"grouping"===t||"other"===t)return null===this[t]&&(this[t]=[]),e instanceof TinCan.Activity||(e="string"==typeof e?{id:e}:e,e=new TinCan.Activity(e)),this[t].push(e),this[t].length-1},asVersion:function(t){this.log("asVersion");var e,n,i={},r=["parent","grouping","other"];for(t=t||TinCan.versions()[0],e=0;e<r.length;e+=1)if(null!==this[r[e]]&&this[r[e]].length>0)if("0.9"===t||"0.95"===t)this[r[e]].length>1&&this.log("[warning] version does not support multiple values in: "+r[e]),i[r[e]]=this[r[e]][0].asVersion(t);else for(i[r[e]]=[],n=0;n<this[r[e]].length;n+=1)i[r[e]].push(this[r[e]][n].asVersion(t));if(null!==this.category&&this.category.length>0){if("0.9"===t||"0.95"===t)throw this.log("[error] version does not support the 'category' property: "+t),new Error(t+" does not support the 'category' property");for(i.category=[],e=0;e<this.category.length;e+=1)i.category.push(this.category[e].asVersion(t))}return i}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Context=function(t){this.log("constructor"),this.registration=null,this.instructor=null,this.team=null,this.contextActivities=null,this.revision=null,this.platform=null,this.language=null,this.statement=null,this.extensions=null,this.init(t)};t.prototype={LOG_SRC:"Context",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n,i,r=["registration","revision","platform","language","extensions"],o=["instructor","team"];for(t=t||{},e=0;e<r.length;e+=1)n=r[e],t.hasOwnProperty(n)&&null!==t[n]&&(this[n]=t[n]);for(e=0;e<o.length;e+=1)n=o[e],t.hasOwnProperty(n)&&null!==t[n]&&(void 0!==(i=t[n]).objectType&&"Person"!==i.objectType||(i.objectType="Agent"),"Agent"!==i.objectType||i instanceof TinCan.Agent?"Group"!==i.objectType||i instanceof TinCan.Group||(i=new TinCan.Group(i)):i=new TinCan.Agent(i),this[n]=i);t.hasOwnProperty("contextActivities")&&null!==t.contextActivities&&(t.contextActivities instanceof TinCan.ContextActivities?this.contextActivities=t.contextActivities:this.contextActivities=new TinCan.ContextActivities(t.contextActivities)),t.hasOwnProperty("statement")&&null!==t.statement&&(t.statement instanceof TinCan.StatementRef||t.statement instanceof TinCan.SubStatement?this.statement=t.statement:"StatementRef"===t.statement.objectType?this.statement=new TinCan.StatementRef(t.statement):"SubStatement"===t.statement.objectType?this.statement=new TinCan.SubStatement(t.statement):this.log("Unable to parse statement.context.statement property."))},asVersion:function(t){this.log("asVersion");var e,n={},i=["registration","revision","platform","language","extensions"],r=["instructor","team","contextActivities","statement"];if(t=t||TinCan.versions()[0],this.statement instanceof TinCan.SubStatement&&"0.9"!==t&&"0.95"!==t)throw this.log("[error] version does not support SubStatements in the 'statement' property: "+t),new Error(t+" does not support SubStatements in the 'statement' property");for(e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);for(e=0;e<r.length;e+=1)null!==this[r[e]]&&(n[r[e]]=this[r[e]].asVersion(t));return n}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.StatementRef=function(t){this.log("constructor"),this.id=null,this.init(t)};t.prototype={objectType:"StatementRef",LOG_SRC:"StatementRef",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(){return this.log("toString"),this.id},asVersion:function(t){this.log("asVersion");var e={objectType:this.objectType,id:this.id};return"0.9"===t&&(e.objectType="Statement"),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.SubStatement=function(t){this.log("constructor"),this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.init(t)};t.prototype={objectType:"SubStatement",LOG_SRC:"SubStatement",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["timestamp"];for((t=t||{}).hasOwnProperty("object")&&(t.target=t.object),t.hasOwnProperty("actor")&&(void 0!==t.actor.objectType&&"Person"!==t.actor.objectType||(t.actor.objectType="Agent"),"Agent"===t.actor.objectType?t.actor instanceof TinCan.Agent?this.actor=t.actor:this.actor=new TinCan.Agent(t.actor):"Group"===t.actor.objectType&&(t.actor instanceof TinCan.Group?this.actor=t.actor:this.actor=new TinCan.Group(t.actor))),t.hasOwnProperty("verb")&&(t.verb instanceof TinCan.Verb?this.verb=t.verb:this.verb=new TinCan.Verb(t.verb)),t.hasOwnProperty("target")&&(t.target instanceof TinCan.Activity||t.target instanceof TinCan.Agent||t.target instanceof TinCan.Group||t.target instanceof TinCan.SubStatement||t.target instanceof TinCan.StatementRef?this.target=t.target:(void 0===t.target.objectType&&(t.target.objectType="Activity"),"Activity"===t.target.objectType?this.target=new TinCan.Activity(t.target):"Agent"===t.target.objectType?this.target=new TinCan.Agent(t.target):"Group"===t.target.objectType?this.target=new TinCan.Group(t.target):"SubStatement"===t.target.objectType?this.target=new TinCan.SubStatement(t.target):"StatementRef"===t.target.objectType?this.target=new TinCan.StatementRef(t.target):this.log("Unrecognized target type: "+t.target.objectType))),t.hasOwnProperty("result")&&(t.result instanceof TinCan.Result?this.result=t.result:this.result=new TinCan.Result(t.result)),t.hasOwnProperty("context")&&(t.context instanceof TinCan.Context?this.context=t.context:this.context=new TinCan.Context(t.context)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])},toString:function(t){return this.log("toString"),(null!==this.actor?this.actor.toString(t):"")+" "+(null!==this.verb?this.verb.toString(t):"")+" "+(null!==this.target?this.target.toString(t):"")},asVersion:function(t){this.log("asVersion");var e,n,i=["timestamp"],r=["actor","verb","result","context"];for(e={objectType:this.objectType},t=t||TinCan.versions()[0],n=0;n<i.length;n+=1)null!==this[i[n]]&&(e[i[n]]=this[i[n]]);for(n=0;n<r.length;n+=1)null!==this[r[n]]&&(e[r[n]]=this[r[n]].asVersion(t));return null!==this.target&&(e.object=this.target.asVersion(t)),"0.9"===t&&(e.objectType="Statement"),e}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.Statement=function(t,e){this.log("constructor"),void 0===(e="number"==typeof e?{storeOriginal:e}:e||{}).storeOriginal&&(e.storeOriginal=null),void 0===e.doStamp&&(e.doStamp=!0),this.id=null,this.actor=null,this.verb=null,this.target=null,this.result=null,this.context=null,this.timestamp=null,this.stored=null,this.authority=null,this.version=null,this.degraded=!1,this.voided=null,this.inProgress=null,this.originalJSON=null,this.init(t,e)};t.prototype={LOG_SRC:"Statement",log:TinCan.prototype.log,init:function(t,e){this.log("init");var n,i=["id","stored","timestamp","version","inProgress","voided"];for(t=t||{},e.storeOriginal&&(this.originalJSON=JSON.stringify(t,null,e.storeOriginal)),t.hasOwnProperty("object")&&(t.target=t.object),t.hasOwnProperty("actor")&&(void 0!==t.actor.objectType&&"Person"!==t.actor.objectType||(t.actor.objectType="Agent"),"Agent"===t.actor.objectType?t.actor instanceof TinCan.Agent?this.actor=t.actor:this.actor=new TinCan.Agent(t.actor):"Group"===t.actor.objectType&&(t.actor instanceof TinCan.Group?this.actor=t.actor:this.actor=new TinCan.Group(t.actor))),t.hasOwnProperty("authority")&&(void 0!==t.authority.objectType&&"Person"!==t.authority.objectType||(t.authority.objectType="Agent"),"Agent"===t.authority.objectType?t.authority instanceof TinCan.Agent?this.authority=t.authority:this.authority=new TinCan.Agent(t.authority):"Group"===t.authority.objectType&&(t.actor instanceof TinCan.Group?this.authority=t.authority:this.authority=new TinCan.Group(t.authority))),t.hasOwnProperty("verb")&&(t.verb instanceof TinCan.Verb?this.verb=t.verb:this.verb=new TinCan.Verb(t.verb)),t.hasOwnProperty("target")&&(t.target instanceof TinCan.Activity||t.target instanceof TinCan.Agent||t.target instanceof TinCan.Group||t.target instanceof TinCan.SubStatement||t.target instanceof TinCan.StatementRef?this.target=t.target:(void 0===t.target.objectType&&(t.target.objectType="Activity"),"Activity"===t.target.objectType?this.target=new TinCan.Activity(t.target):"Agent"===t.target.objectType?this.target=new TinCan.Agent(t.target):"Group"===t.target.objectType?this.target=new TinCan.Group(t.target):"SubStatement"===t.target.objectType?this.target=new TinCan.SubStatement(t.target):"StatementRef"===t.target.objectType?this.target=new TinCan.StatementRef(t.target):this.log("Unrecognized target type: "+t.target.objectType))),t.hasOwnProperty("result")&&(t.result instanceof TinCan.Result?this.result=t.result:this.result=new TinCan.Result(t.result)),t.hasOwnProperty("context")&&(t.context instanceof TinCan.Context?this.context=t.context:this.context=new TinCan.Context(t.context)),n=0;n<i.length;n+=1)t.hasOwnProperty(i[n])&&null!==t[i[n]]&&(this[i[n]]=t[i[n]]);e.doStamp&&this.stamp()},toString:function(t){return this.log("toString"),(null!==this.actor?this.actor.toString(t):"")+" "+(null!==this.verb?this.verb.toString(t):"")+" "+(null!==this.target?this.target.toString(t):"")},asVersion:function(t){this.log("asVersion");var e,n={},i=["id","timestamp"],r=["actor","verb","result","context","authority"];for(t=t||TinCan.versions()[0],e=0;e<i.length;e+=1)null!==this[i[e]]&&(n[i[e]]=this[i[e]]);for(e=0;e<r.length;e+=1)null!==this[r[e]]&&(n[r[e]]=this[r[e]].asVersion(t));return null!==this.target&&(n.object=this.target.asVersion(t)),"0.9"!==t&&"0.95"!==t||null!==this.voided&&(n.voided=this.voided),"0.9"===t&&null!==this.inProgress&&(n.inProgress=this.inProgress),n},stamp:function(){this.log("stamp"),null===this.id&&(this.id=TinCan.Utils.getUUID()),null===this.timestamp&&(this.timestamp=TinCan.Utils.getISODateString(new Date))}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.StatementsResult=function(t){this.log("constructor"),this.statements=null,this.more=null,this.init(t)};t.prototype={LOG_SRC:"StatementsResult",log:TinCan.prototype.log,init:function(t){this.log("init"),(t=t||{}).hasOwnProperty("statements")&&(this.statements=t.statements),t.hasOwnProperty("more")&&(this.more=t.more)}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n,i,r,o=[];try{n=JSON.parse(e)}catch(e){t.prototype.log("fromJSON - JSON.parse error: "+e)}if(n){for(r=0;r<n.statements.length;r+=1){try{i=new TinCan.Statement(n.statements[r],4)}catch(e){t.prototype.log("fromJSON - statement instantiation failed: "+e+" ("+JSON.stringify(n.statements[r])+")"),i=new TinCan.Statement({id:n.statements[r].id},4)}o.push(i)}n.statements=o}return new t(n)}}(),function(){"use strict";var t=TinCan.State=function(t){this.log("constructor"),this.id=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(t)};t.prototype={LOG_SRC:"State",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","contents","etag","contentType"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);this.updated=!1}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.ActivityProfile=function(t){this.log("constructor"),this.id=null,this.activity=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(t)};t.prototype={LOG_SRC:"ActivityProfile",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","contents","etag","contentType"];for((t=t||{}).hasOwnProperty("activity")&&(t.activity instanceof TinCan.Activity?this.activity=t.activity:this.activity=new TinCan.Activity(t.activity)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);this.updated=!1}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.AgentProfile=function(t){this.log("constructor"),this.id=null,this.agent=null,this.updated=null,this.contents=null,this.etag=null,this.contentType=null,this.init(t)};t.prototype={LOG_SRC:"AgentProfile",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["id","contents","etag","contentType"];for((t=t||{}).hasOwnProperty("agent")&&(t.agent instanceof TinCan.Agent?this.agent=t.agent:this.agent=new TinCan.Agent(t.agent)),e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]]);this.updated=!1}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var t=TinCan.About=function(t){this.log("constructor"),this.version=null,this.init(t)};t.prototype={LOG_SRC:"About",log:TinCan.prototype.log,init:function(t){this.log("init");var e,n=["version"];for(t=t||{},e=0;e<n.length;e+=1)t.hasOwnProperty(n[e])&&null!==t[n[e]]&&(this[n[e]]=t[n[e]])}},t.fromJSON=function(e){t.prototype.log("fromJSON");var n=JSON.parse(e);return new t(n)}}(),function(){"use strict";var LOG_SRC="Environment.Browser",nativeRequest,xdrRequest,requestComplete,__delay,__IEModeConversion,env={},log=TinCan.prototype.log;"undefined"!=typeof window?(window.JSON||(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(t){var e,n,i="";if(t instanceof Object){if(t.constructor===Array){for(e=0;e<t.length;e+=1)i+=this.stringify(t[e])+",";return"["+i.substr(0,i.length-1)+"]"}if(t.toString!==Object.prototype.toString)return'"'+t.toString().replace(/"/g,"\\$&")+'"';for(n in t)t.hasOwnProperty(n)&&(i+='"'+n.replace(/"/g,"\\$&")+'":'+this.stringify(t[n])+",");return"{"+i.substr(0,i.length-1)+"}"}return"string"==typeof t?'"'+t.replace(/"/g,"\\$&")+'"':String(t)}}),Date.now||(Date.now=function(){return+new Date}),env.hasCORS=!1,env.useXDR=!1,"undefined"!=typeof XMLHttpRequest&&void 0!==(new XMLHttpRequest).withCredentials?env.hasCORS=!0:"undefined"!=typeof XDomainRequest&&(env.hasCORS=!0,env.useXDR=!0),requestComplete=function(t,e,n){var i,r,o;return log("requestComplete: "+n.finished+", xhr.status: "+t.status,LOG_SRC),o=void 0===t.status?n.fakeStatus:1223===t.status?204:t.status,n.finished?i:(n.finished=!0,r=e.ignore404&&404===o,o>=200&&o<400||r?e.callback?void e.callback(null,t):i={err:null,xhr:t}:(i={err:o,xhr:t},log(0===o?"[warning] There was a problem communicating with the Learning Record Store. Aborted, offline, or invalid CORS endpoint ("+o+")":"[warning] There was a problem communicating with the Learning Record Store. ("+o+" | "+t.responseText+")",LOG_SRC),e.callback&&e.callback(o,t),i))},__IEModeConversion=function(t,e,n,i){var r;for(r in e)e.hasOwnProperty(r)&&n.push(r+"="+encodeURIComponent(e[r]));return void 0!==i.data&&n.push("content="+encodeURIComponent(i.data)),e["Content-Type"]="application/x-www-form-urlencoded",t+="?method="+i.method,i.method="POST",i.params={},n.length>0&&(i.data=n.join("&")),t},nativeRequest=function(t,e,n){log("sendRequest using XMLHttpRequest",LOG_SRC);var i,r,o,s,a=this,l=[],u={finished:!1,fakeStatus:null},c=void 0!==n.callback,h=t;for(r in log("sendRequest using XMLHttpRequest - async: "+c,LOG_SRC),n.params)n.params.hasOwnProperty(r)&&l.push(r+"="+encodeURIComponent(n.params[r]));if(l.length>0&&(h+="?"+l.join("&")),h.length>=2048){if(void 0!==e["Content-Type"]&&"application/json"!==e["Content-Type"])return s=new Error("Unsupported content type for IE Mode request"),void 0!==n.callback&&n.callback(s,null),{err:s,xhr:null};if(void 0===n.method)return s=new Error("method must not be undefined for an IE Mode Request conversion"),void 0!==n.callback&&n.callback(s,null),{err:s,xhr:null};t=__IEModeConversion(t,e,l,n)}else t=h;for(r in(i="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open(n.method,t,c),e)e.hasOwnProperty(r)&&i.setRequestHeader(r,e[r]);void 0!==n.data&&(n.data+=""),o=n.data,c&&(i.onreadystatechange=function(){log("xhr.onreadystatechange - xhr.readyState: "+i.readyState,LOG_SRC),4===i.readyState&&requestComplete.call(a,i,n,u)});try{i.send(o)}catch(t){log("sendRequest caught send exception: "+t,LOG_SRC)}return c?i:requestComplete.call(this,i,n,u)},xdrRequest=function(t,e,n){log("sendRequest using XDomainRequest",LOG_SRC);var i,r,o,s,a,l=this,u=[],c={finished:!1,fakeStatus:null};if(void 0!==e["Content-Type"]&&"application/json"!==e["Content-Type"])return a=new Error("Unsupported content type for IE Mode request"),n.callback?(n.callback(a,null),null):{err:a,xhr:null};for(o in t+="?method="+n.method,n.params)n.params.hasOwnProperty(o)&&u.push(o+"="+encodeURIComponent(n.params[o]));for(o in e)e.hasOwnProperty(o)&&u.push(o+"="+encodeURIComponent(e[o]));void 0!==n.data&&u.push("content="+encodeURIComponent(n.data)),r=u.join("&"),(i=new XDomainRequest).open("POST",t),n.callback?(i.onload=function(){c.fakeStatus=200,requestComplete.call(l,i,n,c)},i.onerror=function(){c.fakeStatus=400,requestComplete.call(l,i,n,c)},i.ontimeout=function(){c.fakeStatus=0,requestComplete.call(l,i,n,c)}):(i.onload=function(){c.fakeStatus=200},i.onerror=function(){c.fakeStatus=400},i.ontimeout=function(){c.fakeStatus=0}),i.onprogress=function(){},i.timeout=0;try{i.send(r)}catch(t){log("sendRequest caught send exception: "+t,LOG_SRC)}if(!n.callback){for(s=1e4+Date.now(),log("sendRequest - until: "+s+", finished: "+c.finished,LOG_SRC);Date.now()<s&&null===c.fakeStatus;)__delay();return requestComplete.call(l,i,n,c)}return i},TinCan.LRS.prototype._initByEnvironment=function(t){var e,n,i;if(log("_initByEnvironment",LOG_SRC),t=t||{},this._makeRequest=nativeRequest,this._IEModeConversion=__IEModeConversion,null===(e=this.endpoint.toLowerCase().match(/([A-Za-z]+:)\/\/([^:\/]+):?(\d+)?(\/.*)?$/)))throw log("[error] LRS invalid: failed to divide URL parts",LOG_SRC),{code:4,mesg:"LRS invalid: failed to divide URL parts"};if(i=location.port,n=location.protocol.toLowerCase()===e[1],""===i&&(i="http:"===location.protocol.toLowerCase()?"80":"https:"===location.protocol.toLowerCase()?"443":""),!n||location.hostname.toLowerCase()!==e[2]||i!==(null!==e[3]&&void 0!==e[3]&&""!==e[3]?e[3]:"http:"===e[1]?"80":"https:"===e[1]?"443":""))if(env.hasCORS){if(env.useXDR&&n)this._makeRequest=xdrRequest;else if(env.useXDR&&!n){if(!t.allowFail)throw log("[error] LRS invalid: cross domain request for differing scheme in IE with XDR",LOG_SRC),{code:2,mesg:"LRS invalid: cross domain request for differing scheme in IE with XDR"};log("[warning] LRS invalid: cross domain request for differing scheme in IE with XDR (allowed to fail)",LOG_SRC)}}else{if(!t.allowFail)throw log("[error] LRS invalid: cross domain requests not supported in this browser",LOG_SRC),{code:1,mesg:"LRS invalid: cross domain requests not supported in this browser"};log("[warning] LRS invalid: cross domain requests not supported in this browser (allowed to fail)",LOG_SRC)}},__delay=function(){var t=new XMLHttpRequest,e=window.location+"?forcenocache="+TinCan.Utils.getUUID();t.open("GET",e,!1),t.send(null)},TinCan.LRS.syncEnabled=!0):log("'window' not defined",LOG_SRC)}()},1311:function(t,e,n){t.exports=function(){var t="1.13.1",e="object"==typeof self&&self.self===self&&self||"object"==typeof n.g&&n.g.global===n.g&&n.g||Function("return this")()||{},i=Array.prototype,r=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,s=i.push,a=i.slice,l=r.toString,u=r.hasOwnProperty,c="undefined"!=typeof ArrayBuffer,h="undefined"!=typeof DataView,d=Array.isArray,p=Object.keys,f=Object.create,v=c&&ArrayBuffer.isView,g=isNaN,m=isFinite,y=!{toString:null}.propertyIsEnumerable("toString"),b=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],w=Math.pow(2,53)-1;function A(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=i,t.apply(this,o)}}function E(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function S(t){return void 0===t}function T(t){return!0===t||!1===t||"[object Boolean]"===l.call(t)}function x(t){var e="[object "+t+"]";return function(t){return l.call(t)===e}}var C=x("String"),_=x("Number"),k=x("Date"),M=x("RegExp"),O=x("Error"),L=x("Symbol"),P=x("ArrayBuffer"),I=x("Function"),R=e.document&&e.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof R&&(I=function(t){return"function"==typeof t||!1});var D=I,N=x("Object"),H=h&&N(new DataView(new ArrayBuffer(8))),V="undefined"!=typeof Map&&N(new Map),F=x("DataView"),B=H?function(t){return null!=t&&D(t.getInt8)&&P(t.buffer)}:F,j=d||x("Array");function U(t,e){return null!=t&&u.call(t,e)}var z=x("Arguments");!function(){z(arguments)||(z=function(t){return U(t,"callee")})}();var W=z;function G(t){return _(t)&&g(t)}function q(t){return function(){return t}}function Y(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=w}}function X(t){return function(e){return null==e?void 0:e[t]}}var K=X("byteLength"),J=Y(K),Z=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,$=c?function(t){return v?v(t)&&!B(t):J(t)&&Z.test(l.call(t))}:q(!1),Q=X("length");function tt(t,e){e=function(t){for(var e={},n=t.length,i=0;i<n;++i)e[t[i]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=b.length,i=t.constructor,o=D(i)&&i.prototype||r,s="constructor";for(U(t,s)&&!e.contains(s)&&e.push(s);n--;)(s=b[n])in t&&t[s]!==o[s]&&!e.contains(s)&&e.push(s)}function et(t){if(!E(t))return[];if(p)return p(t);var e=[];for(var n in t)U(t,n)&&e.push(n);return y&&tt(t,e),e}function nt(t,e){var n=et(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0}function it(t){return t instanceof it?t:this instanceof it?void(this._wrapped=t):new it(t)}function rt(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,K(t))}it.VERSION=t,it.prototype.value=function(){return this._wrapped},it.prototype.valueOf=it.prototype.toJSON=it.prototype.value,it.prototype.toString=function(){return String(this._wrapped)};var ot="[object DataView]";function st(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&function t(e,n,i,r){e instanceof it&&(e=e._wrapped),n instanceof it&&(n=n._wrapped);var s=l.call(e);if(s!==l.call(n))return!1;if(H&&"[object Object]"==s&&B(e)){if(!B(n))return!1;s=ot}switch(s){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return o.valueOf.call(e)===o.valueOf.call(n);case"[object ArrayBuffer]":case ot:return t(rt(e),rt(n),i,r)}var a="[object Array]"===s;if(!a&&$(e)){if(K(e)!==K(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;a=!0}if(!a){if("object"!=typeof e||"object"!=typeof n)return!1;var u=e.constructor,c=n.constructor;if(u!==c&&!(D(u)&&u instanceof u&&D(c)&&c instanceof c)&&"constructor"in e&&"constructor"in n)return!1}r=r||[];for(var h=(i=i||[]).length;h--;)if(i[h]===e)return r[h]===n;if(i.push(e),r.push(n),a){if((h=e.length)!==n.length)return!1;for(;h--;)if(!st(e[h],n[h],i,r))return!1}else{var d,p=et(e);if(h=p.length,et(n).length!==h)return!1;for(;h--;)if(!U(n,d=p[h])||!st(e[d],n[d],i,r))return!1}return i.pop(),r.pop(),!0}(t,e,n,i)}function at(t){if(!E(t))return[];var e=[];for(var n in t)e.push(n);return y&&tt(t,e),e}function lt(t){var e=Q(t);return function(n){if(null==n)return!1;var i=at(n);if(Q(i))return!1;for(var r=0;r<e;r++)if(!D(n[t[r]]))return!1;return t!==ft||!D(n[ut])}}var ut="forEach",ct="has",ht=["clear","delete"],dt=["get",ct,"set"],pt=ht.concat(ut,dt),ft=ht.concat(dt),vt=["add"].concat(ht,ut,ct),gt=V?lt(pt):x("Map"),mt=V?lt(ft):x("WeakMap"),yt=V?lt(vt):x("Set"),bt=x("WeakSet");function wt(t){for(var e=et(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i}function At(t){for(var e={},n=et(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e}function Et(t){var e=[];for(var n in t)D(t[n])&&e.push(n);return e.sort()}function St(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;l<a;l++){var u=s[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}}var Tt=St(at),xt=St(et),Ct=St(at,!0);function _t(t){if(!E(t))return{};if(f)return f(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function kt(t){return E(t)?j(t)?t.slice():Tt({},t):t}function Mt(t){return j(t)?t:[t]}function Ot(t){return it.toPath(t)}function Lt(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0}function Pt(t,e,n){var i=Lt(t,Ot(e));return S(i)?n:i}function It(t){return t}function Rt(t){return t=xt({},t),function(e){return nt(e,t)}}function Dt(t){return t=Ot(t),function(e){return Lt(e,t)}}function Nt(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}}function Ht(t,e,n){return null==t?It:D(t)?Nt(t,e,n):E(t)&&!j(t)?Rt(t):Dt(t)}function Vt(t,e){return Ht(t,e,1/0)}function Ft(t,e,n){return it.iteratee!==Vt?it.iteratee(t,e):Ht(t,e,n)}function Bt(){}function jt(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}it.toPath=Mt,it.iteratee=Vt;var Ut=Date.now||function(){return(new Date).getTime()};function zt(t){var e=function(e){return t[e]},n="(?:"+et(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}}var Wt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Gt=zt(Wt),qt=zt(At(Wt)),Yt=it.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Xt=/(.)^/,Kt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Jt=/\\|'|\r|\n|\u2028|\u2029/g;function Zt(t){return"\\"+Kt[t]}var $t=/^\s*(\w|\$)+\s*$/,Qt=0;function te(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=_t(t.prototype),s=t.apply(o,r);return E(s)?s:o}var ee=A((function(t,e){var n=ee.placeholder,i=function(){for(var r=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===n?arguments[r++]:e[a];for(;r<arguments.length;)s.push(arguments[r++]);return te(t,i,this,this,s)};return i}));ee.placeholder=it;var ne=A((function(t,e,n){if(!D(t))throw new TypeError("Bind must be called on a function");var i=A((function(r){return te(t,i,e,this,n.concat(r))}));return i})),ie=Y(Q);function re(t,e,n,i){if(i=i||[],e||0===e){if(e<=0)return i.concat(t)}else e=1/0;for(var r=i.length,o=0,s=Q(t);o<s;o++){var a=t[o];if(ie(a)&&(j(a)||W(a)))if(e>1)re(a,e-1,n,i),r=i.length;else for(var l=0,u=a.length;l<u;)i[r++]=a[l++];else n||(i[r++]=a)}return i}var oe=A((function(t,e){var n=(e=re(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=ne(t[i],t)}return t})),se=A((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),ae=ee(se,it,1);function le(t){return function(){return!t.apply(this,arguments)}}function ue(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var ce=ee(ue,2);function he(t,e,n){e=Ft(e,n);for(var i,r=et(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i}function de(t){return function(e,n,i){n=Ft(n,i);for(var r=Q(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}var pe=de(1),fe=de(-1);function ve(t,e,n,i){for(var r=(n=Ft(n,i,1))(e),o=0,s=Q(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o}function ge(t,e,n){return function(i,r,o){var s=0,l=Q(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+l,s):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=e(a.call(i,s,l),G))>=0?o+s:-1;for(o=t>0?s:l-1;o>=0&&o<l;o+=t)if(i[o]===r)return o;return-1}}var me=ge(1,pe,ve),ye=ge(-1,fe);function be(t,e,n){var i=(ie(t)?pe:he)(t,e,n);if(void 0!==i&&-1!==i)return t[i]}function we(t,e,n){var i,r;if(e=Nt(e,n),ie(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=et(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t}function Ae(t,e,n){e=Ft(e,n);for(var i=!ie(t)&&et(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o}function Ee(t){var e=function(e,n,i,r){var o=!ie(e)&&et(e),s=(o||e).length,a=t>0?0:s-1;for(r||(i=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var l=o?o[a]:a;i=n(i,e[l],l,e)}return i};return function(t,n,i,r){var o=arguments.length>=3;return e(t,Nt(n,r,4),i,o)}}var Se=Ee(1),Te=Ee(-1);function xe(t,e,n){var i=[];return e=Ft(e,n),we(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i}function Ce(t,e,n){e=Ft(e,n);for(var i=!ie(t)&&et(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0}function _e(t,e,n){e=Ft(e,n);for(var i=!ie(t)&&et(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1}function ke(t,e,n,i){return ie(t)||(t=wt(t)),("number"!=typeof n||i)&&(n=0),me(t,e,n)>=0}var Me=A((function(t,e,n){var i,r;return D(e)?r=e:(e=Ot(e),i=e.slice(0,-1),e=e[e.length-1]),Ae(t,(function(t){var o=r;if(!o){if(i&&i.length&&(t=Lt(t,i)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function Oe(t,e){return Ae(t,Dt(e))}function Le(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=ie(t)?t:wt(t)).length;a<l;a++)null!=(i=t[a])&&i>o&&(o=i);else e=Ft(e,n),we(t,(function(t,n,i){((r=e(t,n,i))>s||r===-1/0&&o===-1/0)&&(o=t,s=r)}));return o}function Pe(t,e,n){if(null==e||n)return ie(t)||(t=wt(t)),t[jt(t.length-1)];var i=ie(t)?kt(t):wt(t),r=Q(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,s=0;s<e;s++){var a=jt(s,o),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,e)}function Ie(t,e){return function(n,i,r){var o=e?[[],[]]:{};return i=Ft(i,r),we(n,(function(e,r){var s=i(e,r,n);t(o,e,s)})),o}}var Re=Ie((function(t,e,n){U(t,n)?t[n].push(e):t[n]=[e]})),De=Ie((function(t,e,n){t[n]=e})),Ne=Ie((function(t,e,n){U(t,n)?t[n]++:t[n]=1})),He=Ie((function(t,e,n){t[n?0:1].push(e)}),!0),Ve=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Fe(t,e,n){return e in n}var Be=A((function(t,e){var n={},i=e[0];if(null==t)return n;D(i)?(e.length>1&&(i=Nt(i,e[1])),e=at(t)):(i=Fe,e=re(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var s=e[r],a=t[s];i(a,s,t)&&(n[s]=a)}return n})),je=A((function(t,e){var n,i=e[0];return D(i)?(i=le(i),e.length>1&&(n=e[1])):(e=Ae(re(e,!1,!1),String),i=function(t,n){return!ke(e,n)}),Be(t,i,n)}));function Ue(t,e,n){return a.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function ze(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:Ue(t,t.length-e)}function We(t,e,n){return a.call(t,null==e||n?1:e)}var Ge=A((function(t,e){return e=re(e,!0,!0),xe(t,(function(t){return!ke(e,t)}))})),qe=A((function(t,e){return Ge(t,e)}));function Ye(t,e,n,i){T(e)||(i=n,n=e,e=!1),null!=n&&(n=Ft(n,i));for(var r=[],o=[],s=0,a=Q(t);s<a;s++){var l=t[s],u=n?n(l,s,t):l;e&&!n?(s&&o===u||r.push(l),o=u):n?ke(o,u)||(o.push(u),r.push(l)):ke(r,l)||r.push(l)}return r}var Xe=A((function(t){return Ye(re(t,!0,!0))}));function Ke(t){for(var e=t&&Le(t,Q).length||0,n=Array(e),i=0;i<e;i++)n[i]=Oe(t,i);return n}var Je=A(Ke);function Ze(t,e){return t._chain?it(e).chain():e}function $e(t){return we(Et(t),(function(e){var n=it[e]=t[e];it.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),Ze(this,n.apply(it,t))}})),it}we(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=i[t];it.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Ze(this,n)}})),we(["concat","join","slice"],(function(t){var e=i[t];it.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Ze(this,t)}}));var Qe=$e({__proto__:null,VERSION:t,restArguments:A,isObject:E,isNull:function(t){return null===t},isUndefined:S,isBoolean:T,isElement:function(t){return!(!t||1!==t.nodeType)},isString:C,isNumber:_,isDate:k,isRegExp:M,isError:O,isSymbol:L,isArrayBuffer:P,isDataView:B,isArray:j,isFunction:D,isArguments:W,isFinite:function(t){return!L(t)&&m(t)&&!isNaN(parseFloat(t))},isNaN:G,isTypedArray:$,isEmpty:function(t){if(null==t)return!0;var e=Q(t);return"number"==typeof e&&(j(t)||C(t)||W(t))?0===e:0===Q(et(t))},isMatch:nt,isEqual:function(t,e){return st(t,e)},isMap:gt,isWeakMap:mt,isSet:yt,isWeakSet:bt,keys:et,allKeys:at,values:wt,pairs:function(t){for(var e=et(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},invert:At,functions:Et,methods:Et,extend:Tt,extendOwn:xt,assign:xt,defaults:Ct,create:function(t,e){var n=_t(t);return e&&xt(n,e),n},clone:kt,tap:function(t,e){return e(t),t},get:Pt,has:function(t,e){for(var n=(e=Ot(e)).length,i=0;i<n;i++){var r=e[i];if(!U(t,r))return!1;t=t[r]}return!!n},mapObject:function(t,e,n){e=Ft(e,n);for(var i=et(t),r=i.length,o={},s=0;s<r;s++){var a=i[s];o[a]=e(t[a],a,t)}return o},identity:It,constant:q,noop:Bt,toPath:Mt,property:Dt,propertyOf:function(t){return null==t?Bt:function(e){return Pt(t,e)}},matcher:Rt,matches:Rt,times:function(t,e,n){var i=Array(Math.max(0,t));e=Nt(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},random:jt,now:Ut,escape:Gt,unescape:qt,templateSettings:Yt,template:function(t,e,n){!e&&n&&(e=n),e=Ct({},e,it.templateSettings);var i=RegExp([(e.escape||Xt).source,(e.interpolate||Xt).source,(e.evaluate||Xt).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,(function(e,n,i,s,a){return o+=t.slice(r,a).replace(Jt,Zt),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e})),o+="';\n";var s,a=e.variable;if(a){if(!$t.test(a))throw new Error("variable is not a bare identifier: "+a)}else o="with(obj||{}){\n"+o+"}\n",a="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{s=new Function(a,"_",o)}catch(t){throw t.source=o,t}var l=function(t){return s.call(this,t,it)};return l.source="function("+a+"){\n"+o+"}",l},result:function(t,e,n){var i=(e=Ot(e)).length;if(!i)return D(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=D(o)?o.call(t):o}return t},uniqueId:function(t){var e=++Qt+"";return t?t+e:e},chain:function(t){var e=it(t);return e._chain=!0,e},iteratee:Vt,partial:ee,bind:ne,bindAll:oe,memoize:function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return U(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},delay:se,defer:ae,throttle:function(t,e,n){var i,r,o,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:Ut(),i=null,s=t.apply(r,o),i||(r=o=null)},u=function(){var u=Ut();a||!1!==n.leading||(a=u);var c=e-(u-a);return r=this,o=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),a=u,s=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(i),a=0,i=r=o=null},u},debounce:function(t,e,n){var i,r,o,s,a,l=function(){var u=Ut()-r;e>u?i=setTimeout(l,e-u):(i=null,n||(s=t.apply(a,o)),i||(o=a=null))},u=A((function(u){return a=this,o=u,r=Ut(),i||(i=setTimeout(l,e),n&&(s=t.apply(a,o))),s}));return u.cancel=function(){clearTimeout(i),i=o=a=null},u},wrap:function(t,e){return ee(e,t)},negate:le,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:ue,once:ce,findKey:he,findIndex:pe,findLastIndex:fe,sortedIndex:ve,indexOf:me,lastIndexOf:ye,find:be,detect:be,findWhere:function(t,e){return be(t,Rt(e))},each:we,forEach:we,map:Ae,collect:Ae,reduce:Se,foldl:Se,inject:Se,reduceRight:Te,foldr:Te,filter:xe,select:xe,reject:function(t,e,n){return xe(t,le(Ft(e)),n)},every:Ce,all:Ce,some:_e,any:_e,contains:ke,includes:ke,include:ke,invoke:Me,pluck:Oe,where:function(t,e){return xe(t,Rt(e))},max:Le,min:function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var a=0,l=(t=ie(t)?t:wt(t)).length;a<l;a++)null!=(i=t[a])&&i<o&&(o=i);else e=Ft(e,n),we(t,(function(t,n,i){((r=e(t,n,i))<s||r===1/0&&o===1/0)&&(o=t,s=r)}));return o},shuffle:function(t){return Pe(t,1/0)},sample:Pe,sortBy:function(t,e,n){var i=0;return e=Ft(e,n),Oe(Ae(t,(function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index})),"value")},groupBy:Re,indexBy:De,countBy:Ne,partition:He,toArray:function(t){return t?j(t)?a.call(t):C(t)?t.match(Ve):ie(t)?Ae(t,It):wt(t):[]},size:function(t){return null==t?0:ie(t)?t.length:et(t).length},pick:Be,omit:je,first:ze,head:ze,take:ze,initial:Ue,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:We(t,Math.max(0,t.length-e))},rest:We,tail:We,drop:We,compact:function(t){return xe(t,Boolean)},flatten:function(t,e){return re(t,e,!1)},without:qe,uniq:Ye,unique:Ye,union:Xe,intersection:function(t){for(var e=[],n=arguments.length,i=0,r=Q(t);i<r;i++){var o=t[i];if(!ke(e,o)){var s;for(s=1;s<n&&ke(arguments[s],o);s++);s===n&&e.push(o)}}return e},difference:Ge,unzip:Ke,transpose:Ke,zip:Je,object:function(t,e){for(var n={},i=0,r=Q(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(a.call(t,i,i+=e));return n},mixin:$e,default:it});return Qe._=Qe,Qe}()}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t};var __webpack_exports__=__webpack_require__(3847)})();
